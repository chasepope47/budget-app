function P_(a,n){for(var i=0;i<n.length;i++){const s=n[i];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in a)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(a,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function Mp(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function ws(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var n=a.default;if(typeof n=="function"){var i=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(a).forEach(function(s){var o=Object.getOwnPropertyDescriptor(a,s);Object.defineProperty(i,s,o.get?o:{enumerable:!0,get:function(){return a[s]}})}),i}var uf={exports:{}},Fi={};var yg;function K_(){if(yg)return Fi;yg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Fi.Fragment=n,Fi.jsx=i,Fi.jsxs=i,Fi}var vg;function X_(){return vg||(vg=1,uf.exports=K_()),uf.exports}var p=X_(),cf={exports:{}},ye={};var bg;function Q_(){if(bg)return ye;bg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,O={};function L(T,K,te){this.props=T,this.context=K,this.refs=O,this.updater=te||S}L.prototype.isReactComponent={},L.prototype.setState=function(T,K){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,K,"setState")},L.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function G(){}G.prototype=L.prototype;function j(T,K,te){this.props=T,this.context=K,this.refs=O,this.updater=te||S}var H=j.prototype=new G;H.constructor=j,E(H,L.prototype),H.isPureReactComponent=!0;var D=Array.isArray;function Y(){}var q={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function le(T,K,te){var ae=te.ref;return{$$typeof:a,type:T,key:K,ref:ae!==void 0?ae:null,props:te}}function Z(T,K){return le(T.type,K,T.props)}function de(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function xe(T){var K={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(te){return K[te]})}var $e=/\/+/g;function Ke(T,K){return typeof T=="object"&&T!==null&&T.key!=null?xe(""+T.key):K.toString(36)}function V(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Y,Y):(T.status="pending",T.then(function(K){T.status==="pending"&&(T.status="fulfilled",T.value=K)},function(K){T.status==="pending"&&(T.status="rejected",T.reason=K)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function C(T,K,te,ae,me){var pe=typeof T;(pe==="undefined"||pe==="boolean")&&(T=null);var we=!1;if(T===null)we=!0;else switch(pe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(T.$$typeof){case a:case n:we=!0;break;case v:return we=T._init,C(we(T._payload),K,te,ae,me)}}if(we)return me=me(T),we=ae===""?"."+Ke(T,0):ae,D(me)?(te="",we!=null&&(te=we.replace($e,"$&/")+"/"),C(me,K,te,"",function(Ln){return Ln})):me!=null&&(de(me)&&(me=Z(me,te+(me.key==null||T&&T.key===me.key?"":(""+me.key).replace($e,"$&/")+"/")+we)),K.push(me)),1;we=0;var rt=ae===""?".":ae+":";if(D(T))for(var Re=0;Re<T.length;Re++)ae=T[Re],pe=rt+Ke(ae,Re),we+=C(ae,K,te,pe,me);else if(Re=w(T),typeof Re=="function")for(T=Re.call(T),Re=0;!(ae=T.next()).done;)ae=ae.value,pe=rt+Ke(ae,Re++),we+=C(ae,K,te,pe,me);else if(pe==="object"){if(typeof T.then=="function")return C(V(T),K,te,ae,me);throw K=String(T),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return we}function B(T,K,te){if(T==null)return T;var ae=[],me=0;return C(T,ae,"","",function(pe){return K.call(te,pe,me++)}),ae}function J(T){if(T._status===-1){var K=T._result;K=K(),K.then(function(te){(T._status===0||T._status===-1)&&(T._status=1,T._result=te)},function(te){(T._status===0||T._status===-1)&&(T._status=2,T._result=te)}),T._status===-1&&(T._status=0,T._result=K)}if(T._status===1)return T._result.default;throw T._result}var F=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},W={map:B,forEach:function(T,K,te){B(T,function(){K.apply(this,arguments)},te)},count:function(T){var K=0;return B(T,function(){K++}),K},toArray:function(T){return B(T,function(K){return K})||[]},only:function(T){if(!de(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ye.Activity=b,ye.Children=W,ye.Component=L,ye.Fragment=i,ye.Profiler=o,ye.PureComponent=j,ye.StrictMode=s,ye.Suspense=m,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ye.__COMPILER_RUNTIME={__proto__:null,c:function(T){return q.H.useMemoCache(T)}},ye.cache=function(T){return function(){return T.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(T,K,te){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ae=E({},T.props),me=T.key;if(K!=null)for(pe in K.key!==void 0&&(me=""+K.key),K)!ee.call(K,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&K.ref===void 0||(ae[pe]=K[pe]);var pe=arguments.length-2;if(pe===1)ae.children=te;else if(1<pe){for(var we=Array(pe),rt=0;rt<pe;rt++)we[rt]=arguments[rt+2];ae.children=we}return le(T.type,me,ae)},ye.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ye.createElement=function(T,K,te){var ae,me={},pe=null;if(K!=null)for(ae in K.key!==void 0&&(pe=""+K.key),K)ee.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(me[ae]=K[ae]);var we=arguments.length-2;if(we===1)me.children=te;else if(1<we){for(var rt=Array(we),Re=0;Re<we;Re++)rt[Re]=arguments[Re+2];me.children=rt}if(T&&T.defaultProps)for(ae in we=T.defaultProps,we)me[ae]===void 0&&(me[ae]=we[ae]);return le(T,pe,me)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(T){return{$$typeof:h,render:T}},ye.isValidElement=de,ye.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:J}},ye.memo=function(T,K){return{$$typeof:g,type:T,compare:K===void 0?null:K}},ye.startTransition=function(T){var K=q.T,te={};q.T=te;try{var ae=T(),me=q.S;me!==null&&me(te,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Y,F)}catch(pe){F(pe)}finally{K!==null&&te.types!==null&&(K.types=te.types),q.T=K}},ye.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ye.use=function(T){return q.H.use(T)},ye.useActionState=function(T,K,te){return q.H.useActionState(T,K,te)},ye.useCallback=function(T,K){return q.H.useCallback(T,K)},ye.useContext=function(T){return q.H.useContext(T)},ye.useDebugValue=function(){},ye.useDeferredValue=function(T,K){return q.H.useDeferredValue(T,K)},ye.useEffect=function(T,K){return q.H.useEffect(T,K)},ye.useEffectEvent=function(T){return q.H.useEffectEvent(T)},ye.useId=function(){return q.H.useId()},ye.useImperativeHandle=function(T,K,te){return q.H.useImperativeHandle(T,K,te)},ye.useInsertionEffect=function(T,K){return q.H.useInsertionEffect(T,K)},ye.useLayoutEffect=function(T,K){return q.H.useLayoutEffect(T,K)},ye.useMemo=function(T,K){return q.H.useMemo(T,K)},ye.useOptimistic=function(T,K){return q.H.useOptimistic(T,K)},ye.useReducer=function(T,K,te){return q.H.useReducer(T,K,te)},ye.useRef=function(T){return q.H.useRef(T)},ye.useState=function(T){return q.H.useState(T)},ye.useSyncExternalStore=function(T,K,te){return q.H.useSyncExternalStore(T,K,te)},ye.useTransition=function(){return q.H.useTransition()},ye.version="19.2.1",ye}var _g;function od(){return _g||(_g=1,cf.exports=Q_()),cf.exports}var oe=od();const Be=Mp(oe);var ff={exports:{}},Zi={},df={exports:{}},hf={};var xg;function J_(){return xg||(xg=1,(function(a){function n(C,B){var J=C.length;C.push(B);e:for(;0<J;){var F=J-1>>>1,W=C[F];if(0<o(W,B))C[F]=B,C[J]=W,J=F;else break e}}function i(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var B=C[0],J=C.pop();if(J!==B){C[0]=J;e:for(var F=0,W=C.length,T=W>>>1;F<T;){var K=2*(F+1)-1,te=C[K],ae=K+1,me=C[ae];if(0>o(te,J))ae<W&&0>o(me,te)?(C[F]=me,C[ae]=J,F=ae):(C[F]=te,C[K]=J,F=K);else if(ae<W&&0>o(me,J))C[F]=me,C[ae]=J,F=ae;else break e}}return B}function o(C,B){var J=C.sortIndex-B.sortIndex;return J!==0?J:C.id-B.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var m=[],g=[],v=1,b=null,x=3,w=!1,S=!1,E=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function H(C){for(var B=i(g);B!==null;){if(B.callback===null)s(g);else if(B.startTime<=C)s(g),B.sortIndex=B.expirationTime,n(m,B);else break;B=i(g)}}function D(C){if(E=!1,H(C),!S)if(i(m)!==null)S=!0,Y||(Y=!0,xe());else{var B=i(g);B!==null&&V(D,B.startTime-C)}}var Y=!1,q=-1,ee=5,le=-1;function Z(){return O?!0:!(a.unstable_now()-le<ee)}function de(){if(O=!1,Y){var C=a.unstable_now();le=C;var B=!0;try{e:{S=!1,E&&(E=!1,G(q),q=-1),w=!0;var J=x;try{t:{for(H(C),b=i(m);b!==null&&!(b.expirationTime>C&&Z());){var F=b.callback;if(typeof F=="function"){b.callback=null,x=b.priorityLevel;var W=F(b.expirationTime<=C);if(C=a.unstable_now(),typeof W=="function"){b.callback=W,H(C),B=!0;break t}b===i(m)&&s(m),H(C)}else s(m);b=i(m)}if(b!==null)B=!0;else{var T=i(g);T!==null&&V(D,T.startTime-C),B=!1}}break e}finally{b=null,x=J,w=!1}B=void 0}}finally{B?xe():Y=!1}}}var xe;if(typeof j=="function")xe=function(){j(de)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Ke=$e.port2;$e.port1.onmessage=de,xe=function(){Ke.postMessage(null)}}else xe=function(){L(de,0)};function V(C,B){q=L(function(){C(a.unstable_now())},B)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(C){C.callback=null},a.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<C?Math.floor(1e3/C):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(C){switch(x){case 1:case 2:case 3:var B=3;break;default:B=x}var J=x;x=B;try{return C()}finally{x=J}},a.unstable_requestPaint=function(){O=!0},a.unstable_runWithPriority=function(C,B){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var J=x;x=C;try{return B()}finally{x=J}},a.unstable_scheduleCallback=function(C,B,J){var F=a.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?F+J:F):J=F,C){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=J+W,C={id:v++,callback:B,priorityLevel:C,startTime:J,expirationTime:W,sortIndex:-1},J>F?(C.sortIndex=J,n(g,C),i(m)===null&&C===i(g)&&(E?(G(q),q=-1):E=!0,V(D,J-F))):(C.sortIndex=W,n(m,C),S||w||(S=!0,Y||(Y=!0,xe()))),C},a.unstable_shouldYield=Z,a.unstable_wrapCallback=function(C){var B=x;return function(){var J=x;x=B;try{return C.apply(this,arguments)}finally{x=J}}}})(hf)),hf}var wg;function F_(){return wg||(wg=1,df.exports=J_()),df.exports}var mf={exports:{}},gt={};var Sg;function Z_(){if(Sg)return gt;Sg=1;var a=od();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gt.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(m,g,null,v)},gt.flushSync=function(m){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=v,s.d.f()}},gt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},gt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},gt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=h(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:w}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},gt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=h(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gt.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=h(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},gt.requestFormReset=function(m){s.d.r(m)},gt.unstable_batchedUpdates=function(m,g){return m(g)},gt.useFormState=function(m,g,v){return f.H.useFormState(m,g,v)},gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},gt.version="19.2.1",gt}var Eg;function W_(){if(Eg)return mf.exports;Eg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),mf.exports=Z_(),mf.exports}var Ag;function ex(){if(Ag)return Zi;Ag=1;var a=F_(),n=od(),i=W_();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,l=t;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return m(c),e;if(d===l)return m(c),t;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=d;else{for(var y=!1,_=c.child;_;){if(_===r){y=!0,r=c,l=d;break}if(_===l){y=!0,l=c,r=d;break}_=_.sibling}if(!y){for(_=d.child;_;){if(_===r){y=!0,r=d,l=c;break}if(_===l){y=!0,l=d,r=c;break}_=_.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),j=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function xe(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Symbol.for("react.client.reference");function Ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case L:return"Profiler";case O:return"StrictMode";case D:return"Suspense";case Y:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case j:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:Ke(e.type)||"Memo";case ee:t=e._payload,e=e._init;try{return Ke(e(t))}catch{}}return null}var V=Array.isArray,C=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},F=[],W=-1;function T(e){return{current:e}}function K(e){0>W||(e.current=F[W],F[W]=null,W--)}function te(e,t){W++,F[W]=e.current,e.current=t}var ae=T(null),me=T(null),pe=T(null),we=T(null);function rt(e,t){switch(te(pe,t),te(me,e),te(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?qm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=qm(t),e=Hm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(ae),te(ae,e)}function Re(){K(ae),K(me),K(pe)}function Ln(e){e.memoizedState!==null&&te(we,e);var t=ae.current,r=Hm(t,e.type);t!==r&&(te(me,e),te(ae,r))}function dn(e){me.current===e&&(K(ae),K(me)),we.current===e&&(K(we),Ki._currentValue=J)}var pa,$n;function hn(e){if(pa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);pa=t&&t[1]||"",$n=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+e+$n}var qn=!1;function Fa(e,t){if(!e||qn)return"";qn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch($){var z=$}Reflect.construct(e,[],Q)}else{try{Q.call()}catch($){z=$}e.call(Q.prototype)}}else{try{throw Error()}catch($){z=$}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch($){if($&&z&&typeof $.stack=="string")return[$.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],_=d[1];if(y&&_){var A=y.split(`
`),M=_.split(`
`);for(c=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;if(l===A.length||c===M.length)for(l=A.length-1,c=M.length-1;1<=l&&0<=c&&A[l]!==M[c];)c--;for(;1<=l&&0<=c;l--,c--)if(A[l]!==M[c]){if(l!==1||c!==1)do if(l--,c--,0>c||A[l]!==M[c]){var I=`
`+A[l].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=l&&0<=c);break}}}finally{qn=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?hn(r):""}function Xo(e,t){switch(e.tag){case 26:case 27:case 5:return hn(e.type);case 16:return hn("Lazy");case 13:return e.child!==t&&t!==null?hn("Suspense Fallback"):hn("Suspense");case 19:return hn("SuspenseList");case 0:case 15:return Fa(e.type,!1);case 11:return Fa(e.type.render,!1);case 1:return Fa(e.type,!0);case 31:return hn("Activity");default:return""}}function Za(e){try{var t="",r=null;do t+=Xo(e,r),r=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ya=Object.prototype.hasOwnProperty,va=a.unstable_scheduleCallback,ri=a.unstable_cancelCallback,Wa=a.unstable_shouldYield,Qo=a.unstable_requestPaint,ht=a.unstable_now,Ns=a.unstable_getCurrentPriorityLevel,js=a.unstable_ImmediatePriority,ii=a.unstable_UserBlockingPriority,Hn=a.unstable_NormalPriority,Os=a.unstable_LowPriority,Cs=a.unstable_IdlePriority,Rs=a.log,Jo=a.unstable_setDisableYieldValue,ba=null,yt=null;function an(e){if(typeof Rs=="function"&&Jo(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(ba,e)}catch{}}var vt=Math.clz32?Math.clz32:Ds,Fo=Math.log,ks=Math.LN2;function Ds(e){return e>>>=0,e===0?32:31-(Fo(e)/ks|0)|0}var er=256,Gn=262144,tr=4194304;function mn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nr(e,t,r){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~d,l!==0?c=mn(l):(y&=_,y!==0?c=mn(y):r||(r=_&~e,r!==0&&(c=mn(r))))):(_=l&~d,_!==0?c=mn(_):y!==0?c=mn(y):r||(r=l&~e,r!==0&&(c=mn(r)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,r=t&-t,d>=r||d===32&&(r&4194048)!==0)?t:c}function _a(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Us(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var e=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),e}function ar(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zo(e,t,r,l,c,d){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,M=e.hiddenUpdates;for(r=y&~r;0<r;){var I=31-vt(r),Q=1<<I;_[I]=0,A[I]=-1;var z=M[I];if(z!==null)for(M[I]=null,I=0;I<z.length;I++){var $=z[I];$!==null&&($.lane&=-536870913)}r&=~Q}l!==0&&zs(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~t))}function zs(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-vt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Bs(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-vt(r),c=1<<l;c&t|e[l]&t&&(e[l]|=t),r&=~c}}function Ls(e,t){var r=t&-t;return r=(r&42)!==0?1:si(r),(r&(e.suspendedLanes|t))!==0?0:r}function si(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function R(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:cg(e.type))}function P(e,t){var r=B.p;try{return B.p=e,t()}finally{B.p=r}}var re=Math.random().toString(36).slice(2),ne="__reactFiber$"+re,ve="__reactProps$"+re,mt="__reactContainer$"+re,Vn="__reactEvents$"+re,Wo="__reactListeners$"+re,zv="__reactHandles$"+re,Nd="__reactResources$"+re,oi="__reactMarker$"+re;function eu(e){delete e[ne],delete e[ve],delete e[Vn],delete e[Wo],delete e[zv]}function rr(e){var t=e[ne];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mt]||r[ne]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xm(e);e!==null;){if(r=e[ne])return r;e=Xm(e)}return t}e=r,r=e.parentNode}return null}function ir(e){if(e=e[ne]||e[mt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ui(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function sr(e){var t=e[Nd];return t||(t=e[Nd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[oi]=!0}var jd=new Set,Od={};function wa(e,t){lr(e,t),lr(e+"Capture",t)}function lr(e,t){for(Od[e]=t,e=0;e<t.length;e++)jd.add(t[e])}var Bv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cd={},Rd={};function Lv(e){return ya.call(Rd,e)?!0:ya.call(Cd,e)?!1:Bv.test(e)?Rd[e]=!0:(Cd[e]=!0,!1)}function $s(e,t,r){if(Lv(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function qs(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function gn(e,t,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+l)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $v(e,t,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){r=""+y,d.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tu(e){if(!e._valueTracker){var t=kd(e)?"checked":"value";e._valueTracker=$v(e,t,""+e[t])}}function Dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=kd(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function Hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qv=/[\n"\\]/g;function $t(e){return e.replace(qv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function nu(e,t,r,l,c,d,y,_){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?au(e,y,Lt(t)):r!=null?au(e,y,Lt(r)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Lt(_):e.removeAttribute("name")}function Ud(e,t,r,l,c,d,y,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){tu(e);return}r=r!=null?""+Lt(r):"",t=t!=null?""+Lt(t):r,_||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),tu(e)}function au(e,t,r){t==="number"&&Hs(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function or(e,t,r,l){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Lt(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Md(e,t,r){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Lt(r):""}function zd(e,t,r,l){if(t==null){if(l!=null){if(r!=null)throw Error(s(92));if(V(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),t=r}r=Lt(t),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),tu(e)}function ur(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bd(e,t,r){var l=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,r):typeof r!="number"||r===0||Hv.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Ld(e,t,r){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&r[c]!==l&&Bd(e,c,l)}else for(var d in t)t.hasOwnProperty(d)&&Bd(e,d,t[d])}function ru(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(e){return Vv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pn(){}var iu=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,fr=null;function $d(e){var t=ir(e);if(t&&(e=t.stateNode)){var r=e[ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(nu(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var c=l[ve]||null;if(!c)throw Error(s(90));nu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<r.length;t++)l=r[t],l.form===e.form&&Dd(l)}break e;case"textarea":Md(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&or(e,!!r.multiple,t,!1)}}}var lu=!1;function qd(e,t,r){if(lu)return e(t,r);lu=!0;try{var l=e(t);return l}finally{if(lu=!1,(cr!==null||fr!==null)&&(Ol(),cr&&(t=cr,e=fr,fr=cr=null,$d(t),e)))for(t=0;t<e.length;t++)$d(e[t])}}function ci(e,t){var r=e.stateNode;if(r===null)return null;var l=r[ve]||null;if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=!1;if(yn)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){ou=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{ou=!1}var In=null,uu=null,Vs=null;function Hd(){if(Vs)return Vs;var e,t=uu,r=t.length,l,c="value"in In?In.value:In.textContent,d=c.length;for(e=0;e<r&&t[e]===c[e];e++);var y=r-e;for(l=1;l<=y&&t[r-l]===c[d-l];l++);return Vs=c.slice(e,1<l?1-l:void 0)}function Is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ys(){return!0}function Gd(){return!1}function _t(e){function t(r,l,c,d,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(r=e[_],this[_]=r?r(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ys:Gd,this.isPropagationStopped=Gd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),t}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=_t(Sa),di=b({},Sa,{view:0,detail:0}),Iv=_t(di),cu,fu,hi,Ks=b({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(cu=e.screenX-hi.screenX,fu=e.screenY-hi.screenY):fu=cu=0,hi=e),cu)},movementY:function(e){return"movementY"in e?e.movementY:fu}}),Vd=_t(Ks),Yv=b({},Ks,{dataTransfer:0}),Pv=_t(Yv),Kv=b({},di,{relatedTarget:0}),du=_t(Kv),Xv=b({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Qv=_t(Xv),Jv=b({},Sa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fv=_t(Jv),Zv=b({},Sa,{data:0}),Id=_t(Zv),Wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tb[e])?!!t[e]:!1}function hu(){return nb}var ab=b({},di,{key:function(e){if(e.key){var t=Wv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(e){return e.type==="keypress"?Is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rb=_t(ab),ib=b({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=_t(ib),sb=b({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),lb=_t(sb),ob=b({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),ub=_t(ob),cb=b({},Ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fb=_t(cb),db=b({},Sa,{newState:0,oldState:0}),hb=_t(db),mb=[9,13,27,32],mu=yn&&"CompositionEvent"in window,mi=null;yn&&"documentMode"in document&&(mi=document.documentMode);var gb=yn&&"TextEvent"in window&&!mi,Pd=yn&&(!mu||mi&&8<mi&&11>=mi),Kd=" ",Xd=!1;function Qd(e,t){switch(e){case"keyup":return mb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function pb(e,t){switch(e){case"compositionend":return Jd(t);case"keypress":return t.which!==32?null:(Xd=!0,Kd);case"textInput":return e=t.data,e===Kd&&Xd?null:e;default:return null}}function yb(e,t){if(dr)return e==="compositionend"||!mu&&Qd(e,t)?(e=Hd(),Vs=uu=In=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pd&&t.locale!=="ko"?null:t.data;default:return null}}var vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vb[e.type]:t==="textarea"}function Zd(e,t,r,l){cr?fr?fr.push(l):fr=[l]:cr=l,t=zl(t,"onChange"),0<t.length&&(r=new Ps("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var gi=null,pi=null;function bb(e){Um(e,0)}function Xs(e){var t=ui(e);if(Dd(t))return e}function Wd(e,t){if(e==="change")return t}var eh=!1;if(yn){var gu;if(yn){var pu="oninput"in document;if(!pu){var th=document.createElement("div");th.setAttribute("oninput","return;"),pu=typeof th.oninput=="function"}gu=pu}else gu=!1;eh=gu&&(!document.documentMode||9<document.documentMode)}function nh(){gi&&(gi.detachEvent("onpropertychange",ah),pi=gi=null)}function ah(e){if(e.propertyName==="value"&&Xs(pi)){var t=[];Zd(t,pi,e,su(e)),qd(bb,t)}}function _b(e,t,r){e==="focusin"?(nh(),gi=t,pi=r,gi.attachEvent("onpropertychange",ah)):e==="focusout"&&nh()}function xb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xs(pi)}function wb(e,t){if(e==="click")return Xs(t)}function Sb(e,t){if(e==="input"||e==="change")return Xs(t)}function Eb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:Eb;function yi(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!ya.call(t,c)||!Ot(e[c],t[c]))return!1}return!0}function rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ih(e,t){var r=rh(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rh(r)}}function sh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Hs(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hs(e.document)}return t}function yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ab=yn&&"documentMode"in document&&11>=document.documentMode,hr=null,vu=null,vi=null,bu=!1;function oh(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bu||hr==null||hr!==Hs(l)||(l=hr,"selectionStart"in l&&yu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vi&&yi(vi,l)||(vi=l,l=zl(vu,"onSelect"),0<l.length&&(t=new Ps("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=hr)))}function Ea(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mr={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},_u={},uh={};yn&&(uh=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Aa(e){if(_u[e])return _u[e];if(!mr[e])return e;var t=mr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in uh)return _u[e]=t[r];return e}var ch=Aa("animationend"),fh=Aa("animationiteration"),dh=Aa("animationstart"),Tb=Aa("transitionrun"),Nb=Aa("transitionstart"),jb=Aa("transitioncancel"),hh=Aa("transitionend"),mh=new Map,xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xu.push("scrollEnd");function Xt(e,t){mh.set(e,t),wa(t,[e])}var Qs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qt=[],gr=0,wu=0;function Js(){for(var e=gr,t=wu=gr=0;t<e;){var r=qt[t];qt[t++]=null;var l=qt[t];qt[t++]=null;var c=qt[t];qt[t++]=null;var d=qt[t];if(qt[t++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}d!==0&&gh(r,c,d)}}function Fs(e,t,r,l){qt[gr++]=e,qt[gr++]=t,qt[gr++]=r,qt[gr++]=l,wu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Su(e,t,r,l){return Fs(e,t,r,l),Zs(e)}function Ta(e,t){return Fs(e,null,null,t),Zs(e)}function gh(e,t,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var c=!1,d=e.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-vt(r),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=r|536870912),d):null}function Zs(e){if(50<qi)throw qi=0,kc=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pr={};function Ob(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,l){return new Ob(e,t,r,l)}function Eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vn(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function ph(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ws(e,t,r,l,c,d){var y=0;if(l=e,typeof e=="function")Eu(e)&&(y=1);else if(typeof e=="string")y=U_(e,r,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=Ct(31,r,t,c),e.elementType=le,e.lanes=d,e;case E:return Na(r.children,c,d,t);case O:y=8,c|=24;break;case L:return e=Ct(12,r,t,c|2),e.elementType=L,e.lanes=d,e;case D:return e=Ct(13,r,t,c),e.elementType=D,e.lanes=d,e;case Y:return e=Ct(19,r,t,c),e.elementType=Y,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:y=10;break e;case G:y=9;break e;case H:y=11;break e;case q:y=14;break e;case ee:y=16,l=null;break e}y=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=Ct(y,r,t,c),t.elementType=e,t.type=l,t.lanes=d,t}function Na(e,t,r,l){return e=Ct(7,e,l,t),e.lanes=r,e}function Au(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function yh(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function Tu(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var vh=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var r=vh.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Za(t)},vh.set(e,t),t)}return{value:e,source:t,stack:Za(t)}}var yr=[],vr=0,el=null,bi=0,Gt=[],Vt=0,Yn=null,rn=1,sn="";function bn(e,t){yr[vr++]=bi,yr[vr++]=el,el=e,bi=t}function bh(e,t,r){Gt[Vt++]=rn,Gt[Vt++]=sn,Gt[Vt++]=Yn,Yn=e;var l=rn;e=sn;var c=32-vt(l)-1;l&=~(1<<c),r+=1;var d=32-vt(t)+c;if(30<d){var y=c-c%5;d=(l&(1<<y)-1).toString(32),l>>=y,c-=y,rn=1<<32-vt(t)+c|r<<c|l,sn=d+e}else rn=1<<d|r<<c|l,sn=e}function Nu(e){e.return!==null&&(bn(e,1),bh(e,1,0))}function ju(e){for(;e===el;)el=yr[--vr],yr[vr]=null,bi=yr[--vr],yr[vr]=null;for(;e===Yn;)Yn=Gt[--Vt],Gt[Vt]=null,sn=Gt[--Vt],Gt[Vt]=null,rn=Gt[--Vt],Gt[Vt]=null}function _h(e,t){Gt[Vt++]=rn,Gt[Vt++]=sn,Gt[Vt++]=Yn,rn=t.id,sn=t.overflow,Yn=e}var lt=null,He=null,Ne=!1,Pn=null,It=!1,Ou=Error(s(519));function Kn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _i(Ht(t,e)),Ou}function xh(e){var t=e.stateNode,r=e.type,l=e.memoizedProps;switch(t[ne]=e,t[ve]=l,r){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(r=0;r<Gi.length;r++)Ee(Gi[r],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Ud(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),zd(t,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||l.suppressHydrationWarning===!0||Lm(t.textContent,r)?(l.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),l.onScroll!=null&&Ee("scroll",t),l.onScrollEnd!=null&&Ee("scrollend",t),l.onClick!=null&&(t.onclick=pn),t=!0):t=!1,t||Kn(e,!0)}function wh(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:lt=lt.return}}function br(e){if(e!==lt)return!1;if(!Ne)return wh(e),Ne=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Kc(e.type,e.memoizedProps)),r=!r),r&&He&&Kn(e),wh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));He=Km(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));He=Km(e)}else t===27?(t=He,la(e.type)?(e=Zc,Zc=null,He=e):He=t):He=lt?Pt(e.stateNode.nextSibling):null;return!0}function ja(){He=lt=null,Ne=!1}function Cu(){var e=Pn;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),Pn=null),e}function _i(e){Pn===null?Pn=[e]:Pn.push(e)}var Ru=T(null),Oa=null,_n=null;function Xn(e,t,r){te(Ru,t._currentValue),t._currentValue=r}function xn(e){e._currentValue=Ru.current,K(Ru)}function ku(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function Du(e,t,r,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var y=c.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=c;for(var A=0;A<t.length;A++)if(_.context===t[A]){d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),ku(d.return,r,e),l||(y=null);break e}d=_.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,d=y.alternate,d!==null&&(d.lanes|=r),ku(y,r,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function _r(e,t,r,l){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var _=c.type;Ot(c.pendingProps.value,y.value)||(e!==null?e.push(_):e=[_])}}else if(c===we.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ki):e=[Ki])}c=c.return}e!==null&&Du(t,e,r,l),t.flags|=262144}function tl(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ca(e){Oa=e,_n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Sh(Oa,e)}function nl(e,t){return Oa===null&&Ca(e),Sh(e,t)}function Sh(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},_n===null){if(e===null)throw Error(s(308));_n=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _n=_n.next=t;return r}var Cb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},Rb=a.unstable_scheduleCallback,kb=a.unstable_NormalPriority,Je={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uu(){return{controller:new Cb,data:new Map,refCount:0}}function xi(e){e.refCount--,e.refCount===0&&Rb(kb,function(){e.controller.abort()})}var wi=null,Mu=0,xr=0,wr=null;function Db(e,t){if(wi===null){var r=wi=[];Mu=0,xr=Lc(),wr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Mu++,t.then(Eh,Eh),t}function Eh(){if(--Mu===0&&wi!==null){wr!==null&&(wr.status="fulfilled");var e=wi;wi=null,xr=0,wr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ub(e,t){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<r.length;c++)(0,r[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Ah=C.S;C.S=function(e,t){om=ht(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Db(e,t),Ah!==null&&Ah(e,t)};var Ra=T(null);function zu(){var e=Ra.current;return e!==null?e:Le.pooledCache}function al(e,t){t===null?te(Ra,Ra.current):te(Ra,t.pool)}function Th(){var e=zu();return e===null?null:{parent:Je._currentValue,pool:e}}var Sr=Error(s(460)),Bu=Error(s(474)),rl=Error(s(542)),il={then:function(){}};function Nh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jh(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(pn,pn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ch(e),e;default:if(typeof t.status=="string")t.then(pn,pn);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ch(e),e}throw Da=t,Sr}}function ka(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Da=r,Sr):r}}var Da=null;function Oh(){if(Da===null)throw Error(s(459));var e=Da;return Da=null,e}function Ch(e){if(e===Sr||e===rl)throw Error(s(483))}var Er=null,Si=0;function sl(e){var t=Si;return Si+=1,Er===null&&(Er=[]),jh(Er,e,t)}function Ei(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ll(e,t){throw t.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rh(e){function t(k,N){if(e){var U=k.deletions;U===null?(k.deletions=[N],k.flags|=16):U.push(N)}}function r(k,N){if(!e)return null;for(;N!==null;)t(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function c(k,N){return k=vn(k,N),k.index=0,k.sibling=null,k}function d(k,N,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<N?(k.flags|=67108866,N):U):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function _(k,N,U,X){return N===null||N.tag!==6?(N=Au(U,k.mode,X),N.return=k,N):(N=c(N,U),N.return=k,N)}function A(k,N,U,X){var fe=U.type;return fe===E?I(k,N,U.props.children,X,U.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ee&&ka(fe)===N.type)?(N=c(N,U.props),Ei(N,U),N.return=k,N):(N=Ws(U.type,U.key,U.props,null,k.mode,X),Ei(N,U),N.return=k,N)}function M(k,N,U,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Tu(U,k.mode,X),N.return=k,N):(N=c(N,U.children||[]),N.return=k,N)}function I(k,N,U,X,fe){return N===null||N.tag!==7?(N=Na(U,k.mode,X,fe),N.return=k,N):(N=c(N,U),N.return=k,N)}function Q(k,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Au(""+N,k.mode,U),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return U=Ws(N.type,N.key,N.props,null,k.mode,U),Ei(U,N),U.return=k,U;case S:return N=Tu(N,k.mode,U),N.return=k,N;case ee:return N=ka(N),Q(k,N,U)}if(V(N)||xe(N))return N=Na(N,k.mode,U,null),N.return=k,N;if(typeof N.then=="function")return Q(k,sl(N),U);if(N.$$typeof===j)return Q(k,nl(k,N),U);ll(k,N)}return null}function z(k,N,U,X){var fe=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:_(k,N,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===fe?A(k,N,U,X):null;case S:return U.key===fe?M(k,N,U,X):null;case ee:return U=ka(U),z(k,N,U,X)}if(V(U)||xe(U))return fe!==null?null:I(k,N,U,X,null);if(typeof U.then=="function")return z(k,N,sl(U),X);if(U.$$typeof===j)return z(k,N,nl(k,U),X);ll(k,U)}return null}function $(k,N,U,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(U)||null,_(N,k,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return k=k.get(X.key===null?U:X.key)||null,A(N,k,X,fe);case S:return k=k.get(X.key===null?U:X.key)||null,M(N,k,X,fe);case ee:return X=ka(X),$(k,N,U,X,fe)}if(V(X)||xe(X))return k=k.get(U)||null,I(N,k,X,fe,null);if(typeof X.then=="function")return $(k,N,U,sl(X),fe);if(X.$$typeof===j)return $(k,N,U,nl(N,X),fe);ll(N,X)}return null}function se(k,N,U,X){for(var fe=null,je=null,ue=N,_e=N=0,Te=null;ue!==null&&_e<U.length;_e++){ue.index>_e?(Te=ue,ue=null):Te=ue.sibling;var Oe=z(k,ue,U[_e],X);if(Oe===null){ue===null&&(ue=Te);break}e&&ue&&Oe.alternate===null&&t(k,ue),N=d(Oe,N,_e),je===null?fe=Oe:je.sibling=Oe,je=Oe,ue=Te}if(_e===U.length)return r(k,ue),Ne&&bn(k,_e),fe;if(ue===null){for(;_e<U.length;_e++)ue=Q(k,U[_e],X),ue!==null&&(N=d(ue,N,_e),je===null?fe=ue:je.sibling=ue,je=ue);return Ne&&bn(k,_e),fe}for(ue=l(ue);_e<U.length;_e++)Te=$(ue,k,_e,U[_e],X),Te!==null&&(e&&Te.alternate!==null&&ue.delete(Te.key===null?_e:Te.key),N=d(Te,N,_e),je===null?fe=Te:je.sibling=Te,je=Te);return e&&ue.forEach(function(da){return t(k,da)}),Ne&&bn(k,_e),fe}function he(k,N,U,X){if(U==null)throw Error(s(151));for(var fe=null,je=null,ue=N,_e=N=0,Te=null,Oe=U.next();ue!==null&&!Oe.done;_e++,Oe=U.next()){ue.index>_e?(Te=ue,ue=null):Te=ue.sibling;var da=z(k,ue,Oe.value,X);if(da===null){ue===null&&(ue=Te);break}e&&ue&&da.alternate===null&&t(k,ue),N=d(da,N,_e),je===null?fe=da:je.sibling=da,je=da,ue=Te}if(Oe.done)return r(k,ue),Ne&&bn(k,_e),fe;if(ue===null){for(;!Oe.done;_e++,Oe=U.next())Oe=Q(k,Oe.value,X),Oe!==null&&(N=d(Oe,N,_e),je===null?fe=Oe:je.sibling=Oe,je=Oe);return Ne&&bn(k,_e),fe}for(ue=l(ue);!Oe.done;_e++,Oe=U.next())Oe=$(ue,k,_e,Oe.value,X),Oe!==null&&(e&&Oe.alternate!==null&&ue.delete(Oe.key===null?_e:Oe.key),N=d(Oe,N,_e),je===null?fe=Oe:je.sibling=Oe,je=Oe);return e&&ue.forEach(function(Y_){return t(k,Y_)}),Ne&&bn(k,_e),fe}function ze(k,N,U,X){if(typeof U=="object"&&U!==null&&U.type===E&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:e:{for(var fe=U.key;N!==null;){if(N.key===fe){if(fe=U.type,fe===E){if(N.tag===7){r(k,N.sibling),X=c(N,U.props.children),X.return=k,k=X;break e}}else if(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ee&&ka(fe)===N.type){r(k,N.sibling),X=c(N,U.props),Ei(X,U),X.return=k,k=X;break e}r(k,N);break}else t(k,N);N=N.sibling}U.type===E?(X=Na(U.props.children,k.mode,X,U.key),X.return=k,k=X):(X=Ws(U.type,U.key,U.props,null,k.mode,X),Ei(X,U),X.return=k,k=X)}return y(k);case S:e:{for(fe=U.key;N!==null;){if(N.key===fe)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){r(k,N.sibling),X=c(N,U.children||[]),X.return=k,k=X;break e}else{r(k,N);break}else t(k,N);N=N.sibling}X=Tu(U,k.mode,X),X.return=k,k=X}return y(k);case ee:return U=ka(U),ze(k,N,U,X)}if(V(U))return se(k,N,U,X);if(xe(U)){if(fe=xe(U),typeof fe!="function")throw Error(s(150));return U=fe.call(U),he(k,N,U,X)}if(typeof U.then=="function")return ze(k,N,sl(U),X);if(U.$$typeof===j)return ze(k,N,nl(k,U),X);ll(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(r(k,N.sibling),X=c(N,U),X.return=k,k=X):(r(k,N),X=Au(U,k.mode,X),X.return=k,k=X),y(k)):r(k,N)}return function(k,N,U,X){try{Si=0;var fe=ze(k,N,U,X);return Er=null,fe}catch(ue){if(ue===Sr||ue===rl)throw ue;var je=Ct(29,ue,null,k.mode);return je.lanes=X,je.return=k,je}finally{}}}var Ua=Rh(!0),kh=Rh(!1),Qn=!1;function Lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Zs(e),gh(e,null,r),t}return Fs(e,l,t,r),Zs(e)}function Ai(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Bs(e,r)}}function qu(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?c=d=y:d=d.next=y,r=r.next}while(r!==null);d===null?c=d=t:d=d.next=t}else c=d=t;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Hu=!1;function Ti(){if(Hu){var e=wr;if(e!==null)throw e}}function Ni(e,t,r,l){Hu=!1;var c=e.updateQueue;Qn=!1;var d=c.firstBaseUpdate,y=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var A=_,M=A.next;A.next=null,y===null?d=M:y.next=M,y=A;var I=e.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==y&&(_===null?I.firstBaseUpdate=M:_.next=M,I.lastBaseUpdate=A))}if(d!==null){var Q=c.baseState;y=0,I=M=A=null,_=d;do{var z=_.lane&-536870913,$=z!==_.lane;if($?(Ae&z)===z:(l&z)===z){z!==0&&z===xr&&(Hu=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var se=e,he=_;z=t;var ze=r;switch(he.tag){case 1:if(se=he.payload,typeof se=="function"){Q=se.call(ze,Q,z);break e}Q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=he.payload,z=typeof se=="function"?se.call(ze,Q,z):se,z==null)break e;Q=b({},Q,z);break e;case 2:Qn=!0}}z=_.callback,z!==null&&(e.flags|=64,$&&(e.flags|=8192),$=c.callbacks,$===null?c.callbacks=[z]:$.push(z))}else $={lane:z,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(M=I=$,A=Q):I=I.next=$,y|=z;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;$=_,_=$.next,$.next=null,c.lastBaseUpdate=$,c.shared.pending=null}}while(!0);I===null&&(A=Q),c.baseState=A,c.firstBaseUpdate=M,c.lastBaseUpdate=I,d===null&&(c.shared.lanes=0),na|=y,e.lanes=y,e.memoizedState=Q}}function Dh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Uh(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Dh(r[e],t)}var Ar=T(null),ol=T(0);function Mh(e,t){e=Cn,te(ol,e),te(Ar,t),Cn=e|t.baseLanes}function Gu(){te(ol,Cn),te(Ar,Ar.current)}function Vu(){Cn=ol.current,K(Ar),K(ol)}var Rt=T(null),Yt=null;function Zn(e){var t=e.alternate;te(Xe,Xe.current&1),te(Rt,e),Yt===null&&(t===null||Ar.current!==null||t.memoizedState!==null)&&(Yt=e)}function Iu(e){te(Xe,Xe.current),te(Rt,e),Yt===null&&(Yt=e)}function zh(e){e.tag===22?(te(Xe,Xe.current),te(Rt,e),Yt===null&&(Yt=e)):Wn()}function Wn(){te(Xe,Xe.current),te(Rt,Rt.current)}function kt(e){K(Rt),Yt===e&&(Yt=null),K(Xe)}var Xe=T(0);function ul(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Jc(r)||Fc(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wn=0,be=null,Ue=null,Fe=null,cl=!1,Tr=!1,Ma=!1,fl=0,ji=0,Nr=null,Mb=0;function Ye(){throw Error(s(321))}function Yu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ot(e[r],t[r]))return!1;return!0}function Pu(e,t,r,l,c,d){return wn=d,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?b0:lc,Ma=!1,d=r(l,c),Ma=!1,Tr&&(d=Lh(t,r,l,c)),Bh(e),d}function Bh(e){C.H=Ri;var t=Ue!==null&&Ue.next!==null;if(wn=0,Fe=Ue=be=null,cl=!1,ji=0,Nr=null,t)throw Error(s(300));e===null||Ze||(e=e.dependencies,e!==null&&tl(e)&&(Ze=!0))}function Lh(e,t,r,l){be=e;var c=0;do{if(Tr&&(Nr=null),ji=0,Tr=!1,25<=c)throw Error(s(301));if(c+=1,Fe=Ue=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}C.H=_0,d=t(r,l)}while(Tr);return d}function zb(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?Oi(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(be.flags|=1024),t}function Ku(){var e=fl!==0;return fl=0,e}function Xu(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Qu(e){if(cl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cl=!1}wn=0,Fe=Ue=be=null,Tr=!1,ji=fl=0,Nr=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?be.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Qe(){if(Ue===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Fe===null?be.memoizedState:Fe.next;if(t!==null)Fe=t,Ue=e;else{if(e===null)throw be.alternate===null?Error(s(467)):Error(s(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Fe===null?be.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oi(e){var t=ji;return ji+=1,Nr===null&&(Nr=[]),e=jh(Nr,e,t),t=be,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?b0:lc),e}function hl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Oi(e);if(e.$$typeof===j)return ot(e)}throw Error(s(438,String(e)))}function Ju(e){var t=null,r=be.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=dl(),be.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),l=0;l<e;l++)r[l]=Z;return t.index++,r}function Sn(e,t){return typeof t=="function"?t(e):t}function ml(e){var t=Qe();return Fu(t,Ue,e)}function Fu(e,t,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var y=c.next;c.next=d.next,d.next=y}t.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var _=y=null,A=null,M=t,I=!1;do{var Q=M.lane&-536870913;if(Q!==M.lane?(Ae&Q)===Q:(wn&Q)===Q){var z=M.revertLane;if(z===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),Q===xr&&(I=!0);else if((wn&z)===z){M=M.next,z===xr&&(I=!0);continue}else Q={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},A===null?(_=A=Q,y=d):A=A.next=Q,be.lanes|=z,na|=z;Q=M.action,Ma&&r(d,Q),d=M.hasEagerState?M.eagerState:r(d,Q)}else z={lane:Q,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},A===null?(_=A=z,y=d):A=A.next=z,be.lanes|=Q,na|=Q;M=M.next}while(M!==null&&M!==t);if(A===null?y=d:A.next=_,!Ot(d,e.memoizedState)&&(Ze=!0,I&&(r=wr,r!==null)))throw r;e.memoizedState=d,e.baseState=y,e.baseQueue=A,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zu(e){var t=Qe(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,c=r.pending,d=t.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do d=e(d,y.action),y=y.next;while(y!==c);Ot(d,t.memoizedState)||(Ze=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,l]}function $h(e,t,r){var l=be,c=Qe(),d=Ne;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=t();var y=!Ot((Ue||c).memoizedState,r);if(y&&(c.memoizedState=r,Ze=!0),c=c.queue,tc(Gh.bind(null,l,c,e),[e]),c.getSnapshot!==t||y||Fe!==null&&Fe.memoizedState.tag&1){if(l.flags|=2048,jr(9,{destroy:void 0},Hh.bind(null,l,c,r,t),null),Le===null)throw Error(s(349));d||(wn&127)!==0||qh(l,t,r)}return r}function qh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=be.updateQueue,t===null?(t=dl(),be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hh(e,t,r,l){t.value=r,t.getSnapshot=l,Vh(t)&&Ih(e)}function Gh(e,t,r){return r(function(){Vh(t)&&Ih(e)})}function Vh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ot(e,r)}catch{return!0}}function Ih(e){var t=Ta(e,2);t!==null&&At(t,e,2)}function Wu(e){var t=bt();if(typeof e=="function"){var r=e;if(e=r(),Ma){an(!0);try{r()}finally{an(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function Yh(e,t,r,l){return e.baseState=r,Fu(e,Ue,typeof l=="function"?l:Sn)}function Bb(e,t,r,l,c){if(yl(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};C.T!==null?r(!0):d.isTransition=!1,l(d),r=t.pending,r===null?(d.next=t.pending=d,Ph(t,d)):(d.next=r.next,t.pending=r.next=d)}}function Ph(e,t){var r=t.action,l=t.payload,c=e.state;if(t.isTransition){var d=C.T,y={};C.T=y;try{var _=r(c,l),A=C.S;A!==null&&A(y,_),Kh(e,t,_)}catch(M){ec(e,t,M)}finally{d!==null&&y.types!==null&&(d.types=y.types),C.T=d}}else try{d=r(c,l),Kh(e,t,d)}catch(M){ec(e,t,M)}}function Kh(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Xh(e,t,l)},function(l){return ec(e,t,l)}):Xh(e,t,r)}function Xh(e,t,r){t.status="fulfilled",t.value=r,Qh(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,Ph(e,r)))}function ec(e,t,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=r,Qh(t),t=t.next;while(t!==l)}e.action=null}function Qh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Jh(e,t){return t}function Fh(e,t){if(Ne){var r=Le.formState;if(r!==null){e:{var l=be;if(Ne){if(He){t:{for(var c=He,d=It;c.nodeType!==8;){if(!d){c=null;break t}if(c=Pt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){He=Pt(c.nextSibling),l=c.data==="F!";break e}}Kn(l)}l=!1}l&&(t=r[0])}}return r=bt(),r.memoizedState=r.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:t},r.queue=l,r=p0.bind(null,be,l),l.dispatch=r,l=Wu(!1),d=sc.bind(null,be,!1,l.queue),l=bt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,r=Bb.bind(null,be,c,d,r),c.dispatch=r,l.memoizedState=e,[t,r,!1]}function Zh(e){var t=Qe();return Wh(t,Ue,e)}function Wh(e,t,r){if(t=Fu(e,t,Jh)[0],e=ml(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Oi(t)}catch(y){throw y===Sr?rl:y}else l=t;t=Qe();var c=t.queue,d=c.dispatch;return r!==t.memoizedState&&(be.flags|=2048,jr(9,{destroy:void 0},Lb.bind(null,c,r),null)),[l,d,e]}function Lb(e,t){e.action=t}function e0(e){var t=Qe(),r=Ue;if(r!==null)return Wh(t,r,e);Qe(),t=t.memoizedState,r=Qe();var l=r.queue.dispatch;return r.memoizedState=e,[t,l,!1]}function jr(e,t,r,l){return e={tag:e,create:r,deps:l,inst:t,next:null},t=be.updateQueue,t===null&&(t=dl(),be.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e),e}function t0(){return Qe().memoizedState}function gl(e,t,r,l){var c=bt();be.flags|=e,c.memoizedState=jr(1|t,{destroy:void 0},r,l===void 0?null:l)}function pl(e,t,r,l){var c=Qe();l=l===void 0?null:l;var d=c.memoizedState.inst;Ue!==null&&l!==null&&Yu(l,Ue.memoizedState.deps)?c.memoizedState=jr(t,d,r,l):(be.flags|=e,c.memoizedState=jr(1|t,d,r,l))}function n0(e,t){gl(8390656,8,e,t)}function tc(e,t){pl(2048,8,e,t)}function $b(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=dl(),be.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function a0(e){var t=Qe().memoizedState;return $b({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function r0(e,t){return pl(4,2,e,t)}function i0(e,t){return pl(4,4,e,t)}function s0(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l0(e,t,r){r=r!=null?r.concat([e]):null,pl(4,4,s0.bind(null,t,e),r)}function nc(){}function o0(e,t){var r=Qe();t=t===void 0?null:t;var l=r.memoizedState;return t!==null&&Yu(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function u0(e,t){var r=Qe();t=t===void 0?null:t;var l=r.memoizedState;if(t!==null&&Yu(t,l[1]))return l[0];if(l=e(),Ma){an(!0);try{e()}finally{an(!1)}}return r.memoizedState=[l,t],l}function ac(e,t,r){return r===void 0||(wn&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=cm(),be.lanes|=e,na|=e,r)}function c0(e,t,r,l){return Ot(r,t)?r:Ar.current!==null?(e=ac(e,r,l),Ot(e,t)||(Ze=!0),e):(wn&42)===0||(wn&1073741824)!==0&&(Ae&261930)===0?(Ze=!0,e.memoizedState=r):(e=cm(),be.lanes|=e,na|=e,t)}function f0(e,t,r,l,c){var d=B.p;B.p=d!==0&&8>d?d:8;var y=C.T,_={};C.T=_,sc(e,!1,t,r);try{var A=c(),M=C.S;if(M!==null&&M(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var I=Ub(A,l);Ci(e,t,I,Mt(e))}else Ci(e,t,l,Mt(e))}catch(Q){Ci(e,t,{then:function(){},status:"rejected",reason:Q},Mt())}finally{B.p=d,y!==null&&_.types!==null&&(y.types=_.types),C.T=y}}function qb(){}function rc(e,t,r,l){if(e.tag!==5)throw Error(s(476));var c=d0(e).queue;f0(e,c,t,J,r===null?qb:function(){return h0(e),r(l)})}function d0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:J},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function h0(e){var t=d0(e);t.next===null&&(t=e.alternate.memoizedState),Ci(e,t.next.queue,{},Mt())}function ic(){return ot(Ki)}function m0(){return Qe().memoizedState}function g0(){return Qe().memoizedState}function Hb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Mt();e=Jn(r);var l=Fn(t,e,r);l!==null&&(At(l,t,r),Ai(l,t,r)),t={cache:Uu()},e.payload=t;return}t=t.return}}function Gb(e,t,r){var l=Mt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},yl(e)?y0(t,r):(r=Su(e,t,r,l),r!==null&&(At(r,e,l),v0(r,t,l)))}function p0(e,t,r){var l=Mt();Ci(e,t,r,l)}function Ci(e,t,r,l){var c={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(yl(e))y0(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var y=t.lastRenderedState,_=d(y,r);if(c.hasEagerState=!0,c.eagerState=_,Ot(_,y))return Fs(e,t,c,0),Le===null&&Js(),!1}catch{}finally{}if(r=Su(e,t,c,l),r!==null)return At(r,e,l),v0(r,t,l),!0}return!1}function sc(e,t,r,l){if(l={lane:2,revertLane:Lc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yl(e)){if(t)throw Error(s(479))}else t=Su(e,r,l,2),t!==null&&At(t,e,2)}function yl(e){var t=e.alternate;return e===be||t!==null&&t===be}function y0(e,t){Tr=cl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function v0(e,t,r){if((r&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Bs(e,r)}}var Ri={readContext:ot,use:hl,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Ri.useEffectEvent=Ye;var b0={readContext:ot,use:hl,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:n0,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,gl(4194308,4,s0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){gl(4,2,e,t)},useMemo:function(e,t){var r=bt();t=t===void 0?null:t;var l=e();if(Ma){an(!0);try{e()}finally{an(!1)}}return r.memoizedState=[l,t],l},useReducer:function(e,t,r){var l=bt();if(r!==void 0){var c=r(t);if(Ma){an(!0);try{r(t)}finally{an(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Gb.bind(null,be,e),[l.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=Wu(e);var t=e.queue,r=p0.bind(null,be,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:nc,useDeferredValue:function(e,t){var r=bt();return ac(r,e,t)},useTransition:function(){var e=Wu(!1);return e=f0.bind(null,be,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var l=be,c=bt();if(Ne){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),Le===null)throw Error(s(349));(Ae&127)!==0||qh(l,t,r)}c.memoizedState=r;var d={value:r,getSnapshot:t};return c.queue=d,n0(Gh.bind(null,l,d,e),[e]),l.flags|=2048,jr(9,{destroy:void 0},Hh.bind(null,l,d,r,t),null),r},useId:function(){var e=bt(),t=Le.identifierPrefix;if(Ne){var r=sn,l=rn;r=(l&~(1<<32-vt(l)-1)).toString(32)+r,t="_"+t+"R_"+r,r=fl++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=Mb++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ic,useFormState:Fh,useActionState:Fh,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=sc.bind(null,be,!0,r),r.dispatch=t,[e,t]},useMemoCache:Ju,useCacheRefresh:function(){return bt().memoizedState=Hb.bind(null,be)},useEffectEvent:function(e){var t=bt(),r={impl:e};return t.memoizedState=r,function(){if((Ce&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},lc={readContext:ot,use:hl,useCallback:o0,useContext:ot,useEffect:tc,useImperativeHandle:l0,useInsertionEffect:r0,useLayoutEffect:i0,useMemo:u0,useReducer:ml,useRef:t0,useState:function(){return ml(Sn)},useDebugValue:nc,useDeferredValue:function(e,t){var r=Qe();return c0(r,Ue.memoizedState,e,t)},useTransition:function(){var e=ml(Sn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Oi(e),t]},useSyncExternalStore:$h,useId:m0,useHostTransitionStatus:ic,useFormState:Zh,useActionState:Zh,useOptimistic:function(e,t){var r=Qe();return Yh(r,Ue,e,t)},useMemoCache:Ju,useCacheRefresh:g0};lc.useEffectEvent=a0;var _0={readContext:ot,use:hl,useCallback:o0,useContext:ot,useEffect:tc,useImperativeHandle:l0,useInsertionEffect:r0,useLayoutEffect:i0,useMemo:u0,useReducer:Zu,useRef:t0,useState:function(){return Zu(Sn)},useDebugValue:nc,useDeferredValue:function(e,t){var r=Qe();return Ue===null?ac(r,e,t):c0(r,Ue.memoizedState,e,t)},useTransition:function(){var e=Zu(Sn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:Oi(e),t]},useSyncExternalStore:$h,useId:m0,useHostTransitionStatus:ic,useFormState:e0,useActionState:e0,useOptimistic:function(e,t){var r=Qe();return Ue!==null?Yh(r,Ue,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:g0};_0.useEffectEvent=a0;function oc(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:b({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var uc={enqueueSetState:function(e,t,r){e=e._reactInternals;var l=Mt(),c=Jn(l);c.payload=t,r!=null&&(c.callback=r),t=Fn(e,c,l),t!==null&&(At(t,e,l),Ai(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=Mt(),c=Jn(l);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=Fn(e,c,l),t!==null&&(At(t,e,l),Ai(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mt(),l=Jn(r);l.tag=2,t!=null&&(l.callback=t),t=Fn(e,l,r),t!==null&&(At(t,e,r),Ai(t,e,r))}};function x0(e,t,r,l,c,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):t.prototype&&t.prototype.isPureReactComponent?!yi(r,l)||!yi(c,d):!0}function w0(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&uc.enqueueReplaceState(t,t.state,null)}function za(e,t){var r=t;if("ref"in t){r={};for(var l in t)l!=="ref"&&(r[l]=t[l])}if(e=e.defaultProps){r===t&&(r=b({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function S0(e){Qs(e)}function E0(e){console.error(e)}function A0(e){Qs(e)}function vl(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function T0(e,t,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function cc(e,t,r){return r=Jn(r),r.tag=3,r.payload={element:null},r.callback=function(){vl(e,t)},r}function N0(e){return e=Jn(e),e.tag=3,e}function j0(e,t,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){T0(t,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){T0(t,r,l),typeof c!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function Vb(e,t,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=r.alternate,t!==null&&_r(t,r,c,!0),r=Rt.current,r!==null){switch(r.tag){case 31:case 13:return Yt===null?Cl():r.alternate===null&&Pe===0&&(Pe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===il?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([l]):t.add(l),Mc(e,l,c)),!1;case 22:return r.flags|=65536,l===il?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([l]):r.add(l)),Mc(e,l,c)),!1}throw Error(s(435,r.tag))}return Mc(e,l,c),Cl(),!1}if(Ne)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Ou&&(e=Error(s(422),{cause:l}),_i(Ht(e,r)))):(l!==Ou&&(t=Error(s(423),{cause:l}),_i(Ht(t,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Ht(l,r),c=cc(e.stateNode,l,c),qu(e,c),Pe!==4&&(Pe=2)),!1;var d=Error(s(520),{cause:l});if(d=Ht(d,r),$i===null?$i=[d]:$i.push(d),Pe!==4&&(Pe=2),t===null)return!0;l=Ht(l,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=cc(r.stateNode,l,e),qu(r,e),!1;case 1:if(t=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(aa===null||!aa.has(d))))return r.flags|=65536,c&=-c,r.lanes|=c,c=N0(c),j0(c,e,r,l),qu(r,c),!1}r=r.return}while(r!==null);return!1}var fc=Error(s(461)),Ze=!1;function ut(e,t,r,l){t.child=e===null?kh(t,null,r,l):Ua(t,e.child,r,l)}function O0(e,t,r,l,c){r=r.render;var d=t.ref;if("ref"in l){var y={};for(var _ in l)_!=="ref"&&(y[_]=l[_])}else y=l;return Ca(t),l=Pu(e,t,r,y,d,c),_=Ku(),e!==null&&!Ze?(Xu(e,t,c),En(e,t,c)):(Ne&&_&&Nu(t),t.flags|=1,ut(e,t,l,c),t.child)}function C0(e,t,r,l,c){if(e===null){var d=r.type;return typeof d=="function"&&!Eu(d)&&d.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=d,R0(e,t,d,l,c)):(e=Ws(r.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!bc(e,c)){var y=d.memoizedProps;if(r=r.compare,r=r!==null?r:yi,r(y,l)&&e.ref===t.ref)return En(e,t,c)}return t.flags|=1,e=vn(d,l),e.ref=t.ref,e.return=t,t.child=e}function R0(e,t,r,l,c){if(e!==null){var d=e.memoizedProps;if(yi(d,l)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=l=d,bc(e,c))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,En(e,t,c)}return dc(e,t,r,l,c)}function k0(e,t,r,l){var c=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~d}else l=0,t.child=null;return D0(e,t,d,r,l)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&al(t,d!==null?d.cachePool:null),d!==null?Mh(t,d):Gu(),zh(t);else return l=t.lanes=536870912,D0(e,t,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(al(t,d.cachePool),Mh(t,d),Wn(),t.memoizedState=null):(e!==null&&al(t,null),Gu(),Wn());return ut(e,t,c,r),t.child}function ki(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function D0(e,t,r,l,c){var d=zu();return d=d===null?null:{parent:Je._currentValue,pool:d},t.memoizedState={baseLanes:r,cachePool:d},e!==null&&al(t,null),Gu(),zh(t),e!==null&&_r(e,t,l,!0),t.childLanes=c,null}function bl(e,t){return t=xl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function U0(e,t,r){return Ua(t,e.child,null,r),e=bl(t,t.pendingProps),e.flags|=2,kt(t),t.memoizedState=null,e}function Ib(e,t,r){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(l.mode==="hidden")return e=bl(t,l),t.lanes=536870912,ki(null,e);if(Iu(t),(e=He)?(e=Pm(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:rn,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},r=yh(e),r.return=t,t.child=r,lt=t,He=null)):e=null,e===null)throw Kn(t);return t.lanes=536870912,null}return bl(t,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(Iu(t),c)if(t.flags&256)t.flags&=-257,t=U0(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Ze||_r(e,t,r,!1),c=(r&e.childLanes)!==0,Ze||c){if(l=Le,l!==null&&(y=Ls(l,r),y!==0&&y!==d.retryLane))throw d.retryLane=y,Ta(e,y),At(l,e,y),fc;Cl(),t=U0(e,t,r)}else e=d.treeContext,He=Pt(y.nextSibling),lt=t,Ne=!0,Pn=null,It=!1,e!==null&&_h(t,e),t=bl(t,l),t.flags|=4096;return t}return e=vn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _l(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function dc(e,t,r,l,c){return Ca(t),r=Pu(e,t,r,l,void 0,c),l=Ku(),e!==null&&!Ze?(Xu(e,t,c),En(e,t,c)):(Ne&&l&&Nu(t),t.flags|=1,ut(e,t,r,c),t.child)}function M0(e,t,r,l,c,d){return Ca(t),t.updateQueue=null,r=Lh(t,l,r,c),Bh(e),l=Ku(),e!==null&&!Ze?(Xu(e,t,d),En(e,t,d)):(Ne&&l&&Nu(t),t.flags|=1,ut(e,t,r,d),t.child)}function z0(e,t,r,l,c){if(Ca(t),t.stateNode===null){var d=pr,y=r.contextType;typeof y=="object"&&y!==null&&(d=ot(y)),d=new r(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=uc,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},Lu(t),y=r.contextType,d.context=typeof y=="object"&&y!==null?ot(y):pr,d.state=t.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(oc(t,r,y,l),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&uc.enqueueReplaceState(d,d.state,null),Ni(t,l,d,c),Ti(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var _=t.memoizedProps,A=za(r,_);d.props=A;var M=d.context,I=r.contextType;y=pr,typeof I=="object"&&I!==null&&(y=ot(I));var Q=r.getDerivedStateFromProps;I=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,I||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||M!==y)&&w0(t,d,l,y),Qn=!1;var z=t.memoizedState;d.state=z,Ni(t,l,d,c),Ti(),M=t.memoizedState,_||z!==M||Qn?(typeof Q=="function"&&(oc(t,r,Q,l),M=t.memoizedState),(A=Qn||x0(t,r,A,l,z,M,y))?(I||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=M),d.props=l,d.state=M,d.context=y,l=A):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,$u(e,t),y=t.memoizedProps,I=za(r,y),d.props=I,Q=t.pendingProps,z=d.context,M=r.contextType,A=pr,typeof M=="object"&&M!==null&&(A=ot(M)),_=r.getDerivedStateFromProps,(M=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Q||z!==A)&&w0(t,d,l,A),Qn=!1,z=t.memoizedState,d.state=z,Ni(t,l,d,c),Ti();var $=t.memoizedState;y!==Q||z!==$||Qn||e!==null&&e.dependencies!==null&&tl(e.dependencies)?(typeof _=="function"&&(oc(t,r,_,l),$=t.memoizedState),(I=Qn||x0(t,r,I,l,z,$,A)||e!==null&&e.dependencies!==null&&tl(e.dependencies))?(M||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,A),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,A)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=$),d.props=l,d.state=$,d.context=A,l=I):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,_l(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=Ua(t,e.child,null,c),t.child=Ua(t,null,r,c)):ut(e,t,r,c),t.memoizedState=d.state,e=t.child):e=En(e,t,c),e}function B0(e,t,r,l){return ja(),t.flags|=256,ut(e,t,r,l),t.child}var hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mc(e){return{baseLanes:e,cachePool:Th()}}function gc(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Ut),e}function L0(e,t,r){var l=t.pendingProps,c=!1,d=(t.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(c?Zn(t):Wn(),(e=He)?(e=Pm(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yn!==null?{id:rn,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},r=yh(e),r.return=t,t.child=r,lt=t,He=null)):e=null,e===null)throw Kn(t);return Fc(e)?t.lanes=32:t.lanes=536870912,null}var _=l.children;return l=l.fallback,c?(Wn(),c=t.mode,_=xl({mode:"hidden",children:_},c),l=Na(l,c,r,null),_.return=t,l.return=t,_.sibling=l,t.child=_,l=t.child,l.memoizedState=mc(r),l.childLanes=gc(e,y,r),t.memoizedState=hc,ki(null,l)):(Zn(t),pc(t,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(d)t.flags&256?(Zn(t),t.flags&=-257,t=yc(e,t,r)):t.memoizedState!==null?(Wn(),t.child=e.child,t.flags|=128,t=null):(Wn(),_=l.fallback,c=t.mode,l=xl({mode:"visible",children:l.children},c),_=Na(_,c,r,null),_.flags|=2,l.return=t,_.return=t,l.sibling=_,t.child=l,Ua(t,e.child,null,r),l=t.child,l.memoizedState=mc(r),l.childLanes=gc(e,y,r),t.memoizedState=hc,t=ki(null,l));else if(Zn(t),Fc(_)){if(y=_.nextSibling&&_.nextSibling.dataset,y)var M=y.dgst;y=M,l=Error(s(419)),l.stack="",l.digest=y,_i({value:l,source:null,stack:null}),t=yc(e,t,r)}else if(Ze||_r(e,t,r,!1),y=(r&e.childLanes)!==0,Ze||y){if(y=Le,y!==null&&(l=Ls(y,r),l!==0&&l!==A.retryLane))throw A.retryLane=l,Ta(e,l),At(y,e,l),fc;Jc(_)||Cl(),t=yc(e,t,r)}else Jc(_)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,He=Pt(_.nextSibling),lt=t,Ne=!0,Pn=null,It=!1,e!==null&&_h(t,e),t=pc(t,l.children),t.flags|=4096);return t}return c?(Wn(),_=l.fallback,c=t.mode,A=e.child,M=A.sibling,l=vn(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,M!==null?_=vn(M,_):(_=Na(_,c,r,null),_.flags|=2),_.return=t,l.return=t,l.sibling=_,t.child=l,ki(null,l),l=t.child,_=e.child.memoizedState,_===null?_=mc(r):(c=_.cachePool,c!==null?(A=Je._currentValue,c=c.parent!==A?{parent:A,pool:A}:c):c=Th(),_={baseLanes:_.baseLanes|r,cachePool:c}),l.memoizedState=_,l.childLanes=gc(e,y,r),t.memoizedState=hc,ki(e.child,l)):(Zn(t),r=e.child,e=r.sibling,r=vn(r,{mode:"visible",children:l.children}),r.return=t,r.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=r,t.memoizedState=null,r)}function pc(e,t){return t=xl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function xl(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function yc(e,t,r){return Ua(t,e.child,null,r),e=pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $0(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),ku(e.return,t,r)}function vc(e,t,r,l,c,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c,treeForkCount:d}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=r,y.tailMode=c,y.treeForkCount=d)}function q0(e,t,r){var l=t.pendingProps,c=l.revealOrder,d=l.tail;l=l.children;var y=Xe.current,_=(y&2)!==0;if(_?(y=y&1|2,t.flags|=128):y&=1,te(Xe,y),ut(e,t,l,r),l=Ne?bi:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$0(e,r,t);else if(e.tag===19)$0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&ul(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),vc(t,!1,c,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&ul(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}vc(t,!0,r,null,d,l);break;case"together":vc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function En(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),na|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(_r(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=vn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&tl(e)))}function Yb(e,t,r){switch(t.tag){case 3:rt(t,t.stateNode.containerInfo),Xn(t,Je,e.memoizedState.cache),ja();break;case 27:case 5:Ln(t);break;case 4:rt(t,t.stateNode.containerInfo);break;case 10:Xn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Iu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Zn(t),t.flags|=128,null):(r&t.child.childLanes)!==0?L0(e,t,r):(Zn(t),e=En(e,t,r),e!==null?e.sibling:null);Zn(t);break;case 19:var c=(e.flags&128)!==0;if(l=(r&t.childLanes)!==0,l||(_r(e,t,r,!1),l=(r&t.childLanes)!==0),c){if(l)return q0(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),te(Xe,Xe.current),l)break;return null;case 22:return t.lanes=0,k0(e,t,r,t.pendingProps);case 24:Xn(t,Je,e.memoizedState.cache)}return En(e,t,r)}function H0(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!bc(e,r)&&(t.flags&128)===0)return Ze=!1,Yb(e,t,r);Ze=(e.flags&131072)!==0}else Ze=!1,Ne&&(t.flags&1048576)!==0&&bh(t,bi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ka(t.elementType),t.type=e,typeof e=="function")Eu(e)?(l=za(e,l),t.tag=1,t=z0(null,t,e,l,r)):(t.tag=0,t=dc(null,t,e,l,r));else{if(e!=null){var c=e.$$typeof;if(c===H){t.tag=11,t=O0(null,t,e,l,r);break e}else if(c===q){t.tag=14,t=C0(null,t,e,l,r);break e}}throw t=Ke(e)||e,Error(s(306,t,""))}}return t;case 0:return dc(e,t,t.type,t.pendingProps,r);case 1:return l=t.type,c=za(l,t.pendingProps),z0(e,t,l,c,r);case 3:e:{if(rt(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var d=t.memoizedState;c=d.element,$u(e,t),Ni(t,l,null,r);var y=t.memoizedState;if(l=y.cache,Xn(t,Je,l),l!==d.cache&&Du(t,[Je],r,!0),Ti(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=B0(e,t,l,r);break e}else if(l!==c){c=Ht(Error(s(424)),t),_i(c),t=B0(e,t,l,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Pt(e.firstChild),lt=t,Ne=!0,Pn=null,It=!0,r=kh(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ja(),l===c){t=En(e,t,r);break e}ut(e,t,l,r)}t=t.child}return t;case 26:return _l(e,t),e===null?(r=Zm(t.type,null,t.pendingProps,null))?t.memoizedState=r:Ne||(r=t.type,e=t.pendingProps,l=Bl(pe.current).createElement(r),l[ne]=t,l[ve]=e,ct(l,r,e),it(l),t.stateNode=l):t.memoizedState=Zm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ln(t),e===null&&Ne&&(l=t.stateNode=Qm(t.type,t.pendingProps,pe.current),lt=t,It=!0,c=He,la(t.type)?(Zc=c,He=Pt(l.firstChild)):He=c),ut(e,t,t.pendingProps.children,r),_l(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((c=l=He)&&(l=x_(l,t.type,t.pendingProps,It),l!==null?(t.stateNode=l,lt=t,He=Pt(l.firstChild),It=!1,c=!0):c=!1),c||Kn(t)),Ln(t),c=t.type,d=t.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,Kc(c,d)?l=null:y!==null&&Kc(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=Pu(e,t,zb,null,null,r),Ki._currentValue=c),_l(e,t),ut(e,t,l,r),t.child;case 6:return e===null&&Ne&&((e=r=He)&&(r=w_(r,t.pendingProps,It),r!==null?(t.stateNode=r,lt=t,He=null,e=!0):e=!1),e||Kn(t)),null;case 13:return L0(e,t,r);case 4:return rt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ua(t,null,l,r):ut(e,t,l,r),t.child;case 11:return O0(e,t,t.type,t.pendingProps,r);case 7:return ut(e,t,t.pendingProps,r),t.child;case 8:return ut(e,t,t.pendingProps.children,r),t.child;case 12:return ut(e,t,t.pendingProps.children,r),t.child;case 10:return l=t.pendingProps,Xn(t,t.type,l.value),ut(e,t,l.children,r),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Ca(t),c=ot(c),l=l(c),t.flags|=1,ut(e,t,l,r),t.child;case 14:return C0(e,t,t.type,t.pendingProps,r);case 15:return R0(e,t,t.type,t.pendingProps,r);case 19:return q0(e,t,r);case 31:return Ib(e,t,r);case 22:return k0(e,t,r,t.pendingProps);case 24:return Ca(t),l=ot(Je),e===null?(c=zu(),c===null&&(c=Le,d=Uu(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=r),c=d),t.memoizedState={parent:l,cache:c},Lu(t),Xn(t,Je,c)):((e.lanes&r)!==0&&($u(e,t),Ni(t,null,null,r),Ti()),c=e.memoizedState,d=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Xn(t,Je,l)):(l=d.cache,Xn(t,Je,l),l!==c.cache&&Du(t,[Je],r,!0))),ut(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function An(e){e.flags|=4}function _c(e,t,r,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(mm())e.flags|=8192;else throw Da=il,Bu}else e.flags&=-16777217}function G0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ag(t))if(mm())e.flags|=8192;else throw Da=il,Bu}function wl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ms():536870912,e.lanes|=t,kr|=t)}function Di(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function Pb(e,t,r){var l=t.pendingProps;switch(ju(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return r=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),xn(Je),Re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(br(t)?An(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cu())),Ge(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(An(t),d!==null?(Ge(t),G0(t,d)):(Ge(t),_c(t,c,null,l,r))):d?d!==e.memoizedState?(An(t),Ge(t),G0(t,d)):(Ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&An(t),Ge(t),_c(t,c,e,l,r)),null;case 27:if(dn(t),r=pe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&An(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Ge(t),null}e=ae.current,br(t)?xh(t):(e=Qm(c,l,r),t.stateNode=e,An(t))}return Ge(t),null;case 5:if(dn(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&An(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Ge(t),null}if(d=ae.current,br(t))xh(t);else{var y=Bl(pe.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}d[ne]=t,d[ve]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=d;e:switch(ct(d,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&An(t)}}return Ge(t),_c(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&An(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=pe.current,br(t)){if(e=t.stateNode,r=t.memoizedProps,l=null,c=lt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[ne]=t,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Lm(e.nodeValue,r)),e||Kn(t,!0)}else e=Bl(e).createTextNode(l),e[ne]=t,t.stateNode=e}return Ge(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(l=br(t),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ne]=t}else ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),e=!1}else r=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(kt(t),t):(kt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ge(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=br(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ne]=t}else ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),c=!1}else c=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(kt(t),t):(kt(t),null)}return kt(t),(t.flags&128)!==0?(t.lanes=r,t):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),wl(t,t.updateQueue),Ge(t),null);case 4:return Re(),e===null&&Gc(t.stateNode.containerInfo),Ge(t),null;case 10:return xn(t.type),Ge(t),null;case 19:if(K(Xe),l=t.memoizedState,l===null)return Ge(t),null;if(c=(t.flags&128)!==0,d=l.rendering,d===null)if(c)Di(l,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=ul(e),d!==null){for(t.flags|=128,Di(l,!1),e=d.updateQueue,t.updateQueue=e,wl(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)ph(r,e),r=r.sibling;return te(Xe,Xe.current&1|2),Ne&&bn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&ht()>Nl&&(t.flags|=128,c=!0,Di(l,!1),t.lanes=4194304)}else{if(!c)if(e=ul(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,wl(t,e),Di(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ne)return Ge(t),null}else 2*ht()-l.renderingStartTime>Nl&&r!==536870912&&(t.flags|=128,c=!0,Di(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ht(),e.sibling=null,r=Xe.current,te(Xe,c?r&1|2:r&1),Ne&&bn(t,l.treeForkCount),e):(Ge(t),null);case 22:case 23:return kt(t),Vu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(r&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),r=t.updateQueue,r!==null&&wl(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),e!==null&&K(Ra),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xn(Je),Ge(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Kb(e,t){switch(ju(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(Je),Re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return dn(t),null;case 31:if(t.memoizedState!==null){if(kt(t),t.alternate===null)throw Error(s(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Xe),null;case 4:return Re(),null;case 10:return xn(t.type),null;case 22:case 23:return kt(t),Vu(),e!==null&&K(Ra),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xn(Je),null;case 25:return null;default:return null}}function V0(e,t){switch(ju(t),t.tag){case 3:xn(Je),Re();break;case 26:case 27:case 5:dn(t);break;case 4:Re();break;case 31:t.memoizedState!==null&&kt(t);break;case 13:kt(t);break;case 19:K(Xe);break;case 10:xn(t.type);break;case 22:case 23:kt(t),Vu(),e!==null&&K(Ra);break;case 24:xn(Je)}}function Ui(e,t){try{var r=t.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&e)===e){l=void 0;var d=r.create,y=r.inst;l=d(),y.destroy=l}r=r.next}while(r!==c)}}catch(_){De(t,t.return,_)}}function ea(e,t,r){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var y=l.inst,_=y.destroy;if(_!==void 0){y.destroy=void 0,c=t;var A=r,M=_;try{M()}catch(I){De(c,A,I)}}}l=l.next}while(l!==d)}}catch(I){De(t,t.return,I)}}function I0(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{Uh(t,r)}catch(l){De(e,e.return,l)}}}function Y0(e,t,r){r.props=za(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){De(e,t,l)}}function Mi(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(c){De(e,t,c)}}function ln(e,t){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){De(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){De(e,t,c)}else r.current=null}function P0(e){var t=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){De(e,e.return,c)}}function xc(e,t,r){try{var l=e.stateNode;g_(l,e.type,r,t),l[ve]=t}catch(c){De(e,e.return,c)}}function K0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&la(e.type)||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||K0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&la(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sc(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pn));else if(l!==4&&(l===27&&la(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Sc(e,t,r),e=e.sibling;e!==null;)Sc(e,t,r),e=e.sibling}function Sl(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(l===27&&la(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Sl(e,t,r),e=e.sibling;e!==null;)Sl(e,t,r),e=e.sibling}function X0(e){var t=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);ct(t,l,r),t[ne]=e,t[ve]=r}catch(d){De(e,e.return,d)}}var Tn=!1,We=!1,Ec=!1,Q0=typeof WeakSet=="function"?WeakSet:Set,st=null;function Xb(e,t){if(e=e.containerInfo,Yc=Il,e=lh(e),yu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var y=0,_=-1,A=-1,M=0,I=0,Q=e,z=null;t:for(;;){for(var $;Q!==r||c!==0&&Q.nodeType!==3||(_=y+c),Q!==d||l!==0&&Q.nodeType!==3||(A=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),($=Q.firstChild)!==null;)z=Q,Q=$;for(;;){if(Q===e)break t;if(z===r&&++M===c&&(_=y),z===d&&++I===l&&(A=y),($=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=$}r=_===-1||A===-1?null:{start:_,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pc={focusedElem:e,selectionRange:r},Il=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=t,c=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var se=za(r.type,c);e=l.getSnapshotBeforeUpdate(se,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(he){De(r,r.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Qc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function J0(e,t,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:jn(e,r),l&4&&Ui(5,r);break;case 1:if(jn(e,r),l&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(y){De(r,r.return,y)}else{var c=za(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){De(r,r.return,y)}}l&64&&I0(r),l&512&&Mi(r,r.return);break;case 3:if(jn(e,r),l&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Uh(e,t)}catch(y){De(r,r.return,y)}}break;case 27:t===null&&l&4&&X0(r);case 26:case 5:jn(e,r),t===null&&l&4&&P0(r),l&512&&Mi(r,r.return);break;case 12:jn(e,r);break;case 31:jn(e,r),l&4&&W0(e,r);break;case 13:jn(e,r),l&4&&em(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=a_.bind(null,r),S_(e,r))));break;case 22:if(l=r.memoizedState!==null||Tn,!l){t=t!==null&&t.memoizedState!==null||We,c=Tn;var d=We;Tn=l,(We=t)&&!d?On(e,r,(r.subtreeFlags&8772)!==0):jn(e,r),Tn=c,We=d}break;case 30:break;default:jn(e,r)}}function F0(e){var t=e.alternate;t!==null&&(e.alternate=null,F0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&eu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,xt=!1;function Nn(e,t,r){for(r=r.child;r!==null;)Z0(e,t,r),r=r.sibling}function Z0(e,t,r){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(ba,r)}catch{}switch(r.tag){case 26:We||ln(r,t),Nn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:We||ln(r,t);var l=Ve,c=xt;la(r.type)&&(Ve=r.stateNode,xt=!1),Nn(e,t,r),Ii(r.stateNode),Ve=l,xt=c;break;case 5:We||ln(r,t);case 6:if(l=Ve,c=xt,Ve=null,Nn(e,t,r),Ve=l,xt=c,Ve!==null)if(xt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(r.stateNode)}catch(d){De(r,t,d)}else try{Ve.removeChild(r.stateNode)}catch(d){De(r,t,d)}break;case 18:Ve!==null&&(xt?(e=Ve,Im(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),qr(e)):Im(Ve,r.stateNode));break;case 4:l=Ve,c=xt,Ve=r.stateNode.containerInfo,xt=!0,Nn(e,t,r),Ve=l,xt=c;break;case 0:case 11:case 14:case 15:ea(2,r,t),We||ea(4,r,t),Nn(e,t,r);break;case 1:We||(ln(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Y0(r,t,l)),Nn(e,t,r);break;case 21:Nn(e,t,r);break;case 22:We=(l=We)||r.memoizedState!==null,Nn(e,t,r),We=l;break;default:Nn(e,t,r)}}function W0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qr(e)}catch(r){De(t,t.return,r)}}}function em(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qr(e)}catch(r){De(t,t.return,r)}}function Qb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Q0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Q0),t;default:throw Error(s(435,e.tag))}}function El(e,t){var r=Qb(e);t.forEach(function(l){if(!r.has(l)){r.add(l);var c=r_.bind(null,e,l);l.then(c,c)}})}function wt(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],d=e,y=t,_=y;e:for(;_!==null;){switch(_.tag){case 27:if(la(_.type)){Ve=_.stateNode,xt=!1;break e}break;case 5:Ve=_.stateNode,xt=!1;break e;case 3:case 4:Ve=_.stateNode.containerInfo,xt=!0;break e}_=_.return}if(Ve===null)throw Error(s(160));Z0(d,y,c),Ve=null,xt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)tm(t,e),t=t.sibling}var Qt=null;function tm(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),St(e),l&4&&(ea(3,e,e.return),Ui(3,e),ea(5,e,e.return));break;case 1:wt(t,e),St(e),l&512&&(We||r===null||ln(r,r.return)),l&64&&Tn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Qt;if(wt(t,e),St(e),l&512&&(We||r===null||ln(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[oi]||d[ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),ct(d,l,r),d[ne]=e,it(d),l=d;break e;case"link":var y=tg("link","href",c).get(l+(r.href||""));if(y){for(var _=0;_<y.length;_++)if(d=y[_],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(_,1);break t}}d=c.createElement(l),ct(d,l,r),c.head.appendChild(d);break;case"meta":if(y=tg("meta","content",c).get(l+(r.content||""))){for(_=0;_<y.length;_++)if(d=y[_],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(_,1);break t}}d=c.createElement(l),ct(d,l,r),c.head.appendChild(d);break;default:throw Error(s(468,l))}d[ne]=e,it(d),l=d}e.stateNode=l}else ng(c,e.type,e.stateNode);else e.stateNode=eg(c,l,e.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?ng(c,e.type,e.stateNode):eg(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&xc(e,e.memoizedProps,r.memoizedProps)}break;case 27:wt(t,e),St(e),l&512&&(We||r===null||ln(r,r.return)),r!==null&&l&4&&xc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(wt(t,e),St(e),l&512&&(We||r===null||ln(r,r.return)),e.flags&32){c=e.stateNode;try{ur(c,"")}catch(se){De(e,e.return,se)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,xc(e,c,r!==null?r.memoizedProps:c)),l&1024&&(Ec=!0);break;case 6:if(wt(t,e),St(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(se){De(e,e.return,se)}}break;case 3:if(ql=null,c=Qt,Qt=Ll(t.containerInfo),wt(t,e),Qt=c,St(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(se){De(e,e.return,se)}Ec&&(Ec=!1,nm(e));break;case 4:l=Qt,Qt=Ll(e.stateNode.containerInfo),wt(t,e),St(e),Qt=l;break;case 12:wt(t,e),St(e);break;case 31:wt(t,e),St(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,El(e,l)));break;case 13:wt(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Tl=ht()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,El(e,l)));break;case 22:c=e.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,M=Tn,I=We;if(Tn=M||c,We=I||A,wt(t,e),We=I,Tn=M,St(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(r===null||A||Tn||We||Ba(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){A=r=t;try{if(d=A.stateNode,c)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=A.stateNode;var Q=A.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;_.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(se){De(A,A.return,se)}}}else if(t.tag===6){if(r===null){A=t;try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(se){De(A,A.return,se)}}}else if(t.tag===18){if(r===null){A=t;try{var $=A.stateNode;c?Ym($,!0):Ym(A.stateNode,!1)}catch(se){De(A,A.return,se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,El(e,r))));break;case 19:wt(t,e),St(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,El(e,l)));break;case 30:break;case 21:break;default:wt(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var r,l=e.return;l!==null;){if(K0(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,d=wc(e);Sl(e,d,c);break;case 5:var y=r.stateNode;r.flags&32&&(ur(y,""),r.flags&=-33);var _=wc(e);Sl(e,_,y);break;case 3:case 4:var A=r.stateNode.containerInfo,M=wc(e);Sc(e,M,A);break;default:throw Error(s(161))}}catch(I){De(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;nm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)J0(e,t.alternate,t),t=t.sibling}function Ba(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ea(4,t,t.return),Ba(t);break;case 1:ln(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&Y0(t,t.return,r),Ba(t);break;case 27:Ii(t.stateNode);case 26:case 5:ln(t,t.return),Ba(t);break;case 22:t.memoizedState===null&&Ba(t);break;case 30:Ba(t);break;default:Ba(t)}e=e.sibling}}function On(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,d=t,y=d.flags;switch(d.tag){case 0:case 11:case 15:On(c,d,r),Ui(4,d);break;case 1:if(On(c,d,r),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(M){De(l,l.return,M)}if(l=d,c=l.updateQueue,c!==null){var _=l.stateNode;try{var A=c.shared.hiddenCallbacks;if(A!==null)for(c.shared.hiddenCallbacks=null,c=0;c<A.length;c++)Dh(A[c],_)}catch(M){De(l,l.return,M)}}r&&y&64&&I0(d),Mi(d,d.return);break;case 27:X0(d);case 26:case 5:On(c,d,r),r&&l===null&&y&4&&P0(d),Mi(d,d.return);break;case 12:On(c,d,r);break;case 31:On(c,d,r),r&&y&4&&W0(c,d);break;case 13:On(c,d,r),r&&y&4&&em(c,d);break;case 22:d.memoizedState===null&&On(c,d,r),Mi(d,d.return);break;case 30:break;default:On(c,d,r)}t=t.sibling}}function Ac(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&xi(r))}function Tc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xi(e))}function Jt(e,t,r,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)am(e,t,r,l),t=t.sibling}function am(e,t,r,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,r,l),c&2048&&Ui(9,t);break;case 1:Jt(e,t,r,l);break;case 3:Jt(e,t,r,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&xi(e)));break;case 12:if(c&2048){Jt(e,t,r,l),e=t.stateNode;try{var d=t.memoizedProps,y=d.id,_=d.onPostCommit;typeof _=="function"&&_(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){De(t,t.return,A)}}else Jt(e,t,r,l);break;case 31:Jt(e,t,r,l);break;case 13:Jt(e,t,r,l);break;case 23:break;case 22:d=t.stateNode,y=t.alternate,t.memoizedState!==null?d._visibility&2?Jt(e,t,r,l):zi(e,t):d._visibility&2?Jt(e,t,r,l):(d._visibility|=2,Or(e,t,r,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Ac(y,t);break;case 24:Jt(e,t,r,l),c&2048&&Tc(t.alternate,t);break;default:Jt(e,t,r,l)}}function Or(e,t,r,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,y=t,_=r,A=l,M=y.flags;switch(y.tag){case 0:case 11:case 15:Or(d,y,_,A,c),Ui(8,y);break;case 23:break;case 22:var I=y.stateNode;y.memoizedState!==null?I._visibility&2?Or(d,y,_,A,c):zi(d,y):(I._visibility|=2,Or(d,y,_,A,c)),c&&M&2048&&Ac(y.alternate,y);break;case 24:Or(d,y,_,A,c),c&&M&2048&&Tc(y.alternate,y);break;default:Or(d,y,_,A,c)}t=t.sibling}}function zi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,l=t,c=l.flags;switch(l.tag){case 22:zi(r,l),c&2048&&Ac(l.alternate,l);break;case 24:zi(r,l),c&2048&&Tc(l.alternate,l);break;default:zi(r,l)}t=t.sibling}}var Bi=8192;function Cr(e,t,r){if(e.subtreeFlags&Bi)for(e=e.child;e!==null;)rm(e,t,r),e=e.sibling}function rm(e,t,r){switch(e.tag){case 26:Cr(e,t,r),e.flags&Bi&&e.memoizedState!==null&&M_(r,Qt,e.memoizedState,e.memoizedProps);break;case 5:Cr(e,t,r);break;case 3:case 4:var l=Qt;Qt=Ll(e.stateNode.containerInfo),Cr(e,t,r),Qt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Bi,Bi=16777216,Cr(e,t,r),Bi=l):Cr(e,t,r));break;default:Cr(e,t,r)}}function im(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Li(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];st=l,lm(l,e)}im(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sm(e),e=e.sibling}function sm(e){switch(e.tag){case 0:case 11:case 15:Li(e),e.flags&2048&&ea(9,e,e.return);break;case 3:Li(e);break;case 12:Li(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Al(e)):Li(e);break;default:Li(e)}}function Al(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];st=l,lm(l,e)}im(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ea(8,t,t.return),Al(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Al(t));break;default:Al(t)}e=e.sibling}}function lm(e,t){for(;st!==null;){var r=st;switch(r.tag){case 0:case 11:case 15:ea(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xi(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,st=l;else e:for(r=e;st!==null;){l=st;var c=l.sibling,d=l.return;if(F0(l),l===r){st=null;break e}if(c!==null){c.return=d,st=c;break e}st=d}}}var Jb={getCacheForType:function(e){var t=ot(Je),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return ot(Je).controller.signal}},Fb=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Le=null,Se=null,Ae=0,ke=0,Dt=null,ta=!1,Rr=!1,Nc=!1,Cn=0,Pe=0,na=0,La=0,jc=0,Ut=0,kr=0,$i=null,Et=null,Oc=!1,Tl=0,om=0,Nl=1/0,jl=null,aa=null,at=0,ra=null,Dr=null,Rn=0,Cc=0,Rc=null,um=null,qi=0,kc=null;function Mt(){return(Ce&2)!==0&&Ae!==0?Ae&-Ae:C.T!==null?Lc():R()}function cm(){if(Ut===0)if((Ae&536870912)===0||Ne){var e=Gn;Gn<<=1,(Gn&3932160)===0&&(Gn=262144),Ut=e}else Ut=536870912;return e=Rt.current,e!==null&&(e.flags|=32),Ut}function At(e,t,r){(e===Le&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(Ur(e,0),ia(e,Ae,Ut,!1)),xa(e,r),((Ce&2)===0||e!==Le)&&(e===Le&&((Ce&2)===0&&(La|=r),Pe===4&&ia(e,Ae,Ut,!1)),on(e))}function fm(e,t,r){if((Ce&6)!==0)throw Error(s(327));var l=!r&&(t&127)===0&&(t&e.expiredLanes)===0||_a(e,t),c=l?e_(e,t):Uc(e,t,!0),d=l;do{if(c===0){Rr&&!l&&ia(e,t,0,!1);break}else{if(r=e.current.alternate,d&&!Zb(r)){c=Uc(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var _=e;c=$i;var A=_.current.memoizedState.isDehydrated;if(A&&(Ur(_,y).flags|=256),y=Uc(_,y,!1),y!==2){if(Nc&&!A){_.errorRecoveryDisabledLanes|=d,La|=d,c=4;break e}d=Et,Et=c,d!==null&&(Et===null?Et=d:Et.push.apply(Et,d))}c=y}if(d=!1,c!==2)continue}}if(c===1){Ur(e,0),ia(e,t,0,!0);break}e:{switch(l=e,d=c,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:ia(l,t,Ut,!ta);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=Tl+300-ht(),10<c)){if(ia(l,t,Ut,!ta),nr(l,0,!0)!==0)break e;Rn=t,l.timeoutHandle=Gm(dm.bind(null,l,r,Et,jl,Oc,t,Ut,La,kr,ta,d,"Throttled",-0,0),c);break e}dm(l,r,Et,jl,Oc,t,Ut,La,kr,ta,d,null,-0,0)}}break}while(!0);on(e)}function dm(e,t,r,l,c,d,y,_,A,M,I,Q,z,$){if(e.timeoutHandle=-1,Q=t.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},rm(t,d,Q);var se=(d&62914560)===d?Tl-ht():(d&4194048)===d?om-ht():0;if(se=z_(Q,se),se!==null){Rn=d,e.cancelPendingCommit=se(_m.bind(null,e,t,d,r,l,c,y,_,A,I,Q,null,z,$)),ia(e,d,y,!M);return}}_m(e,t,d,r,l,c,y,_,A)}function Zb(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],d=c.getSnapshot;c=c.value;try{if(!Ot(d(),c))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ia(e,t,r,l){t&=~jc,t&=~La,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var d=31-vt(c),y=1<<d;l[d]=-1,c&=~y}r!==0&&zs(e,r,t)}function Ol(){return(Ce&6)===0?(Hi(0),!1):!0}function Dc(){if(Se!==null){if(ke===0)var e=Se.return;else e=Se,_n=Oa=null,Qu(e),Er=null,Si=0,e=Se;for(;e!==null;)V0(e.alternate,e),e=e.return;Se=null}}function Ur(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,v_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Rn=0,Dc(),Le=e,Se=r=vn(e.current,null),Ae=t,ke=0,Dt=null,ta=!1,Rr=_a(e,t),Nc=!1,kr=Ut=jc=La=na=Pe=0,Et=$i=null,Oc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-vt(l),d=1<<c;t|=e[c],l&=~d}return Cn=t,Js(),r}function hm(e,t){be=null,C.H=Ri,t===Sr||t===rl?(t=Oh(),ke=3):t===Bu?(t=Oh(),ke=4):ke=t===fc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Dt=t,Se===null&&(Pe=1,vl(e,Ht(t,e.current)))}function mm(){var e=Rt.current;return e===null?!0:(Ae&4194048)===Ae?Yt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===Yt:!1}function gm(){var e=C.H;return C.H=Ri,e===null?Ri:e}function pm(){var e=C.A;return C.A=Jb,e}function Cl(){Pe=4,ta||(Ae&4194048)!==Ae&&Rt.current!==null||(Rr=!0),(na&134217727)===0&&(La&134217727)===0||Le===null||ia(Le,Ae,Ut,!1)}function Uc(e,t,r){var l=Ce;Ce|=2;var c=gm(),d=pm();(Le!==e||Ae!==t)&&(jl=null,Ur(e,t)),t=!1;var y=Pe;e:do try{if(ke!==0&&Se!==null){var _=Se,A=Dt;switch(ke){case 8:Dc(),y=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var M=ke;if(ke=0,Dt=null,Mr(e,_,A,M),r&&Rr){y=0;break e}break;default:M=ke,ke=0,Dt=null,Mr(e,_,A,M)}}Wb(),y=Pe;break}catch(I){hm(e,I)}while(!0);return t&&e.shellSuspendCounter++,_n=Oa=null,Ce=l,C.H=c,C.A=d,Se===null&&(Le=null,Ae=0,Js()),y}function Wb(){for(;Se!==null;)ym(Se)}function e_(e,t){var r=Ce;Ce|=2;var l=gm(),c=pm();Le!==e||Ae!==t?(jl=null,Nl=ht()+500,Ur(e,t)):Rr=_a(e,t);e:do try{if(ke!==0&&Se!==null){t=Se;var d=Dt;t:switch(ke){case 1:ke=0,Dt=null,Mr(e,t,d,1);break;case 2:case 9:if(Nh(d)){ke=0,Dt=null,vm(t);break}t=function(){ke!==2&&ke!==9||Le!==e||(ke=7),on(e)},d.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Nh(d)?(ke=0,Dt=null,vm(t)):(ke=0,Dt=null,Mr(e,t,d,7));break;case 5:var y=null;switch(Se.tag){case 26:y=Se.memoizedState;case 5:case 27:var _=Se;if(y?ag(y):_.stateNode.complete){ke=0,Dt=null;var A=_.sibling;if(A!==null)Se=A;else{var M=_.return;M!==null?(Se=M,Rl(M)):Se=null}break t}}ke=0,Dt=null,Mr(e,t,d,5);break;case 6:ke=0,Dt=null,Mr(e,t,d,6);break;case 8:Dc(),Pe=6;break e;default:throw Error(s(462))}}t_();break}catch(I){hm(e,I)}while(!0);return _n=Oa=null,C.H=l,C.A=c,Ce=r,Se!==null?0:(Le=null,Ae=0,Js(),Pe)}function t_(){for(;Se!==null&&!Wa();)ym(Se)}function ym(e){var t=H0(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?Rl(e):Se=t}function vm(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=M0(r,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=M0(r,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:Qu(t);default:V0(r,t),t=Se=ph(t,Cn),t=H0(r,t,Cn)}e.memoizedProps=e.pendingProps,t===null?Rl(e):Se=t}function Mr(e,t,r,l){_n=Oa=null,Qu(t),Er=null,Si=0;var c=t.return;try{if(Vb(e,c,t,r,Ae)){Pe=1,vl(e,Ht(r,e.current)),Se=null;return}}catch(d){if(c!==null)throw Se=c,d;Pe=1,vl(e,Ht(r,e.current)),Se=null;return}t.flags&32768?(Ne||l===1?e=!0:Rr||(Ae&536870912)!==0?e=!1:(ta=e=!0,(l===2||l===9||l===3||l===6)&&(l=Rt.current,l!==null&&l.tag===13&&(l.flags|=16384))),bm(t,e)):Rl(t)}function Rl(e){var t=e;do{if((t.flags&32768)!==0){bm(t,ta);return}e=t.return;var r=Pb(t.alternate,t,Cn);if(r!==null){Se=r;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Pe===0&&(Pe=5)}function bm(e,t){do{var r=Kb(e.alternate,e);if(r!==null){r.flags&=32767,Se=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=r}while(e!==null);Pe=6,Se=null}function _m(e,t,r,l,c,d,y,_,A){e.cancelPendingCommit=null;do kl();while(at!==0);if((Ce&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=wu,Zo(e,r,d,y,_,A),e===Le&&(Se=Le=null,Ae=0),Dr=t,ra=e,Rn=r,Cc=d,Rc=c,um=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,i_(Hn,function(){return Am(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=C.T,C.T=null,c=B.p,B.p=2,y=Ce,Ce|=4;try{Xb(e,t,r)}finally{Ce=y,B.p=c,C.T=l}}at=1,xm(),wm(),Sm()}}function xm(){if(at===1){at=0;var e=ra,t=Dr,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=C.T,C.T=null;var l=B.p;B.p=2;var c=Ce;Ce|=4;try{tm(t,e);var d=Pc,y=lh(e.containerInfo),_=d.focusedElem,A=d.selectionRange;if(y!==_&&_&&_.ownerDocument&&sh(_.ownerDocument.documentElement,_)){if(A!==null&&yu(_)){var M=A.start,I=A.end;if(I===void 0&&(I=M),"selectionStart"in _)_.selectionStart=M,_.selectionEnd=Math.min(I,_.value.length);else{var Q=_.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var $=z.getSelection(),se=_.textContent.length,he=Math.min(A.start,se),ze=A.end===void 0?he:Math.min(A.end,se);!$.extend&&he>ze&&(y=ze,ze=he,he=y);var k=ih(_,he),N=ih(_,ze);if(k&&N&&($.rangeCount!==1||$.anchorNode!==k.node||$.anchorOffset!==k.offset||$.focusNode!==N.node||$.focusOffset!==N.offset)){var U=Q.createRange();U.setStart(k.node,k.offset),$.removeAllRanges(),he>ze?($.addRange(U),$.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),$.addRange(U))}}}}for(Q=[],$=_;$=$.parentNode;)$.nodeType===1&&Q.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Q.length;_++){var X=Q[_];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Il=!!Yc,Pc=Yc=null}finally{Ce=c,B.p=l,C.T=r}}e.current=t,at=2}}function wm(){if(at===2){at=0;var e=ra,t=Dr,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=C.T,C.T=null;var l=B.p;B.p=2;var c=Ce;Ce|=4;try{J0(e,t.alternate,t)}finally{Ce=c,B.p=l,C.T=r}}at=3}}function Sm(){if(at===4||at===3){at=0,Qo();var e=ra,t=Dr,r=Rn,l=um;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?at=5:(at=0,Dr=ra=null,Em(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(aa=null),li(r),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(ba,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=C.T,c=B.p,B.p=2,C.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var _=l[y];d(_.value,{componentStack:_.stack})}}finally{C.T=t,B.p=c}}(Rn&3)!==0&&kl(),on(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===kc?qi++:(qi=0,kc=e):qi=0,Hi(0)}}function Em(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,xi(t)))}function kl(){return xm(),wm(),Sm(),Am()}function Am(){if(at!==5)return!1;var e=ra,t=Cc;Cc=0;var r=li(Rn),l=C.T,c=B.p;try{B.p=32>r?32:r,C.T=null,r=Rc,Rc=null;var d=ra,y=Rn;if(at=0,Dr=ra=null,Rn=0,(Ce&6)!==0)throw Error(s(331));var _=Ce;if(Ce|=4,sm(d.current),am(d,d.current,y,r),Ce=_,Hi(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(ba,d)}catch{}return!0}finally{B.p=c,C.T=l,Em(e,t)}}function Tm(e,t,r){t=Ht(r,t),t=cc(e.stateNode,t,2),e=Fn(e,t,2),e!==null&&(xa(e,2),on(e))}function De(e,t,r){if(e.tag===3)Tm(e,e,r);else for(;t!==null;){if(t.tag===3){Tm(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(aa===null||!aa.has(l))){e=Ht(r,e),r=N0(2),l=Fn(t,r,2),l!==null&&(j0(r,l,t,e),xa(l,2),on(l));break}}t=t.return}}function Mc(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new Fb;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(r)||(Nc=!0,c.add(r),e=n_.bind(null,e,t,r),t.then(e,e))}function n_(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Le===e&&(Ae&r)===r&&(Pe===4||Pe===3&&(Ae&62914560)===Ae&&300>ht()-Tl?(Ce&2)===0&&Ur(e,0):jc|=r,kr===Ae&&(kr=0)),on(e)}function Nm(e,t){t===0&&(t=Ms()),e=Ta(e,t),e!==null&&(xa(e,t),on(e))}function a_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Nm(e,r)}function r_(e,t){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),Nm(e,r)}function i_(e,t){return va(e,t)}var Dl=null,zr=null,zc=!1,Ul=!1,Bc=!1,sa=0;function on(e){e!==zr&&e.next===null&&(zr===null?Dl=zr=e:zr=zr.next=e),Ul=!0,zc||(zc=!0,l_())}function Hi(e,t){if(!Bc&&Ul){Bc=!0;do for(var r=!1,l=Dl;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var y=l.suspendedLanes,_=l.pingedLanes;d=(1<<31-vt(42|e)+1)-1,d&=c&~(y&~_),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,Rm(l,d))}else d=Ae,d=nr(l,l===Le?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||_a(l,d)||(r=!0,Rm(l,d));l=l.next}while(r);Bc=!1}}function s_(){jm()}function jm(){Ul=zc=!1;var e=0;sa!==0&&y_()&&(e=sa);for(var t=ht(),r=null,l=Dl;l!==null;){var c=l.next,d=Om(l,t);d===0?(l.next=null,r===null?Dl=c:r.next=c,c===null&&(zr=r)):(r=l,(e!==0||(d&3)!==0)&&(Ul=!0)),l=c}at!==0&&at!==5||Hi(e),sa!==0&&(sa=0)}function Om(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-vt(d),_=1<<y,A=c[y];A===-1?((_&r)===0||(_&l)!==0)&&(c[y]=Us(_,t)):A<=t&&(e.expiredLanes|=_),d&=~_}if(t=Le,r=Ae,r=nr(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ri(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||_a(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(l!==null&&ri(l),li(r)){case 2:case 8:r=ii;break;case 32:r=Hn;break;case 268435456:r=Cs;break;default:r=Hn}return l=Cm.bind(null,e),r=va(r,l),e.callbackPriority=t,e.callbackNode=r,t}return l!==null&&l!==null&&ri(l),e.callbackPriority=2,e.callbackNode=null,2}function Cm(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(kl()&&e.callbackNode!==r)return null;var l=Ae;return l=nr(e,e===Le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(fm(e,l,t),Om(e,ht()),e.callbackNode!=null&&e.callbackNode===r?Cm.bind(null,e):null)}function Rm(e,t){if(kl())return null;fm(e,t,!0)}function l_(){b_(function(){(Ce&6)!==0?va(js,s_):jm()})}function Lc(){if(sa===0){var e=xr;e===0&&(e=er,er<<=1,(er&261888)===0&&(er=256)),sa=e}return sa}function km(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gs(""+e)}function Dm(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function o_(e,t,r,l,c){if(t==="submit"&&r&&r.stateNode===c){var d=km((c[ve]||null).action),y=l.submitter;y&&(t=(t=y[ve]||null)?km(t.formAction):y.getAttribute("formAction"),t!==null&&(d=t,y=null));var _=new Ps("action","action",null,l,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var A=y?Dm(c,y):new FormData(c);rc(r,{pending:!0,data:A,method:c.method,action:d},null,A)}}else typeof d=="function"&&(_.preventDefault(),A=y?Dm(c,y):new FormData(c),rc(r,{pending:!0,data:A,method:c.method,action:d},d,A))},currentTarget:c}]})}}for(var $c=0;$c<xu.length;$c++){var qc=xu[$c],u_=qc.toLowerCase(),c_=qc[0].toUpperCase()+qc.slice(1);Xt(u_,"on"+c_)}Xt(ch,"onAnimationEnd"),Xt(fh,"onAnimationIteration"),Xt(dh,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(Tb,"onTransitionRun"),Xt(Nb,"onTransitionStart"),Xt(jb,"onTransitionCancel"),Xt(hh,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gi));function Um(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],c=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var y=l.length-1;0<=y;y--){var _=l[y],A=_.instance,M=_.currentTarget;if(_=_.listener,A!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=M;try{d(c)}catch(I){Qs(I)}c.currentTarget=null,d=A}else for(y=0;y<l.length;y++){if(_=l[y],A=_.instance,M=_.currentTarget,_=_.listener,A!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=M;try{d(c)}catch(I){Qs(I)}c.currentTarget=null,d=A}}}}function Ee(e,t){var r=t[Vn];r===void 0&&(r=t[Vn]=new Set);var l=e+"__bubble";r.has(l)||(Mm(t,e,2,!1),r.add(l))}function Hc(e,t,r){var l=0;t&&(l|=4),Mm(r,e,l,t)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function Gc(e){if(!e[Ml]){e[Ml]=!0,jd.forEach(function(r){r!=="selectionchange"&&(f_.has(r)||Hc(r,!1,e),Hc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ml]||(t[Ml]=!0,Hc("selectionchange",!1,t))}}function Mm(e,t,r,l){switch(cg(t)){case 2:var c=$_;break;case 8:c=q_;break;default:c=af}r=c.bind(null,t,r,e),c=void 0,!ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function Vc(e,t,r,l,c){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var _=l.stateNode.containerInfo;if(_===c)break;if(y===4)for(y=l.return;y!==null;){var A=y.tag;if((A===3||A===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;_!==null;){if(y=rr(_),y===null)return;if(A=y.tag,A===5||A===6||A===26||A===27){l=d=y;continue e}_=_.parentNode}}l=l.return}qd(function(){var M=d,I=su(r),Q=[];e:{var z=mh.get(e);if(z!==void 0){var $=Ps,se=e;switch(e){case"keypress":if(Is(r)===0)break e;case"keydown":case"keyup":$=rb;break;case"focusin":se="focus",$=du;break;case"focusout":se="blur",$=du;break;case"beforeblur":case"afterblur":$=du;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=lb;break;case ch:case fh:case dh:$=Qv;break;case hh:$=ub;break;case"scroll":case"scrollend":$=Iv;break;case"wheel":$=fb;break;case"copy":case"cut":case"paste":$=Fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Yd;break;case"toggle":case"beforetoggle":$=hb}var he=(t&4)!==0,ze=!he&&(e==="scroll"||e==="scrollend"),k=he?z!==null?z+"Capture":null:z;he=[];for(var N=M,U;N!==null;){var X=N;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||k===null||(X=ci(N,k),X!=null&&he.push(Vi(N,X,U))),ze)break;N=N.return}0<he.length&&(z=new $(z,se,null,r,I),Q.push({event:z,listeners:he}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",z&&r!==iu&&(se=r.relatedTarget||r.fromElement)&&(rr(se)||se[mt]))break e;if(($||z)&&(z=I.window===I?I:(z=I.ownerDocument)?z.defaultView||z.parentWindow:window,$?(se=r.relatedTarget||r.toElement,$=M,se=se?rr(se):null,se!==null&&(ze=u(se),he=se.tag,se!==ze||he!==5&&he!==27&&he!==6)&&(se=null)):($=null,se=M),$!==se)){if(he=Vd,X="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(he=Yd,X="onPointerLeave",k="onPointerEnter",N="pointer"),ze=$==null?z:ui($),U=se==null?z:ui(se),z=new he(X,N+"leave",$,r,I),z.target=ze,z.relatedTarget=U,X=null,rr(I)===M&&(he=new he(k,N+"enter",se,r,I),he.target=U,he.relatedTarget=ze,X=he),ze=X,$&&se)t:{for(he=d_,k=$,N=se,U=0,X=k;X;X=he(X))U++;X=0;for(var fe=N;fe;fe=he(fe))X++;for(;0<U-X;)k=he(k),U--;for(;0<X-U;)N=he(N),X--;for(;U--;){if(k===N||N!==null&&k===N.alternate){he=k;break t}k=he(k),N=he(N)}he=null}else he=null;$!==null&&zm(Q,z,$,he,!1),se!==null&&ze!==null&&zm(Q,ze,se,he,!0)}}e:{if(z=M?ui(M):window,$=z.nodeName&&z.nodeName.toLowerCase(),$==="select"||$==="input"&&z.type==="file")var je=Wd;else if(Fd(z))if(eh)je=Sb;else{je=xb;var ue=_b}else $=z.nodeName,!$||$.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?M&&ru(M.elementType)&&(je=Wd):je=wb;if(je&&(je=je(e,M))){Zd(Q,je,r,I);break e}ue&&ue(e,z,M),e==="focusout"&&M&&z.type==="number"&&M.memoizedProps.value!=null&&au(z,"number",z.value)}switch(ue=M?ui(M):window,e){case"focusin":(Fd(ue)||ue.contentEditable==="true")&&(hr=ue,vu=M,vi=null);break;case"focusout":vi=vu=hr=null;break;case"mousedown":bu=!0;break;case"contextmenu":case"mouseup":case"dragend":bu=!1,oh(Q,r,I);break;case"selectionchange":if(Ab)break;case"keydown":case"keyup":oh(Q,r,I)}var _e;if(mu)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else dr?Qd(e,r)&&(Te="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Te="onCompositionStart");Te&&(Pd&&r.locale!=="ko"&&(dr||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&dr&&(_e=Hd()):(In=I,uu="value"in In?In.value:In.textContent,dr=!0)),ue=zl(M,Te),0<ue.length&&(Te=new Id(Te,e,null,r,I),Q.push({event:Te,listeners:ue}),_e?Te.data=_e:(_e=Jd(r),_e!==null&&(Te.data=_e)))),(_e=gb?pb(e,r):yb(e,r))&&(Te=zl(M,"onBeforeInput"),0<Te.length&&(ue=new Id("onBeforeInput","beforeinput",null,r,I),Q.push({event:ue,listeners:Te}),ue.data=_e)),o_(Q,e,M,r,I)}Um(Q,t)})}function Vi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zl(e,t){for(var r=t+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=ci(e,r),c!=null&&l.unshift(Vi(e,c,d)),c=ci(e,t),c!=null&&l.push(Vi(e,c,d))),e.tag===3)return l;e=e.return}return[]}function d_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zm(e,t,r,l,c){for(var d=t._reactName,y=[];r!==null&&r!==l;){var _=r,A=_.alternate,M=_.stateNode;if(_=_.tag,A!==null&&A===l)break;_!==5&&_!==26&&_!==27||M===null||(A=M,c?(M=ci(r,d),M!=null&&y.unshift(Vi(r,M,A))):c||(M=ci(r,d),M!=null&&y.push(Vi(r,M,A)))),r=r.return}y.length!==0&&e.push({event:t,listeners:y})}var h_=/\r\n?/g,m_=/\u0000|\uFFFD/g;function Bm(e){return(typeof e=="string"?e:""+e).replace(h_,`
`).replace(m_,"")}function Lm(e,t){return t=Bm(t),Bm(e)===t}function Me(e,t,r,l,c,d){switch(r){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ur(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ur(e,""+l);break;case"className":qs(e,"class",l);break;case"tabIndex":qs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qs(e,r,l);break;case"style":Ld(e,l,d);break;case"data":if(t!=="object"){qs(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Gs(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(t!=="input"&&Me(e,t,"name",c.name,c,null),Me(e,t,"formEncType",c.formEncType,c,null),Me(e,t,"formMethod",c.formMethod,c,null),Me(e,t,"formTarget",c.formTarget,c,null)):(Me(e,t,"encType",c.encType,c,null),Me(e,t,"method",c.method,c,null),Me(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Gs(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=pn);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Gs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),$s(e,"popover",l);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$s(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Gv.get(r)||r,$s(e,r,l))}}function Ic(e,t,r,l,c,d){switch(r){case"style":Ld(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?ur(e,l):(typeof l=="number"||typeof l=="bigint")&&ur(e,""+l);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"onClick":l!=null&&(e.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Od.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),t=r.slice(2,c?r.length-7:void 0),d=e[ve]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,l,c);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):$s(e,r,l)}}}function ct(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var l=!1,c=!1,d;for(d in r)if(r.hasOwnProperty(d)){var y=r[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Me(e,t,d,y,r,null)}}c&&Me(e,t,"srcSet",r.srcSet,r,null),l&&Me(e,t,"src",r.src,r,null);return;case"input":Ee("invalid",e);var _=d=y=c=null,A=null,M=null;for(l in r)if(r.hasOwnProperty(l)){var I=r[l];if(I!=null)switch(l){case"name":c=I;break;case"type":y=I;break;case"checked":A=I;break;case"defaultChecked":M=I;break;case"value":d=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,t));break;default:Me(e,t,l,I,r,null)}}Ud(e,d,_,A,M,y,c,!1);return;case"select":Ee("invalid",e),l=y=d=null;for(c in r)if(r.hasOwnProperty(c)&&(_=r[c],_!=null))switch(c){case"value":d=_;break;case"defaultValue":y=_;break;case"multiple":l=_;default:Me(e,t,c,_,r,null)}t=d,r=y,e.multiple=!!l,t!=null?or(e,!!l,t,!1):r!=null&&or(e,!!l,r,!0);return;case"textarea":Ee("invalid",e),d=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(_=r[y],_!=null))switch(y){case"value":l=_;break;case"defaultValue":c=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Me(e,t,y,_,r,null)}zd(e,l,c,d);return;case"option":for(A in r)if(r.hasOwnProperty(A)&&(l=r[A],l!=null))switch(A){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Me(e,t,A,l,r,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(l=0;l<Gi.length;l++)Ee(Gi[l],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Me(e,t,M,l,r,null)}return;default:if(ru(t)){for(I in r)r.hasOwnProperty(I)&&(l=r[I],l!==void 0&&Ic(e,t,I,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&Me(e,t,_,l,r,null))}function g_(e,t,r,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,y=null,_=null,A=null,M=null,I=null;for($ in r){var Q=r[$];if(r.hasOwnProperty($)&&Q!=null)switch($){case"checked":break;case"value":break;case"defaultValue":A=Q;default:l.hasOwnProperty($)||Me(e,t,$,null,l,Q)}}for(var z in l){var $=l[z];if(Q=r[z],l.hasOwnProperty(z)&&($!=null||Q!=null))switch(z){case"type":d=$;break;case"name":c=$;break;case"checked":M=$;break;case"defaultChecked":I=$;break;case"value":y=$;break;case"defaultValue":_=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,t));break;default:$!==Q&&Me(e,t,z,$,l,Q)}}nu(e,y,_,A,M,I,d,c);return;case"select":$=y=_=z=null;for(d in r)if(A=r[d],r.hasOwnProperty(d)&&A!=null)switch(d){case"value":break;case"multiple":$=A;default:l.hasOwnProperty(d)||Me(e,t,d,null,l,A)}for(c in l)if(d=l[c],A=r[c],l.hasOwnProperty(c)&&(d!=null||A!=null))switch(c){case"value":z=d;break;case"defaultValue":_=d;break;case"multiple":y=d;default:d!==A&&Me(e,t,c,d,l,A)}t=_,r=y,l=$,z!=null?or(e,!!r,z,!1):!!l!=!!r&&(t!=null?or(e,!!r,t,!0):or(e,!!r,r?[]:"",!1));return;case"textarea":$=z=null;for(_ in r)if(c=r[_],r.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Me(e,t,_,null,l,c)}for(y in l)if(c=l[y],d=r[y],l.hasOwnProperty(y)&&(c!=null||d!=null))switch(y){case"value":z=c;break;case"defaultValue":$=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&Me(e,t,y,c,l,d)}Md(e,z,$);return;case"option":for(var se in r)if(z=r[se],r.hasOwnProperty(se)&&z!=null&&!l.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:Me(e,t,se,null,l,z)}for(A in l)if(z=l[A],$=r[A],l.hasOwnProperty(A)&&z!==$&&(z!=null||$!=null))switch(A){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Me(e,t,A,z,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in r)z=r[he],r.hasOwnProperty(he)&&z!=null&&!l.hasOwnProperty(he)&&Me(e,t,he,null,l,z);for(M in l)if(z=l[M],$=r[M],l.hasOwnProperty(M)&&z!==$&&(z!=null||$!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,t));break;default:Me(e,t,M,z,l,$)}return;default:if(ru(t)){for(var ze in r)z=r[ze],r.hasOwnProperty(ze)&&z!==void 0&&!l.hasOwnProperty(ze)&&Ic(e,t,ze,void 0,l,z);for(I in l)z=l[I],$=r[I],!l.hasOwnProperty(I)||z===$||z===void 0&&$===void 0||Ic(e,t,I,z,l,$);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&Me(e,t,k,null,l,z);for(Q in l)z=l[Q],$=r[Q],!l.hasOwnProperty(Q)||z===$||z==null&&$==null||Me(e,t,Q,z,l,$)}function $m(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var c=r[l],d=c.transferSize,y=c.initiatorType,_=c.duration;if(d&&_&&$m(y)){for(y=0,_=c.responseEnd,l+=1;l<r.length;l++){var A=r[l],M=A.startTime;if(M>_)break;var I=A.transferSize,Q=A.initiatorType;I&&$m(Q)&&(A=A.responseEnd,y+=I*(A<_?1:(_-M)/(A-M)))}if(--l,t+=8*(d+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yc=null,Pc=null;function Bl(e){return e.nodeType===9?e:e.ownerDocument}function qm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Kc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xc=null;function y_(){var e=window.event;return e&&e.type==="popstate"?e===Xc?!1:(Xc=e,!0):(Xc=null,!1)}var Gm=typeof setTimeout=="function"?setTimeout:void 0,v_=typeof clearTimeout=="function"?clearTimeout:void 0,Vm=typeof Promise=="function"?Promise:void 0,b_=typeof queueMicrotask=="function"?queueMicrotask:typeof Vm<"u"?function(e){return Vm.resolve(null).then(e).catch(__)}:Gm;function __(e){setTimeout(function(){throw e})}function la(e){return e==="head"}function Im(e,t){var r=t,l=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(c),qr(t);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Ii(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Ii(r);for(var d=r.firstChild;d;){var y=d.nextSibling,_=d.nodeName;d[oi]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=y}}else r==="body"&&Ii(e.ownerDocument.body);r=c}while(r);qr(t)}function Ym(e,t){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Qc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Qc(r),eu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function x_(e,t,r,l){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[oi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function w_(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Pt(e.nextSibling),e===null))return null;return e}function Pm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pt(e.nextSibling),e===null))return null;return e}function Jc(e){return e.data==="$?"||e.data==="$~"}function Fc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function S_(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var l=function(){t(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zc=null;function Km(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Pt(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Xm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function Qm(e,t,r){switch(t=Bl(r),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ii(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);eu(e)}var Kt=new Map,Jm=new Set;function Ll(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var kn=B.d;B.d={f:E_,r:A_,D:T_,C:N_,L:j_,m:O_,X:R_,S:C_,M:k_};function E_(){var e=kn.f(),t=Ol();return e||t}function A_(e){var t=ir(e);t!==null&&t.tag===5&&t.type==="form"?h0(t):kn.r(e)}var Br=typeof document>"u"?null:document;function Fm(e,t,r){var l=Br;if(l&&typeof t=="string"&&t){var c=$t(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Jm.has(c)||(Jm.add(c),e={rel:e,crossOrigin:r,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),ct(t,"link",e),it(t),l.head.appendChild(t)))}}function T_(e){kn.D(e),Fm("dns-prefetch",e,null)}function N_(e,t){kn.C(e,t),Fm("preconnect",e,t)}function j_(e,t,r){kn.L(e,t,r);var l=Br;if(l&&e&&t){var c='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+$t(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+$t(r.imageSizes)+'"]')):c+='[href="'+$t(e)+'"]';var d=c;switch(t){case"style":d=Lr(e);break;case"script":d=$r(e)}Kt.has(d)||(e=b({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Kt.set(d,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Yi(d))||t==="script"&&l.querySelector(Pi(d))||(t=l.createElement("link"),ct(t,"link",e),it(t),l.head.appendChild(t)))}}function O_(e,t){kn.m(e,t);var r=Br;if(r&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+$t(l)+'"][href="'+$t(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$r(e)}if(!Kt.has(d)&&(e=b({rel:"modulepreload",href:e},t),Kt.set(d,e),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Pi(d)))return}l=r.createElement("link"),ct(l,"link",e),it(l),r.head.appendChild(l)}}}function C_(e,t,r){kn.S(e,t,r);var l=Br;if(l&&e){var c=sr(l).hoistableStyles,d=Lr(e);t=t||"default";var y=c.get(d);if(!y){var _={loading:0,preload:null};if(y=l.querySelector(Yi(d)))_.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Kt.get(d))&&Wc(e,r);var A=y=l.createElement("link");it(A),ct(A,"link",e),A._p=new Promise(function(M,I){A.onload=M,A.onerror=I}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,$l(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:_},c.set(d,y)}}}function R_(e,t){kn.X(e,t);var r=Br;if(r&&e){var l=sr(r).hoistableScripts,c=$r(e),d=l.get(c);d||(d=r.querySelector(Pi(c)),d||(e=b({src:e,async:!0},t),(t=Kt.get(c))&&ef(e,t),d=r.createElement("script"),it(d),ct(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function k_(e,t){kn.M(e,t);var r=Br;if(r&&e){var l=sr(r).hoistableScripts,c=$r(e),d=l.get(c);d||(d=r.querySelector(Pi(c)),d||(e=b({src:e,async:!0,type:"module"},t),(t=Kt.get(c))&&ef(e,t),d=r.createElement("script"),it(d),ct(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function Zm(e,t,r,l){var c=(c=pe.current)?Ll(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Lr(r.href),r=sr(c).hoistableStyles,l=r.get(t),l||(l={type:"style",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Lr(r.href);var d=sr(c).hoistableStyles,y=d.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=c.querySelector(Yi(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Kt.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kt.set(e,r),d||D_(c,e,r,y.state))),t&&l===null)throw Error(s(528,""));return y}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$r(r),r=sr(c).hoistableScripts,l=r.get(t),l||(l={type:"script",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Lr(e){return'href="'+$t(e)+'"'}function Yi(e){return'link[rel="stylesheet"]['+e+"]"}function Wm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function D_(e,t,r,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ct(t,"link",r),it(t),e.head.appendChild(t))}function $r(e){return'[src="'+$t(e)+'"]'}function Pi(e){return"script[async]"+e}function eg(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+$t(r.href)+'"]');if(l)return t.instance=l,it(l),l;var c=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),it(l),ct(l,"style",c),$l(l,r.precedence,e),t.instance=l;case"stylesheet":c=Lr(r.href);var d=e.querySelector(Yi(c));if(d)return t.state.loading|=4,t.instance=d,it(d),d;l=Wm(r),(c=Kt.get(c))&&Wc(l,c),d=(e.ownerDocument||e).createElement("link"),it(d);var y=d;return y._p=new Promise(function(_,A){y.onload=_,y.onerror=A}),ct(d,"link",l),t.state.loading|=4,$l(d,r.precedence,e),t.instance=d;case"script":return d=$r(r.src),(c=e.querySelector(Pi(d)))?(t.instance=c,it(c),c):(l=r,(c=Kt.get(d))&&(l=b({},r),ef(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),it(c),ct(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,$l(l,r.precedence,e));return t.instance}function $l(e,t,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,y=0;y<l.length;y++){var _=l[y];if(_.dataset.precedence===t)d=_;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function Wc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ef(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ql=null;function tg(e,t,r){if(ql===null){var l=new Map,c=ql=new Map;c.set(r,l)}else c=ql,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var d=r[c];if(!(d[oi]||d[ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(t)||"";y=e+y;var _=l.get(y);_?_.push(d):l.set(y,[d])}}return l}function ng(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function U_(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ag(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function M_(e,t,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Lr(l.href),d=t.querySelector(Yi(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Hl.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=d,it(d);return}d=t.ownerDocument||t,l=Wm(l),(c=Kt.get(c))&&Wc(l,c),d=d.createElement("link"),it(d);var y=d;y._p=new Promise(function(_,A){y.onload=_,y.onerror=A}),ct(d,"link",l),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Hl.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var tf=0;function z_(e,t){return e.stylesheets&&e.count===0&&Vl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Vl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&tf===0&&(tf=62500*p_());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>tf?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Hl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gl=null;function Vl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gl=new Map,t.forEach(B_,e),Gl=null,Hl.call(e))}function B_(e,t){if(!(t.state.loading&4)){var r=Gl.get(e);if(r)var l=r.get(null);else{r=new Map,Gl.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var y=c[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=t.instance,y=c.getAttribute("data-precedence"),d=r.get(y)||l,d===l&&r.set(null,c),r.set(y,c),this.count++,l=Hl.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Ki={$$typeof:j,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function L_(e,t,r,l,c,d,y,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function rg(e,t,r,l,c,d,y,_,A,M,I,Q){return e=new L_(e,t,r,y,A,M,I,Q,_),t=1,d===!0&&(t|=24),d=Ct(3,null,null,t),e.current=d,d.stateNode=e,t=Uu(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:t},Lu(d),e}function ig(e){return e?(e=pr,e):pr}function sg(e,t,r,l,c,d){c=ig(c),l.context===null?l.context=c:l.pendingContext=c,l=Jn(t),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Fn(e,l,t),r!==null&&(At(r,e,t),Ai(r,e,t))}function lg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function nf(e,t){lg(e,t),(e=e.alternate)&&lg(e,t)}function og(e){if(e.tag===13||e.tag===31){var t=Ta(e,67108864);t!==null&&At(t,e,67108864),nf(e,67108864)}}function ug(e){if(e.tag===13||e.tag===31){var t=Mt();t=si(t);var r=Ta(e,t);r!==null&&At(r,e,t),nf(e,t)}}var Il=!0;function $_(e,t,r,l){var c=C.T;C.T=null;var d=B.p;try{B.p=2,af(e,t,r,l)}finally{B.p=d,C.T=c}}function q_(e,t,r,l){var c=C.T;C.T=null;var d=B.p;try{B.p=8,af(e,t,r,l)}finally{B.p=d,C.T=c}}function af(e,t,r,l){if(Il){var c=rf(l);if(c===null)Vc(e,t,l,Yl,r),fg(e,l);else if(G_(c,e,t,r,l))l.stopPropagation();else if(fg(e,l),t&4&&-1<H_.indexOf(e)){for(;c!==null;){var d=ir(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=mn(d.pendingLanes);if(y!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;y;){var A=1<<31-vt(y);_.entanglements[1]|=A,y&=~A}on(d),(Ce&6)===0&&(Nl=ht()+500,Hi(0))}}break;case 31:case 13:_=Ta(d,2),_!==null&&At(_,d,2),Ol(),nf(d,2)}if(d=rf(l),d===null&&Vc(e,t,l,Yl,r),d===c)break;c=d}c!==null&&l.stopPropagation()}else Vc(e,t,l,null,r)}}function rf(e){return e=su(e),sf(e)}var Yl=null;function sf(e){if(Yl=null,e=rr(e),e!==null){var t=u(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=f(t),e!==null)return e;e=null}else if(r===31){if(e=h(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yl=e,null}function cg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ns()){case js:return 2;case ii:return 8;case Hn:case Os:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var lf=!1,oa=null,ua=null,ca=null,Xi=new Map,Qi=new Map,fa=[],H_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fg(e,t){switch(e){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(t.pointerId)}}function Ji(e,t,r,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},t!==null&&(t=ir(t),t!==null&&og(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function G_(e,t,r,l,c){switch(t){case"focusin":return oa=Ji(oa,e,t,r,l,c),!0;case"dragenter":return ua=Ji(ua,e,t,r,l,c),!0;case"mouseover":return ca=Ji(ca,e,t,r,l,c),!0;case"pointerover":var d=c.pointerId;return Xi.set(d,Ji(Xi.get(d)||null,e,t,r,l,c)),!0;case"gotpointercapture":return d=c.pointerId,Qi.set(d,Ji(Qi.get(d)||null,e,t,r,l,c)),!0}return!1}function dg(e){var t=rr(e.target);if(t!==null){var r=u(t);if(r!==null){if(t=r.tag,t===13){if(t=f(r),t!==null){e.blockedOn=t,P(e.priority,function(){ug(r)});return}}else if(t===31){if(t=h(r),t!==null){e.blockedOn=t,P(e.priority,function(){ug(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rf(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);iu=l,r.target.dispatchEvent(l),iu=null}else return t=ir(r),t!==null&&og(t),e.blockedOn=r,!1;t.shift()}return!0}function hg(e,t,r){Pl(e)&&r.delete(t)}function V_(){lf=!1,oa!==null&&Pl(oa)&&(oa=null),ua!==null&&Pl(ua)&&(ua=null),ca!==null&&Pl(ca)&&(ca=null),Xi.forEach(hg),Qi.forEach(hg)}function Kl(e,t){e.blockedOn===t&&(e.blockedOn=null,lf||(lf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,V_)))}var Xl=null;function mg(e){Xl!==e&&(Xl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Xl===e&&(Xl=null);for(var t=0;t<e.length;t+=3){var r=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(sf(l||r)===null)continue;break}var d=ir(r);d!==null&&(e.splice(t,3),t-=3,rc(d,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function qr(e){function t(A){return Kl(A,e)}oa!==null&&Kl(oa,e),ua!==null&&Kl(ua,e),ca!==null&&Kl(ca,e),Xi.forEach(t),Qi.forEach(t);for(var r=0;r<fa.length;r++){var l=fa[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<fa.length&&(r=fa[0],r.blockedOn===null);)dg(r),r.blockedOn===null&&fa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],d=r[l+1],y=c[ve]||null;if(typeof d=="function")y||mg(r);else if(y){var _=null;if(d&&d.hasAttribute("formAction")){if(c=d,y=d[ve]||null)_=y.formAction;else if(sf(c)!==null)continue}else _=y.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),mg(r)}}}function gg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function of(e){this._internalRoot=e}Ql.prototype.render=of.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var r=t.current,l=Mt();sg(r,l,e,t,null,null)},Ql.prototype.unmount=of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sg(e.current,2,null,e,null,null),Ol(),t[mt]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=R();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fa.length&&t!==0&&t<fa[r].priority;r++);fa.splice(r,0,e),r===0&&dg(e)}};var pg=n.version;if(pg!=="19.2.1")throw Error(s(527,pg,"19.2.1"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var I_={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{ba=Jl.inject(I_),yt=Jl}catch{}}return Zi.createRoot=function(e,t){if(!o(e))throw Error(s(299));var r=!1,l="",c=S0,d=E0,y=A0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=rg(e,1,!1,null,null,r,l,null,c,d,y,gg),e[mt]=t.current,Gc(e),new of(t)},Zi.hydrateRoot=function(e,t,r){if(!o(e))throw Error(s(299));var l=!1,c="",d=S0,y=E0,_=A0,A=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.formState!==void 0&&(A=r.formState)),t=rg(e,1,!0,t,r??null,l,c,A,d,y,_,gg),t.context=ig(null),r=t.current,l=Mt(),l=si(l),c=Jn(l),c.callback=null,Fn(r,c,l),r=l,t.current.lanes=r,xa(t,r),on(t),e[mt]=t.current,Gc(e),new Ql(t)},Zi.version="19.2.1",Zi}var Tg;function tx(){if(Tg)return ff.exports;Tg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),ff.exports=ex(),ff.exports}var nx=tx(),Dn={},Fl={},Cf=function(a,n){return Cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},Cf(a,n)};function zp(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Cf(a,n);function i(){this.constructor=a}a.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var So=function(){return So=Object.assign||function(n){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},So.apply(this,arguments)};function ni(a,n){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&n.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i}function Bp(a,n,i,s){var o=arguments.length,u=o<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,n,i,s);else for(var h=a.length-1;h>=0;h--)(f=a[h])&&(u=(o<3?f(u):o>3?f(n,i,u):f(n,i))||u);return o>3&&u&&Object.defineProperty(n,i,u),u}function Lp(a,n){return function(i,s){n(i,s,a)}}function $p(a,n,i,s,o,u){function f(L){if(L!==void 0&&typeof L!="function")throw new TypeError("Function expected");return L}for(var h=s.kind,m=h==="getter"?"get":h==="setter"?"set":"value",g=!n&&a?s.static?a:a.prototype:null,v=n||(g?Object.getOwnPropertyDescriptor(g,s.name):{}),b,x=!1,w=i.length-1;w>=0;w--){var S={};for(var E in s)S[E]=E==="access"?{}:s[E];for(var E in s.access)S.access[E]=s.access[E];S.addInitializer=function(L){if(x)throw new TypeError("Cannot add initializers after decoration has completed");u.push(f(L||null))};var O=(0,i[w])(h==="accessor"?{get:v.get,set:v.set}:v[m],S);if(h==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(b=f(O.get))&&(v.get=b),(b=f(O.set))&&(v.set=b),(b=f(O.init))&&o.unshift(b)}else(b=f(O))&&(h==="field"?o.unshift(b):v[m]=b)}g&&Object.defineProperty(g,s.name,v),x=!0}function qp(a,n,i){for(var s=arguments.length>2,o=0;o<n.length;o++)i=s?n[o].call(a,i):n[o].call(a);return s?i:void 0}function Hp(a){return typeof a=="symbol"?a:"".concat(a)}function Gp(a,n,i){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:i?"".concat(i," ",n):n})}function Vp(a,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,n)}function ie(a,n,i,s){function o(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function h(v){try{g(s.next(v))}catch(b){f(b)}}function m(v){try{g(s.throw(v))}catch(b){f(b)}}function g(v){v.done?u(v.value):o(v.value).then(h,m)}g((s=s.apply(a,n||[])).next())})}function Ip(a,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=h(0),f.throw=h(1),f.return=h(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(g){return function(v){return m([g,v])}}function m(g){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,g[0]&&(i=0)),i;)try{if(s=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,o=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){i.label=g[1];break}if(g[0]===6&&i.label<u[1]){i.label=u[1],u=g;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(g);break}u[2]&&i.ops.pop(),i.trys.pop();continue}g=n.call(a,i)}catch(v){g=[6,v],o=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Ho=Object.create?(function(a,n,i,s){s===void 0&&(s=i);var o=Object.getOwnPropertyDescriptor(n,i);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(a,s,o)}):(function(a,n,i,s){s===void 0&&(s=i),a[s]=n[i]});function Yp(a,n){for(var i in a)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&Ho(n,a,i)}function Eo(a){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&a[n],s=0;if(i)return i.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&s>=a.length&&(a=void 0),{value:a&&a[s++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ud(a,n){var i=typeof Symbol=="function"&&a[Symbol.iterator];if(!i)return a;var s=i.call(a),o,u=[],f;try{for(;(n===void 0||n-- >0)&&!(o=s.next()).done;)u.push(o.value)}catch(h){f={error:h}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(f)throw f.error}}return u}function Pp(){for(var a=[],n=0;n<arguments.length;n++)a=a.concat(ud(arguments[n]));return a}function Kp(){for(var a=0,n=0,i=arguments.length;n<i;n++)a+=arguments[n].length;for(var s=Array(a),o=0,n=0;n<i;n++)for(var u=arguments[n],f=0,h=u.length;f<h;f++,o++)s[o]=u[f];return s}function Xp(a,n,i){if(i||arguments.length===2)for(var s=0,o=n.length,u;s<o;s++)(u||!(s in n))&&(u||(u=Array.prototype.slice.call(n,0,s)),u[s]=n[s]);return a.concat(u||Array.prototype.slice.call(n))}function Fr(a){return this instanceof Fr?(this.v=a,this):new Fr(a)}function Qp(a,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(a,n||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),o[Symbol.asyncIterator]=function(){return this},o;function f(w){return function(S){return Promise.resolve(S).then(w,b)}}function h(w,S){s[w]&&(o[w]=function(E){return new Promise(function(O,L){u.push([w,E,O,L])>1||m(w,E)})},S&&(o[w]=S(o[w])))}function m(w,S){try{g(s[w](S))}catch(E){x(u[0][3],E)}}function g(w){w.value instanceof Fr?Promise.resolve(w.value.v).then(v,b):x(u[0][2],w)}function v(w){m("next",w)}function b(w){m("throw",w)}function x(w,S){w(S),u.shift(),u.length&&m(u[0][0],u[0][1])}}function Jp(a){var n,i;return n={},s("next"),s("throw",function(o){throw o}),s("return"),n[Symbol.iterator]=function(){return this},n;function s(o,u){n[o]=a[o]?function(f){return(i=!i)?{value:Fr(a[o](f)),done:!1}:u?u(f):f}:u}}function Fp(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=a[Symbol.asyncIterator],i;return n?n.call(a):(a=typeof Eo=="function"?Eo(a):a[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=a[u]&&function(f){return new Promise(function(h,m){f=a[u](f),o(h,m,f.done,f.value)})}}function o(u,f,h,m){Promise.resolve(m).then(function(g){u({value:g,done:h})},f)}}function Zp(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a}var ax=Object.create?(function(a,n){Object.defineProperty(a,"default",{enumerable:!0,value:n})}):function(a,n){a.default=n},Rf=function(a){return Rf=Object.getOwnPropertyNames||function(n){var i=[];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[i.length]=s);return i},Rf(a)};function Wp(a){if(a&&a.__esModule)return a;var n={};if(a!=null)for(var i=Rf(a),s=0;s<i.length;s++)i[s]!=="default"&&Ho(n,a,i[s]);return ax(n,a),n}function ey(a){return a&&a.__esModule?a:{default:a}}function ty(a,n,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?a!==n||!s:!n.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(a):s?s.value:n.get(a)}function ny(a,n,i,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?a!==n||!o:!n.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(a,i):o?o.value=i:n.set(a,i),i}function ay(a,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?n===a:a.has(n)}function ry(a,n,i){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var s,o;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=n[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=n[Symbol.dispose],i&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(u){return Promise.reject(u)}}),a.stack.push({value:n,dispose:s,async:i})}else i&&a.stack.push({async:!0});return n}var rx=typeof SuppressedError=="function"?SuppressedError:function(a,n,i){var s=new Error(i);return s.name="SuppressedError",s.error=a,s.suppressed=n,s};function iy(a){function n(u){a.error=a.hasError?new rx(u,a.error,"An error was suppressed during disposal."):u,a.hasError=!0}var i,s=0;function o(){for(;i=a.stack.pop();)try{if(!i.async&&s===1)return s=0,a.stack.push(i),Promise.resolve().then(o);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return s|=2,Promise.resolve(u).then(o,function(f){return n(f),o()})}else s|=1}catch(f){n(f)}if(s===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return o()}function sy(a,n){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,s,o,u,f){return s?n?".jsx":".js":o&&(!u||!f)?i:o+u+"."+f.toLowerCase()+"js"}):a}const ix={__extends:zp,__assign:So,__rest:ni,__decorate:Bp,__param:Lp,__esDecorate:$p,__runInitializers:qp,__propKey:Hp,__setFunctionName:Gp,__metadata:Vp,__awaiter:ie,__generator:Ip,__createBinding:Ho,__exportStar:Yp,__values:Eo,__read:ud,__spread:Pp,__spreadArrays:Kp,__spreadArray:Xp,__await:Fr,__asyncGenerator:Qp,__asyncDelegator:Jp,__asyncValues:Fp,__makeTemplateObject:Zp,__importStar:Wp,__importDefault:ey,__classPrivateFieldGet:ty,__classPrivateFieldSet:ny,__classPrivateFieldIn:ay,__addDisposableResource:ry,__disposeResources:iy,__rewriteRelativeImportExtension:sy},sx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ry,get __assign(){return So},__asyncDelegator:Jp,__asyncGenerator:Qp,__asyncValues:Fp,__await:Fr,__awaiter:ie,__classPrivateFieldGet:ty,__classPrivateFieldIn:ay,__classPrivateFieldSet:ny,__createBinding:Ho,__decorate:Bp,__disposeResources:iy,__esDecorate:$p,__exportStar:Yp,__extends:zp,__generator:Ip,__importDefault:ey,__importStar:Wp,__makeTemplateObject:Zp,__metadata:Vp,__param:Lp,__propKey:Hp,__read:ud,__rest:ni,__rewriteRelativeImportExtension:sy,__runInitializers:qp,__setFunctionName:Gp,__spread:Pp,__spreadArray:Xp,__spreadArrays:Kp,__values:Eo,default:ix},Symbol.toStringTag,{value:"Module"})),lx=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);let Go=class extends Error{constructor(n,i="FunctionsError",s){super(n),this.name=i,this.context=s}},ly=class extends Go{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},kf=class extends Go{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Df=class extends Go{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}};var Ao;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Ao||(Ao={}));class ox{constructor(n,{headers:i={},customFetch:s,region:o=Ao.Any}={}){this.url=n,this.headers=i,this.region=o,this.fetch=lx(s)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ie(this,arguments,void 0,function*(i,s={}){var o;let u,f;try{const{headers:h,method:m,body:g,signal:v,timeout:b}=s;let x={},{region:w}=s;w||(w=this.region);const S=new URL(`${this.url}/${i}`);w&&w!=="any"&&(x["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let E;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",E=g):typeof g=="string"?(x["Content-Type"]="text/plain",E=g):typeof FormData<"u"&&g instanceof FormData?E=g:(x["Content-Type"]="application/json",E=JSON.stringify(g)):E=g;let O=v;b&&(f=new AbortController,u=setTimeout(()=>f.abort(),b),v?(O=f.signal,v.addEventListener("abort",()=>f.abort())):O=f.signal);const L=yield this.fetch(S.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),h),body:E,signal:O}).catch(D=>{throw new ly(D)}),G=L.headers.get("x-relay-error");if(G&&G==="true")throw new kf(L);if(!L.ok)throw new Df(L);let j=((o=L.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),H;return j==="application/json"?H=yield L.json():j==="application/octet-stream"||j==="application/pdf"?H=yield L.blob():j==="text/event-stream"?H=L:j==="multipart/form-data"?H=yield L.formData():H=yield L.text(),{data:H,error:null,response:L}}catch(h){return{data:null,error:h,response:h instanceof Df||h instanceof kf?h.context:void 0}}finally{u&&clearTimeout(u)}})}}const ux=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Ao},FunctionsClient:ox,FunctionsError:Go,FunctionsFetchError:ly,FunctionsHttpError:Df,FunctionsRelayError:kf},Symbol.toStringTag,{value:"Module"})),oy=ws(ux);var pt={};const ai=ws(sx);var Zl={},Wl={},eo={},to={},no={},ao={},Ng;function uy(){if(Ng)return ao;Ng=1,Object.defineProperty(ao,"__esModule",{value:!0});class a extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return ao.default=a,ao}var jg;function cy(){if(jg)return no;jg=1,Object.defineProperty(no,"__esModule",{value:!0});const n=ai.__importDefault(uy());let i=class{constructor(o){var u,f;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(f=o.isMaybeSingle)!==null&&f!==void 0?f:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let h=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,v,b,x;let w=null,S=null,E=null,O=m.status,L=m.statusText;if(m.ok){if(this.method!=="HEAD"){const D=await m.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?S=D:S=JSON.parse(D))}const j=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),H=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");j&&H&&H.length>1&&(E=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,E=null,O=406,L="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const j=await m.text();try{w=JSON.parse(j),Array.isArray(w)&&m.status===404&&(S=[],w=null,O=200,L="OK")}catch{m.status===404&&j===""?(O=204,L="No Content"):w={message:j}}if(w&&this.isMaybeSingle&&(!((x=w?.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,O=200,L="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:S,count:E,status:O,statusText:L}});return this.shouldThrowOnError||(h=h.catch(m=>{var g,v,b,x,w,S;let E="";const O=m?.cause;if(O){const L=(g=O?.message)!==null&&g!==void 0?g:"",G=(v=O?.code)!==null&&v!==void 0?v:"";E=`${(b=m?.name)!==null&&b!==void 0?b:"FetchError"}: ${m?.message}`,E+=`

Caused by: ${(x=O?.name)!==null&&x!==void 0?x:"Error"}: ${L}`,G&&(E+=` (${G})`),O?.stack&&(E+=`
${O.stack}`)}else E=(w=m?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(S=m?.name)!==null&&S!==void 0?S:"FetchError"}: ${m?.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(o,u)}returns(){return this}overrideTypes(){return this}};return no.default=i,no}var Og;function fy(){if(Og)return to;Og=1,Object.defineProperty(to,"__esModule",{value:!0});const n=ai.__importDefault(cy());let i=class extends n.default{select(o){let u=!1;const f=(o??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:f,foreignTable:h,referencedTable:m=h}={}){const g=m?`${m}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${o}.${u?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:f=u}={}){const h=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,u,{foreignTable:f,referencedTable:h=f}={}){const m=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(g,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:f=!1,buffers:h=!1,wal:m=!1,format:g="text"}={}){var v;const b=[o?"analyze":null,u?"verbose":null,f?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),x=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${x}"; options=${b};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return to.default=i,to}var Cg;function cd(){if(Cg)return eo;Cg=1,Object.defineProperty(eo,"__esModule",{value:!0});const n=ai.__importDefault(fy()),i=new RegExp("[,()]");let s=class extends n.default{eq(u,f){return this.url.searchParams.append(u,`eq.${f}`),this}neq(u,f){return this.url.searchParams.append(u,`neq.${f}`),this}gt(u,f){return this.url.searchParams.append(u,`gt.${f}`),this}gte(u,f){return this.url.searchParams.append(u,`gte.${f}`),this}lt(u,f){return this.url.searchParams.append(u,`lt.${f}`),this}lte(u,f){return this.url.searchParams.append(u,`lte.${f}`),this}like(u,f){return this.url.searchParams.append(u,`like.${f}`),this}likeAllOf(u,f){return this.url.searchParams.append(u,`like(all).{${f.join(",")}}`),this}likeAnyOf(u,f){return this.url.searchParams.append(u,`like(any).{${f.join(",")}}`),this}ilike(u,f){return this.url.searchParams.append(u,`ilike.${f}`),this}ilikeAllOf(u,f){return this.url.searchParams.append(u,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(u,f){return this.url.searchParams.append(u,`ilike(any).{${f.join(",")}}`),this}regexMatch(u,f){return this.url.searchParams.append(u,`match.${f}`),this}regexIMatch(u,f){return this.url.searchParams.append(u,`imatch.${f}`),this}is(u,f){return this.url.searchParams.append(u,`is.${f}`),this}isDistinct(u,f){return this.url.searchParams.append(u,`isdistinct.${f}`),this}in(u,f){const h=Array.from(new Set(f)).map(m=>typeof m=="string"&&i.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${h})`),this}contains(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cs.{${f.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(f)}`),this}containedBy(u,f){return typeof f=="string"?this.url.searchParams.append(u,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(u,`cd.{${f.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(f)}`),this}rangeGt(u,f){return this.url.searchParams.append(u,`sr.${f}`),this}rangeGte(u,f){return this.url.searchParams.append(u,`nxl.${f}`),this}rangeLt(u,f){return this.url.searchParams.append(u,`sl.${f}`),this}rangeLte(u,f){return this.url.searchParams.append(u,`nxr.${f}`),this}rangeAdjacent(u,f){return this.url.searchParams.append(u,`adj.${f}`),this}overlaps(u,f){return typeof f=="string"?this.url.searchParams.append(u,`ov.${f}`):this.url.searchParams.append(u,`ov.{${f.join(",")}}`),this}textSearch(u,f,{config:h,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(u,`${g}fts${v}.${f}`),this}match(u){return Object.entries(u).forEach(([f,h])=>{this.url.searchParams.append(f,`eq.${h}`)}),this}not(u,f,h){return this.url.searchParams.append(u,`not.${f}.${h}`),this}or(u,{foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,f,h){return this.url.searchParams.append(u,`${f}.${h}`),this}};return eo.default=s,eo}var Rg;function dy(){if(Rg)return Wl;Rg=1,Object.defineProperty(Wl,"__esModule",{value:!0});const n=ai.__importDefault(cd());let i=class{constructor(o,{headers:u={},schema:f,fetch:h}){this.url=o,this.headers=new Headers(u),this.schema=f,this.fetch=h}select(o,u){const{head:f=!1,count:h}=u??{},m=f?"HEAD":"GET";let g=!1;const v=(o??"*").split("").map(b=>/\s/.test(b)&&!g?"":(b==='"'&&(g=!g),b)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:f=!0}={}){var h;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(g.length>0){const v=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:f=!1,count:h,defaultToNull:m=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),h&&this.headers.append("Prefer",`count=${h}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const b=o.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(b.length>0){const x=[...new Set(b)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(o,{count:u}={}){var f;const h="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:o}={}){var u;const f="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return Wl.default=i,Wl}var kg;function cx(){if(kg)return Zl;kg=1,Object.defineProperty(Zl,"__esModule",{value:!0});const a=ai,n=a.__importDefault(dy()),i=a.__importDefault(cd());let s=class hy{constructor(u,{headers:f={},schema:h,fetch:m}={}){this.url=u,this.headers=new Headers(f),this.schemaName=h,this.fetch=m}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${u}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new hy(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,f={},{head:h=!1,get:m=!1,count:g}={}){var v;let b;const x=new URL(`${this.url}/rpc/${u}`);let w;h||m?(b=h?"HEAD":"GET",Object.entries(f).filter(([E,O])=>O!==void 0).map(([E,O])=>[E,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([E,O])=>{x.searchParams.append(E,O)})):(b="POST",w=f);const S=new Headers(this.headers);return g&&S.set("Prefer",`count=${g}`),new i.default({method:b,url:x,headers:S,schema:this.schemaName,body:w,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return Zl.default=s,Zl}var Dg;function my(){if(Dg)return pt;Dg=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const a=ai,n=a.__importDefault(cx());pt.PostgrestClient=n.default;const i=a.__importDefault(dy());pt.PostgrestQueryBuilder=i.default;const s=a.__importDefault(cd());pt.PostgrestFilterBuilder=s.default;const o=a.__importDefault(fy());pt.PostgrestTransformBuilder=o.default;const u=a.__importDefault(cy());pt.PostgrestBuilder=u.default;const f=a.__importDefault(uy());return pt.PostgrestError=f.default,pt.default={PostgrestClient:n.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:f.default},pt}class gy{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const s=i.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const s=this.getWebSocketConstructor();return new s(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const fx="2.87.1",dx=`realtime-js/${fx}`,py="1.0.0",hx="2.0.0",Ug=py,Uf=1e4,mx=1e3,gx=100;var Ya;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Ya||(Ya={}));var et;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(et||(et={}));var Wt;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Wt||(Wt={}));var Mf;(function(a){a.websocket="websocket"})(Mf||(Mf={}));var Pa;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Pa||(Pa={}));class px{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let s=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,s;const o=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var i,s;const o=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,s){var o,u;const f=n.topic,h=(o=n.ref)!==null&&o!==void 0?o:"",m=(u=n.join_ref)!==null&&u!==void 0?u:"",g=n.payload.event,v=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(v).length===0?"":JSON.stringify(v);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+f.length+g.length+b.length,w=new ArrayBuffer(this.HEADER_LENGTH+x);let S=new DataView(w),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,m.length),S.setUint8(E++,h.length),S.setUint8(E++,f.length),S.setUint8(E++,g.length),S.setUint8(E++,b.length),S.setUint8(E++,i),Array.from(m,L=>S.setUint8(E++,L.charCodeAt(0))),Array.from(h,L=>S.setUint8(E++,L.charCodeAt(0))),Array.from(f,L=>S.setUint8(E++,L.charCodeAt(0))),Array.from(g,L=>S.setUint8(E++,L.charCodeAt(0))),Array.from(b,L=>S.setUint8(E++,L.charCodeAt(0)));var O=new Uint8Array(w.byteLength+s.byteLength);return O.set(new Uint8Array(w),0),O.set(new Uint8Array(s),w.byteLength),O.buffer}decode(n,i){if(this._isArrayBuffer(n)){let s=this._binaryDecode(n);return i(s)}if(typeof n=="string"){const s=JSON.parse(n),[o,u,f,h,m]=s;return i({join_ref:o,ref:u,topic:f,event:h,payload:m})}return i({})}_binaryDecode(n){const i=new DataView(n),s=i.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,i,o)}}_decodeUserBroadcast(n,i,s){const o=i.getUint8(1),u=i.getUint8(2),f=i.getUint8(3),h=i.getUint8(4);let m=this.HEADER_LENGTH+4;const g=s.decode(n.slice(m,m+o));m=m+o;const v=s.decode(n.slice(m,m+u));m=m+u;const b=s.decode(n.slice(m,m+f));m=m+f;const x=n.slice(m,n.byteLength),w=h===this.JSON_ENCODING?JSON.parse(s.decode(x)):x,S={type:this.BROADCAST_EVENT,event:v,payload:w};return f>0&&(S.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([s])=>i.includes(s)))}}let yy=class{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var qe;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(qe||(qe={}));const Mg=(a,n,i={})=>{var s;const o=(s=i.skipTypes)!==null&&s!==void 0?s:[];return n?Object.keys(n).reduce((u,f)=>(u[f]=yx(f,a,n,o),u),{}):{}},yx=(a,n,i,s)=>{const o=n.find(h=>h.name===a),u=o?.type,f=i[a];return u&&!s.includes(u)?vy(u,f):zf(f)},vy=(a,n)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return xx(n,i)}switch(a){case qe.bool:return vx(n);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return bx(n);case qe.json:case qe.jsonb:return _x(n);case qe.timestamp:return wx(n);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return zf(n);default:return zf(n)}},zf=a=>a,vx=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},bx=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},_x=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(n){return console.log(`JSON parse error: ${n}`),a}return a},xx=(a,n)=>{if(typeof a!="string")return a;const i=a.length-1,s=a[i];if(a[0]==="{"&&s==="}"){let u;const f=a.slice(1,i);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(h=>vy(n,h))}return a},wx=a=>typeof a=="string"?a.replace(" ","T"):a,by=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class gf{constructor(n,i,s={},o=Uf){this.channel=n,this.event=i,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var s;return this._hasReceived(n)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(s=>s.status===n).forEach(s=>s.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Bf;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Bf||(Bf={}));let _y=class mo{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mo.syncState(this.state,o,u,f),this.pendingDiffs.forEach(m=>{this.state=mo.syncDiff(this.state,m,u,f)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},o=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=mo.syncDiff(this.state,o,u,f),h())}),this.onJoin((o,u,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:f})}),this.onLeave((o,u,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,s,o){const u=this.cloneDeep(n),f=this.transformState(i),h={},m={};return this.map(u,(g,v)=>{f[g]||(m[g]=v)}),this.map(f,(g,v)=>{const b=u[g];if(b){const x=v.map(O=>O.presence_ref),w=b.map(O=>O.presence_ref),S=v.filter(O=>w.indexOf(O.presence_ref)<0),E=b.filter(O=>x.indexOf(O.presence_ref)<0);S.length>0&&(h[g]=S),E.length>0&&(m[g]=E)}else h[g]=v}),this.syncDiff(u,{joins:h,leaves:m},s,o)}static syncDiff(n,i,s,o){const{joins:u,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(u,(h,m)=>{var g;const v=(g=n[h])!==null&&g!==void 0?g:[];if(n[h]=this.cloneDeep(m),v.length>0){const b=n[h].map(w=>w.presence_ref),x=v.filter(w=>b.indexOf(w.presence_ref)<0);n[h].unshift(...x)}s(h,v,m)}),this.map(f,(h,m)=>{let g=n[h];if(!g)return;const v=m.map(b=>b.presence_ref);g=g.filter(b=>v.indexOf(b.presence_ref)<0),n[h]=g,o(h,g,m),g.length===0&&delete n[h]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(s=>i(s,n[s]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,s)=>{const o=n[s];return"metas"in o?i[s]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[s]=o,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Lf;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Lf||(Lf={}));var Xr;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Xr||(Xr={}));var un;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(un||(un={}));const Sx=et;let xy=class is{constructor(n,i={config:{}},s){var o,u;if(this.topic=n,this.params=i,this.socket=s,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new gf(this,Wt.join,this.params,this.timeout),this.rejoinTimer=new yy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wt.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new _y(this),this.broadcastEndpointURL=by(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var s,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:f,presence:h,private:m}}=this.params,g=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Xr.PRESENCE]&&this.bindings[Xr.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},x={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(w=>n?.(un.CHANNEL_ERROR,w)),this._onClose(()=>n?.(un.CLOSED)),this.updateJoinPayload(Object.assign({config:x},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){n?.(un.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(S=E?.length)!==null&&S!==void 0?S:0,L=[];for(let G=0;G<O;G++){const j=E[G],{filter:{event:H,schema:D,table:Y,filter:q}}=j,ee=w&&w[G];if(ee&&ee.event===H&&is.isFilterValueEqual(ee.schema,D)&&is.isFilterValueEqual(ee.table,Y)&&is.isFilterValueEqual(ee.filter,q))L.push(Object.assign(Object.assign({},j),{id:ee.id}));else{this.unsubscribe(),this.state=et.errored,n?.(un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,n&&n(un.SUBSCRIBED);return}}).receive("error",w=>{this.state=et.errored,n?.(un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n?.(un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,s){return this.state===et.joined&&n===Xr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,s)}async httpSend(n,i,s={}){var o;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const g=await h.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(n,i={}){var s,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,h,m;const g=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=et.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new gf(this,Wt.leave,{},n),s.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(n,i,s){const o=new AbortController,u=setTimeout(()=>o.abort(),s),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(u),f}_push(n,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new gf(this,n,i,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>gx){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,s){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,s){var o,u;const f=n.toLocaleLowerCase(),{close:h,error:m,leave:g,join:v}=Wt;if(s&&[h,m,g,v].indexOf(f)>=0&&s!==this._joinRef())return;let x=this._onMessage(f,i,s);if(i&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var S,E,O;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((O=(E=w.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===f}).map(w=>w.callback(x,s)):(u=this.bindings[f])===null||u===void 0||u.filter(w=>{var S,E,O,L,G,j;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in w){const H=w.id,D=(S=w.filter)===null||S===void 0?void 0:S.event;return H&&((E=i.ids)===null||E===void 0?void 0:E.includes(H))&&(D==="*"||D?.toLocaleLowerCase()===((O=i.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const H=(G=(L=w?.filter)===null||L===void 0?void 0:L.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return H==="*"||H===((j=i?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===f}).map(w=>{if(typeof x=="object"&&"ids"in x){const S=x.data,{schema:E,table:O,commit_timestamp:L,type:G,errors:j}=S;x=Object.assign(Object.assign({},{schema:E,table:O,commit_timestamp:L,eventType:G,new:{},old:{},errors:j}),this._getPayloadRecords(S))}w.callback(x,s)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,s){const o=n.toLocaleLowerCase(),u={type:o,filter:i,callback:s};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,i){const s=n.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&is.isEqual(o.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const s in n)if(n[s]!==i[s])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Wt.close,{},n)}_onError(n){this._on(Wt.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Mg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Mg(n.columns,n.old_record)),i}};const pf=()=>{},ro={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ex=[1e3,2e3,5e3,1e4],Ax=1e4,Tx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Nx=class{constructor(n,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uf,this.transport=null,this.heartbeatIntervalMs=ro.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pf,this.ref=0,this.reconnectTimer=null,this.vsn=Ug,this.logger=pf,this.conn=null,this.sendBuffer=[],this.serializer=new px,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Mf.websocket}`,this.httpEndpoint=by(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gy.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,s){this.logger(n,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ya.connecting:return Pa.Connecting;case Ya.open:return Pa.Open;case Ya.closing:return Pa.Closing;default:return Pa.Closed}}isConnected(){return this.connectionState()===Pa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const s=`realtime:${n}`,o=this.getChannels().find(u=>u.topic===s);if(o)return o;{const u=new xy(`realtime:${n}`,i,this);return this.channels.push(u),u}}push(n){const{topic:i,event:s,payload:o,ref:u}=n,f=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${i} ${s} (${u})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(mx,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},ro.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(s=>s.topic===n&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:u,ref:f}=i,h=f?`(${f})`:"",m=u.status||"";this.log("receive",`${m} ${s} ${o} ${h}`.trim(),u),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(o,u,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ya.open||this.conn.readyState===Ya.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Wt.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const s=n.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${n}${s}${o}`}_workerObjectUrl(n){let i;if(n)i=n;else{const s=new Blob([Tx],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,s=!1;if(n)i=n,s=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const u={access_token:i,version:dx};i&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(Wt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(s=>{try{s(i)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(s){this.log("error",`error triggering ${n} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new yy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ro.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,s,o,u,f,h,m,g,v,b,x,w;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=n?.timeout)!==null&&s!==void 0?s:Uf,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:ro.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=n?.heartbeatCallback)!==null&&h!==void 0?h:pf,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:Ug,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(S=>Ex[S-1]||Ax),this.vsn){case py:this.encode=(v=n?.encode)!==null&&v!==void 0?v:((S,E)=>E(JSON.stringify(S))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((S,E)=>E(JSON.parse(S)));break;case hx:this.encode=(x=n?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(w=n?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}};const jx=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Sx,get REALTIME_LISTEN_TYPES(){return Xr},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Lf},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Bf},get REALTIME_SUBSCRIBE_STATES(){return un},RealtimeChannel:xy,RealtimeClient:Nx,RealtimePresence:_y,WebSocketFactory:gy},Symbol.toStringTag,{value:"Module"})),wy=ws(jx);class Ss extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ie(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Sy extends Ss{constructor(n,i,s){super(n),this.name="StorageApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class To extends Ss{constructor(n,i){super(n),this.name="StorageUnknownError",this.originalError=i}}const fd=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),Ox=()=>Response,$f=a=>{if(Array.isArray(a))return a.map(i=>$f(i));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([i,s])=>{const o=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=$f(s)}),n},Cx=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Rx=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a),yf=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},kx=(a,n,i)=>ie(void 0,void 0,void 0,function*(){const s=yield Ox();a instanceof s&&!i?.noResolveJson?a.json().then(o=>{const u=a.status||500,f=o?.statusCode||u+"";n(new Sy(yf(o),u,f))}).catch(o=>{n(new To(yf(o),o))}):n(new To(yf(a),a))}),Dx=(a,n,i,s)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"||!s?o:(Cx(s)?(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(s)):o.body=s,n?.duplex&&(o.duplex=n.duplex),Object.assign(Object.assign({},o),i))};function Es(a,n,i,s,o,u){return ie(this,void 0,void 0,function*(){return new Promise((f,h)=>{a(i,Dx(n,s,o,u)).then(m=>{if(!m.ok)throw m;return s?.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>kx(m,h,s))})})}function gs(a,n,i,s){return ie(this,void 0,void 0,function*(){return Es(a,"GET",n,i,s)})}function Zt(a,n,i,s,o){return ie(this,void 0,void 0,function*(){return Es(a,"POST",n,s,o,i)})}function qf(a,n,i,s,o){return ie(this,void 0,void 0,function*(){return Es(a,"PUT",n,s,o,i)})}function Ux(a,n,i,s){return ie(this,void 0,void 0,function*(){return Es(a,"HEAD",n,Object.assign(Object.assign({},i),{noResolveJson:!0}),s)})}function dd(a,n,i,s,o){return ie(this,void 0,void 0,function*(){return Es(a,"DELETE",n,s,o,i)})}class Mx{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i}then(n,i){return this.execute().then(n,i)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}}var Ey;class zx{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i,this[Ey]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mx(this.downloadFn,this.shouldThrowOnError)}then(n,i){return this.getPromise().then(n,i)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}}Ey=Symbol.toStringTag;const Bx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lx{constructor(n,i={},s,o){this.shouldThrowOnError=!1,this.url=n,this.headers=i,this.bucketId=s,this.fetch=fd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,i,s,o){return ie(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},zg),o);let h=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),m&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(m))):(u=s,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),o?.headers&&(h=Object.assign(Object.assign({},h),o.headers));const g=this._removeEmptyFolders(i),v=this._getFinalPath(g),b=yield(n=="PUT"?qf:Zt)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:h},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:g,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ie(u))return{data:null,error:u};throw u}})}upload(n,i,s){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,i,s)})}uploadToSignedUrl(n,i,s,o){return ie(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${f}`);h.searchParams.set("token",i);try{let m;const g=Object.assign({upsert:zg.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",g.cacheControl)):(m=s,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const b=yield qf(this.fetch,h.toString(),m,{headers:v});return{data:{path:u,fullPath:b.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Ie(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,i){return ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(n);const o=Object.assign({},this.headers);i?.upsert&&(o["x-upsert"]="true");const u=yield Zt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),f=new URL(this.url+u.url),h=f.searchParams.get("token");if(!h)throw new Ss("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}update(n,i,s){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,i,s)})}move(n,i,s){return ie(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}})}copy(n,i,s){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield Zt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}})}createSignedUrl(n,i,s){return ie(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),u=yield Zt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:i},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const f=s?.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}})}createSignedUrls(n,i,s){return ie(this,void 0,void 0,function*(){try{const o=yield Zt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:n},{headers:this.headers}),u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}})}download(n,i){const o=typeof i?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(i?.transform||{}),f=u?`?${u}`:"",h=this._getFinalPath(n),m=()=>gs(this.fetch,`${this.url}/${o}/${h}${f}`,{headers:this.headers,noResolveJson:!0});return new zx(m,this.shouldThrowOnError)}info(n){return ie(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{const s=yield gs(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:$f(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}exists(n){return ie(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{return yield Ux(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s)&&s instanceof To){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(n,i){const s=this._getFinalPath(n),o=[],u=i?.download?`download=${i.download===!0?"":i.download}`:"";u!==""&&o.push(u);const h=typeof i?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(i?.transform||{});m!==""&&o.push(m);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${g}`)}}}remove(n){return ie(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}list(n,i,s){return ie(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Bx),i),{prefix:n||""});return{data:yield Zt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}})}listV2(n,i){return ie(this,void 0,void 0,function*(){try{const s=Object.assign({},n);return{data:yield Zt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const i=[];return n.width&&i.push(`width=${n.width}`),n.height&&i.push(`height=${n.height}`),n.resize&&i.push(`resize=${n.resize}`),n.format&&i.push(`format=${n.format}`),n.quality&&i.push(`quality=${n.quality}`),i.join("&")}}const Ay="2.87.1",Ty={"X-Client-Info":`storage-js/${Ay}`};class $x{constructor(n,i={},s,o){this.shouldThrowOnError=!1;const u=new URL(n);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ty),i),this.fetch=fd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return ie(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(n);return{data:yield gs(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}getBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}createBucket(n){return ie(this,arguments,void 0,function*(i,s={public:!1}){try{return{data:yield Zt(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}})}updateBucket(n,i){return ie(this,void 0,void 0,function*(){try{return{data:yield qf(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}emptyBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}deleteBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(n){const i={};return n&&("limit"in n&&(i.limit=String(n.limit)),"offset"in n&&(i.offset=String(n.offset)),n.search&&(i.search=n.search),n.sortColumn&&(i.sortColumn=n.sortColumn),n.sortOrder&&(i.sortOrder=n.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var ps=class extends Error{constructor(a,n){super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function qx(a,n,i){const s=new URL(n,a);if(i)for(const[o,u]of Object.entries(i))u!==void 0&&s.searchParams.set(o,u);return s.toString()}async function Hx(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function Gx(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:i,path:s,query:o,body:u,headers:f}){const h=qx(a.baseUrl,s,o),m=await Hx(a.auth),g=await n(h,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...m,...f},body:u?JSON.stringify(u):void 0}),v=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),x=b&&v?JSON.parse(v):v;if(!g.ok){const w=b?x:void 0,S=w?.error;throw new ps(S?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:S?.type,icebergCode:S?.code,details:w})}return{status:g.status,headers:g.headers,data:x}}}}function io(a){return a.join("")}var Vx=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:io(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(a,n){const i={namespace:a.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${io(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${io(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${io(a.namespace)}`}),!0}catch(n){if(n instanceof ps&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(i){if(i instanceof ps&&i.status===409)return;throw i}}};function Hr(a){return a.join("")}var Ix=class{constructor(a,n="",i){this.client=a,this.prefix=n,this.accessDelegation=i}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hr(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hr(a.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(a,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hr(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hr(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hr(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hr(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(i){if(i instanceof ps&&i.status===404)return!1;throw i}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(i){if(i instanceof ps&&i.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw i}}},Yx=class{constructor(a){let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const i=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=Gx({baseUrl:i,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new Vx(this.client,n),this.tableOps=new Ix(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}};class Ny{constructor(n,i={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ty),i),this.fetch=fd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}listBuckets(n){return ie(this,void 0,void 0,function*(){try{const i=new URLSearchParams;n?.limit!==void 0&&i.set("limit",n.limit.toString()),n?.offset!==void 0&&i.set("offset",n.offset.toString()),n?.sortColumn&&i.set("sortColumn",n.sortColumn),n?.sortOrder&&i.set("sortOrder",n.sortOrder),n?.search&&i.set("search",n.search);const s=i.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield gs(this.fetch,o,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}deleteBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}from(n){if(!Rx(n))throw new Ss("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new Yx({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>ie(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(i,{get(u,f){const h=u[f];return typeof h!="function"?h:(...m)=>ie(this,void 0,void 0,function*(){try{return{data:yield h.apply(u,m),error:null}}catch(g){if(s)throw g;return{data:null,error:g}}})}})}}const hd={"X-Client-Info":`storage-js/${Ay}`,"Content-Type":"application/json"};class md extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Nt(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class go extends md{constructor(n,i,s){super(n),this.name="StorageVectorsApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jy extends md{constructor(n,i){super(n),this.name="StorageVectorsUnknownError",this.originalError=i}}var Hf;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hf||(Hf={}));const Vo=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),Px=()=>Response,Oy=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Kx=a=>Array.from(new Float32Array(a)),Xx=(a,n)=>{if(n!==void 0&&a.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${a.float32.length}`)},Bg=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Qx=(a,n,i)=>ie(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!i?.noResolveJson){const o=a.status||500,u=a;if(typeof u.json=="function")u.json().then(f=>{const h=f?.statusCode||f?.code||o+"";n(new go(Bg(f),o,h))}).catch(()=>{const f=o+"",h=u.statusText||`HTTP ${o} error`;n(new go(h,o,f))});else{const f=o+"",h=u.statusText||`HTTP ${o} error`;n(new go(h,o,f))}}else n(new jy(Bg(a),a))}),Jx=(a,n,i,s)=>{const o={method:a,headers:n?.headers||{}};return s?(Oy(s)?(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),i)):o};function Fx(a,n,i,s,o,u){return ie(this,void 0,void 0,function*(){return new Promise((f,h)=>{a(i,Jx(n,s,o,u)).then(m=>{if(!m.ok)throw m;if(s?.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>Qx(m,h,s))})})}function zt(a,n,i,s,o){return ie(this,void 0,void 0,function*(){return Fx(a,"POST",n,s,o,i)})}class Cy{constructor(n,i={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hd),i),this.fetch=Vo(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return ie(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}getIndex(n,i){return ie(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}})}listIndexes(n){return ie(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}deleteIndex(n,i){return ie(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}})}}class Ry{constructor(n,i={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hd),i),this.fetch=Vo(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return ie(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}getVectors(n){return ie(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}listVectors(n){return ie(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield zt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}queryVectors(n){return ie(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}deleteVectors(n){return ie(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}}class ky{constructor(n,i={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hd),i),this.fetch=Vo(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}getBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}listBuckets(){return ie(this,arguments,void 0,function*(n={}){try{return{data:yield zt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}deleteBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}}class Dy extends ky{constructor(n,i={}){super(n,i.headers||{},i.fetch)}from(n){return new Uy(this.url,this.headers,n,this.fetch)}createBucket(n){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ie(this,void 0,void 0,function*(){return i.createBucket.call(this,n)})}getBucket(n){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ie(this,void 0,void 0,function*(){return i.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ie(this,arguments,void 0,function*(i={}){return n.listBuckets.call(this,i)})}deleteBucket(n){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ie(this,void 0,void 0,function*(){return i.deleteBucket.call(this,n)})}}class Uy extends Cy{constructor(n,i,s,o){super(n,i,o),this.vectorBucketName=s}createIndex(n){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(i={}){return n.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new My(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class My extends Ry{constructor(n,i,s,o,u){super(n,i,u),this.vectorBucketName=s,this.indexName=o}putVectors(n){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(i={}){return n.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Zx extends $x{constructor(n,i={},s,o){super(n,i,s,o)}from(n){return new Lx(this.url,this.headers,n,this.fetch)}get vectors(){return new Dy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ny(this.url+"/iceberg",this.headers,this.fetch)}}const Wx=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Ny,StorageApiError:Sy,StorageClient:Zx,StorageError:Ss,StorageUnknownError:To,StorageVectorsApiError:go,StorageVectorsClient:Dy,StorageVectorsError:md,get StorageVectorsErrorCode(){return Hf},StorageVectorsUnknownError:jy,VectorBucketApi:ky,VectorBucketScope:Uy,VectorDataApi:Ry,VectorIndexApi:Cy,VectorIndexScope:My,isPlainObject:Oy,isStorageError:Ie,isStorageVectorsError:Nt,normalizeToFloat32:Kx,resolveFetch:Vo,resolveResponse:Px,validateVectorDimension:Xx},Symbol.toStringTag,{value:"Module"})),ew=ws(Wx);var vf={},Wi={},Lg;function tw(){return Lg||(Lg=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.version=void 0,Wi.version="2.87.1"),Wi}var $g;function nw(){return $g||($g=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_REALTIME_OPTIONS=a.DEFAULT_AUTH_OPTIONS=a.DEFAULT_DB_OPTIONS=a.DEFAULT_GLOBAL_OPTIONS=a.DEFAULT_HEADERS=void 0;const n=tw();let i="";typeof Deno<"u"?i="deno":typeof document<"u"?i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?i="react-native":i="node",a.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${i}/${n.version}`},a.DEFAULT_GLOBAL_OPTIONS={headers:a.DEFAULT_HEADERS},a.DEFAULT_DB_OPTIONS={schema:"public"},a.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a.DEFAULT_REALTIME_OPTIONS={}})(vf)),vf}var bf={},qg;function aw(){return qg||(qg=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fetchWithAuth=a.resolveHeadersConstructor=a.resolveFetch=void 0;const n=o=>o?(...u)=>o(...u):(...u)=>fetch(...u);a.resolveFetch=n;const i=()=>Headers;a.resolveHeadersConstructor=i;const s=(o,u,f)=>{const h=(0,a.resolveFetch)(f),m=(0,a.resolveHeadersConstructor)();return async(g,v)=>{var b;const x=(b=await u())!==null&&b!==void 0?b:o;let w=new m(v?.headers);return w.has("apikey")||w.set("apikey",o),w.has("Authorization")||w.set("Authorization",`Bearer ${x}`),h(g,Object.assign(Object.assign({},v),{headers:w}))}};a.fetchWithAuth=s})(bf)),bf}var Un={},Hg;function rw(){if(Hg)return Un;Hg=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.isBrowser=void 0,Un.uuid=a,Un.ensureTrailingSlash=n,Un.applySettingDefaults=s,Un.validateSupabaseUrl=o;function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var f=Math.random()*16|0,h=u=="x"?f:f&3|8;return h.toString(16)})}function n(u){return u.endsWith("/")?u:u+"/"}const i=()=>typeof window<"u";Un.isBrowser=i;function s(u,f){var h,m;const{db:g,auth:v,realtime:b,global:x}=u,{db:w,auth:S,realtime:E,global:O}=f,L={db:Object.assign(Object.assign({},w),g),auth:Object.assign(Object.assign({},S),v),realtime:Object.assign(Object.assign({},E),b),storage:{},global:Object.assign(Object.assign(Object.assign({},O),x),{headers:Object.assign(Object.assign({},(h=O?.headers)!==null&&h!==void 0?h:{}),(m=x?.headers)!==null&&m!==void 0?m:{})}),accessToken:async()=>""};return u.accessToken?L.accessToken=u.accessToken:delete L.accessToken,L}function o(u){const f=u?.trim();if(!f)throw new Error("supabaseUrl is required.");if(!f.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(n(f))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Un}var es={};const zy="2.87.1",Yr=30*1e3,Gf=3,_f=Gf*Yr,iw="http://localhost:9999",sw="supabase.auth.token",lw={"X-Client-Info":`gotrue-js/${zy}`},Vf="X-Supabase-Api-Version",By={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ow=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uw=600*1e3;let Zr=class extends Error{constructor(n,i,s){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}};function ce(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}let Ly=class extends Zr{constructor(n,i,s){super(n,i,s),this.name="AuthApiError",this.status=i,this.code=s}};function $y(a){return ce(a)&&a.name==="AuthApiError"}let ma=class extends Zr{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}},Bn=class extends Zr{constructor(n,i,s,o){super(n,s,o),this.name=i,this.status=s}},Tt=class extends Bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function qy(a){return ce(a)&&a.name==="AuthSessionMissingError"}let Ha=class extends Bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ss=class extends Bn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},ls=class extends Bn{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Hy(a){return ce(a)&&a.name==="AuthImplicitGrantRedirectError"}let If=class extends Bn{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},No=class extends Bn{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}};function po(a){return ce(a)&&a.name==="AuthRetryableFetchError"}let Yf=class extends Bn{constructor(n,i,s){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}};function cw(a){return ce(a)&&a.name==="AuthWeakPasswordError"}let jo=class extends Bn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};const Oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gg=` 	
\r=`.split(""),fw=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<Gg.length;n+=1)a[Gg[n].charCodeAt(0)]=-2;for(let n=0;n<Oo.length;n+=1)a[Oo[n].charCodeAt(0)]=n;return a})();function Vg(a,n,i){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(Oo[s]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(Oo[s]),n.queuedBits-=6}}function Gy(a,n,i){const s=fw[a];if(s>-1)for(n.queue=n.queue<<6|s,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Ig(a){const n=[],i=f=>{n.push(String.fromCodePoint(f))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=f=>{mw(f,s,i)};for(let f=0;f<a.length;f+=1)Gy(a.charCodeAt(f),o,u);return n.join("")}function dw(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function hw(a,n){for(let i=0;i<a.length;i+=1){let s=a.charCodeAt(i);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(a.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}dw(s,n)}}function mw(a,n,i){if(n.utf8seq===0){if(a<=127){i(a);return}for(let s=1;s<6;s+=1)if((a>>7-s&1)===0){n.utf8seq=s;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Qr(a){const n=[],i={queue:0,queuedBits:0},s=o=>{n.push(o)};for(let o=0;o<a.length;o+=1)Gy(a.charCodeAt(o),i,s);return new Uint8Array(n)}function gw(a){const n=[];return hw(a,i=>n.push(i)),new Uint8Array(n)}function Ka(a){const n=[],i={queue:0,queuedBits:0},s=o=>{n.push(o)};return a.forEach(o=>Vg(o,i,s)),Vg(null,i,s),n.join("")}function pw(a){return Math.round(Date.now()/1e3)+a}function yw(){return Symbol("auth-callback")}const dt=()=>typeof window<"u"&&typeof document<"u",$a={tested:!1,writable:!1},Vy=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($a.tested)return $a.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),$a.tested=!0,$a.writable=!0}catch{$a.tested=!0,$a.writable=!1}return $a.writable};function vw(a){const n={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return i.searchParams.forEach((s,o)=>{n[o]=s}),n}const Iy=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),bw=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Pr=async(a,n,i)=>{await a.setItem(n,JSON.stringify(i))},qa=async(a,n)=>{const i=await a.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ft=async(a,n)=>{await a.removeItem(n)};class Io{constructor(){this.promise=new Io.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}Io.promiseConstructor=Promise;function xf(a){const n=a.split(".");if(n.length!==3)throw new jo("Invalid JWT structure");for(let s=0;s<n.length;s++)if(!ow.test(n[s]))throw new jo("JWT not in base64url format");return{header:JSON.parse(Ig(n[0])),payload:JSON.parse(Ig(n[1])),signature:Qr(n[2]),raw:{header:n[0],payload:n[1]}}}async function _w(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function xw(a,n){return new Promise((s,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await a(u);if(!n(u,null,f)){s(f);return}}catch(f){if(!n(u,f)){o(f);return}}})()})}function ww(a){return("0"+a.toString(16)).substr(-2)}function Sw(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let o="";for(let u=0;u<56;u++)o+=i.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(n),Array.from(n,ww).join("")}async function Ew(a){const i=new TextEncoder().encode(a),s=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(s);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function Aw(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await Ew(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gr(a,n,i=!1){const s=Sw();let o=s;i&&(o+="/PASSWORD_RECOVERY"),await Pr(a,`${n}-code-verifier`,o);const u=await Aw(s);return[u,s===u?"plain":"s256"]}const Tw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nw(a){const n=a.headers.get(Vf);if(!n||!n.match(Tw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function jw(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function Ow(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Cw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vr(a){if(!Cw.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wf(){const a={};return new Proxy(a,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rw(a,n){return new Proxy(a,{get:(i,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,o)}return!n.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,s,o)}})}function Yg(a){return JSON.parse(JSON.stringify(a))}const Ga=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),kw=[502,503,504];async function Pg(a){var n;if(!bw(a))throw new No(Ga(a),0);if(kw.includes(a.status))throw new No(Ga(a),a.status);let i;try{i=await a.json()}catch(u){throw new ma(Ga(u),u)}let s;const o=Nw(a);if(o&&o.getTime()>=By["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new Yf(Ga(i),a.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(s==="session_not_found")throw new Tt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new Yf(Ga(i),a.status,i.weak_password.reasons);throw new Ly(Ga(i),a.status||500,s)}const Dw=(a,n,i,s)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),i))};async function ge(a,n,i,s){var o;const u=Object.assign({},s?.headers);u[Vf]||(u[Vf]=By["2024-01-01"].name),s?.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const f=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(f.redirect_to=s.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await Uw(a,n,i+h,{headers:u,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(m):{data:Object.assign({},m),error:null}}async function Uw(a,n,i,s,o,u){const f=Dw(n,s,o,u);let h;try{h=await a(i,Object.assign({},f))}catch(m){throw console.error(m),new No(Ga(m),0)}if(h.ok||await Pg(h),s?.noResolveJson)return h;try{return await h.json()}catch(m){await Pg(m)}}function Ft(a){var n;let i=null;Bw(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=pw(a.expires_in)));const s=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:i,user:s},error:null}}function Kg(a){const n=Ft(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(n.data.weak_password=a.weak_password),n}function ga(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function Mw(a){return{data:a,error:null}}function zw(a){const{action_link:n,email_otp:i,hashed_token:s,redirect_to:o,verification_type:u}=a,f=ni(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:i,hashed_token:s,redirect_to:o,verification_type:u},m=Object.assign({},f);return{data:{properties:h,user:m},error:null}}function Xg(a){return a}function Bw(a){return a.access_token&&a.refresh_token&&a.expires_in}const yo=["global","local","others"];let gd=class{constructor({url:n="",headers:i={},fetch:s}){this.url=n,this.headers=i,this.fetch=Iy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=yo[0]){if(yo.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yo.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}}async inviteUserByEmail(n,i={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ga})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async generateLink(n){try{const{options:i}=n,s=ni(n,["options"]),o=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:zw,redirectTo:i?.redirectTo})}catch(i){if(ce(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ga})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,s,o,u,f,h,m;try{const g={nextPage:null,lastPage:0,total:0},v=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Xg});if(v.error)throw v.error;const b=await v.json(),x=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(S.split(";")[1].split("=")[1]);g[`${O}Page`]=E}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(ce(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){Vr(n);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ga})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Vr(n);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:ga})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async deleteUser(n,i=!1){Vr(n);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:ga})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async _listFactors(n){Vr(n.userId);try{const{data:i,error:s}=await ge(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:s}}catch(i){if(ce(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Vr(n.userId),Vr(n.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,s,o,u,f,h,m;try{const g={nextPage:null,lastPage:0,total:0},v=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Xg});if(v.error)throw v.error;const b=await v.json(),x=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(S.split(";")[1].split("=")[1]);g[`${O}Page`]=E}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(ce(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ce(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ce(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(n){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ce(i))return{data:null,error:i};throw i}}};function Qg(a={}){return{getItem:n=>a[n]||null,setItem:(n,i)=>{a[n]=i},removeItem:n=>{delete a[n]}}}const Va={debug:!!(globalThis&&Vy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pd extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}let Yy=class extends pd{};class Lw extends pd{}async function Py(a,n,i){Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const s=new globalThis.AbortController;return n>0&&setTimeout(()=>{s.abort(),Va.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await i()}finally{Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(n===0)throw Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new Yy(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Va.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}const Jg={};async function $w(a,n,i){var s;const o=(s=Jg[a])!==null&&s!==void 0?s:Promise.resolve(),u=Promise.race([o.catch(()=>null),n>=0?new Promise((f,h)=>{setTimeout(()=>{h(new Lw(`Acquring process lock with name "${a}" timed out`))},n)}):null].filter(f=>f)).catch(f=>{if(f&&f.isAcquireTimeout)throw f;return null}).then(async()=>await i());return Jg[a]=u.catch(async f=>{if(f&&f.isAcquireTimeout)return await o,null;throw f}),await u}function qw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ky(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function Hw(a){return parseInt(a,16)}function Gw(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,s=>s.toString(16).padStart(2,"0")).join("")}function Vw(a){var n;const{chainId:i,domain:s,expirationTime:o,issuedAt:u=new Date,nonce:f,notBefore:h,requestId:m,resources:g,scheme:v,uri:b,version:x}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const w=Ky(a.address),S=v?`${v}://${s}`:s,E=a.statement?`${a.statement}
`:"",O=`${S} wants you to sign in with your Ethereum account:
${w}

${E}`;let L=`URI: ${b}
Version: ${x}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(o&&(L+=`
Expiration Time: ${o.toISOString()}`),h&&(L+=`
Not Before: ${h.toISOString()}`),m&&(L+=`
Request ID: ${m}`),g){let G=`
Resources:`;for(const j of g){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);G+=`
- ${j}`}L+=G}return`${O}
${L}`}class tt extends Error{constructor({message:n,code:i,cause:s,name:o}){var u;super(n,{cause:s}),this.__isWebAuthnError=!0,this.name=(u=o??(s instanceof Error?s.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class Co extends tt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function Iw({error:a,options:n}){var i,s,o;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((s=u.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new tt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(Xy(f)){if(u.rp.id!==f)return new tt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function Yw({error:a,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new tt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const s=window.location.hostname;if(Xy(s)){if(i.rpId!==s)return new tt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class Pw{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Kw=new Pw;function Xw(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:i,excludeCredentials:s}=a,o=ni(a,["challenge","user","excludeCredentials"]),u=Qr(n).buffer,f=Object.assign(Object.assign({},i),{id:Qr(i.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:u,user:f});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const g=s[m];h.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Qr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function Qw(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:i}=a,s=ni(a,["challenge","allowCredentials"]),o=Qr(n).buffer,u=Object.assign(Object.assign({},s),{challenge:o});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const h=i[f];u.allowCredentials[f]=Object.assign(Object.assign({},h),{id:Qr(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function Jw(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a;return{id:a.id,rawId:a.id,response:{attestationObject:Ka(new Uint8Array(a.response.attestationObject)),clientDataJSON:Ka(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Fw(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a,s=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Ka(new Uint8Array(o.authenticatorData)),clientDataJSON:Ka(new Uint8Array(o.clientDataJSON)),signature:Ka(new Uint8Array(o.signature)),userHandle:o.userHandle?Ka(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Xy(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Fg(){var a,n;return!!(dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Zw(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Co("Browser returned unexpected credential type",n)}:{data:null,error:new Co("Empty credential response",n)}}catch(n){return{data:null,error:Iw({error:n,options:a})}}}async function Ww(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Co("Browser returned unexpected credential type",n)}:{data:null,error:new Co("Empty credential response",n)}}catch(n){return{data:null,error:Yw({error:n,options:a})}}}const eS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},tS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ro(...a){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of a)if(o)for(const u in o){const f=o[u];if(f!==void 0)if(Array.isArray(f))s[u]=f;else if(i(f))s[u]=f;else if(n(f)){const h=s[u];n(h)?s[u]=Ro(h,f):s[u]=Ro(f)}else s[u]=f}return s}function nS(a,n){return Ro(eS,a,n||{})}function aS(a,n){return Ro(tS,a,n||{})}class rS{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:s,signal:o},u){try{const{data:f,error:h}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!f)return{data:null,error:h};const m=o??Kw.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:g}=f.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${s}`),g.displayName||(g.displayName=g.name)}switch(f.webauthn.type){case"create":{const g=nS(f.webauthn.credential_options.publicKey,u?.create),{data:v,error:b}=await Zw({publicKey:g,signal:m});return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const g=aS(f.webauthn.credential_options.publicKey,u?.request),{data:v,error:b}=await Ww(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:g,signal:m}));return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(f){return ce(f)?{data:null,error:f}:{data:null,error:new ma("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:s})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new Zr("rpId is required for WebAuthn authentication")};try{if(!Fg())return{data:null,error:new ma("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:s},signal:o},{request:u});if(!f)return{data:null,error:h};const{webauthn:m}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:s,credential_response:m.credential_response}})}catch(f){return ce(f)?{data:null,error:f}:{data:null,error:new ma("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new Zr("rpId is required for WebAuthn registration")};try{if(!Fg())return{data:null,error:new ma("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(v=>{var b;return(b=v.data)===null||b===void 0?void 0:b.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===n&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:m,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:o},{create:u});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:s,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(f){return ce(f)?{data:null,error:f}:{data:null,error:new ma("Unexpected error in register",f)}}}}qw();const iS={url:iw,storageKey:sw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Zg(a,n,i){return await i()}const Ir={};let yd=class Pf{get jwks(){var n,i;return(i=(n=Ir[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Ir[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{cachedAt:n})}constructor(n){var i,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},iS),n);if(this.storageKey=u.storageKey,this.instanceID=(i=Pf.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Pf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&dt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new gd({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Iy(u.fetch),this.lock=u.lock||Zg,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&dt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Py:this.lock=Zg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Vy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qg(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Qg(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zy}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},s="none";if(dt()&&(i=vw(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),dt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:u}=await this._getSessionFromURL(i,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Hy(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ce(i)?this._returnResult({error:i}):this._returnResult({error:new ma("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,s,o;try{const u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ft}),{data:f,error:h}=u;if(h||!f)return this._returnResult({data:{user:null,session:null},error:h});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var i,s,o;try{let u;if("email"in n){const{email:v,password:b,options:x}=n;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Gr(this.storage,this.storageKey)),u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:b,data:(i=x?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:S},xform:Ft})}else if("phone"in n){const{phone:v,password:b,options:x}=n;u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(s=x?.data)!==null&&s!==void 0?s:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Ft})}else throw new ss("You must provide either an email or phone number and a password");const{data:f,error:h}=u;if(h||!f)return await ft(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ce(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let i;if("email"in n){const{email:u,password:f,options:h}=n;i=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Kg})}else if("phone"in n){const{phone:u,password:f,options:h}=n;i=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Kg})}else throw new ss("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const u=new Ha;return this._returnResult({data:{user:null,session:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,s,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=n.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,s,o,u,f,h,m,g,v,b,x;let w,S;if("message"in n)w=n.message,S=n.signature;else{const{chain:E,wallet:O,statement:L,options:G}=n;let j;if(dt())if(typeof O=="object")j=O;else{const le=window;if("ethereum"in le&&typeof le.ethereum=="object"&&"request"in le.ethereum&&typeof le.ethereum.request=="function")j=le.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=O}const H=new URL((i=G?.url)!==null&&i!==void 0?i:window.location.href),D=await j.request({method:"eth_requestAccounts"}).then(le=>le).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=Ky(D[0]);let q=(s=G?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!q){const le=await j.request({method:"eth_chainId"});q=Hw(le)}const ee={domain:H.host,address:Y,statement:L,uri:H.href,version:"1",chainId:q,nonce:(o=G?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(u=G?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=G?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=G?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=G?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=G?.signInWithEthereum)===null||v===void 0?void 0:v.resources};w=Vw(ee),S=await j.request({method:"personal_sign",params:[Gw(w),Y]})}try{const{data:E,error:O}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ft});if(O)throw O;if(!E||!E.session||!E.user){const L=new Ha;return this._returnResult({data:{user:null,session:null},error:L})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:O})}catch(E){if(ce(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(n){var i,s,o,u,f,h,m,g,v,b,x,w;let S,E;if("message"in n)S=n.message,E=n.signature;else{const{chain:O,wallet:L,statement:G,options:j}=n;let H;if(dt())if(typeof L=="object")H=L;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))H=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=L}const D=new URL((i=j?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in H&&H.signIn){const Y=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),G?{statement:G}:null));let q;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")q=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)q=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)S=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),E=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${D.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(s=j?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=j?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((h=j?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((m=j?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((g=j?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((b=(v=j?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||b===void 0)&&b.length?["Resources",...j.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const Y=await H.signMessage(new TextEncoder().encode(S),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=Y}}try{const{data:O,error:L}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ka(E)},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ft});if(L)throw L;if(!O||!O.session||!O.user){const G=new Ha;return this._returnResult({data:{user:null,session:null},error:G})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:L})}catch(O){if(ce(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(n){const i=await qa(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(i??"").split("/");try{const{data:u,error:f}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:s},xform:Ft});if(await ft(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const h=new Ha;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:f})}catch(u){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ce(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:i,provider:s,token:o,access_token:u,nonce:f}=n,h=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Ft}),{data:m,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const v=new Ha;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,s,o,u,f;try{if("email"in n){const{email:h,options:m}=n;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Gr(this.storage,this.storageKey));const{error:b}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(s=m?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:h,options:m}=n,{data:g,error:v}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new ss("You must provide either an email or phone number.")}catch(h){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ce(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var i,s;try{let o,u;"options"in n&&(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo,u=(s=n.options)===null||s===void 0?void 0:s.captchaToken);const{data:f,error:h}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Ft});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,g=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var i,s,o,u,f;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Gr(this.storage,this.storageKey));const g=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(s=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:Mw});return!((u=g.data)===null||u===void 0)&&u.url&&dt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ce(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)throw s;if(!i)throw new Tt;const{error:o}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:s,type:o,options:u}=n,{error:f}=await ge(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:s,type:o,options:u}=n,{data:f,error:h}=await ge(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new ss("You must provide either an email or phone number and a type")}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const s=n.expires_at?n.expires_at*1e3-Date.now()<_f:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",n.expires_at),!s){if(this.userStorage){const f=await qa(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=wf()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Rw(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ga}):await this._useSession(async i=>{var s,o,u;const{data:f,error:h}=i;if(h)throw h;return!(!((s=f.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:ga})})}catch(i){if(ce(i))return qy(i)&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async s=>{const{data:o,error:u}=s;if(u)throw u;if(!o.session)throw new Tt;const f=o.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await Gr(this.storage,this.storageKey));const{data:g,error:v}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:f.access_token,xform:ga});if(v)throw v;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(s){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ce(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Tt;const i=Date.now()/1e3;let s=i,o=!0,u=null;const{payload:f}=xf(n.access_token);if(f.exp&&(s=f.exp,o=s<=i),o){const{data:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)throw m;u={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(ce(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var s;if(!n){const{data:f,error:h}=i;if(h)throw h;n=(s=f.session)!==null&&s!==void 0?s:void 0}if(!n?.refresh_token)throw new Tt;const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!dt())throw new ls("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ls(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new If("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ls("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new If("No code detected.");const{data:G,error:j}=await this._exchangeCodeForSession(n.code);if(j)throw j;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:u,refresh_token:f,expires_in:h,expires_at:m,token_type:g}=n;if(!u||!h||!f||!g)throw new ls("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(h);let x=v+b;m&&(x=parseInt(m));const w=x-v;w*1e3<=Yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${b}s`);const S=x-b;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,x,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,x,v);const{data:E,error:O}=await this._getUser(u);if(O)throw O;const L={provider_token:s,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:x,refresh_token:f,token_type:g,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:n.type},error:null})}catch(s){if(ce(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await qa(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:o,error:u}=i;if(u)return this._returnResult({error:u});const f=(s=o.session)===null||s===void 0?void 0:s.access_token;if(f){const{error:h}=await this.admin.signOut(f,n);if(h&&!($y(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=yw(),s={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(n){return await this._useSession(async i=>{var s,o;try{const{data:{session:u},error:f}=i;if(f)throw f;await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,i={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Gr(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ce(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:s,error:o}=await this._useSession(async u=>{var f,h,m,g,v;const{data:b,error:x}=u;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return dt()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:n.provider,url:s?.url},error:null})}catch(s){if(ce(s))return this._returnResult({data:{provider:n.provider,url:null},error:s});throw s}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var s;try{const{error:o,data:{session:u}}=i;if(o)throw o;const{options:f,provider:h,token:m,access_token:g,nonce:v}=n,b=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=u?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:m,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ft}),{data:x,error:w}=b;return w?this._returnResult({data:{user:null,session:null},error:w}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Ha}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:w}))}catch(o){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var s,o;const{data:u,error:f}=i;if(f)throw f;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await xw(async o=>(o>0&&await _w(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ft})),(o,u)=>{const f=200*Math.pow(2,o);return u&&po(u)&&Date.now()+f-s<Yr})}catch(s){if(this._debug(i,"error",s),ce(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",s),dt()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:n,url:s},error:null}}async _recoverAndRefresh(){var n,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await qa(this.storage,this.storageKey);if(o&&this.userStorage){let f=await qa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await Pr(this.userStorage,this.storageKey+"-user",f)),o.user=(n=f?.user)!==null&&n!==void 0?n:wf()}else if(o&&!o.user&&!o.user){const f=await qa(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await ft(this.storage,this.storageKey+"-user"),await Pr(this.storage,this.storageKey,o)):o.user=wf()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const u=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<_f;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${_f}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),po(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(o.access_token);!h&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(s,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var i,s;if(!n)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Io;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new Tt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(o,"error",u),ce(u)){const f={data:null,error:u};return po(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,i,s=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:n,session:i});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,i)}catch(m){u.push(m)}});if(await Promise.all(f),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ft(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Pr(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const u=Yg(o);await Pr(this.storage,this.storageKey,u)}else{const o=Yg(i);await Pr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ft(this.storage,this.storageKey),await ft(this.storage,this.storageKey+"-code-verifier"),await ft(this.storage,this.storageKey+"-user"),this.userStorage&&await ft(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&dt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Yr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-n)/Yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Yr}ms, refresh threshold is ${Gf} ticks`),o<=Gf&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof pd)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,s){const o=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,f]=await Gr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(h.toString())}if(s?.queryParams){const u=new URLSearchParams(s.queryParams);o.push(u.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var s;const{data:o,error:u}=i;return u?this._returnResult({data:null,error:u}):await ge(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var s,o;const{data:u,error:f}=i;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:g}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Jw(n.webauthn.credential_response):Fw(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:m}=await ge(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=await ge(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Xw(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Qw(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:s}=await this._challenge({factorId:n.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=i?.factors)!==null&&n!==void 0?n:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=xf(s.access_token);let f=null;u.aal&&(f=u.aal);let h=f;((i=(n=s.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const g=u.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;return o?this._returnResult({data:null,error:o}):s?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Tt});const f=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&dt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Tt});const f=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&dt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;return o?this._returnResult({data:null,error:o}):s?(await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Tt})})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let s=i.keys.find(h=>h.kid===n);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(h=>h.kid===n),s&&this.jwks_cached_at+uw>o)return s;const{data:u,error:f}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,s=u.keys.find(h=>h.kid===n),!s)?null:s}async getClaims(n,i={}){try{let s=n;if(!s){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});s=w.session.access_token}const{header:o,payload:u,signature:f,raw:{header:h,payload:m}}=xf(s);i?.allowExpired||jw(u.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:u,header:o,signature:f},error:null}}const v=Ow(o.alg),b=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,b,f,gw(`${h}.${m}`)))throw new jo("Invalid JWT signature");return{data:{claims:u,header:o,signature:f},error:null}}catch(s){if(ce(s))return this._returnResult({data:null,error:s});throw s}}};yd.nextInstanceID={};const sS=gd,lS=yd,oS=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:sS,AuthApiError:Ly,AuthClient:lS,AuthError:Zr,AuthImplicitGrantRedirectError:ls,AuthInvalidCredentialsError:ss,AuthInvalidJwtError:jo,AuthInvalidTokenResponseError:Ha,AuthPKCEGrantCodeExchangeError:If,AuthRetryableFetchError:No,AuthSessionMissingError:Tt,AuthUnknownError:ma,AuthWeakPasswordError:Yf,CustomAuthError:Bn,GoTrueAdminApi:gd,GoTrueClient:yd,NavigatorLockAcquireTimeoutError:Yy,SIGN_OUT_SCOPES:yo,isAuthApiError:$y,isAuthError:ce,isAuthImplicitGrantRedirectError:Hy,isAuthRetryableFetchError:po,isAuthSessionMissingError:qy,isAuthWeakPasswordError:cw,lockInternals:Va,navigatorLock:Py,processLock:$w},Symbol.toStringTag,{value:"Module"})),Qy=ws(oS);var Wg;function uS(){if(Wg)return es;Wg=1,Object.defineProperty(es,"__esModule",{value:!0}),es.SupabaseAuthClient=void 0;const a=Qy;let n=class extends a.AuthClient{constructor(s){super(s)}};return es.SupabaseAuthClient=n,es}var ep;function tp(){if(ep)return Fl;ep=1,Object.defineProperty(Fl,"__esModule",{value:!0});const a=oy,n=my(),i=wy,s=ew,o=nw(),u=aw(),f=rw(),h=uS();class m{constructor(v,b,x){var w,S,E;this.supabaseUrl=v,this.supabaseKey=b;const O=(0,f.validateSupabaseUrl)(v);if(!b)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",O),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",O),this.storageUrl=new URL("storage/v1",O),this.functionsUrl=new URL("functions/v1",O);const L=`sb-${O.hostname.split(".")[0]}-auth-token`,G={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:L}),global:o.DEFAULT_GLOBAL_OPTIONS},j=(0,f.applySettingDefaults)(x??{},G);this.storageKey=(w=j.auth.storageKey)!==null&&w!==void 0?w:"",this.headers=(S=j.global.headers)!==null&&S!==void 0?S:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(H,D)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(D)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=j.auth)!==null&&E!==void 0?E:{},this.headers,j.global.fetch),this.fetch=(0,u.fetchWithAuth)(b,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.accessToken&&this.accessToken().then(H=>this.realtime.setAuth(H)).catch(H=>console.warn("Failed to set initial Realtime auth token:",H)),this.rest=new n.PostgrestClient(new URL("rest/v1",O).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,x?.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new a.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,b={},x={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,b,x)}channel(v,b={config:{}}){return this.realtime.channel(v,b)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,b;if(this.accessToken)return await this.accessToken();const{data:x}=await this.auth.getSession();return(b=(v=x.session)===null||v===void 0?void 0:v.access_token)!==null&&b!==void 0?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:b,detectSessionInUrl:x,storage:w,userStorage:S,storageKey:E,flowType:O,lock:L,debug:G,throwOnError:j},H,D){const Y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},Y),H),storageKey:E,autoRefreshToken:v,persistSession:b,detectSessionInUrl:x,storage:w,userStorage:S,flowType:O,lock:L,debug:G,throwOnError:j,fetch:D,hasCustomAuthorizationHeader:Object.keys(this.headers).some(q=>q.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new i.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,x)=>{this._handleTokenChanged(b,"CLIENT",x?.access_token)})}_handleTokenChanged(v,b,x){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==x?(this.changedAccessToken=x,this.realtime.setAuth(x)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),b=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Fl.default=m,Fl}var np;function cS(){return np||(np=1,(function(a){var n=Dn&&Dn.__createBinding||(Object.create?(function(v,b,x,w){w===void 0&&(w=x);var S=Object.getOwnPropertyDescriptor(b,x);(!S||("get"in S?!b.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return b[x]}}),Object.defineProperty(v,w,S)}):(function(v,b,x,w){w===void 0&&(w=x),v[w]=b[x]})),i=Dn&&Dn.__exportStar||function(v,b){for(var x in v)x!=="default"&&!Object.prototype.hasOwnProperty.call(b,x)&&n(b,v,x)},s=Dn&&Dn.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(a,"__esModule",{value:!0}),a.createClient=a.SupabaseClient=a.FunctionRegion=a.FunctionsError=a.FunctionsRelayError=a.FunctionsFetchError=a.FunctionsHttpError=a.PostgrestError=void 0;const o=s(tp());i(Qy,a);var u=my();Object.defineProperty(a,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var f=oy;Object.defineProperty(a,"FunctionsHttpError",{enumerable:!0,get:function(){return f.FunctionsHttpError}}),Object.defineProperty(a,"FunctionsFetchError",{enumerable:!0,get:function(){return f.FunctionsFetchError}}),Object.defineProperty(a,"FunctionsRelayError",{enumerable:!0,get:function(){return f.FunctionsRelayError}}),Object.defineProperty(a,"FunctionsError",{enumerable:!0,get:function(){return f.FunctionsError}}),Object.defineProperty(a,"FunctionRegion",{enumerable:!0,get:function(){return f.FunctionRegion}}),i(wy,a);var h=tp();Object.defineProperty(a,"SupabaseClient",{enumerable:!0,get:function(){return s(h).default}});const m=(v,b,x)=>new o.default(v,b,x);a.createClient=m;function g(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const b=v.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}g()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Dn)),Dn}var Jy=cS();const Fy=Mp(Jy),fS=P_({__proto__:null,default:Fy},[Jy]),{PostgrestError:PN,FunctionsHttpError:KN,FunctionsFetchError:XN,FunctionsRelayError:QN,FunctionsError:JN,FunctionRegion:FN,SupabaseClient:ZN,createClient:dS,GoTrueAdminApi:WN,GoTrueClient:ej,AuthAdminApi:tj,AuthClient:nj,navigatorLock:aj,NavigatorLockAcquireTimeoutError:rj,lockInternals:ij,processLock:sj,SIGN_OUT_SCOPES:lj,AuthError:oj,AuthApiError:uj,AuthUnknownError:cj,CustomAuthError:fj,AuthSessionMissingError:dj,AuthInvalidTokenResponseError:hj,AuthInvalidCredentialsError:mj,AuthImplicitGrantRedirectError:gj,AuthPKCEGrantCodeExchangeError:pj,AuthRetryableFetchError:yj,AuthWeakPasswordError:vj,AuthInvalidJwtError:bj,isAuthError:_j,isAuthApiError:xj,isAuthSessionMissingError:wj,isAuthImplicitGrantRedirectError:Sj,isAuthRetryableFetchError:Ej,isAuthWeakPasswordError:Aj,RealtimePresence:Tj,RealtimeChannel:Nj,RealtimeClient:jj,REALTIME_LISTEN_TYPES:Oj,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Cj,REALTIME_PRESENCE_LISTEN_EVENTS:Rj,REALTIME_SUBSCRIBE_STATES:kj,REALTIME_CHANNEL_STATES:Dj}=Fy||fS,hS="https://iktrhksfmflxrxzvaaaa.supabase.co",mS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlrdHJoa3NmbWZseHJ4enZhYWFhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzOTc4NTUsImV4cCI6MjA4MDk3Mzg1NX0.IPqGlZJ0UX6dSiwNzIwq93-afpm7pKcN6leKuPgEeZw",nt=dS(hS,mS,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Zy=oe.createContext(null);function gS({children:a}){const[n,i]=oe.useState(null),[s,o]=oe.useState(!0);oe.useEffect(()=>{let v=!1;async function b(){try{const{data:{session:w},error:S}=await nt.auth.getSession();S&&(console.error("Error getting initial session:",S),await nt.auth.signOut()),v||(i(w?.user??null),o(!1))}catch(w){console.error("Failed to initialize auth:",w),v||(i(null),o(!1))}}b();const{data:{subscription:x}}=nt.auth.onAuthStateChange(async(w,S)=>{v||i(S?.user??null),w==="TOKEN_REFRESHED"||w==="SIGNED_OUT"&&i(null)});return()=>{v=!0,x.unsubscribe()}},[]);async function u(v,b){const{error:x}=await nt.auth.signInWithPassword({email:v,password:b});if(x)throw x}async function f(v,b){const{data:x,error:w}=await nt.auth.signUp({email:v,password:b,options:{emailRedirectTo:window.location.origin}});if(w)throw w;return x}async function h(){try{const{error:v}=await nt.auth.signOut();v&&console.error("Error signing out:",v),i(null)}catch(v){console.error("Sign out failed:",v),i(null)}}async function m(v){const{error:b}=await nt.auth.resetPasswordForEmail(v,{redirectTo:window.location.origin});if(b)throw b}const g={user:n,authLoading:s,signInWithEmail:u,signUpWithEmail:f,signOut:h,resetPassword:m};return p.jsx(Zy.Provider,{value:g,children:a})}function pS(){const a=oe.useContext(Zy);if(!a)throw new Error("useSupabaseAuth must be used inside SupabaseAuthProvider");return a}async function yS(a,n){a&&await nt.from("user_state").upsert({id:a,state:n},{onConflict:"id"})}async function vS(a){if(!a)return null;const{data:n,error:i}=await nt.from("user_state").select("state").eq("id",a).single();return i&&i.code!=="PGRST116"?(console.error("Error loading user state:",i),null):n?.state??null}const fs=["","","","","","","","","",""];function bS(a=""){let n=0;for(let i=0;i<a.length;i++)n=(n<<5)-n+a.charCodeAt(i),n|=0;return Math.abs(n)}function Wy(a,n="Budgeteer"){if(!a)return n;const i=a.trim();return i&&i.replace(/[^a-zA-Z0-9_\- ]+/g,"").slice(0,32)||n}function ko(a){const n=a?.email?.split("@")[0]??"",i=Wy(n,"Budgeteer"),s=a?.id||a?.email||i||String(Date.now()),o=bS(s)%fs.length;return{username:i,avatar_emoji:fs[o]}}let ds=!0;function hs(a){return ko(typeof a=="string"?{id:a}:a)}async function _S(a){const n=typeof a=="string"?a:a?.id;if(!n)return null;if(!ds)return hs(a);try{const{data:i,error:s}=await nt.from("user_metadata").select("username, avatar_emoji").eq("id",n).single();if(s){if(s.code==="PGRST116"){const o=ko(typeof a=="string"?{id:n}:a),{data:u,error:f}=await nt.from("user_metadata").insert({id:n,...o}).select("username, avatar_emoji").single();return f?(console.error("Failed to insert default profile:",f),o):u??o}return console.error("Failed to load user metadata:",s),s?.code==="PGRST205"?(ds=!1,hs(a)):null}return i??null}catch(i){return console.error("Unexpected error loading profile metadata:",i),i?.message?.includes("user_metadata")?(ds=!1,hs(a)):null}}async function xS(a,{username:n,avatar_emoji:i}={}){if(!a)throw new Error("Missing user id for profile update");if(!ds)return hs({id:a});const s={};if(typeof n=="string"&&(s.username=Wy(n)),typeof i=="string"&&i.length<=4&&(s.avatar_emoji=i),!(Object.keys(s).length>0)){const{data:h}=await nt.from("user_metadata").select("username, avatar_emoji").eq("id",a).single();return h??ko({id:a})}const{data:u,error:f}=await nt.from("user_metadata").update(s).eq("id",a).select("username, avatar_emoji").single();if(f){if(f.code==="PGRST116"){const h={...ko({id:a}),...s},{data:m,error:g}=await nt.from("user_metadata").insert({id:a,...h}).select("username, avatar_emoji").single();if(g)throw console.error("Failed to recreate missing profile row:",g),g;return m??h}if(console.error("Failed to update user metadata:",f),f?.code==="PGRST205")return ds=!1,hs({id:a});throw f}return u}function wS({label:a,active:n,onClick:i}){return p.jsx("button",{onClick:i,className:`px-3 py-1 rounded-full border text-xs transition
      ${n?"border-cyan-400 bg-cyan-500/10 text-cyan-200":"border-slate-600/60 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200"}`,children:a})}const Kf=[{key:"dark",label:"Cyber Dark",description:"Charcoal with neon cyan highlights",shellClass:"bg-[#05060A] text-slate-100",headerClass:"border-[#1f2937] bg-[#05060F]/90",pillClass:"border-slate-600/70 bg-black/20 hover:bg-black/40",previewGradient:"from-[#020617] via-[#05060f] to-[#020617]"},{key:"light",label:"Soft Light",description:"Warm whites with slate ink",shellClass:"bg-slate-50 text-slate-900",headerClass:"border-slate-200 bg-white/80",pillClass:"border-slate-300 bg-white/70 hover:bg-slate-100",previewGradient:"from-white via-slate-100 to-slate-200"},{key:"midnight",label:"Midnight Pulse",description:"Indigo mist with electric purple",shellClass:"bg-[#070718] text-indigo-100",headerClass:"border-[#191d3a] bg-gradient-to-r from-[#0f1032cc] to-[#1b0d3fcc]",pillClass:"border-indigo-600/50 bg-indigo-900/40 hover:bg-indigo-900/70",previewGradient:"from-[#0b1433] via-[#25124f] to-[#3b0f49]"},{key:"aurora",label:"Aurora Mist",description:"Deep teal with aurora glow",shellClass:"bg-gradient-to-br from-[#041b1f] via-[#082831] to-[#041b1f] text-emerald-50",headerClass:"border-emerald-900/40 bg-[#051f25]/90",pillClass:"border-emerald-500/40 bg-emerald-900/40 hover:bg-emerald-900/70",previewGradient:"from-[#052528] via-[#0b4b4f] to-[#0f766e]"},{key:"crimson",label:"Crimson Bloom",description:"Deep burgundy with neon rose edges",shellClass:"bg-gradient-to-br from-[#19070a] via-[#2b0d12] to-[#19070a] text-rose-50",headerClass:"border-rose-900/40 bg-[#2b0d12]/90",pillClass:"border-rose-500/50 bg-rose-900/40 hover:bg-rose-900/70",previewGradient:"from-[#300911] via-[#5b0a1c] to-[#be123c]"}];function ev(a){return Kf.find(n=>n.key===a)||Kf[0]}function SS({option:a,active:n,onSelect:i}){return p.jsxs("button",{type:"button",onClick:()=>i(a.key),className:`w-full text-left rounded-xl border px-3 py-2 transition ${n?"border-cyan-400 bg-cyan-500/10":"border-white/10 hover:border-cyan-400/60"}`,children:[p.jsx("div",{className:`h-10 rounded-lg bg-gradient-to-r ${a.previewGradient} mb-2`}),p.jsx("p",{className:"text-sm font-semibold text-white",children:a.label}),p.jsx("p",{className:"text-[11px] text-slate-300",children:a.description})]})}function ES({value:a,onChange:n,variant:i="default",onAfterSelect:s=()=>{}}){const[o,u]=oe.useState(!1),f=oe.useMemo(()=>ev(a),[a]),h=i==="menu";function m(b){n?.(b),u(!1),s?.()}const g=h?"w-full text-left px-3 py-2 text-slate-200 hover:bg-slate-800/80 rounded-md transition":`px-2 py-1 rounded border transition ${f.pillClass}`,v=`absolute ${h?"left-0":"right-0"} ${h?"mt-1":"mt-2"} w-64 rounded-2xl border border-white/15 bg-[#05060F]/95 p-3 shadow-xl backdrop-blur z-50 transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`;return p.jsxs("div",{className:`relative text-xs ${h?"w-full":""}`,children:[p.jsxs("button",{type:"button",onClick:()=>u(b=>!b),className:g,children:["Theme: ",f.label]}),p.jsx("div",{className:v,children:p.jsx("div",{className:"space-y-2",children:Kf.map(b=>p.jsx(SS,{option:b,active:b.key===f.key,onSelect:m},b.key))})})]})}function AS({customizeMode:a,setCustomizeMode:n,onReset:i,onSignOut:s,themeValue:o,onChangeTheme:u=()=>{}}){const[f,h]=oe.useState(!1);return p.jsxs("div",{className:"relative",children:[p.jsx("button",{type:"button",className:"flex items-center justify-center w-9 h-9 rounded-full border border-slate-600/70 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200 transition",onClick:()=>h(m=>!m),children:p.jsxs("span",{className:"relative flex flex-col justify-between w-4 h-3",children:[p.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${f?"translate-y-[5px] rotate-45":""}`}),p.jsx("span",{className:`h-[2px] rounded-full bg-current transition-opacity duration-200 ${f?"opacity-0":"opacity-100"}`}),p.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${f?"-translate-y-[5px] -rotate-45":""}`})]})}),p.jsxs("div",{className:`absolute right-0 mt-2 w-52 bg-[#0B0C14] border border-slate-700/70 rounded-lg shadow-lg z-50 text-xs origin-top-right transform transition-all duration-150 ${f?"opacity-100 scale-100 translate-y-0 pointer-events-auto":"opacity-0 scale-95 -translate-y-1 pointer-events-none"}`,children:[p.jsx("div",{className:"px-2 py-2 border-b border-slate-800/70",children:p.jsx(ES,{value:o,onChange:u,variant:"menu",onAfterSelect:()=>h(!1)})}),p.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:()=>{n(m=>!m),h(!1)},children:a?"Finish Customizing":"Customize Layout"}),p.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-rose-300",onClick:()=>{h(!1),i()},children:"Reset Data"}),p.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:async()=>{h(!1);try{await s()}catch(m){console.error("Sign out failed:",m)}},children:"Sign Out"})]})]})}function TS({onSignIn:a,onSignUp:n,onResetPassword:i,loading:s}){const[o,u]=Be.useState("signin"),[f,h]=Be.useState(""),[m,g]=Be.useState(""),[v,b]=Be.useState(null),[x,w]=Be.useState(null),[S,E]=Be.useState(!1),[O,L]=Be.useState(!1);async function G(){if(b(null),w(null),!f){b("Please enter your email first, then click 'Forgot password?'.");return}if(i){L(!0);try{await i(f),w("If an account exists with that email, a reset link has been sent. Check your inbox.")}catch(H){b(H.message||"Failed to start password reset.")}finally{L(!1)}}}async function j(H){H.preventDefault(),b(null),w(null),E(!0);try{if(o==="signin")await a(f,m);else{const D=await n(f,m),Y=D?.user||null,q=D?.session||null;w(Y&&!q?"Account created! Check your email and click the confirmation link.":"Account created!")}}catch(D){b(D.message||"Something went wrong.")}finally{E(!1)}}return s?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-200",children:p.jsx("div",{className:"text-sm text-slate-400",children:"Checking session..."})}):p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-100 px-4",children:p.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-2xl border border-white/10 bg-black/30 p-8 shadow-[0_20px_50px_rgba(8,8,12,0.8)]",children:[p.jsxs("div",{className:"space-y-2 text-center",children:[p.jsx("p",{className:"text-xs tracking-[0.4em] uppercase text-cyan-300",children:"Budget Center"}),p.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Access portal"}),p.jsx("p",{className:"text-sm text-slate-400",children:o==="signin"?"Sign in to load your encrypted budgets.":"Create an account to sync your budgets and goals across devices."})]}),p.jsxs("div",{className:"grid grid-cols-2 rounded-full bg-white/5 p-1 text-sm",children:[p.jsx("button",{type:"button",onClick:()=>u("signin"),className:`rounded-full py-2 font-medium transition ${o==="signin"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Sign in"}),p.jsx("button",{type:"button",onClick:()=>u("signup"),className:`rounded-full py-2 font-medium transition ${o==="signup"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Create account"})]}),v&&p.jsx("div",{className:"rounded border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-100",children:v}),x&&p.jsx("div",{className:"rounded border border-emerald-400/60 bg-emerald-400/10 px-3 py-2 text-sm text-emerald-100",children:x}),p.jsxs("form",{onSubmit:j,className:"space-y-4",children:[p.jsxs("label",{className:"block text-sm",children:[p.jsx("span",{className:"text-slate-300",children:"Email"}),p.jsx("input",{type:"email",required:!0,value:f,onChange:H=>h(H.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"you@email.com",autoComplete:"email"})]}),p.jsxs("label",{className:"block text-sm",children:[p.jsx("span",{className:"text-slate-300",children:"Password"}),p.jsx("input",{type:"password",required:!0,minLength:6,value:m,onChange:H=>g(H.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"",autoComplete:o==="signin"?"current-password":"new-password"})]}),p.jsx("button",{type:"submit",disabled:S,className:"w-full rounded-lg bg-cyan-500 py-2 text-sm font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:S?"Please wait...":o==="signin"?"Sign in":"Create account"})]}),p.jsx("div",{className:"text-center text-sm text-slate-400",children:p.jsx("button",{type:"button",className:"font-medium text-cyan-300 hover:text-cyan-200 disabled:opacity-60",onClick:G,disabled:O,children:O?"Sending reset link...":"Forgot password?"})})]})})}function NS({message:a,variant:n="info",actionLabel:i,onAction:s,onClose:o}){const u=n==="success";return p.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-xs sm:max-w-sm",children:p.jsxs("div",{className:`toast-enter flex items-start gap-3 rounded-xl border px-4 py-3 text-xs shadow-xl bg-[#05060F]/95 backdrop-blur
        ${u?"border-emerald-400/80 text-emerald-100":"border-cyan-400/80 text-cyan-100"}`,children:[p.jsx("div",{className:"mt-[2px] text-lg",children:u?"":""}),p.jsxs("div",{className:"flex-1 space-y-1",children:[p.jsx("p",{className:"leading-snug",children:a}),i&&s&&p.jsxs("button",{onClick:s,className:"inline-flex items-center gap-1 text-[0.7rem] mt-1 px-2 py-1 rounded-full border border-cyan-400/70 text-cyan-100 hover:bg-cyan-500/10 hover:border-cyan-300 transition",children:[p.jsx("span",{children:i}),p.jsx("span",{className:"text-[0.75rem]",children:""})]})]}),o&&p.jsx("button",{className:"ml-1 text-[0.7rem] text-slate-500 hover:text-slate-200",onClick:o,children:""})]})})}function jS({emoji:a,active:n,onSelect:i}){return p.jsx("button",{type:"button",onClick:()=>i(a),className:`w-9 h-9 text-lg rounded-full border transition flex items-center justify-center
      ${n?"border-cyan-400/80 bg-cyan-500/10":"border-slate-600/60 bg-black/30 hover:border-cyan-400/40"}`,children:a})}function OS({profile:a,email:n,loading:i,onUpdateProfile:s}){const[o,u]=oe.useState(!1),[f,h]=oe.useState(a?.username??""),[m,g]=oe.useState(a?.avatar_emoji??fs[0]),[v,b]=oe.useState(!1);oe.useEffect(()=>{h(a?.username??""),g(a?.avatar_emoji??fs[0])},[a?.username,a?.avatar_emoji]);async function x(E){if(E.preventDefault(),!s)return;b(!0);const O=await s({username:f,avatar_emoji:m});b(!1),O&&u(!1)}const w=a?.avatar_emoji??"",S=a?.username||"Budgeteer";return p.jsxs("div",{className:"relative",children:[p.jsxs("button",{type:"button",onClick:()=>u(E=>!E),className:"flex items-center gap-2 rounded-full border border-slate-600/70 bg-black/20 px-2 py-1 text-left hover:border-cyan-400/60 transition",children:[p.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-cyan-500/10 text-lg",children:w}),p.jsxs("span",{className:"flex flex-col leading-tight text-xs text-slate-300",children:[p.jsx("span",{className:"text-cyan-200",children:S}),p.jsx("span",{className:"text-[10px] text-slate-500",children:i?"Syncing...":"Profile"})]})]}),p.jsxs("form",{className:`absolute right-0 mt-2 w-64 rounded-xl border border-slate-700/70 bg-[#05060F] p-4 text-xs shadow-xl transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,onSubmit:x,children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"text-[11px] text-slate-400",children:n?`Signed in as ${n}`:"Signed in"}),p.jsxs("label",{className:"block",children:[p.jsx("span",{className:"text-slate-300",children:"Display name"}),p.jsx("input",{type:"text",value:f,onChange:E=>h(E.target.value),placeholder:"Budgeteer",className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-xs text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none"})]})]}),p.jsxs("div",{className:"mt-3",children:[p.jsx("p",{className:"mb-2 text-slate-300",children:"Avatar"}),p.jsx("div",{className:"grid grid-cols-5 gap-2",children:fs.map(E=>p.jsx(jS,{emoji:E,active:m===E,onSelect:g},E))})]}),p.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[p.jsx("button",{type:"button",className:"text-[11px] text-slate-500 hover:text-slate-200",onClick:()=>u(!1),children:"Cancel"}),p.jsx("button",{type:"submit",disabled:v,className:"rounded-full bg-cyan-500 px-3 py-1 text-[11px] font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:v?"Saving...":"Save changes"})]})]})]})}const ms=[{key:"cyber",label:"Cyber Cyan",background:"bg-gradient-to-br from-[#041019] via-[#051c25] to-[#03070d]"},{key:"sunset",label:"Sunset Glow",background:"bg-gradient-to-br from-orange-500 via-pink-500 to-rose-500"},{key:"forest",label:"Forest Echo",background:"bg-gradient-to-br from-[#0f3d2a] via-[#145036] to-[#1e6746]"},{key:"midnight",label:"Midnight Pulse",background:"bg-gradient-to-br from-[#09001a] via-[#1b0231] to-[#330057]"}],Xf=["","","","","","","",""],CS={name:"",target:0,current:0,monthlyPlan:0,emoji:"",description:"",dueDate:"",theme:ms[0].key,icon:Xf[0],background:ms[0].key,animation:"pulse"};function RS({open:a,mode:n="create",initialGoal:i={},onClose:s,onSave:o,onDelete:u}){const[f,h]=oe.useState(CS);oe.useEffect(()=>{a&&h({name:i?.name||"",target:Number(i?.target??0),current:Number(i?.current??i?.saved??0),monthlyPlan:Number(i?.monthlyPlan??0),emoji:i?.emoji||"",description:i?.description||"",dueDate:i?.dueDate||"",theme:i?.theme||ms[0].key,icon:i?.icon||Xf[0],background:i?.background||ms[0].key,animation:i?.animation||"pulse"})},[i,a]);const m=n==="edit",g=m?"Edit goal":"Create new goal";function v(E,O){h(L=>({...L,[E]:O}))}function b(E,O){const L=Number(O);v(E,Number.isFinite(L)?L:0)}function x(E){E.preventDefault(),f.name.trim()||v("name","Untitled goal"),o?.({...f,name:f.name.trim()||"Untitled goal"})}const w=!a,S=oe.useMemo(()=>{const E=Number(f.target)||0;if(E<=0)return 0;const O=Math.max(0,Number(f.current)||0);return Math.min(100,O/E*100)},[f.target,f.current]);return a?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm px-4",children:p.jsxs("form",{className:"w-full max-w-lg space-y-4 rounded-2xl border border-white/10 bg-[#05060F] p-6 text-sm shadow-2xl",onSubmit:x,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:g}),p.jsx("p",{className:"text-[11px] text-slate-400",children:"Track savings progress, target amount, and plans."})]}),p.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-200 text-base",onClick:s,children:""})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[p.jsxs("label",{className:"space-y-1",children:[p.jsx("span",{className:"text-xs text-slate-400",children:"Goal name"}),p.jsx("input",{type:"text",className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",value:f.name,onChange:E=>v("name",E.target.value),placeholder:"Emergency fund"})]}),p.jsxs("label",{className:"space-y-1",children:[p.jsx("span",{className:"text-xs text-slate-400",children:"Emoji"}),p.jsx("input",{type:"text",className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",value:f.emoji,onChange:E=>v("emoji",E.target.value.slice(0,4)),placeholder:""})]})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[p.jsxs("label",{className:"space-y-1",children:[p.jsx("span",{className:"text-xs text-slate-400",children:"Target amount"}),p.jsx("input",{type:"number",min:"0",step:"100",className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",value:f.target,onChange:E=>b("target",E.target.value),placeholder:"5000"})]}),p.jsxs("label",{className:"space-y-1",children:[p.jsx("span",{className:"text-xs text-slate-400",children:"Saved so far"}),p.jsx("input",{type:"number",min:"0",step:"50",className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",value:f.current,onChange:E=>b("current",E.target.value),placeholder:"1000"})]}),p.jsxs("label",{className:"space-y-1",children:[p.jsx("span",{className:"text-xs text-slate-400",children:"Monthly plan"}),p.jsx("input",{type:"number",min:"0",step:"1",className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",value:f.monthlyPlan,onChange:E=>b("monthlyPlan",E.target.value),placeholder:"250"})]})]}),p.jsxs("label",{className:"space-y-1 block",children:[p.jsx("span",{className:"text-xs text-slate-400",children:"Description"}),p.jsx("textarea",{rows:"3",className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",value:f.description,onChange:E=>v("description",E.target.value),placeholder:"What is this goal for?"})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[p.jsxs("label",{className:"space-y-1",children:[p.jsx("span",{className:"text-xs text-slate-400",children:"Target date"}),p.jsx("input",{type:"date",value:f.dueDate,onChange:E=>v("dueDate",E.target.value),className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white focus:border-cyan-400 focus:outline-none"})]}),p.jsxs("label",{className:"space-y-1",children:[p.jsx("span",{className:"text-xs text-slate-400",children:"Animation style"}),p.jsxs("select",{value:f.animation,onChange:E=>v("animation",E.target.value),className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white focus:border-cyan-400 focus:outline-none",children:[p.jsx("option",{value:"pulse",children:"Pulse"}),p.jsx("option",{value:"glow",children:"Glow"}),p.jsx("option",{value:"slide",children:"Slide"}),p.jsx("option",{value:"wave",children:"Wave"})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"block text-xs text-slate-400",children:"Theme"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:ms.map(E=>p.jsxs("button",{type:"button",onClick:()=>h(O=>({...O,theme:E.key,background:E.key})),className:`rounded-xl p-3 text-left transition border ${f.theme===E.key?"border-cyan-400 bg-cyan-500/10":"border-white/10 hover:border-cyan-400/50"}`,children:[p.jsx("div",{className:`h-12 rounded-lg ${E.background} mb-2`}),p.jsx("p",{className:"text-sm text-white",children:E.label})]},E.key))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("span",{className:"text-xs text-slate-400",children:"Icon"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:Xf.map(E=>p.jsx("button",{type:"button",onClick:()=>v("icon",E),className:`w-10 h-10 rounded-full border text-lg flex items-center justify-center ${f.icon===E?"border-cyan-400 bg-cyan-500/10":"border-white/10 hover:border-cyan-400/50"}`,children:E},E))})]}),p.jsxs("div",{className:"text-xs text-slate-400",children:["Progress preview: ",S.toFixed(1),"%"]}),p.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pt-2",children:[m?p.jsx("button",{type:"button",disabled:w,className:"text-xs text-rose-300 hover:text-rose-200 disabled:opacity-50",onClick:()=>{if(!i?.id)return;window.confirm(`Delete goal "${i.name||"this goal"}"?`)&&u?.(i.id)},children:"Delete goal"}):p.jsx("span",{}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"button",className:"rounded-full border border-slate-600/70 px-4 py-2 text-xs text-slate-300 hover:border-slate-400",onClick:s,disabled:w,children:"Cancel"}),p.jsx("button",{type:"submit",className:"rounded-full bg-cyan-500 px-4 py-2 text-xs font-semibold text-black hover:bg-cyan-400 disabled:opacity-60",disabled:w,children:m?"Save changes":"Create goal"})]})]})]})}):null}function kS({open:a,goal:n,onAdd:i,onClose:s}){const[o,u]=oe.useState("");return oe.useEffect(()=>{a&&u("")},[a]),a?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm px-4",children:p.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-white/10 bg-[#05060F] p-5 shadow-2xl text-sm",children:[p.jsxs("header",{className:"mb-4",children:[p.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Add contribution"}),p.jsxs("h2",{className:"text-base font-semibold text-slate-100",children:[n?.emoji," ",n?.name||"Goal"]}),p.jsx("p",{className:"text-[11px] text-slate-400",children:"Log a manual contribution to update your saved amount."})]}),p.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Amount"}),p.jsx("input",{type:"number",min:"0",step:"1",value:o,onChange:f=>u(f.target.value),className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"150"}),p.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[p.jsx("button",{type:"button",className:"rounded-full border border-slate-600/70 px-3 py-1 text-xs text-slate-300 hover:border-slate-400",onClick:s,children:"Cancel"}),p.jsx("button",{type:"button",className:"rounded-full bg-cyan-500 px-4 py-1 text-xs font-semibold text-black hover:bg-cyan-400 disabled:opacity-60",onClick:()=>i?.(o),disabled:!o||Number(o)<=0,children:"Add"})]})]})}):null}function DS(){const[a,n]=Be.useState(null),[i,s]=Be.useState(!1);Be.useEffect(()=>{function u(h){h.preventDefault(),n(h),s(!0)}function f(){n(null),s(!1)}return window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",f),()=>{window.removeEventListener("beforeinstallprompt",u),window.removeEventListener("appinstalled",f)}},[]);async function o(){if(!a)return;a.prompt();const u=await a.userChoice;n(null),s(!1),console.log("PWA install choice:",u?.outcome)}return i?p.jsx("button",{onClick:o,className:"px-3 py-2 rounded-lg border border-white/15 bg-white/10 hover:bg-white/15",children:"Install App"}):null}function tn({title:a,children:n}){return p.jsxs("section",{className:"card-surface border rounded-xl p-4",children:[a&&p.jsx("h2",{className:"text-xs font-semibold tracking-[0.25em] text-slate-400 mb-3 uppercase",children:a}),n]})}function vd({value:a=0}){const n=Math.max(0,Math.min(100,Number.isNaN(a)?0:a));return p.jsx("div",{className:"progress-bar",children:p.jsx("div",{className:"progress-bar-filled",style:{width:`${n}%`},children:n>2&&p.jsx("div",{className:"progress-shine shine"})})})}function US(a){switch(a){case"sunset":return"bg-gradient-to-br from-orange-500/70 via-pink-500/60 to-rose-500/60 border-rose-400/60";case"forest":return"bg-gradient-to-br from-emerald-900/70 via-emerald-800/60 to-emerald-700/60 border-emerald-400/60";case"midnight":return"bg-gradient-to-br from-indigo-900/70 via-purple-900/60 to-indigo-900/70 border-indigo-400/60";case"cyber":default:return"bg-[#090a11] border-slate-800"}}function MS({goal:a,onClick:n}){const i=Number(a?.saved??a?.current??0),s=Number(a?.target??0),o=Number(a?.monthlyPlan??0),u=a?.icon||a?.emoji||"",f=a?.name||"Untitled Goal",h=s>0?Math.min(100,i/s*100):0,m=US(a?.theme);return p.jsxs("button",{onClick:n,className:`text-left rounded-xl p-3 hover:border-cyan-400/70 hover:shadow-[0_0_18px_rgba(34,211,238,0.35)] transition ${m}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-lg",children:u}),p.jsx("span",{className:"text-sm font-medium text-slate-100",children:f})]}),p.jsxs("span",{className:"text-[0.7rem] text-slate-400",children:["Plan: $",o.toFixed(0),"/mo"]})]}),p.jsxs("div",{className:"text-xs text-slate-400 mb-1",children:["$",i.toFixed(0)," / $",s.toFixed(0)]}),p.jsx(vd,{value:h})]})}const zS="modulepreload",BS=function(a){return"/budget-app/"+a},ap={},LS=function(n,i,s){let o=Promise.resolve();if(i&&i.length>0){let m=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");o=m(i.map(g=>{if(g=BS(g),g in ap)return;ap[g]=!0;const v=g.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":zS,v||(x.as="script"),x.crossOrigin="",x.href=g,h&&x.setAttribute("nonce",h),document.head.appendChild(x),v)return new Promise((w,S)=>{x.addEventListener("load",w),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return o.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})},Qf=[{key:"chase",label:"Chase"},{key:"capitalone",label:"Capital One"},{key:"wellsfargo",label:"Wells Fargo"},{key:"americanexpress",label:"Amex"},{key:"discover",label:"Discover"},{key:"navyfederal",label:"Navy Federal"},{key:"mountainamerica",label:"Mountain America"},{key:"bankofamerica",label:"Bank of America"},{key:"usbank",label:"US Bank"},{key:"pnc",label:"PNC"}];function Jf(a=""){return a.toLowerCase().replace(/[^a-z0-9]/g,"")}function rp(a="",n=""){const i=Jf((n||"")+" "+a.slice(0,4e3));for(const s of Qf)if(i.includes(s.key))return s.label;return null}function ys(a){const n=[];let i="",s=!1;for(let o=0;o<a.length;o++){const u=a[o];if(u==='"'){s=!s;continue}u===","&&!s?(n.push(i),i=""):i+=u}return n.push(i),n}function vo(a){if(a==null)return NaN;let n=String(a).trim();n=n.replace(/"/g,"");let i=!1;if(n.startsWith("(")&&n.endsWith(")")&&(i=!0,n=n.slice(1,-1)),n=n.replace(/[$,]/g,""),n==="")return NaN;const s=Number(n);return Number.isNaN(s)?NaN:i?-s:s}function tv(a,n){const i=(a||"").toLowerCase();return n>0?i.includes("payroll")||i.includes("direct deposit")?"Income  Paycheck":i.includes("refund")||i.includes("rebate")?"Income  Refund":"Income  Other":i.includes("uber")||i.includes("lyft")||i.includes("taxi")?"Transport  Rideshare":i.includes("shell")||i.includes("chevron")||i.includes("exxon")||i.includes("gas")||i.includes("fuel")?"Transport  Gas":i.includes("walmart")||i.includes("costco")||i.includes("grocery")||i.includes("smith")||i.includes("kroger")?"Groceries":i.includes("starbucks")||i.includes("coffee")||i.includes("mcdonald")||i.includes("taco bell")||i.includes("restaurant")||i.includes("cafe")?"Food & Dining":i.includes("netflix")||i.includes("spotify")||i.includes("hulu")||i.includes("disney")||i.includes("subscription")||i.includes("prime")?"Subscriptions":i.includes("rent")||i.includes("landlord")||i.includes("mortgage")?"Housing  Rent/Mortgage":i.includes("power")||i.includes("electric")||i.includes("water")||i.includes("utility")||i.includes("utilities")?"Utilities":i.includes("gym")||i.includes("fitness")?"Health & Fitness":i.includes("insurance")||i.includes("geico")||i.includes("allstate")?"Insurance":i.includes("amazon")||i.includes("target")||i.includes("best buy")||i.includes("shop")?"Shopping":"Other"}const ts={date:["date","transaction date","posted date","posting date","trans date"],description:["description","details","memo","payee","transaction description","narrative"],debit:["debit","withdrawal","outflow","money out","charge"],credit:["credit","deposit","inflow","money in","payment","credit amount"],amount:["amount","amt","transaction amount","value"]};function $S(a){return ys(a).map(i=>i.trim()).map(i=>{let s=i.toLowerCase().replace(/"/g,"");return s=s.replace(/\s+/g," ").trim(),s})}function ns(a,n){return a.findIndex(i=>n.includes(i))}function nv(a){if(!a)return"";let n=String(a).trim().replace(/"/g,"");if(!n)return"";let i=n.match(/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/);if(i){const[,o,u,f]=i;return`${o}-${u.padStart(2,"0")}-${f.padStart(2,"0")}`}if(i=n.match(/^(\d{4})(\d{2})(\d{2})$/),i){const[,o,u,f]=i;return`${o}-${u}-${f}`}if(i=n.match(/^(\d{1,2})[\/.-](\d{1,2})[\/.-](\d{2,4})$/),i){let[,o,u,f]=i,h=f.length===2?Number(f)>=70?`19${f}`:`20${f}`:f;const m=Number(o),g=Number(u);let v,b;return m>12&&g<=12?(b=m,v=g):(v=m,b=g),`${h}-${String(v).padStart(2,"0")}-${String(b).padStart(2,"0")}`}if(i=n.match(/^(\d{1,2})\s+([A-Za-z]{3,})\s+(\d{2,4})$/),i){const[,o,u,f]=i,h=f.length===2?`20${f}`:f,g=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(u.toLowerCase().slice(0,3));if(g>=0){const v=String(g+1).padStart(2,"0"),b=String(o).padStart(2,"0");return`${h}-${v}-${b}`}}if(i=n.match(/^([A-Za-z]{3,})\s+(\d{1,2}),?\s+(\d{2,4})$/),i){const[,o,u,f]=i,h=f.length===2?`20${f}`:f,g=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(o.toLowerCase().slice(0,3));if(g>=0){const v=String(g+1).padStart(2,"0"),b=String(u).padStart(2,"0");return`${h}-${v}-${b}`}}const s=new Date(n);return Number.isNaN(s.getTime())?n:s.toISOString().slice(0,10)}function qS(a){const n=a.split(/\r?\n/).find(o=>o.trim().length>0)||"";if(!n)return[];const i=ys(n).map(o=>o.trim().replace(/^"|"$/g,""));return i.some(o=>/[a-zA-Z]/.test(o))?i.map((o,u)=>o||`Column ${u+1}`):i.map((o,u)=>`Column ${u+1}`)}function HS(a){const n=a.split(/\r?\n/).filter(x=>x.trim()!=="");if(n.length===0)return[];let i=$S(n[0]),s=1;function o(x){const w=ns(x,ts.date),S=ns(x,ts.description),E=ns(x,ts.amount),O=ns(x,ts.debit),L=ns(x,ts.credit);return{dateIndex:w,descIndex:S,amountIndex:E,debitIndex:O,creditIndex:L}}let{dateIndex:u,descIndex:f,amountIndex:h,debitIndex:m,creditIndex:g}=o(i);if(u<0&&f<0&&h<0&&m<0&&g<0){const x=ys(n[0]).map(S=>S.trim());i=x.map((S,E)=>E===0?"date":E===1?"description":E===2||E===x.length-1?"amount":`col${E+1}`),s=0,{dateIndex:u,descIndex:f,amountIndex:h,debitIndex:m,creditIndex:g}=o(i)}const b=[];for(let x=s;x<n.length;x++){const w=n[x],S=ys(w).map(H=>H.trim());if(S.length===0||S.every(H=>H===""))continue;const E=u>=0?S[u]:"",O=nv(E),L=f>=0?S[f]:"";let G=NaN;if(h>=0)G=vo(S[h]);else if(m>=0||g>=0){const H=m>=0?vo(S[m]):0;G=(g>=0?vo(S[g]):0)-H}if(!O&&!L&&Number.isNaN(G)||typeof G!="number"||Number.isNaN(G))continue;const j=tv(L,G);b.push({date:O,description:L,amount:G,category:j})}return b}function GS(a,{dateIndex:n=null,descIndex:i=null,amountIndex:s=null}={}){const o=a.split(/\r?\n/).filter(f=>f.trim()!=="");if(o.length===0)return[];const u=[];for(let f=1;f<o.length;f++){const h=o[f],m=ys(h).map(S=>S.trim());if(m.length===0||m.every(S=>S===""))continue;const g=n!=null&&n>=0?m[n]:"",v=nv(g),b=i!=null&&i>=0?m[i]:"";let x=NaN;if(s!=null&&s>=0&&(x=vo(m[s])),!v&&!b&&Number.isNaN(x)||typeof x!="number"||Number.isNaN(x))continue;const w=tv(b,x);u.push({date:v,description:b,amount:x,category:w})}return u}function VS(a){return new Promise((n,i)=>{const s=new FileReader;s.onload=o=>n(String(o.target?.result||"")),s.onerror=()=>i(new Error("Failed to read file")),s.readAsText(a)})}function so(a){a.preventDefault(),a.stopPropagation()}function IS(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`f-${Date.now()}-${Math.random().toString(16).slice(2)}`}function YS(a){return(a?.name||"").toLowerCase().endsWith(".pdf")||a?.type==="application/pdf"?"pdf":"csv"}function PS(a){return{id:IS(),file:a,name:a?.name||"unknown",kind:YS(a),detectedBank:"",rawText:"",columns:[],mapping:{date:"",description:"",amount:""},previewRows:[],status:"pending",error:"",importedCount:0,createdAt:Date.now()}}function KS({onTransactionsParsed:a=()=>{}}){const[n,i]=Be.useState([]),[s,o]=Be.useState(null),[u,f]=Be.useState(!1),h=Be.useMemo(()=>n.find(D=>D.id===s)||null,[n,s]),m=n.filter(D=>D.status==="imported").length,g=n.filter(D=>D.status==="ready").length,v=n.filter(D=>D.status==="error").length;function b(D=[]){const Y=Array.from(D||[]).filter(Boolean);if(!Y.length)return;const q=Y.map(PS);i(ee=>{const le=new Set(ee.map(de=>`${de.name}::${de.file?.size}::${de.file?.lastModified}`)),Z=q.filter(de=>{const xe=`${de.name}::${de.file?.size}::${de.file?.lastModified}`;return le.has(xe)?!1:(le.add(xe),!0)});return[...ee,...Z]}),o(ee=>ee||q[0].id)}async function x(D){i(q=>q.map(ee=>ee.id===D?{...ee,status:"parsing",error:""}:ee));const Y=n.find(q=>q.id===D);if(Y)try{if(Y.kind==="pdf"){const{parsePdfTransactions:de}=await LS(async()=>{const{parsePdfTransactions:C}=await import("./pdf-B7cmuP1_.js");return{parsePdfTransactions:C}},[]),{text:xe,rows:$e}=await de(Y.file),Ke=rp(xe,Y.name||""),V=Array.isArray($e)?$e:[];i(C=>C.map(B=>B.id!==D?B:V.length?{...B,rawText:xe||"",detectedBank:Ke||"",previewRows:V,columns:[],status:"ready",error:""}:{...B,rawText:xe||"",detectedBank:Ke||"",previewRows:[],columns:[],status:"error",error:"We couldn't detect any transactions in that PDF. Try a different export or use CSV."}));return}const q=await VS(Y.file),ee=rp(q,Y.name||""),le=HS(q),Z=qS(q);i(de=>de.map(xe=>xe.id!==D?xe:le.length?{...xe,rawText:q,detectedBank:ee||"",columns:Z,previewRows:le,status:"ready",error:""}:{...xe,rawText:q,detectedBank:ee||"",columns:Z,previewRows:[],status:"needsMapping",error:"We couldn't automatically detect the right columns. Use the mapping controls and click Re-parse."}))}catch(q){console.error("Parse error:",q),i(ee=>ee.map(le=>le.id===D?{...le,status:"error",error:le.kind==="pdf"?"We couldn't read this PDF. Try downloading it as a CSV or a different PDF format.":"We couldn't understand this CSV. Try a different export format."}:le))}}Be.useEffect(()=>{const D=n.find(q=>q.status==="pending");if(!D)return;const Y=setTimeout(()=>x(D.id),0);return()=>clearTimeout(Y)},[n]);function w(D,Y){h&&i(q=>q.map(ee=>ee.id===h.id?{...ee,mapping:{...ee.mapping,[D]:Y}}:ee))}function S(){if(!h?.rawText)return;const D={dateIndex:h.mapping.date===""?null:Number.parseInt(h.mapping.date,10),descIndex:h.mapping.description===""?null:Number.parseInt(h.mapping.description,10),amountIndex:h.mapping.amount===""?null:Number.parseInt(h.mapping.amount,10)},Y=GS(h.rawText,D);if(!Y.length){i(q=>q.map(ee=>ee.id===h.id?{...ee,previewRows:[],status:"needsMapping",error:"No rows were parsed with that mapping. Try different columns or reset to auto-detect."}:ee));return}i(q=>q.map(ee=>ee.id===h.id?{...ee,previewRows:Y,status:"ready",error:""}:ee))}function E(D){const Y=n.find(q=>q.id===D);if(Y&&Y.status==="ready"){i(q=>q.map(ee=>ee.id===D?{...ee,status:"importing"}:ee));try{a(Y.previewRows,Y.rawText),i(q=>q.map(ee=>ee.id===D?{...ee,status:"imported",importedCount:Y.previewRows.length,error:""}:ee))}catch(q){console.error("Import error:",q),i(ee=>ee.map(le=>le.id===D?{...le,status:"error",error:q?.message||"Import failed."}:le))}}}async function O(){const D=n.filter(Y=>Y.status==="ready");for(const Y of D)await new Promise(q=>setTimeout(q,0)),E(Y.id)}function L(D){if(i(Y=>Y.filter(q=>q.id!==D)),s===D){const Y=n.filter(q=>q.id!==D);o(Y[0]?.id||null)}}function G(){i([]),o(null),f(!1)}const j=Math.min(10,h?.previewRows?.length||0),H=(h?.previewRows||[]).reduce((D,Y)=>D+(typeof Y.amount=="number"?Y.amount:0),0);return p.jsxs("div",{className:`space-y-2 text-xs rounded-xl border p-3 transition ${u?"border-cyan-400/70 bg-cyan-500/5":"border-slate-800 bg-slate-950/30"}`,onDragEnter:D=>{so(D),f(!0)},onDragOver:D=>{so(D),f(!0)},onDragLeave:D=>{so(D),f(!1)},onDrop:D=>{so(D),f(!1),b(D.dataTransfer?.files||[])},children:[p.jsxs("p",{className:"text-slate-400",children:["Upload"," ",p.jsx("span",{className:"text-cyan-300 font-semibold",children:".csv"})," or"," ",p.jsx("span",{className:"text-cyan-300 font-semibold",children:".pdf"})," bank statements. You can drop multiple files here. Click a file to preview/match columns before importing."]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[p.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md border border-cyan-400/70 text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 cursor-pointer transition",children:[p.jsx("span",{children:"Choose file(s)"}),p.jsx("input",{type:"file",accept:".csv,.pdf,text/csv,application/pdf,text/plain",multiple:!0,className:"hidden",onChange:D=>{b(D.target.files||[]),D.target.value=""}})]}),n.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{type:"button",onClick:O,disabled:g===0,className:"px-3 py-1.5 rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:["Import all ready (",g,")"]}),p.jsx("button",{type:"button",onClick:G,className:"px-3 py-1.5 rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Clear"}),p.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["Imported"," ",p.jsx("span",{className:"text-slate-200 font-mono",children:m}),"/",p.jsx("span",{className:"text-slate-200 font-mono",children:n.length}),v?p.jsxs("span",{className:"ml-2 text-rose-400",children:["(",v," error",v===1?"":"s",")"]}):null]})]})]}),n.length>0&&p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:n.slice().sort((D,Y)=>D.createdAt-Y.createdAt).map(D=>{const Y=D.id===s,q=D.status==="imported"?"text-emerald-300":D.status==="ready"?"text-cyan-300":D.status==="error"?"text-rose-400":D.status==="needsMapping"?"text-amber-300":"text-slate-400";return p.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-md border text-[0.7rem] whitespace-nowrap ${Y?"border-cyan-400/70 bg-cyan-500/10 text-cyan-200":"border-slate-700 text-slate-300 hover:border-slate-500"}`,children:[p.jsxs("button",{type:"button",onClick:()=>o(D.id),children:[D.name,p.jsxs("span",{className:`ml-2 ${q}`,children:[" ",D.status]})]}),p.jsx("button",{type:"button",className:"ml-1 text-slate-500 hover:text-slate-200",title:"Remove",onClick:()=>L(D.id),children:""})]},D.id)})}),h&&p.jsxs("div",{className:"mt-1 space-y-2",children:[p.jsxs("div",{className:"rounded-md border border-slate-800 bg-black/20 p-2 text-[0.7rem] text-slate-400",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-slate-200 font-semibold",children:h.name})," ",p.jsxs("span",{className:"text-slate-500",children:["(",h.kind.toUpperCase(),")"]})]}),p.jsxs("div",{className:"text-slate-500",children:["Rows:"," ",p.jsx("span",{className:"text-slate-200 font-mono",children:h.previewRows?.length||0}),h.detectedBank?p.jsxs(p.Fragment,{children:[" "," Bank:"," ",p.jsx("span",{className:"text-cyan-300 font-semibold",children:h.detectedBank})]}):null]})]}),h.error?p.jsx("div",{className:"mt-1 text-rose-400",children:h.error}):null]}),h.kind==="csv"&&h.rawText&&h.columns.length>0&&p.jsxs("div",{className:"border border-slate-700 rounded-md p-2 space-y-2",children:[p.jsx("p",{className:"text-[0.7rem] text-slate-400",children:"If dates/amounts look wrong, override the mapping:"}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:["date","description","amount"].map(D=>p.jsxs("label",{className:"flex flex-col gap-1 text-[0.7rem]",children:[p.jsx("span",{className:"uppercase tracking-[0.16em] text-slate-500",children:D}),p.jsxs("select",{className:"bg-[#05060F] border border-slate-700 rounded px-2 py-1 text-slate-200",value:h.mapping?.[D]??"",onChange:Y=>w(D,Y.target.value),children:[p.jsx("option",{value:"",children:"Auto detect"}),h.columns.map((Y,q)=>p.jsxs("option",{value:q,children:[Y," (column ",q+1,")"]},q))]})]},D))}),p.jsx("button",{type:"button",onClick:S,className:"mt-1 px-3 py-1.5 text-[0.7rem] rounded-md border border-cyan-400/70 text-cyan-100 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"Re-parse with mapping"}),h.status==="needsMapping"?p.jsx("p",{className:"text-[0.7rem] text-amber-300",children:"This file needs mapping before it can be imported."}):null]}),h.previewRows?.length>0&&p.jsxs("div",{className:"border border-slate-700 rounded-md p-2 space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-[0.7rem] text-slate-400",children:[p.jsxs("span",{children:["Previewing ",j," of ",h.previewRows.length," rows"]}),p.jsxs("span",{children:["Net amount:"," ",p.jsxs("span",{className:H<0?"text-rose-300":"text-emerald-300",children:[H<0?"-":"","$",Math.abs(H).toFixed(2)]})]})]}),p.jsx("div",{className:"max-h-40 overflow-auto text-[0.7rem]",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"sticky top-0 bg-[#05060F]",children:p.jsxs("tr",{className:"border-b border-slate-700",children:[p.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Date"}),p.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Description"}),p.jsx("th",{className:"py-1 text-right font-semibold text-slate-300",children:"Amount"})]})}),p.jsx("tbody",{children:h.previewRows.slice(0,j).map((D,Y)=>p.jsxs("tr",{className:"border-b border-slate-800/60",children:[p.jsx("td",{className:"py-1 pr-2 text-slate-200",children:D.date}),p.jsx("td",{className:"py-1 pr-2 text-slate-300",children:D.description}),p.jsxs("td",{className:`py-1 text-right ${D.amount<0?"text-rose-300":"text-emerald-300"}`,children:[D.amount<0?"-":"","$",Math.abs(D.amount).toFixed(2)]})]},Y))})]})}),p.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[p.jsx("button",{type:"button",onClick:()=>E(h.id),disabled:h.status!=="ready",className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:"Import this file"}),p.jsx("button",{type:"button",onClick:()=>x(h.id),className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Re-parse"})]})]}),h.previewRows?.length===0&&h.status==="ready"?p.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"No rows to preview. If this seems wrong, try re-parsing or mapping."}):null]}),p.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"Tip: Most banks let you export recent transactions as CSV from their website."})]})}function lo({label:a,value:n,accent:i}){return p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.22em] text-slate-500",children:a}),p.jsxs("span",{className:`text-base font-semibold ${i}`,children:["$",n.toFixed(2)]})]})}const XS=["monthOverview","accountSnapshot","goals","csvImport"];function QS({month:a="",income:n=0,fixed:i=0,variable:s=0,leftover:o=0,goals:u=[],transactions:f=[],accounts:h=[],currentAccountId:m,onChangeCurrentAccount:g=()=>{},onOpenGoal:v=()=>{},onCreateGoal:b=()=>{},onCsvImported:x=()=>{},currentAccountBalance:w=0,totalBalance:S=0,sectionsOrder:E}){const O=Number(n)||0,L=Number(i)||0,G=Number(s)||0,j=Number(o)||0,H=O>0?(O-j)/O*100:0,D=E&&E.length?E:XS,Y=Array.isArray(f)&&f.length>0,[q,ee]=Be.useState(!1);return Be.useEffect(()=>{ee(!1)},[f]),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:a}),p.jsx("span",{className:"text-xs text-slate-400",children:"Overview of this month's money flow"})]}),D.map(le=>{switch(le){case"monthOverview":return p.jsxs(tn,{title:"MONTH OVERVIEW",children:[p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[p.jsx(lo,{label:"Income",value:O,accent:"text-emerald-300"}),p.jsx(lo,{label:"Fixed",value:L,accent:"text-rose-300"}),p.jsx(lo,{label:"Variable",value:G,accent:"text-amber-300"}),p.jsx(lo,{label:"Leftover",value:j,accent:"text-cyan-300"})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Allocation this month"}),p.jsx(vd,{value:H})]})]},"monthOverview");case"accountSnapshot":return p.jsxs(tn,{title:"ACCOUNT SNAPSHOT",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Current account"}),p.jsx("select",{className:"mt-1 bg-[#05060F] border border-slate-700 rounded-md px-2 py-1 text-[0.75rem] text-slate-100",value:m,onChange:Z=>g(Z.target.value),children:(h||[]).map(Z=>p.jsx("option",{value:Z.id,children:Z.name},Z.id))})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Balance"}),p.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",w.toFixed(2)]}),p.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["of $",S.toFixed(2)," total"]})]})]}),p.jsx("hr",{className:"my-3 border-slate-800"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.2em] text-slate-500",children:"All accounts"}),p.jsxs("div",{className:"mt-1 text-xl font-semibold text-emerald-300",children:["$",S.toFixed(2)]}),p.jsx("p",{className:"mt-1 text-[0.7rem] text-slate-500",children:"Total estimated cash across all linked accounts."})]})]},"accountSnapshot");case"goals":return p.jsxs("div",{className:"space-y-3",children:[p.jsx("h2",{className:"text-xs tracking-[0.25em] text-slate-400 uppercase",children:"Goals"}),p.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:u.map(Z=>p.jsx(MS,{goal:Z,onClick:()=>v(Z.id)},Z.id))}),p.jsx("button",{type:"button",onClick:b,className:"mt-1 px-4 py-2 rounded-lg border border-cyan-400/70 text-xs text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"+ Add Goal"})]},"goals");case"csvImport":return p.jsxs(tn,{title:"BANK STATEMENT IMPORT (CSV)",children:[p.jsx(KS,{onTransactionsParsed:(Z,de)=>{ee(!1),x(Z,de)}}),Y&&p.jsxs("div",{className:"mt-4 space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Current account transactions"}),p.jsx("button",{type:"button",className:"text-[0.7rem] px-2 py-1 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 transition",onClick:()=>ee(Z=>!Z),children:q?"Hide":"Show"})]}),q&&p.jsx("div",{className:"max-h-64 overflow-auto border border-slate-800 rounded-lg",children:p.jsxs("table",{className:"w-full text-xs text-left",children:[p.jsx("thead",{className:"bg-slate-900 text-slate-300",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-2 py-1",children:"Date"}),p.jsx("th",{className:"px-2 py-1",children:"Description"}),p.jsx("th",{className:"px-2 py-1",children:"Category"}),p.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-800",children:f.map((Z,de)=>p.jsxs("tr",{className:"hover:bg-slate-900/70",children:[p.jsx("td",{className:"px-2 py-1 text-slate-300",children:Z.date||"-"}),p.jsx("td",{className:"px-2 py-1 text-slate-200",children:Z.description||"-"}),p.jsx("td",{className:"px-2 py-1 text-slate-300",children:Z.category||"Other"}),p.jsx("td",{className:`px-2 py-1 text-right ${typeof Z.amount=="number"&&Z.amount<0?"text-rose-300":"text-emerald-300"}`,children:typeof Z.amount!="number"||Number.isNaN(Z.amount)?"-":`$${Z.amount.toFixed(2)}`})]},de))})]})})]})]},"csvImport");default:return null}})]})}function ip(a){return a.reduce((n,i)=>n+i.amount,0)}function av(a){return(Array.isArray(a?.transactions)?a.transactions:[]).reduce((i,s)=>i+(typeof s.amount=="number"?s.amount:0),0)}function Sf(a){return(a||[]).map(n=>({...n,startingBalance:typeof n.startingBalance=="number"?n.startingBalance:0}))}function JS(a,n){const i=u=>`${(u.date||"").trim()}|${(u.description||"").trim().toLowerCase()}|${isNaN(u.amount)?"NaN":u.amount}`,s=new Set(a.map(u=>i(u))),o=[...a];for(const u of n){const f=i(u);s.has(f)||(o.push(u),s.add(f))}return o}function sp(a=[]){const n=new Set;return(a||[]).forEach(i=>{const s=(i.description||"").trim().toLowerCase();s&&n.add(s)}),n}function FS(a=[]){if(!a.length)return"checking";let n=0,i=0;for(const o of a)typeof o.amount=="number"&&(o.amount<0?n++:o.amount>0&&i++);return n===0&&i===0?"checking":n/(n+i)>=.7?"credit":"checking"}function ZS(a=[],n=""){const i=Jf(n);if(i)for(const h of Qf){const m=(h.key||h.match||"").toLowerCase();if(m&&i.includes(m))return`${h.label} Account`}if(a.length){const h=a.slice(0,20).map(g=>g.description||"").join(" "),m=Jf(h);if(m)for(const g of Qf){const v=(g.key||g.match||"").toLowerCase();if(v&&m.includes(v))return`${g.label} Account`}}if(!a.length)return"Imported Account";const s=(a[0].description||"").trim();if(!s)return"Imported Account";const o=s.split(/\s+/).filter(h=>h.length>3);if(!o.length)return"Imported Account";const f=o[0].replace(/[^a-z0-9]/gi," ").trim();return f?f.charAt(0).toUpperCase()+f.slice(1)+" Account":"Imported Account"}function WS(a=[],n,i=[]){const s=(a||[]).filter(m=>Array.isArray(m.transactions)&&m.transactions.length>0);if(!s.length)return null;const o=sp(i);if(!o.size)return n;let u=null,f=0;for(const m of s){const g=sp(m.transactions);if(!g.size)continue;let v=0;for(const b of o)g.has(b)&&v++;v>f&&(f=v,u=m.id)}const h=o.size>0?f/o.size:0;return u&&(f>=3||h>=.2)?u:null}function e1(a=[],n,i=[],s=""){const o=WS(a,n,i);if(o){const g=(a||[]).map(b=>b.id===o?{...b,transactions:JS(b.transactions||[],i)}:b),v=(a||[]).find(b=>b.id===o);return{targetAccountId:o,targetAccountName:v?.name||"Account",accounts:g,createdNew:!1}}const u=FS(i),f=ZS(i,s),h=f.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")+"-"+Date.now(),m={id:h,name:f,type:u,startingBalance:0,transactions:i};return{targetAccountId:h,targetAccountName:f,accounts:[...a||[],m],createdNew:!0}}function t1({accounts:a=[],currentAccountId:n,onChangeCurrentAccount:i=()=>{},onCreateAccount:s=()=>{},onDeleteAccount:o=()=>{},onSetAccountBalance:u=()=>{},onRenameAccount:f=()=>{}}){const h=Array.isArray(a)&&a.length>0,[m,g]=oe.useState([]),v=b=>{g(x=>x.includes(b)?x.filter(w=>w!==b):[...x,b])};return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("header",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:"Accounts"}),p.jsx("button",{type:"button",onClick:s,className:"px-2 py-1 rounded-md bg-emerald-500 hover:bg-emerald-400 text-xs font-medium text-slate-900",children:"+ New account"})]}),p.jsxs(tn,{title:"ALL ACCOUNTS",children:[!h&&p.jsx("p",{className:"text-xs text-slate-400",children:"No accounts yet. Create one to start tracking balances."}),h&&p.jsx("div",{className:"space-y-2",children:a.map(b=>{const x=Array.isArray(b.transactions)?b.transactions.length:0,w=av(b),S=(typeof b.startingBalance=="number"?b.startingBalance:0)+w,E=Array.isArray(b.transactions)?b.transactions.slice().filter(G=>G&&typeof G=="object").sort((G,j)=>{const H=Date.parse(G.date),D=Date.parse(j.date),Y=Number.isFinite(H),q=Number.isFinite(D);return!Y&&!q?0:Y?q?D-H:-1:1}):[],O=E.length>0,L=m.includes(b.id);return p.jsxs("div",{className:`space-y-2 rounded-md px-3 py-2 text-xs ${b.id===n?"bg-slate-800/70 border border-cyan-400/50":"bg-slate-900/60 border border-slate-700/70"}`,children:[p.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("input",{className:"bg-transparent text-slate-100 font-medium text-xs w-full focus:outline-none",value:b.name,onChange:G=>f(b.id,G.target.value)}),p.jsxs("p",{className:"text-[11px] text-slate-400",children:["Type: ",b.type||"checking"]}),p.jsxs("p",{className:"text-[11px] text-slate-400",children:["Transactions:"," ",p.jsx("span",{className:"text-slate-200",children:x}),"  Net:"," ",p.jsxs("span",{className:S>=0?"text-emerald-300":"text-rose-300",children:["$",S.toFixed(2)]})]})]}),p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("label",{className:"text-[11px] text-slate-400",children:"Starting balance"}),p.jsx("input",{type:"number",className:"w-24 bg-slate-900/80 border border-slate-700 rounded px-1 py-0.5 text-right text-xs font-mono text-slate-100 focus:outline-none focus:ring-1 focus:ring-cyan-400",value:b.startingBalance??0,onChange:G=>u(b.id,parseFloat(G.target.value||"0"))})]}),p.jsxs("div",{className:"flex flex-col items-end gap-1",children:[p.jsx("button",{type:"button",onClick:()=>{i(b.id),v(b.id)},className:"px-2 py-0.5 rounded text-[11px] border border-slate-500 hover:border-cyan-400",children:L?"Hide":"View"}),p.jsx("button",{type:"button",onClick:()=>o(b.id),className:"px-2 py-0.5 rounded text-[11px] text-red-300 hover:bg-red-500/10",children:"Delete"})]})]}),p.jsxs("div",{className:"border-t border-slate-800/70 pt-2",children:[!O&&p.jsx("p",{className:"mt-1 text-[0.65rem] text-slate-500",children:"No transactions imported yet."}),L&&O&&p.jsx("div",{className:"mt-2 max-h-72 overflow-auto rounded-md border border-slate-800/50",children:p.jsxs("table",{className:"w-full text-[0.7rem] text-left",children:[p.jsx("thead",{className:"bg-slate-900 text-slate-300 sticky top-0",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-2 py-1",children:"Date"}),p.jsx("th",{className:"px-2 py-1",children:"Description"}),p.jsx("th",{className:"px-2 py-1",children:"Category"}),p.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-800/70",children:E.map((G,j)=>{const H=Number(G.amount),D=Number.isFinite(H)?`$${H.toFixed(2)}`:"-";return p.jsxs("tr",{children:[p.jsx("td",{className:"px-2 py-1 text-slate-300",children:G.date||"-"}),p.jsx("td",{className:"px-2 py-1 text-slate-200",children:G.description||"Transaction"}),p.jsx("td",{className:"px-2 py-1 text-slate-400",children:G.category||"Other"}),p.jsx("td",{className:`px-2 py-1 text-right ${H<0?"text-rose-300":"text-emerald-300"}`,children:D})]},G.id||`${b.id}-full-${j}`)})})]})})]})]},b.id)})})]})]})}function n1({month:a,budget:n,totals:i,onBudgetChange:s}){const o=Number(n?.income??0),u=Array.isArray(n?.fixed)?n.fixed:[],f=Array.isArray(n?.variable)?n.variable:[];function h(){const v=window.prompt("Monthly income amount:",o.toString());if(v===null)return;const b=Number(v);if(!Number.isFinite(b)){window.alert("Enter a valid number for income.");return}s({...n,income:b})}function m(v){const b=window.prompt(`New ${v} item name:`);if(!b)return;const x=window.prompt(`Amount for "${b}" (numbers only):`),w=Number(x);if(!Number.isFinite(w)){window.alert("That didn't look like a valid number.");return}const S={id:`budget-${v}-${Date.now()}`,label:b,amount:w},O=[...v==="fixed"?u:f,S],L={...n,[v]:O};s(L)}function g(v,b){if(!window.confirm("Delete this item?"))return;const w=(v==="fixed"?u:f).filter((E,O)=>O!==b),S={...n,[v]:w};s(S)}return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("h1",{className:"text-lg font-semibold text-slate-100",children:[a," Budget"]}),p.jsx("span",{className:"text-xs text-slate-400",children:"Income  Expenses  Goals"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs(tn,{title:"INCOME",children:[p.jsxs("div",{className:"text-3xl font-semibold text-emerald-300",children:["$",o.toFixed(2)]}),p.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Total take-home income for the active month."}),p.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-emerald-400/70 text-emerald-200 bg-emerald-500/10 hover:bg-emerald-500/20 transition",onClick:h,children:"Edit Income"})]}),p.jsxs(tn,{title:"FIXED EXPENSES",children:[p.jsx(lp,{items:u,total:i.fixedTotal,onDelete:v=>g("fixed",v)}),p.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-rose-400/70 text-rose-200 bg-rose-500/10 hover:bg-rose-500/20 transition",onClick:()=>m("fixed"),children:"+ Add Fixed Expense"})]}),p.jsxs(tn,{title:"VARIABLE SPENDING",children:[p.jsx(lp,{items:f,total:i.variableTotal,onDelete:v=>g("variable",v)}),p.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-amber-400/70 text-amber-200 bg-amber-500/10 hover:bg-amber-500/20 transition",onClick:()=>m("variable"),children:"+ Add Variable Expense"})]}),p.jsxs(tn,{title:"REMAINING FOR GOALS",children:[p.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",i.leftover.toFixed(2)]}),p.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"This is what's left after income minus all listed expenses."})]})]})]})}function lp({items:a=[],total:n=0,onDelete:i}){return p.jsxs("div",{className:"space-y-2 text-sm",children:[a.length===0&&p.jsx("p",{className:"text-xs text-slate-500",children:"No items yet."}),a.map((s,o)=>{const u=Number(s?.amount??0),f=s?.label||s?.name||`Item ${o+1}`;return p.jsxs("div",{className:"flex items-center justify-between text-slate-200 gap-2",children:[p.jsxs("div",{className:"flex-1 flex justify-between",children:[p.jsx("span",{children:f}),p.jsxs("span",{className:"text-slate-300",children:["$",u.toFixed(2)]})]}),i&&p.jsx("button",{className:"text-[0.65rem] text-slate-500 hover:text-rose-400",onClick:()=>i(o),children:""})]},(s?.id||f)+o)}),p.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-700 flex items-center justify-between text-xs",children:[p.jsx("span",{className:"uppercase tracking-[0.18em] text-slate-500",children:"Total"}),p.jsxs("span",{className:"text-slate-100",children:["$",n.toFixed(2)]})]})]})}const a1=[{value:"auto",label:"Auto (detect)"},{value:"income",label:"Income"},{value:"expense",label:"Expense"},{value:"transfer",label:"Transfer"},{value:"ignore",label:"Ignore"}],r1={income:"Income",expense:"Expense",transfer:"Transfer",ignore:"Ignored",unknown:"Unknown"};function i1({transactions:a=[],accountName:n="",onUpdateTransaction:i=()=>{},onDeleteTransaction:s=()=>{},typeHints:o=[],filterText:u="",onChangeFilterText:f=()=>{}}){const h=Array.isArray(a)&&a.length>0,[m,g]=oe.useState({query:"",minAmount:"",maxAmount:""}),[v,b]=oe.useState("date"),[x,w]=oe.useState("desc");oe.useEffect(()=>{const j=(u||"").trim();j&&g(H=>({...H,query:j}))},[u]);const S=j=>H=>{const D=H.target.value;g(Y=>({...Y,[j]:D})),j==="query"&&f(D)},E=()=>{g({query:"",minAmount:"",maxAmount:""}),f("")},O=m.query||m.minAmount||m.maxAmount,L=()=>{w(j=>j==="asc"?"desc":"asc")},G=oe.useMemo(()=>h?[...a.map((Y,q)=>({tx:Y,index:q})).filter(({tx:Y})=>{const q=m.query.trim().toLowerCase(),ee=Number(Y.amount);if(q&&![Y.description||"",Y.category||""].join(" ").toLowerCase().includes(q))return!1;if(m.minAmount!==""){const le=Number(m.minAmount);if(!Number.isNaN(le)&&!Number.isNaN(ee)&&ee<le)return!1}if(m.maxAmount!==""){const le=Number(m.maxAmount);if(!Number.isNaN(le)&&!Number.isNaN(ee)&&ee>le)return!1}return!0})].sort((Y,q)=>{const ee=Y.tx,le=q.tx,Z=x==="asc"?1:-1;if(v==="amount"){const $e=Number(ee.amount)||0,Ke=Number(le.amount)||0;return($e-Ke)*Z}if(v==="description"||v==="category"){const $e=(ee[v]||"").toLowerCase(),Ke=(le[v]||"").toLowerCase();return $e.localeCompare(Ke)*Z}const de=Date.parse(ee.date)||0,xe=Date.parse(le.date)||0;return(de-xe)*Z}):[],[a,m,v,x,h]);return p.jsxs("div",{className:"space-y-4 w-full",children:[p.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:"Transactions"}),p.jsx("span",{className:"text-xs text-slate-400",children:"Imported from your bank CSV files"}),p.jsxs("p",{className:"text-[0.65rem] text-slate-500",children:["Currently viewing:"," ",p.jsx("span",{className:"font-semibold text-cyan-200",children:n||"None"})]}),!!u.trim()&&p.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-lg border border-cyan-500/40 bg-cyan-500/10 px-2 py-1 text-[0.65rem] text-cyan-200",children:[p.jsx("span",{className:"font-mono",children:"Report filter:"}),p.jsx("span",{className:"text-slate-100",children:u}),p.jsx("button",{type:"button",onClick:()=>E(),className:"ml-1 rounded border border-cyan-500/40 px-2 py-[2px] text-[0.65rem] hover:bg-cyan-500/10",children:"Clear"})]})]}),h&&p.jsxs("span",{className:"text-[0.65rem] text-slate-500",children:["Showing ",G.length," of ",a.length]})]}),p.jsxs(tn,{title:"ALL TRANSACTIONS",children:[!h&&p.jsx("p",{className:"text-xs text-slate-400",children:"No transactions yet. Import a CSV on the Dashboard to see them here."}),h&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"mb-3 flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[p.jsxs("div",{className:"flex flex-col gap-1 w-full md:w-auto",children:[p.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Search"}),p.jsx("input",{type:"text",value:m.query,onChange:S("query"),placeholder:"Search description or category...",className:"h-8 w-full md:w-64 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]}),p.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-end md:justify-end",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Min Amount"}),p.jsx("input",{type:"number",value:m.minAmount,onChange:S("minAmount"),className:"h-8 w-24 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Max Amount"}),p.jsx("input",{type:"number",value:m.maxAmount,onChange:S("maxAmount"),className:"h-8 w-24 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]})]}),p.jsx("button",{type:"button",onClick:E,disabled:!O,className:"h-8 px-3 rounded-md border text-[0.7rem] font-medium transition border-slate-600 text-slate-200 hover:border-cyan-400 hover:text-cyan-200 disabled:opacity-40 disabled:cursor-not-allowed",children:"Clear filters"})]})]}),p.jsx("div",{className:"mb-3 flex flex-col sm:flex-row sm:items-center sm:justify-end gap-2 text-[0.7rem]",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"uppercase tracking-[0.18em] text-slate-500",children:"Sort by"}),p.jsxs("select",{value:v,onChange:j=>b(j.target.value),className:"h-8 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500",children:[p.jsx("option",{value:"date",children:"Date"}),p.jsx("option",{value:"amount",children:"Amount"}),p.jsx("option",{value:"description",children:"Description"}),p.jsx("option",{value:"category",children:"Category"})]}),p.jsx("button",{type:"button",onClick:L,className:"h-8 px-3 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 hover:text-cyan-200 transition",children:x==="asc"?"Asc ":"Desc "})]})})]}),h&&G.length===0&&p.jsx("p",{className:"text-xs text-slate-400",children:"No transactions match your current filters."}),h&&G.length>0&&p.jsx("div",{className:"w-full overflow-x-auto",children:p.jsx("div",{className:"min-w-[760px] max-h-[65vh] overflow-y-auto border border-slate-800 rounded-lg",children:p.jsxs("table",{className:"w-full text-[0.7rem] sm:text-xs text-left",children:[p.jsx("thead",{className:"bg-slate-900 text-slate-300 sticky top-0",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-2 py-1",children:"Date"}),p.jsx("th",{className:"px-2 py-1",children:"Description"}),p.jsx("th",{className:"px-2 py-1",children:"Category"}),p.jsx("th",{className:"px-2 py-1",children:"Type"}),p.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"}),p.jsx("th",{className:"px-2 py-1 text-right",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-800",children:G.map(({tx:j,index:H})=>p.jsxs("tr",{className:"hover:bg-slate-900/70",children:[p.jsx("td",{className:"px-2 py-1 text-slate-300 whitespace-nowrap",children:j.date||"-"}),p.jsx("td",{className:"px-2 py-1 text-slate-200",children:p.jsx("input",{className:"w-full bg-transparent border-b border-slate-700 focus:outline-none focus:border-cyan-400 text-[0.7rem] sm:text-xs",value:j.description||"",onChange:D=>i(H,{description:D.target.value})})}),p.jsx("td",{className:"px-2 py-1 text-slate-300",children:p.jsx("input",{className:"w-full bg-transparent border-b border-slate-700 focus:outline-none focus:border-cyan-400 text-[0.7rem] sm:text-xs",value:j.category||"",onChange:D=>i(H,{category:D.target.value})})}),p.jsx("td",{className:"px-2 py-1 text-slate-300",children:p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("select",{className:"w-full bg-slate-900/40 rounded-md border border-slate-700 px-2 py-1 text-[0.65rem] focus:outline-none focus:border-cyan-400",value:j.flowType||"auto",onChange:D=>{const Y=D.target.value;i(H,{flowType:Y==="auto"?void 0:Y})},children:a1.map(D=>p.jsx("option",{value:D.value,children:D.label},D.value))}),p.jsxs("span",{className:"text-[0.6rem] text-slate-500",children:["Detected: ",r1[o[H]]||"Unknown"]})]})}),p.jsx("td",{className:`px-2 py-1 text-right whitespace-nowrap ${j.amount<0?"text-rose-300":"text-emerald-300"}`,children:isNaN(j.amount)?"-":`$${j.amount.toFixed(2)}`}),p.jsx("td",{className:"px-2 py-1 text-right",children:p.jsx("button",{className:"text-[0.7rem] px-2 py-1 rounded-md border border-rose-500/60 text-rose-300 hover:bg-rose-400/10",onClick:()=>{window.confirm("Delete this transaction from this account?")&&s(H)},children:"Delete"})})]},H))})]})})})]})]})}function s1({onEdit:a,onDelete:n,onDuplicate:i,onExport:s}){const[o,u]=oe.useState(!1);function f(){u(!1),n?.()}return p.jsxs("div",{className:"relative",children:[p.jsx("button",{type:"button",className:"rounded-full border border-slate-600/70 px-3 py-1 text-xs text-slate-300 hover:border-cyan-400/60",onClick:()=>u(h=>!h),children:"Manage goal "}),p.jsxs("div",{className:`absolute right-0 mt-2 w-40 rounded-xl border border-slate-700/70 bg-[#05060F] text-xs shadow-lg transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,children:[p.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),a?.()},children:"Edit goal"}),p.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),i?.()},children:"Duplicate goal"}),p.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),s?.()},children:"Export progress"}),p.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-rose-300 hover:bg-slate-800/70",onClick:()=>{window.confirm("Delete this goal?")&&f()},children:"Delete goal"})]})]})}function l1({goal:a,onEditGoal:n=()=>{},onDeleteGoal:i=()=>{},onDuplicateGoal:s=()=>{},onExportGoal:o=()=>{},onAddContributionRequest:u=()=>{}}){const f=Number(a?.saved??a?.current??0),h=Number(a?.target??0),m=Number(a?.monthlyPlan??0),g=a?.icon||a?.emoji||"",v=a?.name||"Untitled Goal",b=h>0?Math.min(100,f/h*100):0;return p.jsxs("div",{className:"space-y-5",children:[p.jsxs("header",{className:"flex items-center justify-between gap-3",children:[p.jsx("div",{className:"space-y-1",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:g}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:v}),p.jsx("p",{className:"text-xs text-slate-400",children:"Personalized goal view  future: themed backgrounds & animations."})]})]})}),p.jsx(s1,{onEdit:()=>n(a?.id),onDelete:()=>{a?.id&&i(a.id)},onDuplicate:()=>s(a?.id),onExport:()=>o(a?.id)})]}),p.jsx(tn,{title:"PROGRESS",children:p.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[p.jsxs("span",{className:"text-slate-200",children:["$",f.toFixed(2)," / $",h.toFixed(2)]}),p.jsx(vd,{value:b}),p.jsxs("span",{className:"text-xs text-slate-400",children:[b.toFixed(1),"% complete"]})]})}),p.jsxs(tn,{title:"PLAN",children:[p.jsxs("p",{className:"text-sm text-slate-200",children:["Recommended monthly contribution:",p.jsxs("span",{className:"ml-1 text-cyan-300 font-semibold",children:["$",m.toFixed(2)]})]}),p.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Later we'll calculate this based on your income, expenses and due date."}),p.jsx("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:p.jsx("button",{className:"px-3 py-1.5 text-xs rounded-md border border-pink-400/70 text-pink-200 bg-pink-500/10 hover:bg-pink-500/20 transition",onClick:()=>u(a?.id),children:"Add Contribution"})})]})]})}var o1={value:()=>{}};function rv(){for(var a=0,n=arguments.length,i={},s;a<n;++a){if(!(s=arguments[a]+"")||s in i||/[\s.]/.test(s))throw new Error("illegal type: "+s);i[s]=[]}return new bo(i)}function bo(a){this._=a}function u1(a,n){return a.trim().split(/^|\s+/).map(function(i){var s="",o=i.indexOf(".");if(o>=0&&(s=i.slice(o+1),i=i.slice(0,o)),i&&!n.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:s}})}bo.prototype=rv.prototype={constructor:bo,on:function(a,n){var i=this._,s=u1(a+"",i),o,u=-1,f=s.length;if(arguments.length<2){for(;++u<f;)if((o=(a=s[u]).type)&&(o=c1(i[o],a.name)))return o;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++u<f;)if(o=(a=s[u]).type)i[o]=op(i[o],a.name,n);else if(n==null)for(o in i)i[o]=op(i[o],a.name,null);return this},copy:function(){var a={},n=this._;for(var i in n)a[i]=n[i].slice();return new bo(a)},call:function(a,n){if((o=arguments.length-2)>0)for(var i=new Array(o),s=0,o,u;s<o;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(u=this._[a],s=0,o=u.length;s<o;++s)u[s].value.apply(n,i)},apply:function(a,n,i){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var s=this._[a],o=0,u=s.length;o<u;++o)s[o].value.apply(n,i)}};function c1(a,n){for(var i=0,s=a.length,o;i<s;++i)if((o=a[i]).name===n)return o.value}function op(a,n,i){for(var s=0,o=a.length;s<o;++s)if(a[s].name===n){a[s]=o1,a=a.slice(0,s).concat(a.slice(s+1));break}return i!=null&&a.push({name:n,value:i}),a}var Ff="http://www.w3.org/1999/xhtml";const up={svg:"http://www.w3.org/2000/svg",xhtml:Ff,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yo(a){var n=a+="",i=n.indexOf(":");return i>=0&&(n=a.slice(0,i))!=="xmlns"&&(a=a.slice(i+1)),up.hasOwnProperty(n)?{space:up[n],local:a}:a}function f1(a){return function(){var n=this.ownerDocument,i=this.namespaceURI;return i===Ff&&n.documentElement.namespaceURI===Ff?n.createElement(a):n.createElementNS(i,a)}}function d1(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function iv(a){var n=Yo(a);return(n.local?d1:f1)(n)}function h1(){}function bd(a){return a==null?h1:function(){return this.querySelector(a)}}function m1(a){typeof a!="function"&&(a=bd(a));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var u=n[o],f=u.length,h=s[o]=new Array(f),m,g,v=0;v<f;++v)(m=u[v])&&(g=a.call(m,m.__data__,v,u))&&("__data__"in m&&(g.__data__=m.__data__),h[v]=g);return new Bt(s,this._parents)}function g1(a){return a==null?[]:Array.isArray(a)?a:Array.from(a)}function p1(){return[]}function sv(a){return a==null?p1:function(){return this.querySelectorAll(a)}}function y1(a){return function(){return g1(a.apply(this,arguments))}}function v1(a){typeof a=="function"?a=y1(a):a=sv(a);for(var n=this._groups,i=n.length,s=[],o=[],u=0;u<i;++u)for(var f=n[u],h=f.length,m,g=0;g<h;++g)(m=f[g])&&(s.push(a.call(m,m.__data__,g,f)),o.push(m));return new Bt(s,o)}function lv(a){return function(){return this.matches(a)}}function ov(a){return function(n){return n.matches(a)}}var b1=Array.prototype.find;function _1(a){return function(){return b1.call(this.children,a)}}function x1(){return this.firstElementChild}function w1(a){return this.select(a==null?x1:_1(typeof a=="function"?a:ov(a)))}var S1=Array.prototype.filter;function E1(){return Array.from(this.children)}function A1(a){return function(){return S1.call(this.children,a)}}function T1(a){return this.selectAll(a==null?E1:A1(typeof a=="function"?a:ov(a)))}function N1(a){typeof a!="function"&&(a=lv(a));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var u=n[o],f=u.length,h=s[o]=[],m,g=0;g<f;++g)(m=u[g])&&a.call(m,m.__data__,g,u)&&h.push(m);return new Bt(s,this._parents)}function uv(a){return new Array(a.length)}function j1(){return new Bt(this._enter||this._groups.map(uv),this._parents)}function Do(a,n){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=n}Do.prototype={constructor:Do,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,n){return this._parent.insertBefore(a,n)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};function O1(a){return function(){return a}}function C1(a,n,i,s,o,u){for(var f=0,h,m=n.length,g=u.length;f<g;++f)(h=n[f])?(h.__data__=u[f],s[f]=h):i[f]=new Do(a,u[f]);for(;f<m;++f)(h=n[f])&&(o[f]=h)}function R1(a,n,i,s,o,u,f){var h,m,g=new Map,v=n.length,b=u.length,x=new Array(v),w;for(h=0;h<v;++h)(m=n[h])&&(x[h]=w=f.call(m,m.__data__,h,n)+"",g.has(w)?o[h]=m:g.set(w,m));for(h=0;h<b;++h)w=f.call(a,u[h],h,u)+"",(m=g.get(w))?(s[h]=m,m.__data__=u[h],g.delete(w)):i[h]=new Do(a,u[h]);for(h=0;h<v;++h)(m=n[h])&&g.get(x[h])===m&&(o[h]=m)}function k1(a){return a.__data__}function D1(a,n){if(!arguments.length)return Array.from(this,k1);var i=n?R1:C1,s=this._parents,o=this._groups;typeof a!="function"&&(a=O1(a));for(var u=o.length,f=new Array(u),h=new Array(u),m=new Array(u),g=0;g<u;++g){var v=s[g],b=o[g],x=b.length,w=U1(a.call(v,v&&v.__data__,g,s)),S=w.length,E=h[g]=new Array(S),O=f[g]=new Array(S),L=m[g]=new Array(x);i(v,b,E,O,L,w,n);for(var G=0,j=0,H,D;G<S;++G)if(H=E[G]){for(G>=j&&(j=G+1);!(D=O[j])&&++j<S;);H._next=D||null}}return f=new Bt(f,s),f._enter=h,f._exit=m,f}function U1(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function M1(){return new Bt(this._exit||this._groups.map(uv),this._parents)}function z1(a,n,i){var s=this.enter(),o=this,u=this.exit();return typeof a=="function"?(s=a(s),s&&(s=s.selection())):s=s.append(a+""),n!=null&&(o=n(o),o&&(o=o.selection())),i==null?u.remove():i(u),s&&o?s.merge(o).order():o}function B1(a){for(var n=a.selection?a.selection():a,i=this._groups,s=n._groups,o=i.length,u=s.length,f=Math.min(o,u),h=new Array(o),m=0;m<f;++m)for(var g=i[m],v=s[m],b=g.length,x=h[m]=new Array(b),w,S=0;S<b;++S)(w=g[S]||v[S])&&(x[S]=w);for(;m<o;++m)h[m]=i[m];return new Bt(h,this._parents)}function L1(){for(var a=this._groups,n=-1,i=a.length;++n<i;)for(var s=a[n],o=s.length-1,u=s[o],f;--o>=0;)(f=s[o])&&(u&&f.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(f,u),u=f);return this}function $1(a){a||(a=q1);function n(b,x){return b&&x?a(b.__data__,x.__data__):!b-!x}for(var i=this._groups,s=i.length,o=new Array(s),u=0;u<s;++u){for(var f=i[u],h=f.length,m=o[u]=new Array(h),g,v=0;v<h;++v)(g=f[v])&&(m[v]=g);m.sort(n)}return new Bt(o,this._parents).order()}function q1(a,n){return a<n?-1:a>n?1:a>=n?0:NaN}function H1(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this}function G1(){return Array.from(this)}function V1(){for(var a=this._groups,n=0,i=a.length;n<i;++n)for(var s=a[n],o=0,u=s.length;o<u;++o){var f=s[o];if(f)return f}return null}function I1(){let a=0;for(const n of this)++a;return a}function Y1(){return!this.node()}function P1(a){for(var n=this._groups,i=0,s=n.length;i<s;++i)for(var o=n[i],u=0,f=o.length,h;u<f;++u)(h=o[u])&&a.call(h,h.__data__,u,o);return this}function K1(a){return function(){this.removeAttribute(a)}}function X1(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Q1(a,n){return function(){this.setAttribute(a,n)}}function J1(a,n){return function(){this.setAttributeNS(a.space,a.local,n)}}function F1(a,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttribute(a):this.setAttribute(a,i)}}function Z1(a,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,i)}}function W1(a,n){var i=Yo(a);if(arguments.length<2){var s=this.node();return i.local?s.getAttributeNS(i.space,i.local):s.getAttribute(i)}return this.each((n==null?i.local?X1:K1:typeof n=="function"?i.local?Z1:F1:i.local?J1:Q1)(i,n))}function cv(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function eE(a){return function(){this.style.removeProperty(a)}}function tE(a,n,i){return function(){this.style.setProperty(a,n,i)}}function nE(a,n,i){return function(){var s=n.apply(this,arguments);s==null?this.style.removeProperty(a):this.style.setProperty(a,s,i)}}function aE(a,n,i){return arguments.length>1?this.each((n==null?eE:typeof n=="function"?nE:tE)(a,n,i??"")):Wr(this.node(),a)}function Wr(a,n){return a.style.getPropertyValue(n)||cv(a).getComputedStyle(a,null).getPropertyValue(n)}function rE(a){return function(){delete this[a]}}function iE(a,n){return function(){this[a]=n}}function sE(a,n){return function(){var i=n.apply(this,arguments);i==null?delete this[a]:this[a]=i}}function lE(a,n){return arguments.length>1?this.each((n==null?rE:typeof n=="function"?sE:iE)(a,n)):this.node()[a]}function fv(a){return a.trim().split(/^|\s+/)}function _d(a){return a.classList||new dv(a)}function dv(a){this._node=a,this._names=fv(a.getAttribute("class")||"")}dv.prototype={add:function(a){var n=this._names.indexOf(a);n<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var n=this._names.indexOf(a);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};function hv(a,n){for(var i=_d(a),s=-1,o=n.length;++s<o;)i.add(n[s])}function mv(a,n){for(var i=_d(a),s=-1,o=n.length;++s<o;)i.remove(n[s])}function oE(a){return function(){hv(this,a)}}function uE(a){return function(){mv(this,a)}}function cE(a,n){return function(){(n.apply(this,arguments)?hv:mv)(this,a)}}function fE(a,n){var i=fv(a+"");if(arguments.length<2){for(var s=_d(this.node()),o=-1,u=i.length;++o<u;)if(!s.contains(i[o]))return!1;return!0}return this.each((typeof n=="function"?cE:n?oE:uE)(i,n))}function dE(){this.textContent=""}function hE(a){return function(){this.textContent=a}}function mE(a){return function(){var n=a.apply(this,arguments);this.textContent=n??""}}function gE(a){return arguments.length?this.each(a==null?dE:(typeof a=="function"?mE:hE)(a)):this.node().textContent}function pE(){this.innerHTML=""}function yE(a){return function(){this.innerHTML=a}}function vE(a){return function(){var n=a.apply(this,arguments);this.innerHTML=n??""}}function bE(a){return arguments.length?this.each(a==null?pE:(typeof a=="function"?vE:yE)(a)):this.node().innerHTML}function _E(){this.nextSibling&&this.parentNode.appendChild(this)}function xE(){return this.each(_E)}function wE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function SE(){return this.each(wE)}function EE(a){var n=typeof a=="function"?a:iv(a);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function AE(){return null}function TE(a,n){var i=typeof a=="function"?a:iv(a),s=n==null?AE:typeof n=="function"?n:bd(n);return this.select(function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)})}function NE(){var a=this.parentNode;a&&a.removeChild(this)}function jE(){return this.each(NE)}function OE(){var a=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(a,this.nextSibling):a}function CE(){var a=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(a,this.nextSibling):a}function RE(a){return this.select(a?CE:OE)}function kE(a){return arguments.length?this.property("__data__",a):this.node().__data__}function DE(a){return function(n){a.call(this,n,this.__data__)}}function UE(a){return a.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");return s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),{type:n,name:i}})}function ME(a){return function(){var n=this.__on;if(n){for(var i=0,s=-1,o=n.length,u;i<o;++i)u=n[i],(!a.type||u.type===a.type)&&u.name===a.name?this.removeEventListener(u.type,u.listener,u.options):n[++s]=u;++s?n.length=s:delete this.__on}}}function zE(a,n,i){return function(){var s=this.__on,o,u=DE(n);if(s){for(var f=0,h=s.length;f<h;++f)if((o=s[f]).type===a.type&&o.name===a.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=i),o.value=n;return}}this.addEventListener(a.type,u,i),o={type:a.type,name:a.name,value:n,listener:u,options:i},s?s.push(o):this.__on=[o]}}function BE(a,n,i){var s=UE(a+""),o,u=s.length,f;if(arguments.length<2){var h=this.node().__on;if(h){for(var m=0,g=h.length,v;m<g;++m)for(o=0,v=h[m];o<u;++o)if((f=s[o]).type===v.type&&f.name===v.name)return v.value}return}for(h=n?zE:ME,o=0;o<u;++o)this.each(h(s[o],n,i));return this}function gv(a,n,i){var s=cv(a),o=s.CustomEvent;typeof o=="function"?o=new o(n,i):(o=s.document.createEvent("Event"),i?(o.initEvent(n,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(n,!1,!1)),a.dispatchEvent(o)}function LE(a,n){return function(){return gv(this,a,n)}}function $E(a,n){return function(){return gv(this,a,n.apply(this,arguments))}}function qE(a,n){return this.each((typeof n=="function"?$E:LE)(a,n))}function*HE(){for(var a=this._groups,n=0,i=a.length;n<i;++n)for(var s=a[n],o=0,u=s.length,f;o<u;++o)(f=s[o])&&(yield f)}var pv=[null];function Bt(a,n){this._groups=a,this._parents=n}function As(){return new Bt([[document.documentElement]],pv)}function GE(){return this}Bt.prototype=As.prototype={constructor:Bt,select:m1,selectAll:v1,selectChild:w1,selectChildren:T1,filter:N1,data:D1,enter:j1,exit:M1,join:z1,merge:B1,selection:GE,order:L1,sort:$1,call:H1,nodes:G1,node:V1,size:I1,empty:Y1,each:P1,attr:W1,style:aE,property:lE,classed:fE,text:gE,html:bE,raise:xE,lower:SE,append:EE,insert:TE,remove:jE,clone:RE,datum:kE,on:BE,dispatch:qE,[Symbol.iterator]:HE};function VE(a){return typeof a=="string"?new Bt([[document.querySelector(a)]],[document.documentElement]):new Bt([[a]],pv)}function xd(a,n,i){a.prototype=n.prototype=i,i.constructor=a}function yv(a,n){var i=Object.create(a.prototype);for(var s in n)i[s]=n[s];return i}function Ts(){}var vs=.7,Uo=1/vs,Jr="\\s*([+-]?\\d+)\\s*",bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IE=/^#([0-9a-f]{3,8})$/,YE=new RegExp(`^rgb\\(${Jr},${Jr},${Jr}\\)$`),PE=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),KE=new RegExp(`^rgba\\(${Jr},${Jr},${Jr},${bs}\\)$`),XE=new RegExp(`^rgba\\(${cn},${cn},${cn},${bs}\\)$`),QE=new RegExp(`^hsl\\(${bs},${cn},${cn}\\)$`),JE=new RegExp(`^hsla\\(${bs},${cn},${cn},${bs}\\)$`),cp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xd(Ts,_s,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:fp,formatHex:fp,formatHex8:FE,formatHsl:ZE,formatRgb:dp,toString:dp});function fp(){return this.rgb().formatHex()}function FE(){return this.rgb().formatHex8()}function ZE(){return vv(this).formatHsl()}function dp(){return this.rgb().formatRgb()}function _s(a){var n,i;return a=(a+"").trim().toLowerCase(),(n=IE.exec(a))?(i=n[1].length,n=parseInt(n[1],16),i===6?hp(n):i===3?new jt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):i===8?oo(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):i===4?oo(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=YE.exec(a))?new jt(n[1],n[2],n[3],1):(n=PE.exec(a))?new jt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=KE.exec(a))?oo(n[1],n[2],n[3],n[4]):(n=XE.exec(a))?oo(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=QE.exec(a))?pp(n[1],n[2]/100,n[3]/100,1):(n=JE.exec(a))?pp(n[1],n[2]/100,n[3]/100,n[4]):cp.hasOwnProperty(a)?hp(cp[a]):a==="transparent"?new jt(NaN,NaN,NaN,0):null}function hp(a){return new jt(a>>16&255,a>>8&255,a&255,1)}function oo(a,n,i,s){return s<=0&&(a=n=i=NaN),new jt(a,n,i,s)}function WE(a){return a instanceof Ts||(a=_s(a)),a?(a=a.rgb(),new jt(a.r,a.g,a.b,a.opacity)):new jt}function Zf(a,n,i,s){return arguments.length===1?WE(a):new jt(a,n,i,s??1)}function jt(a,n,i,s){this.r=+a,this.g=+n,this.b=+i,this.opacity=+s}xd(jt,Zf,yv(Ts,{brighter(a){return a=a==null?Uo:Math.pow(Uo,a),new jt(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=a==null?vs:Math.pow(vs,a),new jt(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new jt(Qa(this.r),Qa(this.g),Qa(this.b),Mo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mp,formatHex:mp,formatHex8:eA,formatRgb:gp,toString:gp}));function mp(){return`#${Xa(this.r)}${Xa(this.g)}${Xa(this.b)}`}function eA(){return`#${Xa(this.r)}${Xa(this.g)}${Xa(this.b)}${Xa((isNaN(this.opacity)?1:this.opacity)*255)}`}function gp(){const a=Mo(this.opacity);return`${a===1?"rgb(":"rgba("}${Qa(this.r)}, ${Qa(this.g)}, ${Qa(this.b)}${a===1?")":`, ${a})`}`}function Mo(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function Qa(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function Xa(a){return a=Qa(a),(a<16?"0":"")+a.toString(16)}function pp(a,n,i,s){return s<=0?a=n=i=NaN:i<=0||i>=1?a=n=NaN:n<=0&&(a=NaN),new en(a,n,i,s)}function vv(a){if(a instanceof en)return new en(a.h,a.s,a.l,a.opacity);if(a instanceof Ts||(a=_s(a)),!a)return new en;if(a instanceof en)return a;a=a.rgb();var n=a.r/255,i=a.g/255,s=a.b/255,o=Math.min(n,i,s),u=Math.max(n,i,s),f=NaN,h=u-o,m=(u+o)/2;return h?(n===u?f=(i-s)/h+(i<s)*6:i===u?f=(s-n)/h+2:f=(n-i)/h+4,h/=m<.5?u+o:2-u-o,f*=60):h=m>0&&m<1?0:f,new en(f,h,m,a.opacity)}function tA(a,n,i,s){return arguments.length===1?vv(a):new en(a,n,i,s??1)}function en(a,n,i,s){this.h=+a,this.s=+n,this.l=+i,this.opacity=+s}xd(en,tA,yv(Ts,{brighter(a){return a=a==null?Uo:Math.pow(Uo,a),new en(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=a==null?vs:Math.pow(vs,a),new en(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,n=isNaN(a)||isNaN(this.s)?0:this.s,i=this.l,s=i+(i<.5?i:1-i)*n,o=2*i-s;return new jt(Ef(a>=240?a-240:a+120,o,s),Ef(a,o,s),Ef(a<120?a+240:a-120,o,s),this.opacity)},clamp(){return new en(yp(this.h),uo(this.s),uo(this.l),Mo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=Mo(this.opacity);return`${a===1?"hsl(":"hsla("}${yp(this.h)}, ${uo(this.s)*100}%, ${uo(this.l)*100}%${a===1?")":`, ${a})`}`}}));function yp(a){return a=(a||0)%360,a<0?a+360:a}function uo(a){return Math.max(0,Math.min(1,a||0))}function Ef(a,n,i){return(a<60?n+(i-n)*a/60:a<180?i:a<240?n+(i-n)*(240-a)/60:n)*255}const bv=a=>()=>a;function nA(a,n){return function(i){return a+i*n}}function aA(a,n,i){return a=Math.pow(a,i),n=Math.pow(n,i)-a,i=1/i,function(s){return Math.pow(a+s*n,i)}}function rA(a){return(a=+a)==1?_v:function(n,i){return i-n?aA(n,i,a):bv(isNaN(n)?i:n)}}function _v(a,n){var i=n-a;return i?nA(a,i):bv(isNaN(a)?n:a)}const vp=(function a(n){var i=rA(n);function s(o,u){var f=i((o=Zf(o)).r,(u=Zf(u)).r),h=i(o.g,u.g),m=i(o.b,u.b),g=_v(o.opacity,u.opacity);return function(v){return o.r=f(v),o.g=h(v),o.b=m(v),o.opacity=g(v),o+""}}return s.gamma=a,s})(1);function ha(a,n){return a=+a,n=+n,function(i){return a*(1-i)+n*i}}var Wf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Af=new RegExp(Wf.source,"g");function iA(a){return function(){return a}}function sA(a){return function(n){return a(n)+""}}function lA(a,n){var i=Wf.lastIndex=Af.lastIndex=0,s,o,u,f=-1,h=[],m=[];for(a=a+"",n=n+"";(s=Wf.exec(a))&&(o=Af.exec(n));)(u=o.index)>i&&(u=n.slice(i,u),h[f]?h[f]+=u:h[++f]=u),(s=s[0])===(o=o[0])?h[f]?h[f]+=o:h[++f]=o:(h[++f]=null,m.push({i:f,x:ha(s,o)})),i=Af.lastIndex;return i<n.length&&(u=n.slice(i),h[f]?h[f]+=u:h[++f]=u),h.length<2?m[0]?sA(m[0].x):iA(n):(n=m.length,function(g){for(var v=0,b;v<n;++v)h[(b=m[v]).i]=b.x(g);return h.join("")})}var bp=180/Math.PI,ed={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xv(a,n,i,s,o,u){var f,h,m;return(f=Math.sqrt(a*a+n*n))&&(a/=f,n/=f),(m=a*i+n*s)&&(i-=a*m,s-=n*m),(h=Math.sqrt(i*i+s*s))&&(i/=h,s/=h,m/=h),a*s<n*i&&(a=-a,n=-n,m=-m,f=-f),{translateX:o,translateY:u,rotate:Math.atan2(n,a)*bp,skewX:Math.atan(m)*bp,scaleX:f,scaleY:h}}var co;function oA(a){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return n.isIdentity?ed:xv(n.a,n.b,n.c,n.d,n.e,n.f)}function uA(a){return a==null||(co||(co=document.createElementNS("http://www.w3.org/2000/svg","g")),co.setAttribute("transform",a),!(a=co.transform.baseVal.consolidate()))?ed:(a=a.matrix,xv(a.a,a.b,a.c,a.d,a.e,a.f))}function wv(a,n,i,s){function o(g){return g.length?g.pop()+" ":""}function u(g,v,b,x,w,S){if(g!==b||v!==x){var E=w.push("translate(",null,n,null,i);S.push({i:E-4,x:ha(g,b)},{i:E-2,x:ha(v,x)})}else(b||x)&&w.push("translate("+b+n+x+i)}function f(g,v,b,x){g!==v?(g-v>180?v+=360:v-g>180&&(g+=360),x.push({i:b.push(o(b)+"rotate(",null,s)-2,x:ha(g,v)})):v&&b.push(o(b)+"rotate("+v+s)}function h(g,v,b,x){g!==v?x.push({i:b.push(o(b)+"skewX(",null,s)-2,x:ha(g,v)}):v&&b.push(o(b)+"skewX("+v+s)}function m(g,v,b,x,w,S){if(g!==b||v!==x){var E=w.push(o(w)+"scale(",null,",",null,")");S.push({i:E-4,x:ha(g,b)},{i:E-2,x:ha(v,x)})}else(b!==1||x!==1)&&w.push(o(w)+"scale("+b+","+x+")")}return function(g,v){var b=[],x=[];return g=a(g),v=a(v),u(g.translateX,g.translateY,v.translateX,v.translateY,b,x),f(g.rotate,v.rotate,b,x),h(g.skewX,v.skewX,b,x),m(g.scaleX,g.scaleY,v.scaleX,v.scaleY,b,x),g=v=null,function(w){for(var S=-1,E=x.length,O;++S<E;)b[(O=x[S]).i]=O.x(w);return b.join("")}}}var cA=wv(oA,"px, ","px)","deg)"),fA=wv(uA,", ",")",")"),ei=0,os=0,as=0,Sv=1e3,zo,us,Bo=0,Ja=0,Po=0,xs=typeof performance=="object"&&performance.now?performance:Date,Ev=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function wd(){return Ja||(Ev(dA),Ja=xs.now()+Po)}function dA(){Ja=0}function Lo(){this._call=this._time=this._next=null}Lo.prototype=Av.prototype={constructor:Lo,restart:function(a,n,i){if(typeof a!="function")throw new TypeError("callback is not a function");i=(i==null?wd():+i)+(n==null?0:+n),!this._next&&us!==this&&(us?us._next=this:zo=this,us=this),this._call=a,this._time=i,td()},stop:function(){this._call&&(this._call=null,this._time=1/0,td())}};function Av(a,n,i){var s=new Lo;return s.restart(a,n,i),s}function hA(){wd(),++ei;for(var a=zo,n;a;)(n=Ja-a._time)>=0&&a._call.call(void 0,n),a=a._next;--ei}function _p(){Ja=(Bo=xs.now())+Po,ei=os=0;try{hA()}finally{ei=0,gA(),Ja=0}}function mA(){var a=xs.now(),n=a-Bo;n>Sv&&(Po-=n,Bo=a)}function gA(){for(var a,n=zo,i,s=1/0;n;)n._call?(s>n._time&&(s=n._time),a=n,n=n._next):(i=n._next,n._next=null,n=a?a._next=i:zo=i);us=a,td(s)}function td(a){if(!ei){os&&(os=clearTimeout(os));var n=a-Ja;n>24?(a<1/0&&(os=setTimeout(_p,a-xs.now()-Po)),as&&(as=clearInterval(as))):(as||(Bo=xs.now(),as=setInterval(mA,Sv)),ei=1,Ev(_p))}}function xp(a,n,i){var s=new Lo;return n=n==null?0:+n,s.restart(o=>{s.stop(),a(o+n)},n,i),s}var pA=rv("start","end","cancel","interrupt"),yA=[],Tv=0,wp=1,nd=2,_o=3,Sp=4,ad=5,xo=6;function Ko(a,n,i,s,o,u){var f=a.__transition;if(!f)a.__transition={};else if(i in f)return;vA(a,i,{name:n,index:s,group:o,on:pA,tween:yA,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Tv})}function Sd(a,n){var i=nn(a,n);if(i.state>Tv)throw new Error("too late; already scheduled");return i}function fn(a,n){var i=nn(a,n);if(i.state>_o)throw new Error("too late; already running");return i}function nn(a,n){var i=a.__transition;if(!i||!(i=i[n]))throw new Error("transition not found");return i}function vA(a,n,i){var s=a.__transition,o;s[n]=i,i.timer=Av(u,0,i.time);function u(g){i.state=wp,i.timer.restart(f,i.delay,i.time),i.delay<=g&&f(g-i.delay)}function f(g){var v,b,x,w;if(i.state!==wp)return m();for(v in s)if(w=s[v],w.name===i.name){if(w.state===_o)return xp(f);w.state===Sp?(w.state=xo,w.timer.stop(),w.on.call("interrupt",a,a.__data__,w.index,w.group),delete s[v]):+v<n&&(w.state=xo,w.timer.stop(),w.on.call("cancel",a,a.__data__,w.index,w.group),delete s[v])}if(xp(function(){i.state===_o&&(i.state=Sp,i.timer.restart(h,i.delay,i.time),h(g))}),i.state=nd,i.on.call("start",a,a.__data__,i.index,i.group),i.state===nd){for(i.state=_o,o=new Array(x=i.tween.length),v=0,b=-1;v<x;++v)(w=i.tween[v].value.call(a,a.__data__,i.index,i.group))&&(o[++b]=w);o.length=b+1}}function h(g){for(var v=g<i.duration?i.ease.call(null,g/i.duration):(i.timer.restart(m),i.state=ad,1),b=-1,x=o.length;++b<x;)o[b].call(a,v);i.state===ad&&(i.on.call("end",a,a.__data__,i.index,i.group),m())}function m(){i.state=xo,i.timer.stop(),delete s[n];for(var g in s)return;delete a.__transition}}function bA(a,n){var i=a.__transition,s,o,u=!0,f;if(i){n=n==null?null:n+"";for(f in i){if((s=i[f]).name!==n){u=!1;continue}o=s.state>nd&&s.state<ad,s.state=xo,s.timer.stop(),s.on.call(o?"interrupt":"cancel",a,a.__data__,s.index,s.group),delete i[f]}u&&delete a.__transition}}function _A(a){return this.each(function(){bA(this,a)})}function xA(a,n){var i,s;return function(){var o=fn(this,a),u=o.tween;if(u!==i){s=i=u;for(var f=0,h=s.length;f<h;++f)if(s[f].name===n){s=s.slice(),s.splice(f,1);break}}o.tween=s}}function wA(a,n,i){var s,o;if(typeof i!="function")throw new Error;return function(){var u=fn(this,a),f=u.tween;if(f!==s){o=(s=f).slice();for(var h={name:n,value:i},m=0,g=o.length;m<g;++m)if(o[m].name===n){o[m]=h;break}m===g&&o.push(h)}u.tween=o}}function SA(a,n){var i=this._id;if(a+="",arguments.length<2){for(var s=nn(this.node(),i).tween,o=0,u=s.length,f;o<u;++o)if((f=s[o]).name===a)return f.value;return null}return this.each((n==null?xA:wA)(i,a,n))}function Ed(a,n,i){var s=a._id;return a.each(function(){var o=fn(this,s);(o.value||(o.value={}))[n]=i.apply(this,arguments)}),function(o){return nn(o,s).value[n]}}function Nv(a,n){var i;return(typeof n=="number"?ha:n instanceof _s?vp:(i=_s(n))?(n=i,vp):lA)(a,n)}function EA(a){return function(){this.removeAttribute(a)}}function AA(a){return function(){this.removeAttributeNS(a.space,a.local)}}function TA(a,n,i){var s,o=i+"",u;return function(){var f=this.getAttribute(a);return f===o?null:f===s?u:u=n(s=f,i)}}function NA(a,n,i){var s,o=i+"",u;return function(){var f=this.getAttributeNS(a.space,a.local);return f===o?null:f===s?u:u=n(s=f,i)}}function jA(a,n,i){var s,o,u;return function(){var f,h=i(this),m;return h==null?void this.removeAttribute(a):(f=this.getAttribute(a),m=h+"",f===m?null:f===s&&m===o?u:(o=m,u=n(s=f,h)))}}function OA(a,n,i){var s,o,u;return function(){var f,h=i(this),m;return h==null?void this.removeAttributeNS(a.space,a.local):(f=this.getAttributeNS(a.space,a.local),m=h+"",f===m?null:f===s&&m===o?u:(o=m,u=n(s=f,h)))}}function CA(a,n){var i=Yo(a),s=i==="transform"?fA:Nv;return this.attrTween(a,typeof n=="function"?(i.local?OA:jA)(i,s,Ed(this,"attr."+a,n)):n==null?(i.local?AA:EA)(i):(i.local?NA:TA)(i,s,n))}function RA(a,n){return function(i){this.setAttribute(a,n.call(this,i))}}function kA(a,n){return function(i){this.setAttributeNS(a.space,a.local,n.call(this,i))}}function DA(a,n){var i,s;function o(){var u=n.apply(this,arguments);return u!==s&&(i=(s=u)&&kA(a,u)),i}return o._value=n,o}function UA(a,n){var i,s;function o(){var u=n.apply(this,arguments);return u!==s&&(i=(s=u)&&RA(a,u)),i}return o._value=n,o}function MA(a,n){var i="attr."+a;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;var s=Yo(a);return this.tween(i,(s.local?DA:UA)(s,n))}function zA(a,n){return function(){Sd(this,a).delay=+n.apply(this,arguments)}}function BA(a,n){return n=+n,function(){Sd(this,a).delay=n}}function LA(a){var n=this._id;return arguments.length?this.each((typeof a=="function"?zA:BA)(n,a)):nn(this.node(),n).delay}function $A(a,n){return function(){fn(this,a).duration=+n.apply(this,arguments)}}function qA(a,n){return n=+n,function(){fn(this,a).duration=n}}function HA(a){var n=this._id;return arguments.length?this.each((typeof a=="function"?$A:qA)(n,a)):nn(this.node(),n).duration}function GA(a,n){if(typeof n!="function")throw new Error;return function(){fn(this,a).ease=n}}function VA(a){var n=this._id;return arguments.length?this.each(GA(n,a)):nn(this.node(),n).ease}function IA(a,n){return function(){var i=n.apply(this,arguments);if(typeof i!="function")throw new Error;fn(this,a).ease=i}}function YA(a){if(typeof a!="function")throw new Error;return this.each(IA(this._id,a))}function PA(a){typeof a!="function"&&(a=lv(a));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var u=n[o],f=u.length,h=s[o]=[],m,g=0;g<f;++g)(m=u[g])&&a.call(m,m.__data__,g,u)&&h.push(m);return new zn(s,this._parents,this._name,this._id)}function KA(a){if(a._id!==this._id)throw new Error;for(var n=this._groups,i=a._groups,s=n.length,o=i.length,u=Math.min(s,o),f=new Array(s),h=0;h<u;++h)for(var m=n[h],g=i[h],v=m.length,b=f[h]=new Array(v),x,w=0;w<v;++w)(x=m[w]||g[w])&&(b[w]=x);for(;h<s;++h)f[h]=n[h];return new zn(f,this._parents,this._name,this._id)}function XA(a){return(a+"").trim().split(/^|\s+/).every(function(n){var i=n.indexOf(".");return i>=0&&(n=n.slice(0,i)),!n||n==="start"})}function QA(a,n,i){var s,o,u=XA(n)?Sd:fn;return function(){var f=u(this,a),h=f.on;h!==s&&(o=(s=h).copy()).on(n,i),f.on=o}}function JA(a,n){var i=this._id;return arguments.length<2?nn(this.node(),i).on.on(a):this.each(QA(i,a,n))}function FA(a){return function(){var n=this.parentNode;for(var i in this.__transition)if(+i!==a)return;n&&n.removeChild(this)}}function ZA(){return this.on("end.remove",FA(this._id))}function WA(a){var n=this._name,i=this._id;typeof a!="function"&&(a=bd(a));for(var s=this._groups,o=s.length,u=new Array(o),f=0;f<o;++f)for(var h=s[f],m=h.length,g=u[f]=new Array(m),v,b,x=0;x<m;++x)(v=h[x])&&(b=a.call(v,v.__data__,x,h))&&("__data__"in v&&(b.__data__=v.__data__),g[x]=b,Ko(g[x],n,i,x,g,nn(v,i)));return new zn(u,this._parents,n,i)}function eT(a){var n=this._name,i=this._id;typeof a!="function"&&(a=sv(a));for(var s=this._groups,o=s.length,u=[],f=[],h=0;h<o;++h)for(var m=s[h],g=m.length,v,b=0;b<g;++b)if(v=m[b]){for(var x=a.call(v,v.__data__,b,m),w,S=nn(v,i),E=0,O=x.length;E<O;++E)(w=x[E])&&Ko(w,n,i,E,x,S);u.push(x),f.push(v)}return new zn(u,f,n,i)}var tT=As.prototype.constructor;function nT(){return new tT(this._groups,this._parents)}function aT(a,n){var i,s,o;return function(){var u=Wr(this,a),f=(this.style.removeProperty(a),Wr(this,a));return u===f?null:u===i&&f===s?o:o=n(i=u,s=f)}}function jv(a){return function(){this.style.removeProperty(a)}}function rT(a,n,i){var s,o=i+"",u;return function(){var f=Wr(this,a);return f===o?null:f===s?u:u=n(s=f,i)}}function iT(a,n,i){var s,o,u;return function(){var f=Wr(this,a),h=i(this),m=h+"";return h==null&&(m=h=(this.style.removeProperty(a),Wr(this,a))),f===m?null:f===s&&m===o?u:(o=m,u=n(s=f,h))}}function sT(a,n){var i,s,o,u="style."+n,f="end."+u,h;return function(){var m=fn(this,a),g=m.on,v=m.value[u]==null?h||(h=jv(n)):void 0;(g!==i||o!==v)&&(s=(i=g).copy()).on(f,o=v),m.on=s}}function lT(a,n,i){var s=(a+="")=="transform"?cA:Nv;return n==null?this.styleTween(a,aT(a,s)).on("end.style."+a,jv(a)):typeof n=="function"?this.styleTween(a,iT(a,s,Ed(this,"style."+a,n))).each(sT(this._id,a)):this.styleTween(a,rT(a,s,n),i).on("end.style."+a,null)}function oT(a,n,i){return function(s){this.style.setProperty(a,n.call(this,s),i)}}function uT(a,n,i){var s,o;function u(){var f=n.apply(this,arguments);return f!==o&&(s=(o=f)&&oT(a,f,i)),s}return u._value=n,u}function cT(a,n,i){var s="style."+(a+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(n==null)return this.tween(s,null);if(typeof n!="function")throw new Error;return this.tween(s,uT(a,n,i??""))}function fT(a){return function(){this.textContent=a}}function dT(a){return function(){var n=a(this);this.textContent=n??""}}function hT(a){return this.tween("text",typeof a=="function"?dT(Ed(this,"text",a)):fT(a==null?"":a+""))}function mT(a){return function(n){this.textContent=a.call(this,n)}}function gT(a){var n,i;function s(){var o=a.apply(this,arguments);return o!==i&&(n=(i=o)&&mT(o)),n}return s._value=a,s}function pT(a){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(a==null)return this.tween(n,null);if(typeof a!="function")throw new Error;return this.tween(n,gT(a))}function yT(){for(var a=this._name,n=this._id,i=Ov(),s=this._groups,o=s.length,u=0;u<o;++u)for(var f=s[u],h=f.length,m,g=0;g<h;++g)if(m=f[g]){var v=nn(m,n);Ko(m,a,i,g,f,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new zn(s,this._parents,a,i)}function vT(){var a,n,i=this,s=i._id,o=i.size();return new Promise(function(u,f){var h={value:f},m={value:function(){--o===0&&u()}};i.each(function(){var g=fn(this,s),v=g.on;v!==a&&(n=(a=v).copy(),n._.cancel.push(h),n._.interrupt.push(h),n._.end.push(m)),g.on=n}),o===0&&u()})}var bT=0;function zn(a,n,i,s){this._groups=a,this._parents=n,this._name=i,this._id=s}function Ov(){return++bT}var Mn=As.prototype;zn.prototype={constructor:zn,select:WA,selectAll:eT,selectChild:Mn.selectChild,selectChildren:Mn.selectChildren,filter:PA,merge:KA,selection:nT,transition:yT,call:Mn.call,nodes:Mn.nodes,node:Mn.node,size:Mn.size,empty:Mn.empty,each:Mn.each,on:JA,attr:CA,attrTween:MA,style:lT,styleTween:cT,text:hT,textTween:pT,remove:ZA,tween:SA,delay:LA,duration:HA,ease:VA,easeVarying:YA,end:vT,[Symbol.iterator]:Mn[Symbol.iterator]};function _T(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var xT={time:null,delay:0,duration:250,ease:_T};function wT(a,n){for(var i;!(i=a.__transition)||!(i=i[n]);)if(!(a=a.parentNode))throw new Error(`transition ${n} not found`);return i}function ST(a){var n,i;a instanceof zn?(n=a._id,a=a._name):(n=Ov(),(i=xT).time=wd(),a=a==null?null:a+"");for(var s=this._groups,o=s.length,u=0;u<o;++u)for(var f=s[u],h=f.length,m,g=0;g<h;++g)(m=f[g])&&Ko(m,a,n,g,f,i||wT(m,n));return new zn(s,this._parents,a,n)}As.prototype.interrupt=_A;As.prototype.transition=ST;function cs(a,n,i){this.k=a,this.x=n,this.y=i}cs.prototype={constructor:cs,scale:function(a){return a===1?this:new cs(this.k*a,this.x,this.y)},translate:function(a,n){return a===0&n===0?this:new cs(this.k,this.x+this.k*a,this.y+this.k*n)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};cs.prototype;function Ep(a,n){let i;if(n===void 0)for(const s of a)s!=null&&(i<s||i===void 0&&s>=s)&&(i=s);else{let s=-1;for(let o of a)(o=n(o,++s,a))!=null&&(i<o||i===void 0&&o>=o)&&(i=o)}return i}function ET(a,n){let i;if(n===void 0)for(const s of a)s!=null&&(i>s||i===void 0&&s>=s)&&(i=s);else{let s=-1;for(let o of a)(o=n(o,++s,a))!=null&&(i>o||i===void 0&&o>=o)&&(i=o)}return i}function Tf(a,n){let i=0;if(n===void 0)for(let s of a)(s=+s)&&(i+=s);else{let s=-1;for(let o of a)(o=+n(o,++s,a))&&(i+=o)}return i}function AT(a,n){return a.sourceLinks.length?a.depth:n-1}function fo(a){return function(){return a}}function Ap(a,n){return $o(a.source,n.source)||a.index-n.index}function Tp(a,n){return $o(a.target,n.target)||a.index-n.index}function $o(a,n){return a.y0-n.y0}function Nf(a){return a.value}function TT(a){return a.index}function NT(a){return a.nodes}function jT(a){return a.links}function Np(a,n){const i=a.get(n);if(!i)throw new Error("missing: "+n);return i}function jp({nodes:a}){for(const n of a){let i=n.y0,s=i;for(const o of n.sourceLinks)o.y0=i+o.width/2,i+=o.width;for(const o of n.targetLinks)o.y1=s+o.width/2,s+=o.width}}function OT(){let a=0,n=0,i=1,s=1,o=24,u=8,f,h=TT,m=AT,g,v,b=NT,x=jT,w=6;function S(){const V={nodes:b.apply(null,arguments),links:x.apply(null,arguments)};return E(V),O(V),L(V),G(V),D(V),jp(V),V}S.update=function(V){return jp(V),V},S.nodeId=function(V){return arguments.length?(h=typeof V=="function"?V:fo(V),S):h},S.nodeAlign=function(V){return arguments.length?(m=typeof V=="function"?V:fo(V),S):m},S.nodeSort=function(V){return arguments.length?(g=V,S):g},S.nodeWidth=function(V){return arguments.length?(o=+V,S):o},S.nodePadding=function(V){return arguments.length?(u=f=+V,S):u},S.nodes=function(V){return arguments.length?(b=typeof V=="function"?V:fo(V),S):b},S.links=function(V){return arguments.length?(x=typeof V=="function"?V:fo(V),S):x},S.linkSort=function(V){return arguments.length?(v=V,S):v},S.size=function(V){return arguments.length?(a=n=0,i=+V[0],s=+V[1],S):[i-a,s-n]},S.extent=function(V){return arguments.length?(a=+V[0][0],i=+V[1][0],n=+V[0][1],s=+V[1][1],S):[[a,n],[i,s]]},S.iterations=function(V){return arguments.length?(w=+V,S):w};function E({nodes:V,links:C}){for(const[J,F]of V.entries())F.index=J,F.sourceLinks=[],F.targetLinks=[];const B=new Map(V.map((J,F)=>[h(J,F,V),J]));for(const[J,F]of C.entries()){F.index=J;let{source:W,target:T}=F;typeof W!="object"&&(W=F.source=Np(B,W)),typeof T!="object"&&(T=F.target=Np(B,T)),W.sourceLinks.push(F),T.targetLinks.push(F)}if(v!=null)for(const{sourceLinks:J,targetLinks:F}of V)J.sort(v),F.sort(v)}function O({nodes:V}){for(const C of V)C.value=C.fixedValue===void 0?Math.max(Tf(C.sourceLinks,Nf),Tf(C.targetLinks,Nf)):C.fixedValue}function L({nodes:V}){const C=V.length;let B=new Set(V),J=new Set,F=0;for(;B.size;){for(const W of B){W.depth=F;for(const{target:T}of W.sourceLinks)J.add(T)}if(++F>C)throw new Error("circular link");B=J,J=new Set}}function G({nodes:V}){const C=V.length;let B=new Set(V),J=new Set,F=0;for(;B.size;){for(const W of B){W.height=F;for(const{source:T}of W.targetLinks)J.add(T)}if(++F>C)throw new Error("circular link");B=J,J=new Set}}function j({nodes:V}){const C=Ep(V,F=>F.depth)+1,B=(i-a-o)/(C-1),J=new Array(C);for(const F of V){const W=Math.max(0,Math.min(C-1,Math.floor(m.call(null,F,C))));F.layer=W,F.x0=a+W*B,F.x1=F.x0+o,J[W]?J[W].push(F):J[W]=[F]}if(g)for(const F of J)F.sort(g);return J}function H(V){const C=ET(V,B=>(s-n-(B.length-1)*f)/Tf(B,Nf));for(const B of V){let J=n;for(const F of B){F.y0=J,F.y1=J+F.value*C,J=F.y1+f;for(const W of F.sourceLinks)W.width=W.value*C}J=(s-J+f)/(B.length+1);for(let F=0;F<B.length;++F){const W=B[F];W.y0+=J*(F+1),W.y1+=J*(F+1)}xe(B)}}function D(V){const C=j(V);f=Math.min(u,(s-n)/(Ep(C,B=>B.length)-1)),H(C);for(let B=0;B<w;++B){const J=Math.pow(.99,B),F=Math.max(1-J,(B+1)/w);q(C,J,F),Y(C,J,F)}}function Y(V,C,B){for(let J=1,F=V.length;J<F;++J){const W=V[J];for(const T of W){let K=0,te=0;for(const{source:me,value:pe}of T.targetLinks){let we=pe*(T.layer-me.layer);K+=$e(me,T)*we,te+=we}if(!(te>0))continue;let ae=(K/te-T.y0)*C;T.y0+=ae,T.y1+=ae,de(T)}g===void 0&&W.sort($o),ee(W,B)}}function q(V,C,B){for(let J=V.length,F=J-2;F>=0;--F){const W=V[F];for(const T of W){let K=0,te=0;for(const{target:me,value:pe}of T.sourceLinks){let we=pe*(me.layer-T.layer);K+=Ke(T,me)*we,te+=we}if(!(te>0))continue;let ae=(K/te-T.y0)*C;T.y0+=ae,T.y1+=ae,de(T)}g===void 0&&W.sort($o),ee(W,B)}}function ee(V,C){const B=V.length>>1,J=V[B];Z(V,J.y0-f,B-1,C),le(V,J.y1+f,B+1,C),Z(V,s,V.length-1,C),le(V,n,0,C)}function le(V,C,B,J){for(;B<V.length;++B){const F=V[B],W=(C-F.y0)*J;W>1e-6&&(F.y0+=W,F.y1+=W),C=F.y1+f}}function Z(V,C,B,J){for(;B>=0;--B){const F=V[B],W=(F.y1-C)*J;W>1e-6&&(F.y0-=W,F.y1-=W),C=F.y0-f}}function de({sourceLinks:V,targetLinks:C}){if(v===void 0){for(const{source:{sourceLinks:B}}of C)B.sort(Tp);for(const{target:{targetLinks:B}}of V)B.sort(Ap)}}function xe(V){if(v===void 0)for(const{sourceLinks:C,targetLinks:B}of V)C.sort(Tp),B.sort(Ap)}function $e(V,C){let B=V.y0-(V.sourceLinks.length-1)*f/2;for(const{target:J,width:F}of V.sourceLinks){if(J===C)break;B+=F+f}for(const{source:J,width:F}of C.targetLinks){if(J===V)break;B-=F}return B}function Ke(V,C){let B=C.y0-(C.targetLinks.length-1)*f/2;for(const{source:J,width:F}of C.targetLinks){if(J===V)break;B+=F+f}for(const{target:J,width:F}of V.sourceLinks){if(J===C)break;B-=F}return B}return S}var rd=Math.PI,id=2*rd,Ia=1e-6,CT=id-Ia;function sd(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Cv(){return new sd}sd.prototype=Cv.prototype={constructor:sd,moveTo:function(a,n){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(a,n){this._+="L"+(this._x1=+a)+","+(this._y1=+n)},quadraticCurveTo:function(a,n,i,s){this._+="Q"+ +a+","+ +n+","+(this._x1=+i)+","+(this._y1=+s)},bezierCurveTo:function(a,n,i,s,o,u){this._+="C"+ +a+","+ +n+","+ +i+","+ +s+","+(this._x1=+o)+","+(this._y1=+u)},arcTo:function(a,n,i,s,o){a=+a,n=+n,i=+i,s=+s,o=+o;var u=this._x1,f=this._y1,h=i-a,m=s-n,g=u-a,v=f-n,b=g*g+v*v;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=a)+","+(this._y1=n);else if(b>Ia)if(!(Math.abs(v*h-m*g)>Ia)||!o)this._+="L"+(this._x1=a)+","+(this._y1=n);else{var x=i-u,w=s-f,S=h*h+m*m,E=x*x+w*w,O=Math.sqrt(S),L=Math.sqrt(b),G=o*Math.tan((rd-Math.acos((S+b-E)/(2*O*L)))/2),j=G/L,H=G/O;Math.abs(j-1)>Ia&&(this._+="L"+(a+j*g)+","+(n+j*v)),this._+="A"+o+","+o+",0,0,"+ +(v*x>g*w)+","+(this._x1=a+H*h)+","+(this._y1=n+H*m)}},arc:function(a,n,i,s,o,u){a=+a,n=+n,i=+i,u=!!u;var f=i*Math.cos(s),h=i*Math.sin(s),m=a+f,g=n+h,v=1^u,b=u?s-o:o-s;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+m+","+g:(Math.abs(this._x1-m)>Ia||Math.abs(this._y1-g)>Ia)&&(this._+="L"+m+","+g),i&&(b<0&&(b=b%id+id),b>CT?this._+="A"+i+","+i+",0,1,"+v+","+(a-f)+","+(n-h)+"A"+i+","+i+",0,1,"+v+","+(this._x1=m)+","+(this._y1=g):b>Ia&&(this._+="A"+i+","+i+",0,"+ +(b>=rd)+","+v+","+(this._x1=a+i*Math.cos(o))+","+(this._y1=n+i*Math.sin(o))))},rect:function(a,n,i,s){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+n)+"h"+ +i+"v"+ +s+"h"+-i+"Z"},toString:function(){return this._}};function Op(a){return function(){return a}}function RT(a){return a[0]}function kT(a){return a[1]}var DT=Array.prototype.slice;function UT(a){return a.source}function MT(a){return a.target}function zT(a){var n=UT,i=MT,s=RT,o=kT,u=null;function f(){var h,m=DT.call(arguments),g=n.apply(this,m),v=i.apply(this,m);if(u||(u=h=Cv()),a(u,+s.apply(this,(m[0]=g,m)),+o.apply(this,m),+s.apply(this,(m[0]=v,m)),+o.apply(this,m)),h)return u=null,h+""||null}return f.source=function(h){return arguments.length?(n=h,f):n},f.target=function(h){return arguments.length?(i=h,f):i},f.x=function(h){return arguments.length?(s=typeof h=="function"?h:Op(+h),f):s},f.y=function(h){return arguments.length?(o=typeof h=="function"?h:Op(+h),f):o},f.context=function(h){return arguments.length?(u=h??null,f):u},f}function BT(a,n,i,s,o){a.moveTo(n,i),a.bezierCurveTo(n=(n+s)/2,i,n,o,s,o)}function LT(){return zT(BT)}function $T(a){return[a.source.x1,a.y0]}function qT(a){return[a.target.x0,a.y1]}function HT(){return LT().source($T).target(qT)}function GT({data:a,height:n=560,nodeWidth:i=16,nodePadding:s=18,onNodeClick:o}){const u=Be.useRef(null);return Be.useEffect(()=>{const f=u.current;if(!f)return;f.innerHTML="";const h=Math.max(700,f.clientWidth||0),m=VE(f).append("svg").attr("width",h).attr("height",n).attr("viewBox",`0 0 ${h} ${n}`),g=E=>{m.append("text").attr("x",16).attr("y",28).attr("fill","#e2e8f0").attr("font-size",12).text(E)},v={Income:"#22c55e",Fixed:"#f97316",Essential:"#3b82f6",Variable:"#a855f7",Transfers:"#eab308",Leftover:"#10b981"},b=Number(a?.meta?.incomeTotal||0),x=E=>b>0?E/b*100:0,w=E=>`$${Number(E||0).toFixed(2)}`;let S=requestAnimationFrame(()=>{try{const E=Array.isArray(a?.nodes)?a.nodes:[],O=Array.isArray(a?.links)?a.links:[];if(!E.length||!O.length){g("No report data yet  import transactions to see cash flow.");return}const L=new Set(E.map(Z=>Z?.name).filter(Boolean));for(const Z of O)typeof Z?.source=="string"&&L.add(Z.source),typeof Z?.target=="string"&&L.add(Z.target);const G=[...L],j=new Map(G.map((Z,de)=>[Z,de])),H=G.map(Z=>({name:Z})),D=O.map(Z=>{const de=typeof Z.source=="string"?j.get(Z.source):Z.source,xe=typeof Z.target=="string"?j.get(Z.target):Z.target,$e=Number(Z.value||0);return typeof de!="number"||typeof xe!="number"||!Number.isFinite($e)||$e<=0?null:{source:de,target:xe,value:$e}}).filter(Boolean);if(!D.length){g("Report links are empty after validation.");return}const q=OT().nodeWidth(i).nodePadding(s).extent([[12,12],[h-12,n-12]])({nodes:H.map(Z=>({...Z})),links:D.map(Z=>({...Z}))});m.append("g").attr("fill","none").attr("stroke-opacity",.35).selectAll("path").data(q.links).join("path").attr("d",HT()).attr("stroke",Z=>{const de=q.nodes[Z.source.index]?.name;return v[de]||"#94a3b8"}).attr("stroke-width",Z=>Math.max(1,Z.width)).append("title").text(Z=>{const de=Number(Z.value||0),xe=q.nodes[Z.source.index]?.name,$e=q.nodes[Z.target.index]?.name;return`${xe}  ${$e}
${w(de)} (${x(de).toFixed(1)}% of income)`});const le=m.append("g").selectAll("g").data(q.nodes).join("g");le.append("rect").attr("x",Z=>Z.x0).attr("y",Z=>Z.y0).attr("height",Z=>Math.max(1,Z.y1-Z.y0)).attr("width",Z=>Z.x1-Z.x0).attr("rx",6).attr("fill",Z=>v[Z.name]||"#64748b").attr("opacity",.9).style("cursor",typeof o=="function"?"pointer":"default").on("click",(Z,de)=>{typeof o=="function"&&o(de.name,de)}).append("title").text(Z=>{const de=Number(Z.value||0);return`${Z.name}
${w(de)} (${x(de).toFixed(1)}% of income)`}),le.append("text").attr("x",Z=>Z.x0<h/2?Z.x1+8:Z.x0-8).attr("y",Z=>(Z.y0+Z.y1)/2).attr("dy","0.35em").attr("text-anchor",Z=>Z.x0<h/2?"start":"end").attr("font-size",12).attr("fill","#e2e8f0").text(Z=>Z.name)}catch(E){console.error("FlowSankey render error:",E),g(`Sankey render error: ${E?.message||String(E)}`)}});return()=>cancelAnimationFrame(S)},[a,n,i,s,o]),p.jsx("div",{ref:u,style:{width:"100%"}})}const Rv=1,wo={topNPerBucket:10,maxRows:2e4,includeTransfers:!0,preset:"Custom",schemaVersion:Rv};function Cp(a,n,i,s){const o=Number(a);return Number.isFinite(o)?Math.max(n,Math.min(i,Math.trunc(o))):s}function kv(a){const i={...wo,...a&&typeof a=="object"?a:{}};return i.topNPerBucket=Cp(i.topNPerBucket,1,50,wo.topNPerBucket),i.maxRows=Cp(i.maxRows,1e3,2e5,wo.maxRows),i.includeTransfers=!!i.includeTransfers,i.preset=typeof i.preset=="string"?i.preset:"Custom",i.schemaVersion=Rv,i}async function VT(a){if(!a)return null;const{data:n,error:i}=await nt.from("report_settings").select("settings").eq("user_id",a).maybeSingle();if(i)throw i;return n?.settings?kv(n.settings):null}async function IT(a,n){if(!a)return;const i=kv(n),{error:s}=await nt.from("report_settings").upsert({user_id:a,settings:i},{onConflict:"user_id"});if(s)throw s}function YT(a){return!a||typeof a!="string"||a.length<7?null:a.slice(0,7)}function jf(a){const n=Number(a);return Number.isFinite(n)?n:0}function PT(a=""){let n=String(a).trim().toLowerCase();return n=n.replace(/\s+/g," "),n}function KT(a=""){let n=String(a).trim();return n=n.replace(/[*#]{3,}\w{2,}$/g,"").trim(),n=n.replace(/\b(?:\d{3,}|x{3,}\d+)\b/gi,"").trim(),n=n.replace(/\s+/g," "),n.length>28&&(n=n.slice(0,26)+""),n||"Uncategorized"}const XT=["rent","mortgage","apts","apt","apartment","lease","property management","hoa","insurance","internet","phone","utilities","loan","payment"],QT=["amazon prime","prime membership","netflix","hulu","spotify","youtube premium","rocket money","membership","subscription","icloud","google one","dropbox"],JT=["grocery","costco","walmart","gas","fuel","medical","pharmacy","power","water"],FT=["transfer","zelle","venmo","cash app","withdrawal","deposit"];function ZT(a=""){const n=a.toLowerCase();return FT.some(i=>n.includes(i))?"Transfers":XT.some(i=>n.includes(i))?"Fixed":QT.some(i=>n.includes(i))?"Subscriptions":JT.some(i=>n.includes(i))?"Essential":"Variable"}function WT(a,n){const i=[];for(const s of a.entries())i.push(s),i.sort((o,u)=>u[1]-o[1]),i.length>n&&(i.length=n);return i}function eN({accounts:a=[],monthKey:n,topNPerBucket:i=10,maxRows:s=2e4,includeTransfers:o=!0}){const u=(a||[]).flatMap(j=>j.transactions||[]),f=n?u.filter(j=>YT(j.date)===n):u,h=f.length>s?f.slice(-s):f,m=h.reduce((j,H)=>j+(jf(H.amount)>0?jf(H.amount):0),0),g=new Map,v=new Map;for(const j of h){const H=jf(j.amount);if(!(H<0))continue;const D=PT(j.description||""),Y=KT(j.description||""),q=ZT(D);if(!o&&q==="Transfers")continue;const ee=Math.abs(H);g.set(q,(g.get(q)||0)+ee),v.has(q)||v.set(q,new Map);const le=v.get(q);le.set(Y,(le.get(Y)||0)+ee)}if(m<=0&&g.size===0)return{nodes:[],links:[],meta:{incomeTotal:0}};const b=o?["Fixed","Subscriptions","Essential","Variable","Transfers"]:["Fixed","Subscriptions","Essential","Variable"],x=[{name:"Income"},...b.map(j=>({name:j}))],w=[];for(const j of b){const H=g.get(j)||0;H>0&&w.push({source:"Income",target:j,value:H})}for(const j of b){const H=v.get(j);if(H)for(const[D,Y]of WT(H,i))x.push({name:D}),w.push({source:j,target:D,value:Y})}const S=b.reduce((j,H)=>H==="Transfers"?j:j+(g.get(H)||0),0),E=Math.max(0,m-S);E>0&&(x.push({name:"Leftover"}),w.push({source:"Income",target:"Leftover",value:E}));const O=g.get("Transfers")||0,L=new Set,G=[];for(const j of x)L.has(j.name)||(L.add(j.name),G.push(j));return{nodes:G,links:w,meta:{incomeTotal:m,totalIncome:m,spentTotal:S,totalSpent:S,transfersTotal:O,leftover:E}}}const ho=wo,tN={Minimal:{topNPerBucket:5,maxRows:1e4,includeTransfers:!1,preset:"Minimal"},Detailed:{topNPerBucket:12,maxRows:6e4,includeTransfers:!0,preset:"Detailed"},Audit:{topNPerBucket:30,maxRows:2e5,includeTransfers:!0,preset:"Audit"}};function Rp(a,n,i,s){const o=Number(a);return Number.isFinite(o)?Math.max(n,Math.min(i,Math.trunc(o))):s}function nN({accounts:a=[],monthKey:n,onMerchantPick:i}){const[s,o]=Be.useState("overview"),[u,f]=Be.useState({nodes:[],links:[],meta:{incomeTotal:0}}),[h,m]=Be.useState(ho),[g,v]=Be.useState({loading:!0,saving:!1,error:null}),[b,x]=Be.useState(null);Be.useEffect(()=>{let S=!0;return(async()=>{const{data:E}=await nt.auth.getUser();S&&x(E?.user?.id||null)})(),()=>{S=!1}},[]),Be.useEffect(()=>{let S=!1;if(!b){v(E=>({...E,loading:!1}));return}return(async()=>{try{v({loading:!0,saving:!1,error:null});const E=await VT(b);if(S)return;m(E?{...ho,...E}:ho),v({loading:!1,saving:!1,error:null})}catch(E){if(S)return;v({loading:!1,saving:!1,error:E?.message||"Failed to load settings"})}})(),()=>{S=!0}},[b]),Be.useEffect(()=>{let S=!1;const E=setTimeout(()=>{const O=eN({accounts:a,monthKey:n,topNPerBucket:h.topNPerBucket,maxRows:h.maxRows,includeTransfers:h.includeTransfers});S||f(O)},0);return()=>{S=!0,clearTimeout(E)}},[a,n,h.topNPerBucket,h.maxRows,h.includeTransfers]),Be.useEffect(()=>{if(!b||g.loading)return;const S=setTimeout(async()=>{try{v(E=>({...E,saving:!0,error:null})),await IT(b,h),v(E=>({...E,saving:!1}))}catch(E){v(O=>({...O,saving:!1,error:E?.message||"Failed to save settings"}))}},600);return()=>clearTimeout(S)},[b,h,g.loading]);function w(S){const E=tN[S];E&&m(O=>({...O,...E,preset:S}))}return p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between gap-3",children:[p.jsxs("div",{className:"inline-flex rounded-xl border border-slate-800 bg-slate-950/40 p-1",children:[p.jsx("button",{onClick:()=>o("overview"),className:`px-3 py-1.5 text-sm rounded-lg ${s==="overview"?"bg-slate-900 text-slate-100":"text-slate-300 hover:text-slate-100"}`,children:"Overview"}),p.jsx("button",{onClick:()=>o("settings"),className:`px-3 py-1.5 text-sm rounded-lg ${s==="settings"?"bg-slate-900 text-slate-100":"text-slate-300 hover:text-slate-100"}`,children:"Settings"})]}),p.jsxs("div",{className:"text-xs text-slate-400",children:[g.loading&&"Loading settings",!g.loading&&g.saving&&"Saving",!g.loading&&!g.saving&&h.preset&&`Preset: ${h.preset}`,g.error?`  ${g.error}`:""]})]}),s==="overview"&&p.jsx("div",{className:"rounded-2xl border border-slate-800 bg-slate-950/40 p-3",children:p.jsx("div",{className:"min-h-[560px]",children:p.jsx(GT,{data:u,height:560,onNodeClick:S=>{!["Income","Fixed","Subscriptions","Essential","Variable","Transfers","Leftover"].includes(S)&&typeof i=="function"&&i(S)}})})}),s==="settings"&&p.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-950/40 p-4 space-y-5",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-sm font-medium text-slate-100",children:"Presets"}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[["Minimal","Detailed","Audit"].map(S=>p.jsx("button",{onClick:()=>w(S),className:"text-sm px-3 py-2 rounded-md border border-slate-800 bg-slate-900 hover:bg-slate-800 text-slate-100",children:S},S)),p.jsx("button",{onClick:()=>m({...ho,preset:"Custom"}),className:"text-sm px-3 py-2 rounded-md border border-slate-800 bg-slate-900 hover:bg-slate-800 text-slate-100",children:"Reset"})]}),p.jsx("p",{className:"text-xs text-slate-400",children:"Presets change chart density/performance. You can still fine-tune below."})]}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-slate-100 text-sm font-medium",children:"Top merchants per bucket"}),p.jsx("input",{type:"number",min:1,max:50,value:h.topNPerBucket,onChange:S=>m(E=>({...E,topNPerBucket:Rp(S.target.value,1,50,10),preset:"Custom"})),className:"w-full bg-slate-900 border border-slate-800 rounded-md px-3 py-2 text-slate-100"}),p.jsx("p",{className:"text-xs text-slate-400",children:"Higher = more nodes/links."})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-slate-100 text-sm font-medium",children:"Max rows to process"}),p.jsx("input",{type:"number",min:1e3,max:2e5,step:1e3,value:h.maxRows,onChange:S=>m(E=>({...E,maxRows:Rp(S.target.value,1e3,2e5,2e4),preset:"Custom"})),className:"w-full bg-slate-900 border border-slate-800 rounded-md px-3 py-2 text-slate-100"}),p.jsx("p",{className:"text-xs text-slate-400",children:"Performance cap for huge CSV imports."})]}),p.jsxs("div",{className:"flex items-center justify-between gap-4 md:col-span-2",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-slate-100 text-sm font-medium",children:"Include Transfers"}),p.jsx("p",{className:"text-slate-400 text-xs",children:"Show/hide Transfers bucket in the chart."})]}),p.jsx("input",{type:"checkbox",checked:!!h.includeTransfers,onChange:S=>m(E=>({...E,includeTransfers:S.target.checked,preset:"Custom"})),className:"h-5 w-5"})]})]}),!b&&p.jsx("div",{className:"text-xs text-amber-300",children:"Not signed in  settings will not persist across devices."})]})]})}const Ad="budgetAppState_v1";function aN(){if(typeof window>"u")return null;try{const a=window.localStorage.getItem(Ad);return a?JSON.parse(a):null}catch(a){return console.error("Failed to load stored state",a),null}}function rN(a){if(!(typeof window>"u"))try{window.localStorage.setItem(Ad,JSON.stringify(a))}catch(n){console.error("Failed to save state",n)}}function iN(a){if(!a)return null;if(a.accounts&&Array.isArray(a.accounts))return a;const n={id:"main",name:"Main Account",type:"checking",transactions:Array.isArray(a.transactions)?a.transactions:[]};return{...a,accounts:[n],currentAccountId:a.currentAccountId||"main"}}const sN=["transfer","online transfer","internal transfer","ach","xfer","external transfer","payment to","payment from"];function lN(a=[]){const n=new Map;for(const i of a||[]){const s=Array.isArray(i?.transactions)?i.transactions:[];for(const o of s){const u=(o?.date||"").slice(0,10),f=Math.abs(Number(o?.amount));if(!u||!Number.isFinite(f)||f===0)continue;const h=`${u}|${f.toFixed(2)}`;n.has(h)||n.set(h,[]),n.get(h).push({accountId:i.id,sign:Math.sign(Number(o.amount)),description:(o.description||"").toLowerCase()})}}return n}function kp(a=""){const n=a.toLowerCase();return sN.some(i=>n.includes(i))}function oN(a,n,i){if(!a)return"unknown";const s=a.flowType;if(s&&s!=="auto")return s;const o=Number(a.amount);if(!Number.isFinite(o)||o===0)return"unknown";const u=a.description||"",f=a.category||"";if(kp(u)||kp(f))return"transfer";const h=(a.date||"").slice(0,10),m=h&&Number.isFinite(Math.abs(o))?`${h}|${Math.abs(o).toFixed(2)}`:null;if(m&&i.has(m)){const g=i.get(m);if(g.some(b=>b.sign>0)&&g.some(b=>b.sign<0)&&g.find(x=>x.accountId!==n&&Math.sign(o)!==x.sign))return"transfer"}return o>0?"income":o<0?"expense":"unknown"}function uN(a=[]){const n=lN(a),i=[],s={};for(const o of a||[]){const u=Array.isArray(o?.transactions)?o.transactions:[],f=[];u.forEach((h,m)=>{const g=oN(h,o.id,n);f[m]=g,i.push({accountId:o.id,accountName:o.name,index:m,flowType:g,...h})}),s[o.id]=f}return{flattened:i,byAccount:s}}const Td=[{key:"dashboard",label:"Dashboard"},{key:"balances",label:"Accounts"},{key:"budget",label:"Budget"},{key:"transactions",label:"Transactions"},{key:"goalDetail",label:"Goals"},{key:"reports",label:"Reports"}],rs=Td.reduce((a,n)=>(a[n.key]=n.label,a),{}),ld=["monthOverview","accountSnapshot","goals","csvImport"],Dv={monthOverview:"Month Overview",accountSnapshot:"Account Snapshot",goals:"Goals",csvImport:"CSV Import"};function ti(){const a=new Date,n=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0");return`${n}-${i}`}function cN(a){if(!a)return null;const n=a.trim(),i=n.match(/^(\d{4})-(\d{1,2})$/);if(i){const o=Number(i[1]),u=Number(i[2]);if(u>=1&&u<=12)return`${o.toString().padStart(4,"0")}-${u.toString().padStart(2,"0")}`}const s=new Date(n);if(!Number.isNaN(s.getTime())){const o=s.getFullYear(),u=s.getMonth()+1;return`${o.toString().padStart(4,"0")}-${u.toString().padStart(2,"0")}`}return null}function fN(a=ti()){return{month:a,income:5e3,fixed:[{id:"rent",label:"Rent / Mortgage",amount:1500},{id:"utilities",label:"Utilities & Internet",amount:250},{id:"insurance",label:"Insurance",amount:180}],variable:[{id:"groceries",label:"Groceries",amount:500},{id:"gas",label:"Gas & Transport",amount:250},{id:"fun",label:"Fun / Eating Out",amount:300}]}}function Kr(a=ti()){return{month:a,income:0,fixed:[],variable:[]}}function qo(a,n){const i=n||a?.month||ti(),s=a||Kr(i);return{...s,month:i,income:Number.isFinite(Number(s.income))?Number(s.income):0,fixed:Array.isArray(s.fixed)?s.fixed.map(o=>({...o})):[],variable:Array.isArray(s.variable)?s.variable.map(o=>({...o})):[]}}function Dp(a){const n=ti();if(a?.budgetsByMonth&&typeof a.budgetsByMonth=="object"){const u={};for(const[h,m]of Object.entries(a.budgetsByMonth))h&&(u[h]=qo(m,h));u[n]||(u[n]=Kr(n));const f=(a?.activeMonth&&u[a.activeMonth]?a.activeMonth:null)||(u[n]?n:null)||Object.keys(u)[0]||n;return{budgetsByMonth:u,activeMonth:f}}const i=a?.budget||fN(n),s=i.month||n,o=qo(i,s);return{budgetsByMonth:{[s]:o},activeMonth:s}}function dN(){return[{id:"emergency",name:"Emergency Fund",target:3e3,current:600,description:"36 months of core expenses to keep you safe."},{id:"debt",name:"Crush Debt",target:5e3,current:1200,description:"Throw extra at your highest interest debt."}]}function hN(){return[]}const Uv="main";function Mv(a={}){return{id:Uv,name:"Main Checking",type:"checking",startingBalance:0,transactions:[],...a}}function mN(){return[Mv({startingBalance:2500})]}function gN(){return[Mv()]}function Up(a){const n=Td.map(o=>o.key);if(!Array.isArray(a)||!a.length)return n;const i=a.filter(o=>n.includes(o)),s=n.filter(o=>!i.includes(o));return[...i,...s]}function Of(a){if(!Array.isArray(a)||!a.length)return ld;const n=a.filter(s=>s in Dv),i=ld.filter(s=>!n.includes(s));return[...n,...i]}function pN(a){const n=ip(a.fixed||[]),i=ip(a.variable||[]),s=(a.income||0)-n-i;return{fixedTotal:n,variableTotal:i,leftover:s}}function yN(a){if(!a)return a;if(Array.isArray(a.transactions)&&a.transactions.length){const n={id:"main",name:"Main Checking",type:"checking",startingBalance:0,transactions:Array.isArray(a.transactions)?a.transactions:[]};return{...a,accounts:[n],currentAccountId:a.currentAccountId||"main"}}return a}const vN=[{match:"chase",label:"Chase"},{match:"capitalone",label:"Capital One"},{match:"wells",label:"Wells Fargo"},{match:"boa",label:"Bank of America"},{match:"navyfederal",label:"Navy Federal"},{match:"usaa",label:"USAA"},{match:"discover",label:"Discover"},{match:"amex",label:"American Express"}];function bN(a=""){const n=a.toLowerCase();for(const{match:i,label:s}of vN)if(n.includes(i))return s;return null}function _N(){const{user:a,authLoading:n,signInWithEmail:i,signUpWithEmail:s,signOut:o,resetPassword:u}=pS(),f=oe.useRef(!1),h=oe.useRef(null),m=oe.useRef(null);if(m.current===null){const R=aN(),P=yN(R);m.current=iN(P)}const g=m.current,v=oe.useRef(Dp(g)),[b,x]=oe.useState(g?.theme||"dark"),[w,S]=oe.useState(v.current.budgetsByMonth),[E,O]=oe.useState(v.current.activeMonth),[L,G]=oe.useState(g?.goals||dN()),[j,H]=oe.useState(Sf(g?.accounts||mN())),[D,Y]=oe.useState(g?.currentAccountId||g?.accounts&&g.accounts[0]?.id||"main"),[q,ee]=oe.useState(Up(g?.navOrder)),[le,Z]=oe.useState(g?.homePage||"dashboard"),[de,xe]=oe.useState(Of(g?.dashboardSectionsOrder)),[$e,Ke]=oe.useState(!1),[V,C]=oe.useState(g?.homePage||"dashboard"),[B,J]=oe.useState(g?.selectedGoalId||(g?.goals?.[0]?.id??null)),[F,W]=oe.useState(null),[T,K]=oe.useState(null),[te,ae]=oe.useState(null),[me,pe]=oe.useState(!1),[we,rt]=oe.useState(g?.txFilter||""),[Re,Ln]=oe.useState({open:!1,mode:"create",goalId:null}),[dn,pa]=oe.useState({open:!1,goalId:null}),$n=w[E]||Kr(E),hn=oe.useMemo(()=>Object.keys(w||{}).sort((R,P)=>P.localeCompare(R)),[w]),qn=oe.useMemo(()=>pN($n),[$n]),Fa=oe.useMemo(()=>ev(b),[b]),Xo=oe.useMemo(()=>Re.goalId&&L.find(R=>R.id===Re.goalId)||null,[Re.goalId,L]);oe.useEffect(()=>{typeof document<"u"&&(document.body.dataset.theme=b)},[b]);const Za=oe.useMemo(()=>{const R={};for(const P of j)R[P.id]=P;return R},[j]),ya=oe.useMemo(()=>j.map(R=>{const P=typeof R.startingBalance=="number"?R.startingBalance:0,re=av(R),ne=P+re;return{id:R.id,name:R.name,balance:ne}}),[j]),va=oe.useMemo(()=>ya.reduce((R,P)=>R+P.balance,0),[ya]),ri=ya.find(R=>R.id===D)?.balance??0,Wa=L.find(R=>R.id===B)||L[0]||null,Qo=oe.useMemo(()=>uN(j),[j]);let ht=rs[V]||"Dashboard";V==="goalDetail"&&Wa&&(ht=Wa.name);function Ns(R){if(R){f.current=!0;try{if(R.budgetsByMonth||R.budget){const{budgetsByMonth:P,activeMonth:re}=Dp(R);S(P),O(re)}R.goals&&G(R.goals),R.accounts&&H(Sf(R.accounts||[])),R.currentAccountId&&Y(R.currentAccountId),R.selectedGoalId&&J(R.selectedGoalId),R.navOrder&&ee(Up(R.navOrder)),R.homePage&&(Z(R.homePage),C(R.homePage)),R.dashboardSectionsOrder&&xe(Of(R.dashboardSectionsOrder)),R.theme&&x(R.theme)}catch(P){console.error("Failed to apply remote user state",P)}}}oe.useEffect(()=>{if(!a||!a.id)return;const R=nt.channel(`user_state_realtime_${a.id}`).on("postgres_changes",{event:"*",schema:"public",table:"user_state",filter:`id=eq.${a.id}`},P=>{const re=P.new?.state;re&&Ns(re)}).subscribe();return()=>{nt.removeChannel(R)}},[a?.id]),oe.useEffect(()=>{if(!a||!a.id){ae(null),pe(!1);return}let R=!1;return pe(!0),_S(a).then(P=>{R||ae(P)}).catch(P=>{R||console.error("Failed to load profile metadata:",P)}).finally(()=>{R||pe(!1)}),()=>{R=!0}},[a?.id]),oe.useEffect(()=>{if(!a||!a.id)return;let R=!1;return(async()=>{try{const P=await vS(a.id);if(!P||R)return;Ns(P)}catch(P){console.error("Failed to load remote user state",P)}})(),()=>{R=!0}},[a?.id]),oe.useEffect(()=>{const R={budgetsByMonth:w,activeMonth:E,budget:$n,goals:L,accounts:j,currentAccountId:D,selectedGoalId:B,navOrder:q,homePage:le,dashboardSectionsOrder:de,theme:b,txFilter:we};if(rN(R),!(!a||!a.id)){if(f.current){f.current=!1;return}return h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{yS(a.id,R).then(()=>{K(new Date().toLocaleTimeString())}).catch(P=>console.error("Failed to save user state to Supabase:",P))},600),()=>{h.current&&clearTimeout(h.current)}}},[a,w,E,L,j,D,B,q,le,de,b,we]);async function js(R){if(!a||!a.id)return!1;try{const P=await xS(a.id,R);return ae(P),W({message:"Profile updated.",variant:"success"}),!0}catch(P){return console.error("Failed to update profile metadata:",P),W({message:"Couldn't update profile. Try again in a bit.",variant:"info"}),!1}}function ii(R,P=null){Ln({open:!0,mode:R,goalId:P})}function Hn(){Ln({open:!1,mode:"create",goalId:null})}function Os(R,P=null){const re=R?.name?.trim()||"Untitled Goal",ne=Math.max(0,Number(R?.current)||0),ve=Math.max(0,Number(R?.target)||0),mt=Math.max(0,Number(R?.monthlyPlan)||0);return{id:P||`goal-${Date.now()}`,name:re,target:ve,current:ne,saved:ne,monthlyPlan:mt,emoji:R?.emoji&&R.emoji.trim()||"",dueDate:R?.dueDate||null,theme:R?.theme||"cyber",icon:R?.icon||"",background:R?.background||"default",animation:R?.animation||"pulse",description:R?.description?.trim()||""}}function Cs(R){if(Re.mode==="edit"&&Re.goalId){const P=Os(R,Re.goalId);G(re=>re.map(ne=>ne.id===P.id?{...ne,...P}:ne)),W({message:`Updated goal "${P.name}".`,variant:"success"})}else{const P=Os(R);G(re=>[...re,P]),J(P.id),W({message:`Created goal "${P.name}".`,variant:"success"})}Hn()}function Rs(R){if(!R)return;const P=L.filter(re=>re.id!==R);G(P),B===R&&J(P[0]?.id??null),Hn(),W({message:"Goal deleted.",variant:"success"})}function Jo(){ii("create",null)}function ba(R){R&&ii("edit",R)}function yt(R){const P=L.find(ne=>ne.id===R);if(!P)return;const re={...P,id:`goal-${Date.now()}`,name:`${P.name||"Goal"} copy`};G(ne=>[...ne,re]),J(re.id),C("goalDetail"),W({message:`Duplicated goal "${P.name||"Goal"}".`,variant:"success"})}function an(R){const P=L.find(ve=>ve.id===R);if(!P){W({message:"Goal not found to export.",variant:"info"});return}const re={name:P.name,target:P.target,saved:P.current??P.saved,monthlyPlan:P.monthlyPlan,description:P.description,progressPct:P.target>0?Number(((P.current??P.saved??0)/P.target*100).toFixed(2)):0,lastUpdated:new Date().toISOString()},ne=JSON.stringify(re,null,2);navigator?.clipboard?.writeText?navigator.clipboard.writeText(ne).then(()=>{W({message:"Copied goal progress to clipboard.",variant:"success"})}).catch(()=>{ks(ne,P.name||"goal")}):ks(ne,P.name||"goal")}function vt(R){R&&pa({open:!0,goalId:R})}function Fo(R){if(!dn.goalId)return;const P=Math.max(0,Number(R)||0);G(re=>re.map(ne=>ne.id===dn.goalId?{...ne,current:(Number(ne.current??ne.saved??0)||0)+P,saved:(Number(ne.current??ne.saved??0)||0)+P}:ne)),W({message:`Added $${P.toFixed(2)} to your goal.`,variant:"success"}),pa({open:!1,goalId:null})}function ks(R,P){const re=new Blob([R],{type:"application/json"}),ne=URL.createObjectURL(re),ve=document.createElement("a");ve.href=ne,ve.download=`${(P||"goal").toLowerCase().replace(/\s+/g,"-")}-progress.json`,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),W({message:"Downloaded goal progress .json file.",variant:"success"})}function Ds(R,P,re){const ne=P+re;if(ne<0||ne>=R.length)return R;const ve=[...R],[mt]=ve.splice(P,1);return ve.splice(ne,0,mt),ve}function er(R){const P=R?.month||E;S(re=>({...re,[P]:qo(R,P)})),O(P)}function Gn(R,P=null){R&&S(re=>{if(re[R])return re;const ne=P||re[E]||Kr(R);return{...re,[R]:qo({...ne,month:R},R)}})}function tr(R){R&&(Gn(R),O(R))}function mn(){const R=window.prompt("Enter the month to view or create (YYYY-MM):",E);if(!R)return;const P=cN(R);if(!P){window.alert("Please enter a valid month in the format YYYY-MM.");return}Gn(P),O(P),W({message:`Switched to ${P}.`,variant:"success"})}function nr(){const R=ti();Gn(R,Kr(R)),O(R),W({message:`Now viewing ${R}.`,variant:"success"})}function _a(R){Z(R),C(R),W({message:`Home page set to ${rs[R]||R}.`,variant:"success"})}function Us(R,P){ee(re=>Ds(re,R,P))}function Ms(R){xe(Of(R))}function ar(R,P){xe(re=>Ds(re,R,P))}function xa(R,P){const re=(R||[]).filter(mt=>typeof mt.amount=="number"&&mt.amount!==0);if(!re.length){W({message:"No valid transactions found in this file.",variant:"info"});return}const ne=bN(P)||"",ve=e1(j,D,re,ne);H(Sf(ve.accounts)),Y(ve.targetAccountId),ve.createdNew?W({message:`Created "${ve.targetAccountName}" with ${re.length} transactions.`,accountId:ve.targetAccountId,variant:"success"}):W({message:`Imported ${re.length} transactions into "${ve.targetAccountName}".`,accountId:ve.targetAccountId,variant:"success"})}function Zo(R,P){H(re=>re.map(ne=>{if(ne.id!==D)return ne;const mt=(Array.isArray(ne.transactions)?ne.transactions:[]).map((Vn,Wo)=>Wo===R?{...Vn,...P}:Vn);return{...ne,transactions:mt}}))}function zs(R){H(P=>P.map(re=>{if(re.id!==D)return re;const ve=(Array.isArray(re.transactions)?re.transactions:[]).filter((mt,Vn)=>Vn!==R);return{...re,transactions:ve}}))}function Bs(R,P){H(re=>re.map(ne=>ne.id===R?{...ne,startingBalance:P}:ne))}function Ls(R,P){H(re=>re.map(ne=>ne.id===R?{...ne,name:P}:ne))}function si(){const R=j.length+1,P=`acc-${Date.now()}`,re={id:P,name:`Account ${R}`,type:"checking",startingBalance:0,transactions:[]};H(ne=>[...ne,re]),Y(P),W({message:`Created account "${re.name}".`,accountId:P,variant:"success"})}async function li(){if(!window.confirm("This will reset your budget, goals, accounts, and transactions back to empty. Continue?"))return;let P=null;try{a?.id&&await nt.from("user_state").delete().eq("id",a.id)}catch(ne){P=ne,console.error("Failed to reset remote data:",ne)}window.localStorage.removeItem(Ad);const re=ti();S({[re]:Kr(re)}),O(re),G(hN()),H(gN()),Y(Uv),J(null),ee(Td.map(ne=>ne.key)),Z("dashboard"),xe(ld),C("dashboard"),x("dark"),W({message:"All data reset successfully.",variant:"success"}),P&&window.alert("Remote reset failed, but local data was cleared. Try again later.")}return a?p.jsxs("div",{className:`min-h-screen flex flex-col ${Fa.shellClass}`,children:[p.jsx("header",{className:`flex-none border-b backdrop-blur ${Fa.headerClass}`,children:p.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-3 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-xs tracking-[0.2em] text-cyan-300",children:"BUDGET CENTER"}),p.jsx("span",{className:"text-sm text-slate-400",children:"Dark cyber budgeting with themed goals"}),T&&p.jsxs("span",{className:"text-[10px] text-slate-500 mt-1",children:["Last saved at ",T]})]}),p.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 text-xs",children:[q.map(R=>p.jsx(wS,{label:rs[R]||R,active:V===R,onClick:()=>C(R)},R)),p.jsx(DS,{}),p.jsx(OS,{profile:te,email:a?.email,loading:me,onUpdateProfile:js}),p.jsx(AS,{customizeMode:$e,setCustomizeMode:Ke,onReset:li,onSignOut:o,themeValue:b,onChangeTheme:x})]})]})}),p.jsxs("main",{className:"flex-1 w-full max-w-5xl mx-auto px-4 py-4 space-y-3",children:[$e&&p.jsxs("div",{className:"border border-cyan-500/40 rounded-xl bg-cyan-500/5 p-4 space-y-4 shadow-lg",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-semibold text-cyan-200",children:"Customize layout"}),p.jsx("p",{className:"text-xs text-slate-300",children:"Reorder your navigation tabs and dashboard sections. Changes are saved automatically."})]}),p.jsxs("div",{className:"flex gap-2 text-xs",children:[p.jsxs("span",{className:"px-2 py-1 rounded border border-cyan-400/50 text-cyan-200",children:["Home page: ",rs[le]||le]}),p.jsx("button",{type:"button",className:"px-2 py-1 rounded border border-slate-600/70 text-slate-200 hover:border-slate-400 transition",onClick:()=>Ke(!1),children:"Done"})]})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-xs",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"uppercase tracking-[0.2em] text-slate-400",children:"Navigation order"}),p.jsx("ul",{className:"space-y-2",children:q.map((R,P)=>p.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-slate-700/70 bg-black/30 px-3 py-2 text-slate-200",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm",children:rs[R]||R}),le===R&&p.jsx("span",{className:"text-[10px] text-cyan-300",children:"Home page"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{type:"button",className:"px-2 py-1 border border-slate-600/70 rounded disabled:opacity-40",onClick:()=>Us(P,-1),disabled:P===0,children:""}),p.jsx("button",{type:"button",className:"px-2 py-1 border border-slate-600/70 rounded disabled:opacity-40",onClick:()=>Us(P,1),disabled:P===q.length-1,children:""}),p.jsx("button",{type:"button",className:"px-2 py-1 border border-cyan-500/50 rounded text-cyan-200",onClick:()=>_a(R),children:"Set home"})]})]},R))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"uppercase tracking-[0.2em] text-slate-400",children:"Dashboard sections"}),p.jsx("ul",{className:"space-y-2",children:de.map((R,P)=>p.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-slate-700/70 bg-black/30 px-3 py-2 text-slate-200",children:[p.jsx("span",{className:"text-sm",children:Dv[R]||R}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{type:"button",className:"px-2 py-1 border border-slate-600/70 rounded disabled:opacity-40",onClick:()=>ar(P,-1),disabled:P===0,children:""}),p.jsx("button",{type:"button",className:"px-2 py-1 border border-slate-600/70 rounded disabled:opacity-40",onClick:()=>ar(P,1),disabled:P===de.length-1,children:""})]})]},R))})]})]})]}),p.jsxs("div",{className:"flex items-center justify-between gap-3",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-base font-semibold text-slate-50",children:ht}),p.jsxs("p",{className:"text-xs text-slate-400",children:[V==="dashboard"&&"Overview of your month, accounts, goals, and imports.",V==="balances"&&"View and edit your account balances and see net worth.",V==="budget"&&"Adjust your monthly budget categories and income.",V==="transactions"&&"Review, edit, and clean up imported transactions.",V==="goalDetail"&&"Drill into a single financial goal and its progress."]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-2 text-xs text-slate-400",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] text-slate-500",children:"Budget month"}),p.jsx("select",{className:"bg-[#05060F] border border-slate-700 rounded-md px-2 py-1 text-[0.75rem] text-slate-100",value:E,onChange:R=>tr(R.target.value),children:hn.map(R=>p.jsx("option",{value:R,children:R},R))})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{type:"button",className:"px-2 py-1 rounded border border-cyan-400/60 text-cyan-200 hover:bg-cyan-500/10 transition",onClick:mn,children:"+ Add month"}),p.jsx("button",{type:"button",className:"px-2 py-1 rounded border border-slate-600/70 text-slate-200 hover:border-cyan-400 transition",onClick:nr,children:"Current month"})]}),p.jsx("div",{className:"text-right",children:p.jsxs("span",{children:["Total Balance:"," ",p.jsxs("span",{className:"font-mono text-emerald-300",children:["$",(Number.isFinite(va)?va:0).toFixed(2)]})]})})]})]}),V==="dashboard"&&p.jsx(QS,{month:E,income:$n.income,fixed:qn.fixedTotal,variable:qn.variableTotal,leftover:qn.leftover,goals:L,transactions:Za[D]?.transactions||[],accounts:j,currentAccountId:D,onChangeCurrentAccount:Y,onOpenGoal:R=>{J(R),C("goalDetail")},onCreateGoal:Jo,currentAccountBalance:ri,totalBalance:va,sectionsOrder:de,onSectionsReorder:Ms,customizeMode:$e,onCsvImported:xa}),V==="balances"&&p.jsx(t1,{accounts:j,currentAccountId:D,onChangeCurrentAccount:Y,onCreateAccount:si,onDeleteAccount:R=>{if(j.length<=1){window.alert("You need at least one account. Create another one before deleting this.");return}if(window.confirm("Are you sure you want to delete this account? Its transactions will be lost.")&&(H(ne=>ne.filter(ve=>ve.id!==R)),D===R)){const ne=j.filter(ve=>ve.id!==R);ne.length?Y(ne[0].id):Y(null)}},onSetAccountBalance:Bs,onRenameAccount:Ls}),V==="budget"&&p.jsx(n1,{month:E,budget:$n,totals:qn,onBudgetChange:er}),V==="transactions"&&p.jsx(i1,{transactions:Za[D]?.transactions||[],accountName:Za[D]?.name||"None",onUpdateTransaction:Zo,onDeleteTransaction:zs,typeHints:Qo.byAccount[D]||[],filterText:we,onChangeFilterText:rt}),V==="reports"&&p.jsx(nN,{accounts:j,monthKey:E,onMerchantPick:R=>{rt(R),C("transactions")}}),V==="goalDetail"&&Wa&&p.jsx(l1,{goal:Wa,onEditGoal:ba,onDeleteGoal:Rs,onDuplicateGoal:yt,onExportGoal:an,onAddContributionRequest:vt})]}),F&&p.jsx(NS,{message:F.message,variant:F.variant,actionLabel:F.accountId?"View account":void 0,onAction:F.accountId?()=>{Y(F.accountId),C("balances"),W(null)}:void 0,onClose:()=>W(null)}),p.jsx(RS,{open:Re.open,mode:Re.mode,initialGoal:Xo,onClose:Hn,onSave:Cs,onDelete:Rs}),p.jsx(kS,{open:dn.open,goal:L.find(R=>R.id===dn.goalId),onAdd:Fo,onClose:()=>pa({open:!1,goalId:null})})]}):p.jsx(TS,{loading:n,onSignIn:i,onSignUp:s,onResetPassword:u})}nx.createRoot(document.getElementById("root")).render(p.jsx(oe.StrictMode,{children:p.jsx(gS,{children:p.jsx(_N,{})})}));export{vo as a,tv as c,nv as p};
