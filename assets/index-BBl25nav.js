(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function nS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Rm={exports:{}},Hl={};var sv;function iS(){if(sv)return Hl;sv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=t,Hl.jsx=n,Hl.jsxs=n,Hl}var av;function rS(){return av||(av=1,Rm.exports=iS()),Rm.exports}var T=rS(),Cm={exports:{}},Ct={};var ov;function sS(){if(ov)return Ct;ov=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,K={};function et(k,tt,ct){this.props=k,this.context=tt,this.refs=K,this.updater=ct||j}et.prototype.isReactComponent={},et.prototype.setState=function(k,tt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,tt,"setState")},et.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Z(){}Z.prototype=et.prototype;function J(k,tt,ct){this.props=k,this.context=tt,this.refs=K,this.updater=ct||j}var ut=J.prototype=new Z;ut.constructor=J,Q(ut,et.prototype),ut.isPureReactComponent=!0;var H=Array.isArray;function it(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(k,tt,ct){var ft=ct.ref;return{$$typeof:i,type:k,key:tt,ref:ft!==void 0?ft:null,props:ct}}function M(k,tt){return C(k.type,tt,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function V(k){var tt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ct){return tt[ct]})}var R=/\/+/g;function vt(k,tt){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):tt.toString(36)}function X(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(it,it):(k.status="pending",k.then(function(tt){k.status==="pending"&&(k.status="fulfilled",k.value=tt)},function(tt){k.status==="pending"&&(k.status="rejected",k.reason=tt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function P(k,tt,ct,ft,bt){var Nt=typeof k;(Nt==="undefined"||Nt==="boolean")&&(k=null);var Dt=!1;if(k===null)Dt=!0;else switch(Nt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(k.$$typeof){case i:case t:Dt=!0;break;case v:return Dt=k._init,P(Dt(k._payload),tt,ct,ft,bt)}}if(Dt)return bt=bt(k),Dt=ft===""?"."+vt(k,0):ft,H(bt)?(ct="",Dt!=null&&(ct=Dt.replace(R,"$&/")+"/"),P(bt,tt,ct,"",function(Mn){return Mn})):bt!=null&&(D(bt)&&(bt=M(bt,ct+(bt.key==null||k&&k.key===bt.key?"":(""+bt.key).replace(R,"$&/")+"/")+Dt)),tt.push(bt)),1;Dt=0;var ge=ft===""?".":ft+":";if(H(k))for(var Qt=0;Qt<k.length;Qt++)ft=k[Qt],Nt=ge+vt(ft,Qt),Dt+=P(ft,tt,ct,Nt,bt);else if(Qt=I(k),typeof Qt=="function")for(k=Qt.call(k),Qt=0;!(ft=k.next()).done;)ft=ft.value,Nt=ge+vt(ft,Qt++),Dt+=P(ft,tt,ct,Nt,bt);else if(Nt==="object"){if(typeof k.then=="function")return P(X(k),tt,ct,ft,bt);throw tt=String(k),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function G(k,tt,ct){if(k==null)return k;var ft=[],bt=0;return P(k,ft,"","",function(Nt){return tt.call(ct,Nt,bt++)}),ft}function rt(k){if(k._status===-1){var tt=k._result;tt=tt(),tt.then(function(ct){(k._status===0||k._status===-1)&&(k._status=1,k._result=ct)},function(ct){(k._status===0||k._status===-1)&&(k._status=2,k._result=ct)}),k._status===-1&&(k._status=0,k._result=tt)}if(k._status===1)return k._result.default;throw k._result}var at=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},dt={map:G,forEach:function(k,tt,ct){G(k,function(){tt.apply(this,arguments)},ct)},count:function(k){var tt=0;return G(k,function(){tt++}),tt},toArray:function(k){return G(k,function(tt){return tt})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ct.Activity=b,Ct.Children=dt,Ct.Component=et,Ct.Fragment=n,Ct.Profiler=o,Ct.PureComponent=J,Ct.StrictMode=s,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(k){return N.H.useMemoCache(k)}},Ct.cache=function(k){return function(){return k.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(k,tt,ct){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ft=Q({},k.props),bt=k.key;if(tt!=null)for(Nt in tt.key!==void 0&&(bt=""+tt.key),tt)!S.call(tt,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&tt.ref===void 0||(ft[Nt]=tt[Nt]);var Nt=arguments.length-2;if(Nt===1)ft.children=ct;else if(1<Nt){for(var Dt=Array(Nt),ge=0;ge<Nt;ge++)Dt[ge]=arguments[ge+2];ft.children=Dt}return C(k.type,bt,ft)},Ct.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ct.createElement=function(k,tt,ct){var ft,bt={},Nt=null;if(tt!=null)for(ft in tt.key!==void 0&&(Nt=""+tt.key),tt)S.call(tt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(bt[ft]=tt[ft]);var Dt=arguments.length-2;if(Dt===1)bt.children=ct;else if(1<Dt){for(var ge=Array(Dt),Qt=0;Qt<Dt;Qt++)ge[Qt]=arguments[Qt+2];bt.children=ge}if(k&&k.defaultProps)for(ft in Dt=k.defaultProps,Dt)bt[ft]===void 0&&(bt[ft]=Dt[ft]);return C(k,Nt,bt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(k){return{$$typeof:m,render:k}},Ct.isValidElement=D,Ct.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:rt}},Ct.memo=function(k,tt){return{$$typeof:g,type:k,compare:tt===void 0?null:tt}},Ct.startTransition=function(k){var tt=N.T,ct={};N.T=ct;try{var ft=k(),bt=N.S;bt!==null&&bt(ct,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(it,at)}catch(Nt){at(Nt)}finally{tt!==null&&ct.types!==null&&(tt.types=ct.types),N.T=tt}},Ct.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ct.use=function(k){return N.H.use(k)},Ct.useActionState=function(k,tt,ct){return N.H.useActionState(k,tt,ct)},Ct.useCallback=function(k,tt){return N.H.useCallback(k,tt)},Ct.useContext=function(k){return N.H.useContext(k)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(k,tt){return N.H.useDeferredValue(k,tt)},Ct.useEffect=function(k,tt){return N.H.useEffect(k,tt)},Ct.useEffectEvent=function(k){return N.H.useEffectEvent(k)},Ct.useId=function(){return N.H.useId()},Ct.useImperativeHandle=function(k,tt,ct){return N.H.useImperativeHandle(k,tt,ct)},Ct.useInsertionEffect=function(k,tt){return N.H.useInsertionEffect(k,tt)},Ct.useLayoutEffect=function(k,tt){return N.H.useLayoutEffect(k,tt)},Ct.useMemo=function(k,tt){return N.H.useMemo(k,tt)},Ct.useOptimistic=function(k,tt){return N.H.useOptimistic(k,tt)},Ct.useReducer=function(k,tt,ct){return N.H.useReducer(k,tt,ct)},Ct.useRef=function(k){return N.H.useRef(k)},Ct.useState=function(k){return N.H.useState(k)},Ct.useSyncExternalStore=function(k,tt,ct){return N.H.useSyncExternalStore(k,tt,ct)},Ct.useTransition=function(){return N.H.useTransition()},Ct.version="19.2.1",Ct}var lv;function Up(){return lv||(lv=1,Cm.exports=sS()),Cm.exports}var At=Up();const ce=nS(At);var Im={exports:{}},Fl={},Dm={exports:{}},Om={};var uv;function aS(){return uv||(uv=1,(function(i){function t(P,G){var rt=P.length;P.push(G);t:for(;0<rt;){var at=rt-1>>>1,dt=P[at];if(0<o(dt,G))P[at]=G,P[rt]=dt,rt=at;else break t}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var G=P[0],rt=P.pop();if(rt!==G){P[0]=rt;t:for(var at=0,dt=P.length,k=dt>>>1;at<k;){var tt=2*(at+1)-1,ct=P[tt],ft=tt+1,bt=P[ft];if(0>o(ct,rt))ft<dt&&0>o(bt,ct)?(P[at]=bt,P[ft]=rt,at=ft):(P[at]=ct,P[tt]=rt,at=tt);else if(ft<dt&&0>o(bt,rt))P[at]=bt,P[ft]=rt,at=ft;else break t}}return G}function o(P,G){var rt=P.sortIndex-G.sortIndex;return rt!==0?rt:P.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,b=null,A=3,I=!1,j=!1,Q=!1,K=!1,et=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ut(P){for(var G=n(g);G!==null;){if(G.callback===null)s(g);else if(G.startTime<=P)s(g),G.sortIndex=G.expirationTime,t(p,G);else break;G=n(g)}}function H(P){if(Q=!1,ut(P),!j)if(n(p)!==null)j=!0,it||(it=!0,V());else{var G=n(g);G!==null&&X(H,G.startTime-P)}}var it=!1,N=-1,S=5,C=-1;function M(){return K?!0:!(i.unstable_now()-C<S)}function D(){if(K=!1,it){var P=i.unstable_now();C=P;var G=!0;try{t:{j=!1,Q&&(Q=!1,Z(N),N=-1),I=!0;var rt=A;try{e:{for(ut(P),b=n(p);b!==null&&!(b.expirationTime>P&&M());){var at=b.callback;if(typeof at=="function"){b.callback=null,A=b.priorityLevel;var dt=at(b.expirationTime<=P);if(P=i.unstable_now(),typeof dt=="function"){b.callback=dt,ut(P),G=!0;break e}b===n(p)&&s(p),ut(P)}else s(p);b=n(p)}if(b!==null)G=!0;else{var k=n(g);k!==null&&X(H,k.startTime-P),G=!1}}break t}finally{b=null,A=rt,I=!1}G=void 0}}finally{G?V():it=!1}}}var V;if(typeof J=="function")V=function(){J(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,vt=R.port2;R.port1.onmessage=D,V=function(){vt.postMessage(null)}}else V=function(){et(D,0)};function X(P,G){N=et(function(){P(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(P){switch(A){case 1:case 2:case 3:var G=3;break;default:G=A}var rt=A;A=G;try{return P()}finally{A=rt}},i.unstable_requestPaint=function(){K=!0},i.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var rt=A;A=P;try{return G()}finally{A=rt}},i.unstable_scheduleCallback=function(P,G,rt){var at=i.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?at+rt:at):rt=at,P){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=rt+dt,P={id:v++,callback:G,priorityLevel:P,startTime:rt,expirationTime:dt,sortIndex:-1},rt>at?(P.sortIndex=rt,t(g,P),n(p)===null&&P===n(g)&&(Q?(Z(N),N=-1):Q=!0,X(H,rt-at))):(P.sortIndex=dt,t(p,P),j||I||(j=!0,it||(it=!0,V()))),P},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(P){var G=A;return function(){var rt=A;A=G;try{return P.apply(this,arguments)}finally{A=rt}}}})(Om)),Om}var cv;function oS(){return cv||(cv=1,Dm.exports=aS()),Dm.exports}var Mm={exports:{}},rn={};var hv;function lS(){if(hv)return rn;hv=1;var i=Up();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},rn.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},rn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},rn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},rn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:I}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},rn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},rn.requestFormReset=function(p){s.d.r(p)},rn.unstable_batchedUpdates=function(p,g){return p(g)},rn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.1",rn}var fv;function uS(){if(fv)return Mm.exports;fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Mm.exports=lS(),Mm.exports}var dv;function cS(){if(dv)return Fl;dv=1;var i=oS(),t=Up(),n=uS();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function c(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function v(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=v(e),r!==null)return r;e=e.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function vt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case et:return"Profiler";case K:return"StrictMode";case H:return"Suspense";case it:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case J:return e.displayName||"Context";case Z:return(e._context.displayName||"Context")+".Consumer";case ut:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return r=e.displayName||null,r!==null?r:vt(e.type)||"Memo";case S:r=e._payload,e=e._init;try{return vt(e(r))}catch{}}return null}var X=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},at=[],dt=-1;function k(e){return{current:e}}function tt(e){0>dt||(e.current=at[dt],at[dt]=null,dt--)}function ct(e,r){dt++,at[dt]=e.current,e.current=r}var ft=k(null),bt=k(null),Nt=k(null),Dt=k(null);function ge(e,r){switch(ct(Nt,r),ct(bt,e),ct(ft,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?R_(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=R_(r),e=C_(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}tt(ft),ct(ft,e)}function Qt(){tt(ft),tt(bt),tt(Nt)}function Mn(e){e.memoizedState!==null&&ct(Dt,e);var r=ft.current,a=C_(r,e.type);r!==a&&(ct(bt,e),ct(ft,a))}function Yi(e){bt.current===e&&(tt(ft),tt(bt)),Dt.current===e&&(tt(Dt),jl._currentValue=rt)}var Rr,Cr;function kn(e){if(Rr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Rr=r&&r[1]||"",Cr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rr+e+Cr}var Ds=!1;function Ki(e,r){if(!e||Ds)return"";Ds=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Y){var F=Y}Reflect.construct(e,[],st)}else{try{st.call()}catch(Y){F=Y}e.call(st.prototype)}}else{try{throw Error()}catch(Y){F=Y}(st=e())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var O=_.split(`
`),q=w.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===q.length)for(l=O.length-1,f=q.length-1;1<=l&&0<=f&&O[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==q[f]){var W=`
`+O[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=f);break}}}finally{Ds=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?kn(a):""}function Ir(e,r){switch(e.tag){case 26:case 27:case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return e.child!==r&&r!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return Ki(e.type,!1);case 11:return Ki(e.type.render,!1);case 1:return Ki(e.type,!0);case 31:return kn("Activity");default:return""}}function Os(e){try{var r="",a=null;do r+=Ir(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Te=i.unstable_scheduleCallback,pi=i.unstable_cancelCallback,gt=i.unstable_shouldYield,Yt=i.unstable_requestPaint,Ut=i.unstable_now,Vt=i.unstable_getCurrentPriorityLevel,jt=i.unstable_ImmediatePriority,Qe=i.unstable_UserBlockingPriority,Vn=i.unstable_NormalPriority,Xi=i.unstable_LowPriority,_e=i.unstable_IdlePriority,un=i.log,Dr=i.unstable_setDisableYieldValue,ve=null,je=null;function Ln(e){if(typeof un=="function"&&Dr(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(ve,e)}catch{}}var we=Math.clz32?Math.clz32:ju,Uu=Math.log,Aa=Math.LN2;function ju(e){return e>>>=0,e===0?32:31-(Uu(e)/Aa|0)|0}var gi=256,Ms=262144,Re=4194304;function yi(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _i(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=yi(l):(_&=w,_!==0?f=yi(_):a||(a=w&~e,a!==0&&(f=yi(a))))):(w=l&~d,w!==0?f=yi(w):_!==0?f=yi(_):a||(a=l&~e,a!==0&&(f=yi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Zn(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Of(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zu(){var e=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),e}function vi(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function ks(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mf(e,r,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,O=e.expirationTimes,q=e.hiddenUpdates;for(a=_&~a;0<a;){var W=31-we(a),st=1<<W;w[W]=0,O[W]=-1;var F=q[W];if(F!==null)for(q[W]=null,W=0;W<F.length;W++){var Y=F[W];Y!==null&&(Y.lane&=-536870913)}a&=~st}l!==0&&Vs(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~r))}function Vs(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-we(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Fo(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-we(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function Go(e,r){var a=r&-r;return a=(a&42)!==0?1:Ls(a),(a&(e.suspendedLanes|r))!==0?0:a}function Ls(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bu(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:J_(e.type))}function Jn(e,r){var a=G.p;try{return G.p=e,r()}finally{G.p=a}}var Wn=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Wn,He="__reactProps$"+Wn,Ei="__reactContainer$"+Wn,Sa="__reactEvents$"+Wn,kf="__reactListeners$"+Wn,qu="__reactHandles$"+Wn,Hu="__reactResources$"+Wn,bi="__reactMarker$"+Wn;function xa(e){delete e[Ce],delete e[He],delete e[Sa],delete e[kf],delete e[qu]}function Ti(e){var r=e[Ce];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Ei]||a[Ce]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=L_(e);e!==null;){if(a=e[Ce])return a;e=L_(e)}return r}e=a,a=e.parentNode}return null}function Pn(e){if(e=e[Ce]||e[Ei]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function Tn(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function wi(e){var r=e[Hu];return r||(r=e[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ie(e){e[bi]=!0}var $o=new Set,Qo={};function Ai(e,r){Si(e,r),Si(e+"Capture",r)}function Si(e,r){for(Qo[e]=r,e=0;e<r.length;e++)$o.add(r[e])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Xo={};function Fu(e){return ye.call(Xo,e)?!0:ye.call(Ko,e)?!1:Yo.test(e)?Xo[e]=!0:(Ko[e]=!0,!1)}function Na(e,r,a){if(Fu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function wn(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function De(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function Fe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Or(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zo(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function te(e){if(!e._valueTracker){var r=Or(e)?"checked":"value";e._valueTracker=Zo(e,r,""+e[r])}}function Ps(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Or(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Us=/[\n"\\]/g;function fn(e){return e.replace(Us,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ra(e,r,a,l,f,d,_,w){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),r!=null?_==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+Fe(r)):e.value!==""+Fe(r)&&(e.value=""+Fe(r)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),r!=null?Jo(e,_,Fe(r)):a!=null?Jo(e,_,Fe(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Fe(w):e.removeAttribute("name")}function Gu(e,r,a,l,f,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){te(e);return}a=a!=null?""+Fe(a):"",r=r!=null?""+Fe(r):a,w||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),te(e)}function Jo(e,r,a){r==="number"&&xi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Mr(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Fe(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function $u(e,r,a){if(r!=null&&(r=""+Fe(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+Fe(a):""}function kr(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(X(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Fe(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),te(e)}function dn(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Qu.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function tl(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Wo(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Wo(e,d,r[d])}function Ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(e){return Vr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var el=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lr=null,Ni=null;function js(e){var r=Pn(e);if(r&&(e=r.stateNode)){var a=e[He]||null;t:switch(e=r.stateNode,r.type){case"input":if(Ra(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[He]||null;if(!f)throw Error(s(90));Ra(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Ps(l)}break t;case"textarea":$u(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Mr(e,!!a.multiple,r,!1)}}}var Da=!1;function Pr(e,r,a){if(Da)return e(r,a);Da=!0;try{var l=e(r);return l}finally{if(Da=!1,(Lr!==null||Ni!==null)&&(Bc(),Lr&&(r=Lr,e=Ni,Ni=Lr=null,js(r),e)))for(r=0;r<e.length;r++)js(e[r])}}function ei(e,r){var a=e.stateNode;if(a===null)return null;var l=a[He]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(jn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){zs=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{zs=!1}var Ri=null,nl=null,Bs=null;function il(){if(Bs)return Bs;var e,r=nl,a=r.length,l,f="value"in Ri?Ri.value:Ri.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Bs=f.slice(e,1<l?1-l:void 0)}function qs(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function ni(){return!1}function Ye(e){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ji:ni,this.isPropagationStopped=ni,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),r}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Ye(Wi),Ur=b({},Wi,{view:0,detail:0}),rl=Ye(Ur),jr,Oa,Ii,Ma=b({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(jr=e.screenX-Ii.screenX,Oa=e.screenY-Ii.screenY):Oa=jr=0,Ii=e),jr)},movementY:function(e){return"movementY"in e?e.movementY:Oa}}),sl=Ye(Ma),Hs=b({},Ma,{dataTransfer:0}),Ku=Ye(Hs),Xu=b({},Ur,{relatedTarget:0}),Fs=Ye(Xu),al=b({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zu=Ye(al),ka=b({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ju=Ye(ka),Wu=b({},Wi,{data:0}),Di=Ye(Wu),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ic(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=nc[e])?!!r[e]:!1}function zr(){return ic}var cn=b({},Ur,{key:function(e){if(e.key){var r=tc[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ec[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rc=Ye(cn),sc=b({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tr=Ye(sc),h=b({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),y=Ye(h),E=b({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Ye(E),z=b({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Ye(z),ht=b({},Wi,{newState:0,oldState:0}),Ot=Ye(ht),Ae=[9,13,27,32],Zt=jn&&"CompositionEvent"in window,fe=null;jn&&"documentMode"in document&&(fe=document.documentMode);var zn=jn&&"TextEvent"in window&&!fe,Oi=jn&&(!Zt||fe&&8<fe&&11>=fe),ii=" ",ri=!1;function Gs(e,r){switch(e){case"keyup":return Ae.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var La=!1;function xw(e,r){switch(e){case"compositionend":return Va(r);case"keypress":return r.which!==32?null:(ri=!0,ii);case"textInput":return e=r.data,e===ii&&ri?null:e;default:return null}}function Nw(e,r){if(La)return e==="compositionend"||!Zt&&Gs(e,r)?(e=il(),Bs=nl=Ri=null,La=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Oi&&r.locale!=="ko"?null:r.data;default:return null}}var Rw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jg(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Rw[e.type]:r==="textarea"}function zg(e,r,a,l){Lr?Ni?Ni.push(l):Ni=[l]:Lr=l,r=Yc(r,"onChange"),0<r.length&&(a=new Ci("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var ol=null,ll=null;function Cw(e){T_(e,0)}function ac(e){var r=Tn(e);if(Ps(r))return e}function Bg(e,r){if(e==="change")return r}var qg=!1;if(jn){var Vf;if(jn){var Lf="oninput"in document;if(!Lf){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Lf=typeof Hg.oninput=="function"}Vf=Lf}else Vf=!1;qg=Vf&&(!document.documentMode||9<document.documentMode)}function Fg(){ol&&(ol.detachEvent("onpropertychange",Gg),ll=ol=null)}function Gg(e){if(e.propertyName==="value"&&ac(ll)){var r=[];zg(r,ll,e,Un(e)),Pr(Cw,r)}}function Iw(e,r,a){e==="focusin"?(Fg(),ol=r,ll=a,ol.attachEvent("onpropertychange",Gg)):e==="focusout"&&Fg()}function Dw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ac(ll)}function Ow(e,r){if(e==="click")return ac(r)}function Mw(e,r){if(e==="input"||e==="change")return ac(r)}function kw(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var An=typeof Object.is=="function"?Object.is:kw;function ul(e,r){if(An(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ye.call(r,f)||!An(e[f],r[f]))return!1}return!0}function $g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qg(e,r){var a=$g(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=$g(a)}}function Yg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Yg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Kg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=xi(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=xi(e.document)}return r}function Pf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Vw=jn&&"documentMode"in document&&11>=document.documentMode,Pa=null,Uf=null,cl=null,jf=!1;function Xg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jf||Pa==null||Pa!==xi(l)||(l=Pa,"selectionStart"in l&&Pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Yc(Uf,"onSelect"),0<l.length&&(r=new Ci("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Pa)))}function $s(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Ua={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},zf={},Zg={};jn&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Qs(e){if(zf[e])return zf[e];if(!Ua[e])return e;var r=Ua[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Zg)return zf[e]=r[a];return e}var Jg=Qs("animationend"),Wg=Qs("animationiteration"),ty=Qs("animationstart"),Lw=Qs("transitionrun"),Pw=Qs("transitionstart"),Uw=Qs("transitioncancel"),ey=Qs("transitionend"),ny=new Map,Bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bf.push("scrollEnd");function si(e,r){ny.set(e,r),Ai(r,[e])}var oc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],ja=0,qf=0;function lc(){for(var e=ja,r=qf=ja=0;r<e;){var a=Bn[r];Bn[r++]=null;var l=Bn[r];Bn[r++]=null;var f=Bn[r];Bn[r++]=null;var d=Bn[r];if(Bn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&iy(a,f,d)}}function uc(e,r,a,l){Bn[ja++]=e,Bn[ja++]=r,Bn[ja++]=a,Bn[ja++]=l,qf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Hf(e,r,a,l){return uc(e,r,a,l),cc(e)}function Ys(e,r){return uc(e,null,null,r),cc(e)}function iy(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-we(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function cc(e){if(50<Ol)throw Ol=0,Jd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var za={};function jw(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,r,a,l){return new jw(e,r,a,l)}function Ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function er(e,r){var a=e.alternate;return a===null?(a=Sn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ry(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function hc(e,r,a,l,f,d){var _=0;if(l=e,typeof e=="function")Ff(e)&&(_=1);else if(typeof e=="string")_=FA(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Sn(31,a,r,f),e.elementType=C,e.lanes=d,e;case Q:return Ks(a.children,f,d,r);case K:_=8,f|=24;break;case et:return e=Sn(12,a,r,f|2),e.elementType=et,e.lanes=d,e;case H:return e=Sn(13,a,r,f),e.elementType=H,e.lanes=d,e;case it:return e=Sn(19,a,r,f),e.elementType=it,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:_=10;break t;case Z:_=9;break t;case ut:_=11;break t;case N:_=14;break t;case S:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=Sn(_,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function Ks(e,r,a,l){return e=Sn(7,e,l,r),e.lanes=a,e}function Gf(e,r,a){return e=Sn(6,e,null,r),e.lanes=a,e}function sy(e){var r=Sn(18,null,null,0);return r.stateNode=e,r}function $f(e,r,a){return r=Sn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var ay=new WeakMap;function qn(e,r){if(typeof e=="object"&&e!==null){var a=ay.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Os(r)},ay.set(e,r),r)}return{value:e,source:r,stack:Os(r)}}var Ba=[],qa=0,fc=null,hl=0,Hn=[],Fn=0,Br=null,Mi=1,ki="";function nr(e,r){Ba[qa++]=hl,Ba[qa++]=fc,fc=e,hl=r}function oy(e,r,a){Hn[Fn++]=Mi,Hn[Fn++]=ki,Hn[Fn++]=Br,Br=e;var l=Mi;e=ki;var f=32-we(l)-1;l&=~(1<<f),a+=1;var d=32-we(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Mi=1<<32-we(r)+f|a<<f|l,ki=d+e}else Mi=1<<d|a<<f|l,ki=e}function Qf(e){e.return!==null&&(nr(e,1),oy(e,1,0))}function Yf(e){for(;e===fc;)fc=Ba[--qa],Ba[qa]=null,hl=Ba[--qa],Ba[qa]=null;for(;e===Br;)Br=Hn[--Fn],Hn[Fn]=null,ki=Hn[--Fn],Hn[Fn]=null,Mi=Hn[--Fn],Hn[Fn]=null}function ly(e,r){Hn[Fn++]=Mi,Hn[Fn++]=ki,Hn[Fn++]=Br,Mi=r.id,ki=r.overflow,Br=e}var Ke=null,le=null,Gt=!1,qr=null,Gn=!1,Kf=Error(s(519));function Hr(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(qn(r,e)),Kf}function uy(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[Ce]=e,r[He]=l,a){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(a=0;a<kl.length;a++)Pt(kl[a],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),Gu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),kr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||x_(r.textContent,a)?(l.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),l.onScroll!=null&&Pt("scroll",r),l.onScrollEnd!=null&&Pt("scrollend",r),l.onClick!=null&&(r.onclick=ti),r=!0):r=!1,r||Hr(e,!0)}function cy(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Ke=Ke.return}}function Ha(e){if(e!==Ke)return!1;if(!Gt)return cy(e),Gt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||dm(e.type,e.memoizedProps)),a=!a),a&&le&&Hr(e),cy(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));le=V_(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));le=V_(e)}else r===27?(r=le,is(e.type)?(e=_m,_m=null,le=e):le=r):le=Ke?Qn(e.stateNode.nextSibling):null;return!0}function Xs(){le=Ke=null,Gt=!1}function Xf(){var e=qr;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),qr=null),e}function fl(e){qr===null?qr=[e]:qr.push(e)}var Zf=k(null),Zs=null,ir=null;function Fr(e,r,a){ct(Zf,r._currentValue),r._currentValue=a}function rr(e){e._currentValue=Zf.current,tt(Zf)}function Jf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Wf(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=f;for(var O=0;O<r.length;O++)if(w.context===r[O]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Jf(d.return,a,e),l||(_=null);break t}d=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Jf(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Fa(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;An(f.pendingProps.value,_.value)||(e!==null?e.push(w):e=[w])}}else if(f===Dt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(jl):e=[jl])}f=f.return}e!==null&&Wf(r,e,a,l),r.flags|=262144}function dc(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Js(e){Zs=e,ir=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return hy(Zs,e)}function mc(e,r){return Zs===null&&Js(e),hy(e,r)}function hy(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ir===null){if(e===null)throw Error(s(308));ir=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else ir=ir.next=r;return a}var zw=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},Bw=i.unstable_scheduleCallback,qw=i.unstable_NormalPriority,Oe={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new zw,data:new Map,refCount:0}}function dl(e){e.refCount--,e.refCount===0&&Bw(qw,function(){e.controller.abort()})}var ml=null,ed=0,Ga=0,$a=null;function Hw(e,r){if(ml===null){var a=ml=[];ed=0,Ga=rm(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ed++,r.then(fy,fy),r}function fy(){if(--ed===0&&ml!==null){$a!==null&&($a.status="fulfilled");var e=ml;ml=null,Ga=0,$a=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Fw(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var dy=P.S;P.S=function(e,r){X0=Ut(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Hw(e,r),dy!==null&&dy(e,r)};var Ws=k(null);function nd(){var e=Ws.current;return e!==null?e:oe.pooledCache}function pc(e,r){r===null?ct(Ws,Ws.current):ct(Ws,r.pool)}function my(){var e=nd();return e===null?null:{parent:Oe._currentValue,pool:e}}var Qa=Error(s(460)),id=Error(s(474)),gc=Error(s(542)),yc={then:function(){}};function py(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gy(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(ti,ti),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,_y(e),e;default:if(typeof r.status=="string")r.then(ti,ti);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,_y(e),e}throw ea=r,Qa}}function ta(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ea=a,Qa):a}}var ea=null;function yy(){if(ea===null)throw Error(s(459));var e=ea;return ea=null,e}function _y(e){if(e===Qa||e===gc)throw Error(s(483))}var Ya=null,pl=0;function _c(e){var r=pl;return pl+=1,Ya===null&&(Ya=[]),gy(Ya,e,r)}function gl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function vc(e,r){throw r.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function vy(e){function r(U,L){if(e){var B=U.deletions;B===null?(U.deletions=[L],U.flags|=16):B.push(L)}}function a(U,L){if(!e)return null;for(;L!==null;)r(U,L),L=L.sibling;return null}function l(U){for(var L=new Map;U!==null;)U.key!==null?L.set(U.key,U):L.set(U.index,U),U=U.sibling;return L}function f(U,L){return U=er(U,L),U.index=0,U.sibling=null,U}function d(U,L,B){return U.index=B,e?(B=U.alternate,B!==null?(B=B.index,B<L?(U.flags|=67108866,L):B):(U.flags|=67108866,L)):(U.flags|=1048576,L)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function w(U,L,B,nt){return L===null||L.tag!==6?(L=Gf(B,U.mode,nt),L.return=U,L):(L=f(L,B),L.return=U,L)}function O(U,L,B,nt){var Et=B.type;return Et===Q?W(U,L,B.props.children,nt,B.key):L!==null&&(L.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===S&&ta(Et)===L.type)?(L=f(L,B.props),gl(L,B),L.return=U,L):(L=hc(B.type,B.key,B.props,null,U.mode,nt),gl(L,B),L.return=U,L)}function q(U,L,B,nt){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=$f(B,U.mode,nt),L.return=U,L):(L=f(L,B.children||[]),L.return=U,L)}function W(U,L,B,nt,Et){return L===null||L.tag!==7?(L=Ks(B,U.mode,nt,Et),L.return=U,L):(L=f(L,B),L.return=U,L)}function st(U,L,B){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Gf(""+L,U.mode,B),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return B=hc(L.type,L.key,L.props,null,U.mode,B),gl(B,L),B.return=U,B;case j:return L=$f(L,U.mode,B),L.return=U,L;case S:return L=ta(L),st(U,L,B)}if(X(L)||V(L))return L=Ks(L,U.mode,B,null),L.return=U,L;if(typeof L.then=="function")return st(U,_c(L),B);if(L.$$typeof===J)return st(U,mc(U,L),B);vc(U,L)}return null}function F(U,L,B,nt){var Et=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Et!==null?null:w(U,L,""+B,nt);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case I:return B.key===Et?O(U,L,B,nt):null;case j:return B.key===Et?q(U,L,B,nt):null;case S:return B=ta(B),F(U,L,B,nt)}if(X(B)||V(B))return Et!==null?null:W(U,L,B,nt,null);if(typeof B.then=="function")return F(U,L,_c(B),nt);if(B.$$typeof===J)return F(U,L,mc(U,B),nt);vc(U,B)}return null}function Y(U,L,B,nt,Et){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return U=U.get(B)||null,w(L,U,""+nt,Et);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case I:return U=U.get(nt.key===null?B:nt.key)||null,O(L,U,nt,Et);case j:return U=U.get(nt.key===null?B:nt.key)||null,q(L,U,nt,Et);case S:return nt=ta(nt),Y(U,L,B,nt,Et)}if(X(nt)||V(nt))return U=U.get(B)||null,W(L,U,nt,Et,null);if(typeof nt.then=="function")return Y(U,L,B,_c(nt),Et);if(nt.$$typeof===J)return Y(U,L,B,mc(L,nt),Et);vc(L,nt)}return null}function pt(U,L,B,nt){for(var Et=null,Kt=null,yt=L,kt=L=0,Bt=null;yt!==null&&kt<B.length;kt++){yt.index>kt?(Bt=yt,yt=null):Bt=yt.sibling;var Xt=F(U,yt,B[kt],nt);if(Xt===null){yt===null&&(yt=Bt);break}e&&yt&&Xt.alternate===null&&r(U,yt),L=d(Xt,L,kt),Kt===null?Et=Xt:Kt.sibling=Xt,Kt=Xt,yt=Bt}if(kt===B.length)return a(U,yt),Gt&&nr(U,kt),Et;if(yt===null){for(;kt<B.length;kt++)yt=st(U,B[kt],nt),yt!==null&&(L=d(yt,L,kt),Kt===null?Et=yt:Kt.sibling=yt,Kt=yt);return Gt&&nr(U,kt),Et}for(yt=l(yt);kt<B.length;kt++)Bt=Y(yt,U,kt,B[kt],nt),Bt!==null&&(e&&Bt.alternate!==null&&yt.delete(Bt.key===null?kt:Bt.key),L=d(Bt,L,kt),Kt===null?Et=Bt:Kt.sibling=Bt,Kt=Bt);return e&&yt.forEach(function(ls){return r(U,ls)}),Gt&&nr(U,kt),Et}function wt(U,L,B,nt){if(B==null)throw Error(s(151));for(var Et=null,Kt=null,yt=L,kt=L=0,Bt=null,Xt=B.next();yt!==null&&!Xt.done;kt++,Xt=B.next()){yt.index>kt?(Bt=yt,yt=null):Bt=yt.sibling;var ls=F(U,yt,Xt.value,nt);if(ls===null){yt===null&&(yt=Bt);break}e&&yt&&ls.alternate===null&&r(U,yt),L=d(ls,L,kt),Kt===null?Et=ls:Kt.sibling=ls,Kt=ls,yt=Bt}if(Xt.done)return a(U,yt),Gt&&nr(U,kt),Et;if(yt===null){for(;!Xt.done;kt++,Xt=B.next())Xt=st(U,Xt.value,nt),Xt!==null&&(L=d(Xt,L,kt),Kt===null?Et=Xt:Kt.sibling=Xt,Kt=Xt);return Gt&&nr(U,kt),Et}for(yt=l(yt);!Xt.done;kt++,Xt=B.next())Xt=Y(yt,U,kt,Xt.value,nt),Xt!==null&&(e&&Xt.alternate!==null&&yt.delete(Xt.key===null?kt:Xt.key),L=d(Xt,L,kt),Kt===null?Et=Xt:Kt.sibling=Xt,Kt=Xt);return e&&yt.forEach(function(eS){return r(U,eS)}),Gt&&nr(U,kt),Et}function ae(U,L,B,nt){if(typeof B=="object"&&B!==null&&B.type===Q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case I:t:{for(var Et=B.key;L!==null;){if(L.key===Et){if(Et=B.type,Et===Q){if(L.tag===7){a(U,L.sibling),nt=f(L,B.props.children),nt.return=U,U=nt;break t}}else if(L.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===S&&ta(Et)===L.type){a(U,L.sibling),nt=f(L,B.props),gl(nt,B),nt.return=U,U=nt;break t}a(U,L);break}else r(U,L);L=L.sibling}B.type===Q?(nt=Ks(B.props.children,U.mode,nt,B.key),nt.return=U,U=nt):(nt=hc(B.type,B.key,B.props,null,U.mode,nt),gl(nt,B),nt.return=U,U=nt)}return _(U);case j:t:{for(Et=B.key;L!==null;){if(L.key===Et)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){a(U,L.sibling),nt=f(L,B.children||[]),nt.return=U,U=nt;break t}else{a(U,L);break}else r(U,L);L=L.sibling}nt=$f(B,U.mode,nt),nt.return=U,U=nt}return _(U);case S:return B=ta(B),ae(U,L,B,nt)}if(X(B))return pt(U,L,B,nt);if(V(B)){if(Et=V(B),typeof Et!="function")throw Error(s(150));return B=Et.call(B),wt(U,L,B,nt)}if(typeof B.then=="function")return ae(U,L,_c(B),nt);if(B.$$typeof===J)return ae(U,L,mc(U,B),nt);vc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,L!==null&&L.tag===6?(a(U,L.sibling),nt=f(L,B),nt.return=U,U=nt):(a(U,L),nt=Gf(B,U.mode,nt),nt.return=U,U=nt),_(U)):a(U,L)}return function(U,L,B,nt){try{pl=0;var Et=ae(U,L,B,nt);return Ya=null,Et}catch(yt){if(yt===Qa||yt===gc)throw yt;var Kt=Sn(29,yt,null,U.mode);return Kt.lanes=nt,Kt.return=U,Kt}finally{}}}var na=vy(!0),Ey=vy(!1),Gr=!1;function rd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=cc(e),iy(e,null,a),r}return uc(e,l,r,a),cc(e)}function yl(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Fo(e,a)}}function ad(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var od=!1;function _l(){if(od){var e=$a;if(e!==null)throw e}}function vl(e,r,a,l){od=!1;var f=e.updateQueue;Gr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,q=O.next;O.next=null,_===null?d=q:_.next=q,_=O;var W=e.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==_&&(w===null?W.firstBaseUpdate=q:w.next=q,W.lastBaseUpdate=O))}if(d!==null){var st=f.baseState;_=0,W=q=O=null,w=d;do{var F=w.lane&-536870913,Y=F!==w.lane;if(Y?(zt&F)===F:(l&F)===F){F!==0&&F===Ga&&(od=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var pt=e,wt=w;F=r;var ae=a;switch(wt.tag){case 1:if(pt=wt.payload,typeof pt=="function"){st=pt.call(ae,st,F);break t}st=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=wt.payload,F=typeof pt=="function"?pt.call(ae,st,F):pt,F==null)break t;st=b({},st,F);break t;case 2:Gr=!0}}F=w.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(q=W=Y,O=st):W=W.next=Y,_|=F;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(O=st),f.baseState=O,f.firstBaseUpdate=q,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Jr|=_,e.lanes=_,e.memoizedState=st}}function by(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function Ty(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)by(a[e],r)}var Ka=k(null),Ec=k(0);function wy(e,r){e=dr,ct(Ec,e),ct(Ka,r),dr=e|r.baseLanes}function ld(){ct(Ec,dr),ct(Ka,Ka.current)}function ud(){dr=Ec.current,tt(Ka),tt(Ec)}var xn=k(null),$n=null;function Yr(e){var r=e.alternate;ct(Se,Se.current&1),ct(xn,e),$n===null&&(r===null||Ka.current!==null||r.memoizedState!==null)&&($n=e)}function cd(e){ct(Se,Se.current),ct(xn,e),$n===null&&($n=e)}function Ay(e){e.tag===22?(ct(Se,Se.current),ct(xn,e),$n===null&&($n=e)):Kr()}function Kr(){ct(Se,Se.current),ct(xn,xn.current)}function Nn(e){tt(xn),$n===e&&($n=null),tt(Se)}var Se=k(0);function bc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||gm(a)||ym(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var sr=0,Mt=null,re=null,Me=null,Tc=!1,Xa=!1,ia=!1,wc=0,El=0,Za=null,Gw=0;function Ee(){throw Error(s(321))}function hd(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!An(e[a],r[a]))return!1;return!0}function fd(e,r,a,l,f,d){return sr=d,Mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=e===null||e.memoizedState===null?o0:Nd,ia=!1,d=a(l,f),ia=!1,Xa&&(d=xy(r,a,l,f)),Sy(e),d}function Sy(e){P.H=wl;var r=re!==null&&re.next!==null;if(sr=0,Me=re=Mt=null,Tc=!1,El=0,Za=null,r)throw Error(s(300));e===null||ke||(e=e.dependencies,e!==null&&dc(e)&&(ke=!0))}function xy(e,r,a,l){Mt=e;var f=0;do{if(Xa&&(Za=null),El=0,Xa=!1,25<=f)throw Error(s(301));if(f+=1,Me=re=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=l0,d=r(a,l)}while(Xa);return d}function $w(){var e=P.H,r=e.useState()[0];return r=typeof r.then=="function"?bl(r):r,e=e.useState()[0],(re!==null?re.memoizedState:null)!==e&&(Mt.flags|=1024),r}function dd(){var e=wc!==0;return wc=0,e}function md(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function pd(e){if(Tc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Tc=!1}sr=0,Me=re=Mt=null,Xa=!1,El=wc=0,Za=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Mt.memoizedState=Me=e:Me=Me.next=e,Me}function xe(){if(re===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var r=Me===null?Mt.memoizedState:Me.next;if(r!==null)Me=r,re=e;else{if(e===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Me===null?Mt.memoizedState=Me=e:Me=Me.next=e}return Me}function Ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(e){var r=El;return El+=1,Za===null&&(Za=[]),e=gy(Za,e,r),r=Mt,(Me===null?r.memoizedState:Me.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?o0:Nd),e}function Sc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bl(e);if(e.$$typeof===J)return Xe(e)}throw Error(s(438,String(e)))}function gd(e){var r=null,a=Mt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ac(),Mt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=M;return r.index++,a}function ar(e,r){return typeof r=="function"?r(e):r}function xc(e){var r=xe();return yd(r,re,e)}function yd(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var w=_=null,O=null,q=r,W=!1;do{var st=q.lane&-536870913;if(st!==q.lane?(zt&st)===st:(sr&st)===st){var F=q.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),st===Ga&&(W=!0);else if((sr&F)===F){q=q.next,F===Ga&&(W=!0);continue}else st={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(w=O=st,_=d):O=O.next=st,Mt.lanes|=F,Jr|=F;st=q.action,ia&&a(d,st),d=q.hasEagerState?q.eagerState:a(d,st)}else F={lane:st,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(w=O=F,_=d):O=O.next=F,Mt.lanes|=st,Jr|=st;q=q.next}while(q!==null&&q!==r);if(O===null?_=d:O.next=w,!An(d,e.memoizedState)&&(ke=!0,W&&(a=$a,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function _d(e){var r=xe(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);An(d,r.memoizedState)||(ke=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Ny(e,r,a){var l=Mt,f=xe(),d=Gt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!An((re||f).memoizedState,a);if(_&&(f.memoizedState=a,ke=!0),f=f.queue,bd(Iy.bind(null,l,f,e),[e]),f.getSnapshot!==r||_||Me!==null&&Me.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},Cy.bind(null,l,f,a,r),null),oe===null)throw Error(s(349));d||(sr&127)!==0||Ry(l,r,a)}return a}function Ry(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Mt.updateQueue,r===null?(r=Ac(),Mt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Cy(e,r,a,l){r.value=a,r.getSnapshot=l,Dy(r)&&Oy(e)}function Iy(e,r,a){return a(function(){Dy(r)&&Oy(e)})}function Dy(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!An(e,a)}catch{return!0}}function Oy(e){var r=Ys(e,2);r!==null&&_n(r,e,2)}function vd(e){var r=hn();if(typeof e=="function"){var a=e;if(e=a(),ia){Ln(!0);try{a()}finally{Ln(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:e},r}function My(e,r,a,l){return e.baseState=a,yd(e,re,typeof l=="function"?l:ar)}function Qw(e,r,a,l,f){if(Cc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};P.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,ky(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ky(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=P.T,_={};P.T=_;try{var w=a(f,l),O=P.S;O!==null&&O(_,w),Vy(e,r,w)}catch(q){Ed(e,r,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),P.T=d}}else try{d=a(f,l),Vy(e,r,d)}catch(q){Ed(e,r,q)}}function Vy(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ly(e,r,l)},function(l){return Ed(e,r,l)}):Ly(e,r,a)}function Ly(e,r,a){r.status="fulfilled",r.value=a,Py(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,ky(e,a)))}function Ed(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Py(r),r=r.next;while(r!==l)}e.action=null}function Py(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Uy(e,r){return r}function jy(e,r){if(Gt){var a=oe.formState;if(a!==null){t:{var l=Mt;if(Gt){if(le){e:{for(var f=le,d=Gn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Qn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){le=Qn(f.nextSibling),l=f.data==="F!";break t}}Hr(l)}l=!1}l&&(r=a[0])}}return a=hn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uy,lastRenderedState:r},a.queue=l,a=r0.bind(null,Mt,l),l.dispatch=a,l=vd(!1),d=xd.bind(null,Mt,!1,l.queue),l=hn(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=Qw.bind(null,Mt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function zy(e){var r=xe();return By(r,re,e)}function By(e,r,a){if(r=yd(e,r,Uy)[0],e=xc(ar)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=bl(r)}catch(_){throw _===Qa?gc:_}else l=r;r=xe();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Mt.flags|=2048,Ja(9,{destroy:void 0},Yw.bind(null,f,a),null)),[l,d,e]}function Yw(e,r){e.action=r}function qy(e){var r=xe(),a=re;if(a!==null)return By(r,a,e);xe(),r=r.memoizedState,a=xe();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Ja(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Mt.updateQueue,r===null&&(r=Ac(),Mt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function Hy(){return xe().memoizedState}function Nc(e,r,a,l){var f=hn();Mt.flags|=e,f.memoizedState=Ja(1|r,{destroy:void 0},a,l===void 0?null:l)}function Rc(e,r,a,l){var f=xe();l=l===void 0?null:l;var d=f.memoizedState.inst;re!==null&&l!==null&&hd(l,re.memoizedState.deps)?f.memoizedState=Ja(r,d,a,l):(Mt.flags|=e,f.memoizedState=Ja(1|r,d,a,l))}function Fy(e,r){Nc(8390656,8,e,r)}function bd(e,r){Rc(2048,8,e,r)}function Kw(e){Mt.flags|=4;var r=Mt.updateQueue;if(r===null)r=Ac(),Mt.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function Gy(e){var r=xe().memoizedState;return Kw({ref:r,nextImpl:e}),function(){if((Jt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function $y(e,r){return Rc(4,2,e,r)}function Qy(e,r){return Rc(4,4,e,r)}function Yy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Ky(e,r,a){a=a!=null?a.concat([e]):null,Rc(4,4,Yy.bind(null,r,e),a)}function Td(){}function Xy(e,r){var a=xe();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&hd(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Zy(e,r){var a=xe();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&hd(r,l[1]))return l[0];if(l=e(),ia){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[l,r],l}function wd(e,r,a){return a===void 0||(sr&1073741824)!==0&&(zt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=J0(),Mt.lanes|=e,Jr|=e,a)}function Jy(e,r,a,l){return An(a,r)?a:Ka.current!==null?(e=wd(e,a,l),An(e,r)||(ke=!0),e):(sr&42)===0||(sr&1073741824)!==0&&(zt&261930)===0?(ke=!0,e.memoizedState=a):(e=J0(),Mt.lanes|=e,Jr|=e,r)}function Wy(e,r,a,l,f){var d=G.p;G.p=d!==0&&8>d?d:8;var _=P.T,w={};P.T=w,xd(e,!1,r,a);try{var O=f(),q=P.S;if(q!==null&&q(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=Fw(O,l);Tl(e,r,W,In(e))}else Tl(e,r,l,In(e))}catch(st){Tl(e,r,{then:function(){},status:"rejected",reason:st},In())}finally{G.p=d,_!==null&&w.types!==null&&(_.types=w.types),P.T=_}}function Xw(){}function Ad(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=t0(e).queue;Wy(e,f,r,rt,a===null?Xw:function(){return e0(e),a(l)})}function t0(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:rt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function e0(e){var r=t0(e);r.next===null&&(r=e.alternate.memoizedState),Tl(e,r.next.queue,{},In())}function Sd(){return Xe(jl)}function n0(){return xe().memoizedState}function i0(){return xe().memoizedState}function Zw(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=In();e=$r(a);var l=Qr(r,e,a);l!==null&&(_n(l,r,a),yl(l,r,a)),r={cache:td()},e.payload=r;return}r=r.return}}function Jw(e,r,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cc(e)?s0(r,a):(a=Hf(e,r,a,l),a!==null&&(_n(a,e,l),a0(a,r,l)))}function r0(e,r,a){var l=In();Tl(e,r,a,l)}function Tl(e,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cc(e))s0(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,w=d(_,a);if(f.hasEagerState=!0,f.eagerState=w,An(w,_))return uc(e,r,f,0),oe===null&&lc(),!1}catch{}finally{}if(a=Hf(e,r,f,l),a!==null)return _n(a,e,l),a0(a,r,l),!0}return!1}function xd(e,r,a,l){if(l={lane:2,revertLane:rm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Cc(e)){if(r)throw Error(s(479))}else r=Hf(e,a,l,2),r!==null&&_n(r,e,2)}function Cc(e){var r=e.alternate;return e===Mt||r!==null&&r===Mt}function s0(e,r){Xa=Tc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function a0(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Fo(e,a)}}var wl={readContext:Xe,use:Sc,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};wl.useEffectEvent=Ee;var o0={readContext:Xe,use:Sc,useCallback:function(e,r){return hn().memoizedState=[e,r===void 0?null:r],e},useContext:Xe,useEffect:Fy,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,Nc(4194308,4,Yy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Nc(4194308,4,e,r)},useInsertionEffect:function(e,r){Nc(4,2,e,r)},useMemo:function(e,r){var a=hn();r=r===void 0?null:r;var l=e();if(ia){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=hn();if(a!==void 0){var f=a(r);if(ia){Ln(!0);try{a(r)}finally{Ln(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Jw.bind(null,Mt,e),[l.memoizedState,e]},useRef:function(e){var r=hn();return e={current:e},r.memoizedState=e},useState:function(e){e=vd(e);var r=e.queue,a=r0.bind(null,Mt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Td,useDeferredValue:function(e,r){var a=hn();return wd(a,e,r)},useTransition:function(){var e=vd(!1);return e=Wy.bind(null,Mt,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Mt,f=hn();if(Gt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),oe===null)throw Error(s(349));(zt&127)!==0||Ry(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Fy(Iy.bind(null,l,d,e),[e]),l.flags|=2048,Ja(9,{destroy:void 0},Cy.bind(null,l,d,a,r),null),a},useId:function(){var e=hn(),r=oe.identifierPrefix;if(Gt){var a=ki,l=Mi;a=(l&~(1<<32-we(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=wc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Gw++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:Sd,useFormState:jy,useActionState:jy,useOptimistic:function(e){var r=hn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=xd.bind(null,Mt,!0,a),a.dispatch=r,[e,r]},useMemoCache:gd,useCacheRefresh:function(){return hn().memoizedState=Zw.bind(null,Mt)},useEffectEvent:function(e){var r=hn(),a={impl:e};return r.memoizedState=a,function(){if((Jt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Nd={readContext:Xe,use:Sc,useCallback:Xy,useContext:Xe,useEffect:bd,useImperativeHandle:Ky,useInsertionEffect:$y,useLayoutEffect:Qy,useMemo:Zy,useReducer:xc,useRef:Hy,useState:function(){return xc(ar)},useDebugValue:Td,useDeferredValue:function(e,r){var a=xe();return Jy(a,re.memoizedState,e,r)},useTransition:function(){var e=xc(ar)[0],r=xe().memoizedState;return[typeof e=="boolean"?e:bl(e),r]},useSyncExternalStore:Ny,useId:n0,useHostTransitionStatus:Sd,useFormState:zy,useActionState:zy,useOptimistic:function(e,r){var a=xe();return My(a,re,e,r)},useMemoCache:gd,useCacheRefresh:i0};Nd.useEffectEvent=Gy;var l0={readContext:Xe,use:Sc,useCallback:Xy,useContext:Xe,useEffect:bd,useImperativeHandle:Ky,useInsertionEffect:$y,useLayoutEffect:Qy,useMemo:Zy,useReducer:_d,useRef:Hy,useState:function(){return _d(ar)},useDebugValue:Td,useDeferredValue:function(e,r){var a=xe();return re===null?wd(a,e,r):Jy(a,re.memoizedState,e,r)},useTransition:function(){var e=_d(ar)[0],r=xe().memoizedState;return[typeof e=="boolean"?e:bl(e),r]},useSyncExternalStore:Ny,useId:n0,useHostTransitionStatus:Sd,useFormState:qy,useActionState:qy,useOptimistic:function(e,r){var a=xe();return re!==null?My(a,re,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:gd,useCacheRefresh:i0};l0.useEffectEvent=Gy;function Rd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Cd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=In(),f=$r(l);f.payload=r,a!=null&&(f.callback=a),r=Qr(e,f,l),r!==null&&(_n(r,e,l),yl(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=In(),f=$r(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Qr(e,f,l),r!==null&&(_n(r,e,l),yl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=In(),l=$r(a);l.tag=2,r!=null&&(l.callback=r),r=Qr(e,l,a),r!==null&&(_n(r,e,a),yl(r,e,a))}};function u0(e,r,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!ul(a,l)||!ul(f,d):!0}function c0(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Cd.enqueueReplaceState(r,r.state,null)}function ra(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=b({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function h0(e){oc(e)}function f0(e){console.error(e)}function d0(e){oc(e)}function Ic(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function m0(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Id(e,r,a){return a=$r(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(e,r)},a}function p0(e){return e=$r(e),e.tag=3,e}function g0(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){m0(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){m0(r,a,l),typeof f!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Ww(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Fa(r,a,f,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?qc():a.alternate===null&&be===0&&(be=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===yc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),em(e,l,f)),!1;case 22:return a.flags|=65536,l===yc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),em(e,l,f)),!1}throw Error(s(435,a.tag))}return em(e,l,f),qc(),!1}if(Gt)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Kf&&(e=Error(s(422),{cause:l}),fl(qn(e,a)))):(l!==Kf&&(r=Error(s(423),{cause:l}),fl(qn(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=qn(l,a),f=Id(e.stateNode,l,f),ad(e,f),be!==4&&(be=2)),!1;var d=Error(s(520),{cause:l});if(d=qn(d,a),Dl===null?Dl=[d]:Dl.push(d),be!==4&&(be=2),r===null)return!0;l=qn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Id(a.stateNode,l,e),ad(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Wr===null||!Wr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=p0(f),g0(f,e,a,l),ad(a,f),!1}a=a.return}while(a!==null);return!1}var Dd=Error(s(461)),ke=!1;function Ze(e,r,a,l){r.child=e===null?Ey(r,null,a,l):na(r,e.child,a,l)}function y0(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Js(r),l=fd(e,r,a,_,d,f),w=dd(),e!==null&&!ke?(md(e,r,f),or(e,r,f)):(Gt&&w&&Qf(r),r.flags|=1,Ze(e,r,l,f),r.child)}function _0(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Ff(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,v0(e,r,d,l,f)):(e=hc(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!jd(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(_,l)&&e.ref===r.ref)return or(e,r,f)}return r.flags|=1,e=er(d,l),e.ref=r.ref,e.return=r,r.child=e}function v0(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(ul(d,l)&&e.ref===r.ref)if(ke=!1,r.pendingProps=l=d,jd(e,f))(e.flags&131072)!==0&&(ke=!0);else return r.lanes=e.lanes,or(e,r,f)}return Od(e,r,a,l,f)}function E0(e,r,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=r.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return b0(e,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&pc(r,d!==null?d.cachePool:null),d!==null?wy(r,d):ld(),Ay(r);else return l=r.lanes=536870912,b0(e,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(pc(r,d.cachePool),wy(r,d),Kr(),r.memoizedState=null):(e!==null&&pc(r,null),ld(),Kr());return Ze(e,r,f,a),r.child}function Al(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function b0(e,r,a,l,f){var d=nd();return d=d===null?null:{parent:Oe._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&pc(r,null),ld(),Ay(r),e!==null&&Fa(e,r,l,!0),r.childLanes=f,null}function Dc(e,r){return r=Mc({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function T0(e,r,a){return na(r,e.child,null,a),e=Dc(r,r.pendingProps),e.flags|=2,Nn(r),r.memoizedState=null,e}function tA(e,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Gt){if(l.mode==="hidden")return e=Dc(r,l),r.lanes=536870912,Al(null,e);if(cd(r),(e=le)?(e=k_(e,Gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Br!==null?{id:Mi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=sy(e),a.return=r,r.child=a,Ke=r,le=null)):e=null,e===null)throw Hr(r);return r.lanes=536870912,null}return Dc(r,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(cd(r),f)if(r.flags&256)r.flags&=-257,r=T0(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(ke||Fa(e,r,a,!1),f=(a&e.childLanes)!==0,ke||f){if(l=oe,l!==null&&(_=Go(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ys(e,_),_n(l,e,_),Dd;qc(),r=T0(e,r,a)}else e=d.treeContext,le=Qn(_.nextSibling),Ke=r,Gt=!0,qr=null,Gn=!1,e!==null&&ly(r,e),r=Dc(r,l),r.flags|=4096;return r}return e=er(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Oc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Od(e,r,a,l,f){return Js(r),a=fd(e,r,a,l,void 0,f),l=dd(),e!==null&&!ke?(md(e,r,f),or(e,r,f)):(Gt&&l&&Qf(r),r.flags|=1,Ze(e,r,a,f),r.child)}function w0(e,r,a,l,f,d){return Js(r),r.updateQueue=null,a=xy(r,l,a,f),Sy(e),l=dd(),e!==null&&!ke?(md(e,r,d),or(e,r,d)):(Gt&&l&&Qf(r),r.flags|=1,Ze(e,r,a,d),r.child)}function A0(e,r,a,l,f){if(Js(r),r.stateNode===null){var d=za,_=a.contextType;typeof _=="object"&&_!==null&&(d=Xe(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Cd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},rd(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Xe(_):za,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Rd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Cd.enqueueReplaceState(d,d.state,null),vl(r,l,d,f),_l(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var w=r.memoizedProps,O=ra(a,w);d.props=O;var q=d.context,W=a.contextType;_=za,typeof W=="object"&&W!==null&&(_=Xe(W));var st=a.getDerivedStateFromProps;W=typeof st=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||q!==_)&&c0(r,d,l,_),Gr=!1;var F=r.memoizedState;d.state=F,vl(r,l,d,f),_l(),q=r.memoizedState,w||F!==q||Gr?(typeof st=="function"&&(Rd(r,a,st,l),q=r.memoizedState),(O=Gr||u0(r,a,O,l,F,q,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,sd(e,r),_=r.memoizedProps,W=ra(a,_),d.props=W,st=r.pendingProps,F=d.context,q=a.contextType,O=za,typeof q=="object"&&q!==null&&(O=Xe(q)),w=a.getDerivedStateFromProps,(q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==st||F!==O)&&c0(r,d,l,O),Gr=!1,F=r.memoizedState,d.state=F,vl(r,l,d,f),_l();var Y=r.memoizedState;_!==st||F!==Y||Gr||e!==null&&e.dependencies!==null&&dc(e.dependencies)?(typeof w=="function"&&(Rd(r,a,w,l),Y=r.memoizedState),(W=Gr||u0(r,a,W,l,F,Y,O)||e!==null&&e.dependencies!==null&&dc(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=W):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Oc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=na(r,e.child,null,f),r.child=na(r,null,a,f)):Ze(e,r,a,f),r.memoizedState=d.state,e=r.child):e=or(e,r,f),e}function S0(e,r,a,l){return Xs(),r.flags|=256,Ze(e,r,a,l),r.child}var Md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kd(e){return{baseLanes:e,cachePool:my()}}function Vd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Cn),e}function x0(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,e===null){if(Gt){if(f?Yr(r):Kr(),(e=le)?(e=k_(e,Gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Br!==null?{id:Mi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=sy(e),a.return=r,r.child=a,Ke=r,le=null)):e=null,e===null)throw Hr(r);return ym(e)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Kr(),f=r.mode,w=Mc({mode:"hidden",children:w},f),l=Ks(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=kd(a),l.childLanes=Vd(e,_,a),r.memoizedState=Md,Al(null,l)):(Yr(r),Ld(r,w))}var O=e.memoizedState;if(O!==null&&(w=O.dehydrated,w!==null)){if(d)r.flags&256?(Yr(r),r.flags&=-257,r=Pd(e,r,a)):r.memoizedState!==null?(Kr(),r.child=e.child,r.flags|=128,r=null):(Kr(),w=l.fallback,f=r.mode,l=Mc({mode:"visible",children:l.children},f),w=Ks(w,f,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,na(r,e.child,null,a),l=r.child,l.memoizedState=kd(a),l.childLanes=Vd(e,_,a),r.memoizedState=Md,r=Al(null,l));else if(Yr(r),ym(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,fl({value:l,source:null,stack:null}),r=Pd(e,r,a)}else if(ke||Fa(e,r,a,!1),_=(a&e.childLanes)!==0,ke||_){if(_=oe,_!==null&&(l=Go(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Ys(e,l),_n(_,e,l),Dd;gm(w)||qc(),r=Pd(e,r,a)}else gm(w)?(r.flags|=192,r.child=e.child,r=null):(e=O.treeContext,le=Qn(w.nextSibling),Ke=r,Gt=!0,qr=null,Gn=!1,e!==null&&ly(r,e),r=Ld(r,l.children),r.flags|=4096);return r}return f?(Kr(),w=l.fallback,f=r.mode,O=e.child,q=O.sibling,l=er(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,q!==null?w=er(q,w):(w=Ks(w,f,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,Al(null,l),l=r.child,w=e.child.memoizedState,w===null?w=kd(a):(f=w.cachePool,f!==null?(O=Oe._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=my(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Vd(e,_,a),r.memoizedState=Md,Al(e.child,l)):(Yr(r),a=e.child,e=a.sibling,a=er(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(_=r.deletions,_===null?(r.deletions=[e],r.flags|=16):_.push(e)),r.child=a,r.memoizedState=null,a)}function Ld(e,r){return r=Mc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Mc(e,r){return e=Sn(22,e,null,r),e.lanes=0,e}function Pd(e,r,a){return na(r,e.child,null,a),e=Ld(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function N0(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Jf(e.return,r,a)}function Ud(e,r,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function R0(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Se.current,w=(_&2)!==0;if(w?(_=_&1|2,r.flags|=128):_&=1,ct(Se,_),Ze(e,r,l,a),l=Gt?hl:0,!w&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&N0(e,a,r);else if(e.tag===19)N0(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&bc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Ud(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&bc(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Ud(r,!0,a,null,d,l);break;case"together":Ud(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function or(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Jr|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Fa(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=er(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=er(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function jd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&dc(e)))}function eA(e,r,a){switch(r.tag){case 3:ge(r,r.stateNode.containerInfo),Fr(r,Oe,e.memoizedState.cache),Xs();break;case 27:case 5:Mn(r);break;case 4:ge(r,r.stateNode.containerInfo);break;case 10:Fr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,cd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Yr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?x0(e,r,a):(Yr(r),e=or(e,r,a),e!==null?e.sibling:null);Yr(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Fa(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return R0(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ct(Se,Se.current),l)break;return null;case 22:return r.lanes=0,E0(e,r,a,r.pendingProps);case 24:Fr(r,Oe,e.memoizedState.cache)}return or(e,r,a)}function C0(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)ke=!0;else{if(!jd(e,a)&&(r.flags&128)===0)return ke=!1,eA(e,r,a);ke=(e.flags&131072)!==0}else ke=!1,Gt&&(r.flags&1048576)!==0&&oy(r,hl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=ta(r.elementType),r.type=e,typeof e=="function")Ff(e)?(l=ra(e,l),r.tag=1,r=A0(null,r,e,l,a)):(r.tag=0,r=Od(null,r,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===ut){r.tag=11,r=y0(null,r,e,l,a);break t}else if(f===N){r.tag=14,r=_0(null,r,e,l,a);break t}}throw r=vt(e)||e,Error(s(306,r,""))}}return r;case 0:return Od(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ra(l,r.pendingProps),A0(e,r,l,f,a);case 3:t:{if(ge(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,sd(e,r),vl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Fr(r,Oe,l),l!==d.cache&&Wf(r,[Oe],a,!0),_l(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=S0(e,r,l,a);break t}else if(l!==f){f=qn(Error(s(424)),r),fl(f),r=S0(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Qn(e.firstChild),Ke=r,Gt=!0,qr=null,Gn=!0,a=Ey(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xs(),l===f){r=or(e,r,a);break t}Ze(e,r,l,a)}r=r.child}return r;case 26:return Oc(e,r),e===null?(a=z_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Gt||(a=r.type,e=r.pendingProps,l=Kc(Nt.current).createElement(a),l[Ce]=r,l[He]=e,Je(l,a,e),Ie(l),r.stateNode=l):r.memoizedState=z_(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Mn(r),e===null&&Gt&&(l=r.stateNode=P_(r.type,r.pendingProps,Nt.current),Ke=r,Gn=!0,f=le,is(r.type)?(_m=f,le=Qn(l.firstChild)):le=f),Ze(e,r,r.pendingProps.children,a),Oc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Gt&&((f=l=le)&&(l=DA(l,r.type,r.pendingProps,Gn),l!==null?(r.stateNode=l,Ke=r,le=Qn(l.firstChild),Gn=!1,f=!0):f=!1),f||Hr(r)),Mn(r),f=r.type,d=r.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,dm(f,d)?l=null:_!==null&&dm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=fd(e,r,$w,null,null,a),jl._currentValue=f),Oc(e,r),Ze(e,r,l,a),r.child;case 6:return e===null&&Gt&&((e=a=le)&&(a=OA(a,r.pendingProps,Gn),a!==null?(r.stateNode=a,Ke=r,le=null,e=!0):e=!1),e||Hr(r)),null;case 13:return x0(e,r,a);case 4:return ge(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=na(r,null,l,a):Ze(e,r,l,a),r.child;case 11:return y0(e,r,r.type,r.pendingProps,a);case 7:return Ze(e,r,r.pendingProps,a),r.child;case 8:return Ze(e,r,r.pendingProps.children,a),r.child;case 12:return Ze(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Fr(r,r.type,l.value),Ze(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Js(r),f=Xe(f),l=l(f),r.flags|=1,Ze(e,r,l,a),r.child;case 14:return _0(e,r,r.type,r.pendingProps,a);case 15:return v0(e,r,r.type,r.pendingProps,a);case 19:return R0(e,r,a);case 31:return tA(e,r,a);case 22:return E0(e,r,a,r.pendingProps);case 24:return Js(r),l=Xe(Oe),e===null?(f=nd(),f===null&&(f=oe,d=td(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},rd(r),Fr(r,Oe,f)):((e.lanes&a)!==0&&(sd(e,r),vl(r,null,null,a),_l()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Fr(r,Oe,l)):(l=d.cache,Fr(r,Oe,l),l!==f.cache&&Wf(r,[Oe],a,!0))),Ze(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function lr(e){e.flags|=4}function zd(e,r,a,l,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(n_())e.flags|=8192;else throw ea=yc,id}else e.flags&=-16777217}function I0(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!G_(r))if(n_())e.flags|=8192;else throw ea=yc,id}function kc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?zu():536870912,e.lanes|=r,no|=r)}function Sl(e,r){if(!Gt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ue(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function nA(e,r,a){var l=r.pendingProps;switch(Yf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),rr(Oe),Qt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ha(r)?lr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xf())),ue(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(lr(r),d!==null?(ue(r),I0(r,d)):(ue(r),zd(r,f,null,l,a))):d?d!==e.memoizedState?(lr(r),ue(r),I0(r,d)):(ue(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&lr(r),ue(r),zd(r,f,e,l,a)),null;case 27:if(Yi(r),a=Nt.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ue(r),null}e=ft.current,Ha(r)?uy(r):(e=P_(f,l,a),r.stateNode=e,lr(r))}return ue(r),null;case 5:if(Yi(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ue(r),null}if(d=ft.current,Ha(r))uy(r);else{var _=Kc(Nt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Ce]=r,d[He]=l;t:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break t;for(;_.sibling===null;){if(_.return===null||_.return===r)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;t:switch(Je(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&lr(r)}}return ue(r),zd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&lr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=Nt.current,Ha(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=Ke,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ce]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(e.nodeValue,a)),e||Hr(r,!0)}else e=Kc(e).createTextNode(l),e[Ce]=r,r.stateNode=e}return ue(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=Ha(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ce]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),e=!1}else a=Xf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(Nn(r),r):(Nn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ue(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ha(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ce]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),f=!1}else f=Xf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Nn(r),r):(Nn(r),null)}return Nn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),kc(r,r.updateQueue),ue(r),null);case 4:return Qt(),e===null&&lm(r.stateNode.containerInfo),ue(r),null;case 10:return rr(r.type),ue(r),null;case 19:if(tt(Se),l=r.memoizedState,l===null)return ue(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Sl(l,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=bc(e),d!==null){for(r.flags|=128,Sl(l,!1),e=d.updateQueue,r.updateQueue=e,kc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)ry(a,e),a=a.sibling;return ct(Se,Se.current&1|2),Gt&&nr(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&Ut()>jc&&(r.flags|=128,f=!0,Sl(l,!1),r.lanes=4194304)}else{if(!f)if(e=bc(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,kc(r,e),Sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Gt)return ue(r),null}else 2*Ut()-l.renderingStartTime>jc&&a!==536870912&&(r.flags|=128,f=!0,Sl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ut(),e.sibling=null,a=Se.current,ct(Se,f?a&1|2:a&1),Gt&&nr(r,l.treeForkCount),e):(ue(r),null);case 22:case 23:return Nn(r),ud(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),a=r.updateQueue,a!==null&&kc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&tt(Ws),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),rr(Oe),ue(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function iA(e,r){switch(Yf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return rr(Oe),Qt(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Yi(r),null;case 31:if(r.memoizedState!==null){if(Nn(r),r.alternate===null)throw Error(s(340));Xs()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(Nn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Xs()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return tt(Se),null;case 4:return Qt(),null;case 10:return rr(r.type),null;case 22:case 23:return Nn(r),ud(),e!==null&&tt(Ws),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return rr(Oe),null;case 25:return null;default:return null}}function D0(e,r){switch(Yf(r),r.tag){case 3:rr(Oe),Qt();break;case 26:case 27:case 5:Yi(r);break;case 4:Qt();break;case 31:r.memoizedState!==null&&Nn(r);break;case 13:Nn(r);break;case 19:tt(Se);break;case 10:rr(r.type);break;case 22:case 23:Nn(r),ud(),e!==null&&tt(Ws);break;case 24:rr(Oe)}}function xl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){ne(r,r.return,w)}}function Xr(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=r;var O=a,q=w;try{q()}catch(W){ne(f,O,W)}}}l=l.next}while(l!==d)}}catch(W){ne(r,r.return,W)}}function O0(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Ty(r,a)}catch(l){ne(e,e.return,l)}}}function M0(e,r,a){a.props=ra(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ne(e,r,l)}}function Nl(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){ne(e,r,f)}}function Vi(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ne(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ne(e,r,f)}else a.current=null}function k0(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ne(e,e.return,f)}}function Bd(e,r,a){try{var l=e.stateNode;SA(l,e.type,a,r),l[He]=r}catch(f){ne(e,e.return,f)}}function V0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&is(e.type)||e.tag===4}function qd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||V0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&is(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ti));else if(l!==4&&(l===27&&is(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Hd(e,r,a),e=e.sibling;e!==null;)Hd(e,r,a),e=e.sibling}function Vc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&is(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Vc(e,r,a),e=e.sibling;e!==null;)Vc(e,r,a),e=e.sibling}function L0(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Je(r,l,a),r[Ce]=e,r[He]=a}catch(d){ne(e,e.return,d)}}var ur=!1,Ve=!1,Fd=!1,P0=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function rA(e,r){if(e=e.containerInfo,hm=nh,e=Kg(e),Pf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,w=-1,O=-1,q=0,W=0,st=e,F=null;e:for(;;){for(var Y;st!==a||f!==0&&st.nodeType!==3||(w=_+f),st!==d||l!==0&&st.nodeType!==3||(O=_+l),st.nodeType===3&&(_+=st.nodeValue.length),(Y=st.firstChild)!==null;)F=st,st=Y;for(;;){if(st===e)break e;if(F===a&&++q===f&&(w=_),F===d&&++W===l&&(O=_),(Y=st.nextSibling)!==null)break;st=F,F=st.parentNode}st=Y}a=w===-1||O===-1?null:{start:w,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(fm={focusedElem:e,selectionRange:a},nh=!1,Ge=r;Ge!==null;)if(r=Ge,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Ge=e;else for(;Ge!==null;){switch(r=Ge,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=ra(a.type,f);e=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(wt){ne(a,a.return,wt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)pm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Ge=e;break}Ge=r.return}}function U0(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hr(e,a),l&4&&xl(5,a);break;case 1:if(hr(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(_){ne(a,a.return,_)}else{var f=ra(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ne(a,a.return,_)}}l&64&&O0(a),l&512&&Nl(a,a.return);break;case 3:if(hr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ty(e,r)}catch(_){ne(a,a.return,_)}}break;case 27:r===null&&l&4&&L0(a);case 26:case 5:hr(e,a),r===null&&l&4&&k0(a),l&512&&Nl(a,a.return);break;case 12:hr(e,a);break;case 31:hr(e,a),l&4&&B0(e,a);break;case 13:hr(e,a),l&4&&q0(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=dA.bind(null,a),MA(e,a))));break;case 22:if(l=a.memoizedState!==null||ur,!l){r=r!==null&&r.memoizedState!==null||Ve,f=ur;var d=Ve;ur=l,(Ve=r)&&!d?fr(e,a,(a.subtreeFlags&8772)!==0):hr(e,a),ur=f,Ve=d}break;case 30:break;default:hr(e,a)}}function j0(e){var r=e.alternate;r!==null&&(e.alternate=null,j0(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&xa(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,mn=!1;function cr(e,r,a){for(a=a.child;a!==null;)z0(e,r,a),a=a.sibling}function z0(e,r,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(ve,a)}catch{}switch(a.tag){case 26:Ve||Vi(a,r),cr(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||Vi(a,r);var l=de,f=mn;is(a.type)&&(de=a.stateNode,mn=!1),cr(e,r,a),Ll(a.stateNode),de=l,mn=f;break;case 5:Ve||Vi(a,r);case 6:if(l=de,f=mn,de=null,cr(e,r,a),de=l,mn=f,de!==null)if(mn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(a.stateNode)}catch(d){ne(a,r,d)}else try{de.removeChild(a.stateNode)}catch(d){ne(a,r,d)}break;case 18:de!==null&&(mn?(e=de,O_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),co(e)):O_(de,a.stateNode));break;case 4:l=de,f=mn,de=a.stateNode.containerInfo,mn=!0,cr(e,r,a),de=l,mn=f;break;case 0:case 11:case 14:case 15:Xr(2,a,r),Ve||Xr(4,a,r),cr(e,r,a);break;case 1:Ve||(Vi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&M0(a,r,l)),cr(e,r,a);break;case 21:cr(e,r,a);break;case 22:Ve=(l=Ve)||a.memoizedState!==null,cr(e,r,a),Ve=l;break;default:cr(e,r,a)}}function B0(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{co(e)}catch(a){ne(r,r.return,a)}}}function q0(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{co(e)}catch(a){ne(r,r.return,a)}}function sA(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new P0),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new P0),r;default:throw Error(s(435,e.tag))}}function Lc(e,r){var a=sA(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=mA.bind(null,e,l);l.then(f,f)}})}function pn(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=r,w=_;t:for(;w!==null;){switch(w.tag){case 27:if(is(w.type)){de=w.stateNode,mn=!1;break t}break;case 5:de=w.stateNode,mn=!1;break t;case 3:case 4:de=w.stateNode.containerInfo,mn=!0;break t}w=w.return}if(de===null)throw Error(s(160));z0(d,_,f),de=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)H0(r,e),r=r.sibling}var ai=null;function H0(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(r,e),gn(e),l&4&&(Xr(3,e,e.return),xl(3,e),Xr(5,e,e.return));break;case 1:pn(r,e),gn(e),l&512&&(Ve||a===null||Vi(a,a.return)),l&64&&ur&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ai;if(pn(r,e),gn(e),l&512&&(Ve||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[bi]||d[Ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Je(d,l,a),d[Ce]=e,Ie(d),l=d;break t;case"link":var _=H_("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break e}}d=f.createElement(l),Je(d,l,a),f.head.appendChild(d);break;case"meta":if(_=H_("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break e}}d=f.createElement(l),Je(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ce]=e,Ie(d),l=d}e.stateNode=l}else F_(f,e.type,e.stateNode);else e.stateNode=q_(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?F_(f,e.type,e.stateNode):q_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Bd(e,e.memoizedProps,a.memoizedProps)}break;case 27:pn(r,e),gn(e),l&512&&(Ve||a===null||Vi(a,a.return)),a!==null&&l&4&&Bd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,e),gn(e),l&512&&(Ve||a===null||Vi(a,a.return)),e.flags&32){f=e.stateNode;try{dn(f,"")}catch(pt){ne(e,e.return,pt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Bd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Fd=!0);break;case 6:if(pn(r,e),gn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(pt){ne(e,e.return,pt)}}break;case 3:if(Jc=null,f=ai,ai=Xc(r.containerInfo),pn(r,e),ai=f,gn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(r.containerInfo)}catch(pt){ne(e,e.return,pt)}Fd&&(Fd=!1,F0(e));break;case 4:l=ai,ai=Xc(e.stateNode.containerInfo),pn(r,e),gn(e),ai=l;break;case 12:pn(r,e),gn(e);break;case 31:pn(r,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lc(e,l)));break;case 13:pn(r,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uc=Ut()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lc(e,l)));break;case 22:f=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,q=ur,W=Ve;if(ur=q||f,Ve=W||O,pn(r,e),Ve=W,ur=q,gn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||O||ur||Ve||sa(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=O.stateNode;var st=O.memoizedProps.style,F=st!=null&&st.hasOwnProperty("display")?st.display:null;w.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(pt){ne(O,O.return,pt)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(pt){ne(O,O.return,pt)}}}else if(r.tag===18){if(a===null){O=r;try{var Y=O.stateNode;f?M_(Y,!0):M_(O.stateNode,!1)}catch(pt){ne(O,O.return,pt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lc(e,a))));break;case 19:pn(r,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lc(e,l)));break;case 30:break;case 21:break;default:pn(r,e),gn(e)}}function gn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(V0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=qd(e);Vc(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var w=qd(e);Vc(e,w,_);break;case 3:case 4:var O=a.stateNode.containerInfo,q=qd(e);Hd(e,q,O);break;default:throw Error(s(161))}}catch(W){ne(e,e.return,W)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function F0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;F0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function hr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)U0(e,r.alternate,r),r=r.sibling}function sa(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Xr(4,r,r.return),sa(r);break;case 1:Vi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&M0(r,r.return,a),sa(r);break;case 27:Ll(r.stateNode);case 26:case 5:Vi(r,r.return),sa(r);break;case 22:r.memoizedState===null&&sa(r);break;case 30:sa(r);break;default:sa(r)}e=e.sibling}}function fr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:fr(f,d,a),xl(4,d);break;case 1:if(fr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){ne(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)by(O[f],w)}catch(q){ne(l,l.return,q)}}a&&_&64&&O0(d),Nl(d,d.return);break;case 27:L0(d);case 26:case 5:fr(f,d,a),a&&l===null&&_&4&&k0(d),Nl(d,d.return);break;case 12:fr(f,d,a);break;case 31:fr(f,d,a),a&&_&4&&B0(f,d);break;case 13:fr(f,d,a),a&&_&4&&q0(f,d);break;case 22:d.memoizedState===null&&fr(f,d,a),Nl(d,d.return);break;case 30:break;default:fr(f,d,a)}r=r.sibling}}function Gd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&dl(a))}function $d(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&dl(e))}function oi(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)G0(e,r,a,l),r=r.sibling}function G0(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:oi(e,r,a,l),f&2048&&xl(9,r);break;case 1:oi(e,r,a,l);break;case 3:oi(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&dl(e)));break;case 12:if(f&2048){oi(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){ne(r,r.return,O)}}else oi(e,r,a,l);break;case 31:oi(e,r,a,l);break;case 13:oi(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?oi(e,r,a,l):Rl(e,r):d._visibility&2?oi(e,r,a,l):(d._visibility|=2,Wa(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Gd(_,r);break;case 24:oi(e,r,a,l),f&2048&&$d(r.alternate,r);break;default:oi(e,r,a,l)}}function Wa(e,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,_=r,w=a,O=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Wa(d,_,w,O,f),xl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Wa(d,_,w,O,f):Rl(d,_):(W._visibility|=2,Wa(d,_,w,O,f)),f&&q&2048&&Gd(_.alternate,_);break;case 24:Wa(d,_,w,O,f),f&&q&2048&&$d(_.alternate,_);break;default:Wa(d,_,w,O,f)}r=r.sibling}}function Rl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:Rl(a,l),f&2048&&Gd(l.alternate,l);break;case 24:Rl(a,l),f&2048&&$d(l.alternate,l);break;default:Rl(a,l)}r=r.sibling}}var Cl=8192;function to(e,r,a){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)$0(e,r,a),e=e.sibling}function $0(e,r,a){switch(e.tag){case 26:to(e,r,a),e.flags&Cl&&e.memoizedState!==null&&GA(a,ai,e.memoizedState,e.memoizedProps);break;case 5:to(e,r,a);break;case 3:case 4:var l=ai;ai=Xc(e.stateNode.containerInfo),to(e,r,a),ai=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Cl,Cl=16777216,to(e,r,a),Cl=l):to(e,r,a));break;default:to(e,r,a)}}function Q0(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Il(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ge=l,K0(l,e)}Q0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Y0(e),e=e.sibling}function Y0(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&Xr(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Pc(e)):Il(e);break;default:Il(e)}}function Pc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ge=l,K0(l,e)}Q0(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Xr(8,r,r.return),Pc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Pc(r));break;default:Pc(r)}e=e.sibling}}function K0(e,r){for(;Ge!==null;){var a=Ge;switch(a.tag){case 0:case 11:case 15:Xr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ge=l;else t:for(a=e;Ge!==null;){l=Ge;var f=l.sibling,d=l.return;if(j0(l),l===a){Ge=null;break t}if(f!==null){f.return=d,Ge=f;break t}Ge=d}}}var aA={getCacheForType:function(e){var r=Xe(Oe),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Xe(Oe).controller.signal}},oA=typeof WeakMap=="function"?WeakMap:Map,Jt=0,oe=null,Lt=null,zt=0,ee=0,Rn=null,Zr=!1,eo=!1,Qd=!1,dr=0,be=0,Jr=0,aa=0,Yd=0,Cn=0,no=0,Dl=null,yn=null,Kd=!1,Uc=0,X0=0,jc=1/0,zc=null,Wr=null,ze=0,ts=null,io=null,mr=0,Xd=0,Zd=null,Z0=null,Ol=0,Jd=null;function In(){return(Jt&2)!==0&&zt!==0?zt&-zt:P.T!==null?rm():Bu()}function J0(){if(Cn===0)if((zt&536870912)===0||Gt){var e=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),Cn=e}else Cn=536870912;return e=xn.current,e!==null&&(e.flags|=32),Cn}function _n(e,r,a){(e===oe&&(ee===2||ee===9)||e.cancelPendingCommit!==null)&&(ro(e,0),es(e,zt,Cn,!1)),ks(e,a),((Jt&2)===0||e!==oe)&&(e===oe&&((Jt&2)===0&&(aa|=a),be===4&&es(e,zt,Cn,!1)),Li(e))}function W0(e,r,a){if((Jt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||Zn(e,r),f=l?cA(e,r):tm(e,r,!0),d=l;do{if(f===0){eo&&!l&&es(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!lA(a)){f=tm(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;t:{var w=e;f=Dl;var O=w.current.memoizedState.isDehydrated;if(O&&(ro(w,_).flags|=256),_=tm(w,_,!1),_!==2){if(Qd&&!O){w.errorRecoveryDisabledLanes|=d,aa|=d,f=4;break t}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){ro(e,0),es(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:es(l,r,Cn,!Zr);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Uc+300-Ut(),10<f)){if(es(l,r,Cn,!Zr),_i(l,0,!0)!==0)break t;mr=r,l.timeoutHandle=I_(t_.bind(null,l,a,yn,zc,Kd,r,Cn,aa,no,Zr,d,"Throttled",-0,0),f);break t}t_(l,a,yn,zc,Kd,r,Cn,aa,no,Zr,d,null,-0,0)}}break}while(!0);Li(e)}function t_(e,r,a,l,f,d,_,w,O,q,W,st,F,Y){if(e.timeoutHandle=-1,st=r.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},$0(r,d,st);var pt=(d&62914560)===d?Uc-Ut():(d&4194048)===d?X0-Ut():0;if(pt=$A(st,pt),pt!==null){mr=d,e.cancelPendingCommit=pt(l_.bind(null,e,r,d,a,l,f,_,w,O,W,st,null,F,Y)),es(e,d,_,!q);return}}l_(e,r,d,a,l,f,_,w,O)}function lA(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function es(e,r,a,l){r&=~Yd,r&=~aa,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-we(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Vs(e,a,r)}function Bc(){return(Jt&6)===0?(Ml(0),!1):!0}function Wd(){if(Lt!==null){if(ee===0)var e=Lt.return;else e=Lt,ir=Zs=null,pd(e),Ya=null,pl=0,e=Lt;for(;e!==null;)D0(e.alternate,e),e=e.return;Lt=null}}function ro(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,RA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),mr=0,Wd(),oe=e,Lt=a=er(e.current,null),zt=r,ee=0,Rn=null,Zr=!1,eo=Zn(e,r),Qd=!1,no=Cn=Yd=aa=Jr=be=0,yn=Dl=null,Kd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-we(l),d=1<<f;r|=e[f],l&=~d}return dr=r,lc(),a}function e_(e,r){Mt=null,P.H=wl,r===Qa||r===gc?(r=yy(),ee=3):r===id?(r=yy(),ee=4):ee=r===Dd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Lt===null&&(be=1,Ic(e,qn(r,e.current)))}function n_(){var e=xn.current;return e===null?!0:(zt&4194048)===zt?$n===null:(zt&62914560)===zt||(zt&536870912)!==0?e===$n:!1}function i_(){var e=P.H;return P.H=wl,e===null?wl:e}function r_(){var e=P.A;return P.A=aA,e}function qc(){be=4,Zr||(zt&4194048)!==zt&&xn.current!==null||(eo=!0),(Jr&134217727)===0&&(aa&134217727)===0||oe===null||es(oe,zt,Cn,!1)}function tm(e,r,a){var l=Jt;Jt|=2;var f=i_(),d=r_();(oe!==e||zt!==r)&&(zc=null,ro(e,r)),r=!1;var _=be;t:do try{if(ee!==0&&Lt!==null){var w=Lt,O=Rn;switch(ee){case 8:Wd(),_=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var q=ee;if(ee=0,Rn=null,so(e,w,O,q),a&&eo){_=0;break t}break;default:q=ee,ee=0,Rn=null,so(e,w,O,q)}}uA(),_=be;break}catch(W){e_(e,W)}while(!0);return r&&e.shellSuspendCounter++,ir=Zs=null,Jt=l,P.H=f,P.A=d,Lt===null&&(oe=null,zt=0,lc()),_}function uA(){for(;Lt!==null;)s_(Lt)}function cA(e,r){var a=Jt;Jt|=2;var l=i_(),f=r_();oe!==e||zt!==r?(zc=null,jc=Ut()+500,ro(e,r)):eo=Zn(e,r);t:do try{if(ee!==0&&Lt!==null){r=Lt;var d=Rn;e:switch(ee){case 1:ee=0,Rn=null,so(e,r,d,1);break;case 2:case 9:if(py(d)){ee=0,Rn=null,a_(r);break}r=function(){ee!==2&&ee!==9||oe!==e||(ee=7),Li(e)},d.then(r,r);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:py(d)?(ee=0,Rn=null,a_(r)):(ee=0,Rn=null,so(e,r,d,7));break;case 5:var _=null;switch(Lt.tag){case 26:_=Lt.memoizedState;case 5:case 27:var w=Lt;if(_?G_(_):w.stateNode.complete){ee=0,Rn=null;var O=w.sibling;if(O!==null)Lt=O;else{var q=w.return;q!==null?(Lt=q,Hc(q)):Lt=null}break e}}ee=0,Rn=null,so(e,r,d,5);break;case 6:ee=0,Rn=null,so(e,r,d,6);break;case 8:Wd(),be=6;break t;default:throw Error(s(462))}}hA();break}catch(W){e_(e,W)}while(!0);return ir=Zs=null,P.H=l,P.A=f,Jt=a,Lt!==null?0:(oe=null,zt=0,lc(),be)}function hA(){for(;Lt!==null&&!gt();)s_(Lt)}function s_(e){var r=C0(e.alternate,e,dr);e.memoizedProps=e.pendingProps,r===null?Hc(e):Lt=r}function a_(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=w0(a,r,r.pendingProps,r.type,void 0,zt);break;case 11:r=w0(a,r,r.pendingProps,r.type.render,r.ref,zt);break;case 5:pd(r);default:D0(a,r),r=Lt=ry(r,dr),r=C0(a,r,dr)}e.memoizedProps=e.pendingProps,r===null?Hc(e):Lt=r}function so(e,r,a,l){ir=Zs=null,pd(r),Ya=null,pl=0;var f=r.return;try{if(Ww(e,f,r,a,zt)){be=1,Ic(e,qn(a,e.current)),Lt=null;return}}catch(d){if(f!==null)throw Lt=f,d;be=1,Ic(e,qn(a,e.current)),Lt=null;return}r.flags&32768?(Gt||l===1?e=!0:eo||(zt&536870912)!==0?e=!1:(Zr=e=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),o_(r,e)):Hc(r)}function Hc(e){var r=e;do{if((r.flags&32768)!==0){o_(r,Zr);return}e=r.return;var a=nA(r.alternate,r,dr);if(a!==null){Lt=a;return}if(r=r.sibling,r!==null){Lt=r;return}Lt=r=e}while(r!==null);be===0&&(be=5)}function o_(e,r){do{var a=iA(e.alternate,e);if(a!==null){a.flags&=32767,Lt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Lt=e;return}Lt=e=a}while(e!==null);be=6,Lt=null}function l_(e,r,a,l,f,d,_,w,O){e.cancelPendingCommit=null;do Fc();while(ze!==0);if((Jt&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=qf,Mf(e,a,d,_,w,O),e===oe&&(Lt=oe=null,zt=0),io=r,ts=e,mr=a,Xd=d,Zd=f,Z0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pA(Vn,function(){return d_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,f=G.p,G.p=2,_=Jt,Jt|=4;try{rA(e,r,a)}finally{Jt=_,G.p=f,P.T=l}}ze=1,u_(),c_(),h_()}}function u_(){if(ze===1){ze=0;var e=ts,r=io,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var l=G.p;G.p=2;var f=Jt;Jt|=4;try{H0(r,e);var d=fm,_=Kg(e.containerInfo),w=d.focusedElem,O=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&Yg(w.ownerDocument.documentElement,w)){if(O!==null&&Pf(w)){var q=O.start,W=O.end;if(W===void 0&&(W=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(W,w.value.length);else{var st=w.ownerDocument||document,F=st&&st.defaultView||window;if(F.getSelection){var Y=F.getSelection(),pt=w.textContent.length,wt=Math.min(O.start,pt),ae=O.end===void 0?wt:Math.min(O.end,pt);!Y.extend&&wt>ae&&(_=ae,ae=wt,wt=_);var U=Qg(w,wt),L=Qg(w,ae);if(U&&L&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var B=st.createRange();B.setStart(U.node,U.offset),Y.removeAllRanges(),wt>ae?(Y.addRange(B),Y.extend(L.node,L.offset)):(B.setEnd(L.node,L.offset),Y.addRange(B))}}}}for(st=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&st.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<st.length;w++){var nt=st[w];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}nh=!!hm,fm=hm=null}finally{Jt=f,G.p=l,P.T=a}}e.current=r,ze=2}}function c_(){if(ze===2){ze=0;var e=ts,r=io,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var l=G.p;G.p=2;var f=Jt;Jt|=4;try{U0(e,r.alternate,r)}finally{Jt=f,G.p=l,P.T=a}}ze=3}}function h_(){if(ze===4||ze===3){ze=0,Yt();var e=ts,r=io,a=mr,l=Z0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ze=5:(ze=0,io=ts=null,f_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Wr=null),Zi(a),r=r.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(ve,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=P.T,f=G.p,G.p=2,P.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{P.T=r,G.p=f}}(mr&3)!==0&&Fc(),Li(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Jd?Ol++:(Ol=0,Jd=e):Ol=0,Ml(0)}}function f_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,dl(r)))}function Fc(){return u_(),c_(),h_(),d_()}function d_(){if(ze!==5)return!1;var e=ts,r=Xd;Xd=0;var a=Zi(mr),l=P.T,f=G.p;try{G.p=32>a?32:a,P.T=null,a=Zd,Zd=null;var d=ts,_=mr;if(ze=0,io=ts=null,mr=0,(Jt&6)!==0)throw Error(s(331));var w=Jt;if(Jt|=4,Y0(d.current),G0(d,d.current,_,a),Jt=w,Ml(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(ve,d)}catch{}return!0}finally{G.p=f,P.T=l,f_(e,r)}}function m_(e,r,a){r=qn(a,r),r=Id(e.stateNode,r,2),e=Qr(e,r,2),e!==null&&(ks(e,2),Li(e))}function ne(e,r,a){if(e.tag===3)m_(e,e,a);else for(;r!==null;){if(r.tag===3){m_(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wr===null||!Wr.has(l))){e=qn(a,e),a=p0(2),l=Qr(r,a,2),l!==null&&(g0(a,l,r,e),ks(l,2),Li(l));break}}r=r.return}}function em(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new oA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Qd=!0,f.add(a),e=fA.bind(null,e,r,a),r.then(e,e))}function fA(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,oe===e&&(zt&a)===a&&(be===4||be===3&&(zt&62914560)===zt&&300>Ut()-Uc?(Jt&2)===0&&ro(e,0):Yd|=a,no===zt&&(no=0)),Li(e)}function p_(e,r){r===0&&(r=zu()),e=Ys(e,r),e!==null&&(ks(e,r),Li(e))}function dA(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),p_(e,a)}function mA(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),p_(e,a)}function pA(e,r){return Te(e,r)}var Gc=null,ao=null,nm=!1,$c=!1,im=!1,ns=0;function Li(e){e!==ao&&e.next===null&&(ao===null?Gc=ao=e:ao=ao.next=e),$c=!0,nm||(nm=!0,yA())}function Ml(e,r){if(!im&&$c){im=!0;do for(var a=!1,l=Gc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-we(42|e)+1)-1,d&=f&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,v_(l,d))}else d=zt,d=_i(l,l===oe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zn(l,d)||(a=!0,v_(l,d));l=l.next}while(a);im=!1}}function gA(){g_()}function g_(){$c=nm=!1;var e=0;ns!==0&&NA()&&(e=ns);for(var r=Ut(),a=null,l=Gc;l!==null;){var f=l.next,d=y_(l,r);d===0?(l.next=null,a===null?Gc=f:a.next=f,f===null&&(ao=a)):(a=l,(e!==0||(d&3)!==0)&&($c=!0)),l=f}ze!==0&&ze!==5||Ml(e),ns!==0&&(ns=0)}function y_(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-we(d),w=1<<_,O=f[_];O===-1?((w&a)===0||(w&l)!==0)&&(f[_]=Of(w,r)):O<=r&&(e.expiredLanes|=w),d&=~w}if(r=oe,a=zt,a=_i(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(ee===2||ee===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&pi(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Zn(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&pi(l),Zi(a)){case 2:case 8:a=Qe;break;case 32:a=Vn;break;case 268435456:a=_e;break;default:a=Vn}return l=__.bind(null,e),a=Te(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&pi(l),e.callbackPriority=2,e.callbackNode=null,2}function __(e,r){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Fc()&&e.callbackNode!==a)return null;var l=zt;return l=_i(e,e===oe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(W0(e,l,r),y_(e,Ut()),e.callbackNode!=null&&e.callbackNode===a?__.bind(null,e):null)}function v_(e,r){if(Fc())return null;W0(e,r,!0)}function yA(){CA(function(){(Jt&6)!==0?Te(jt,gA):g_()})}function rm(){if(ns===0){var e=Ga;e===0&&(e=gi,gi<<=1,(gi&261888)===0&&(gi=256)),ns=e}return ns}function E_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ia(""+e)}function b_(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function _A(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=E_((f[He]||null).action),_=l.submitter;_&&(r=(r=_[He]||null)?E_(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var w=new Ci("action","action",null,l,f);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ns!==0){var O=_?b_(f,_):new FormData(f);Ad(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(w.preventDefault(),O=_?b_(f,_):new FormData(f),Ad(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var sm=0;sm<Bf.length;sm++){var am=Bf[sm],vA=am.toLowerCase(),EA=am[0].toUpperCase()+am.slice(1);si(vA,"on"+EA)}si(Jg,"onAnimationEnd"),si(Wg,"onAnimationIteration"),si(ty,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Lw,"onTransitionRun"),si(Pw,"onTransitionStart"),si(Uw,"onTransitionCancel"),si(ey,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function T_(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var w=l[_],O=w.instance,q=w.currentTarget;if(w=w.listener,O!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=q;try{d(f)}catch(W){oc(W)}f.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(w=l[_],O=w.instance,q=w.currentTarget,w=w.listener,O!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=q;try{d(f)}catch(W){oc(W)}f.currentTarget=null,d=O}}}}function Pt(e,r){var a=r[Sa];a===void 0&&(a=r[Sa]=new Set);var l=e+"__bubble";a.has(l)||(w_(r,e,2,!1),a.add(l))}function om(e,r,a){var l=0;r&&(l|=4),w_(a,e,l,r)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function lm(e){if(!e[Qc]){e[Qc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(bA.has(a)||om(a,!1,e),om(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Qc]||(r[Qc]=!0,om("selectionchange",!1,r))}}function w_(e,r,a,l){switch(J_(r)){case 2:var f=KA;break;case 8:f=XA;break;default:f=wm}a=f.bind(null,r,a,e),f=void 0,!zs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function um(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=Ti(w),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue t}w=w.parentNode}}l=l.return}Pr(function(){var q=d,W=Un(a),st=[];t:{var F=ny.get(e);if(F!==void 0){var Y=Ci,pt=e;switch(e){case"keypress":if(qs(a)===0)break t;case"keydown":case"keyup":Y=rc;break;case"focusin":pt="focus",Y=Fs;break;case"focusout":pt="blur",Y=Fs;break;case"beforeblur":case"afterblur":Y=Fs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Jg:case Wg:case ty:Y=Zu;break;case ey:Y=x;break;case"scroll":case"scrollend":Y=rl;break;case"wheel":Y=$;break;case"copy":case"cut":case"paste":Y=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=tr;break;case"toggle":case"beforetoggle":Y=Ot}var wt=(r&4)!==0,ae=!wt&&(e==="scroll"||e==="scrollend"),U=wt?F!==null?F+"Capture":null:F;wt=[];for(var L=q,B;L!==null;){var nt=L;if(B=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||B===null||U===null||(nt=ei(L,U),nt!=null&&wt.push(Vl(L,nt,B))),ae)break;L=L.return}0<wt.length&&(F=new Y(F,pt,null,a,W),st.push({event:F,listeners:wt}))}}if((r&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&a!==el&&(pt=a.relatedTarget||a.fromElement)&&(Ti(pt)||pt[Ei]))break t;if((Y||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(pt=a.relatedTarget||a.toElement,Y=q,pt=pt?Ti(pt):null,pt!==null&&(ae=u(pt),wt=pt.tag,pt!==ae||wt!==5&&wt!==27&&wt!==6)&&(pt=null)):(Y=null,pt=q),Y!==pt)){if(wt=sl,nt="onMouseLeave",U="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(wt=tr,nt="onPointerLeave",U="onPointerEnter",L="pointer"),ae=Y==null?F:Tn(Y),B=pt==null?F:Tn(pt),F=new wt(nt,L+"leave",Y,a,W),F.target=ae,F.relatedTarget=B,nt=null,Ti(W)===q&&(wt=new wt(U,L+"enter",pt,a,W),wt.target=B,wt.relatedTarget=ae,nt=wt),ae=nt,Y&&pt)e:{for(wt=TA,U=Y,L=pt,B=0,nt=U;nt;nt=wt(nt))B++;nt=0;for(var Et=L;Et;Et=wt(Et))nt++;for(;0<B-nt;)U=wt(U),B--;for(;0<nt-B;)L=wt(L),nt--;for(;B--;){if(U===L||L!==null&&U===L.alternate){wt=U;break e}U=wt(U),L=wt(L)}wt=null}else wt=null;Y!==null&&A_(st,F,Y,wt,!1),pt!==null&&ae!==null&&A_(st,ae,pt,wt,!0)}}t:{if(F=q?Tn(q):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Kt=Bg;else if(jg(F))if(qg)Kt=Mw;else{Kt=Dw;var yt=Iw}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Ca(q.elementType)&&(Kt=Bg):Kt=Ow;if(Kt&&(Kt=Kt(e,q))){zg(st,Kt,a,W);break t}yt&&yt(e,F,q),e==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Jo(F,"number",F.value)}switch(yt=q?Tn(q):window,e){case"focusin":(jg(yt)||yt.contentEditable==="true")&&(Pa=yt,Uf=q,cl=null);break;case"focusout":cl=Uf=Pa=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Xg(st,a,W);break;case"selectionchange":if(Vw)break;case"keydown":case"keyup":Xg(st,a,W)}var kt;if(Zt)t:{switch(e){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else La?Gs(e,a)&&(Bt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Bt="onCompositionStart");Bt&&(Oi&&a.locale!=="ko"&&(La||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&La&&(kt=il()):(Ri=W,nl="value"in Ri?Ri.value:Ri.textContent,La=!0)),yt=Yc(q,Bt),0<yt.length&&(Bt=new Di(Bt,e,null,a,W),st.push({event:Bt,listeners:yt}),kt?Bt.data=kt:(kt=Va(a),kt!==null&&(Bt.data=kt)))),(kt=zn?xw(e,a):Nw(e,a))&&(Bt=Yc(q,"onBeforeInput"),0<Bt.length&&(yt=new Di("onBeforeInput","beforeinput",null,a,W),st.push({event:yt,listeners:Bt}),yt.data=kt)),_A(st,e,q,a,W)}T_(st,r)})}function Vl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Yc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(e,a),f!=null&&l.unshift(Vl(e,f,d)),f=ei(e,r),f!=null&&l.push(Vl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function TA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A_(e,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var w=a,O=w.alternate,q=w.stateNode;if(w=w.tag,O!==null&&O===l)break;w!==5&&w!==26&&w!==27||q===null||(O=q,f?(q=ei(a,d),q!=null&&_.unshift(Vl(a,q,O))):f||(q=ei(a,d),q!=null&&_.push(Vl(a,q,O)))),a=a.return}_.length!==0&&e.push({event:r,listeners:_})}var wA=/\r\n?/g,AA=/\u0000|\uFFFD/g;function S_(e){return(typeof e=="string"?e:""+e).replace(wA,`
`).replace(AA,"")}function x_(e,r){return r=S_(r),S_(e)===r}function se(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||dn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&dn(e,""+l);break;case"className":wn(e,"class",l);break;case"tabIndex":wn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(e,a,l);break;case"style":tl(e,l,d);break;case"data":if(r!=="object"){wn(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ia(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&se(e,r,"name",f.name,f,null),se(e,r,"formEncType",f.formEncType,f,null),se(e,r,"formMethod",f.formMethod,f,null),se(e,r,"formTarget",f.formTarget,f,null)):(se(e,r,"encType",f.encType,f,null),se(e,r,"method",f.method,f,null),se(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ia(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ti);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ia(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),Na(e,"popover",l);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Na(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yu.get(a)||a,Na(e,a,l))}}function cm(e,r,a,l,f,d){switch(a){case"style":tl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?dn(e,l):(typeof l=="number"||typeof l=="bigint")&&dn(e,""+l);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[He]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Na(e,a,l)}}}function Je(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:se(e,r,d,_,a,null)}}f&&se(e,r,"srcSet",a.srcSet,a,null),l&&se(e,r,"src",a.src,a,null);return;case"input":Pt("invalid",e);var w=d=_=f=null,O=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":O=W;break;case"defaultChecked":q=W;break;case"value":d=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:se(e,r,l,W,a,null)}}Gu(e,d,w,O,q,_,f,!1);return;case"select":Pt("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:se(e,r,f,w,a,null)}r=d,a=_,e.multiple=!!l,r!=null?Mr(e,!!l,r,!1):a!=null&&Mr(e,!!l,a,!0);return;case"textarea":Pt("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:se(e,r,_,w,a,null)}kr(e,l,f,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:se(e,r,O,l,a,null)}return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(l=0;l<kl.length;l++)Pt(kl[l],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:se(e,r,q,l,a,null)}return;default:if(Ca(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&cm(e,r,W,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&se(e,r,w,l,a,null))}function SA(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,w=null,O=null,q=null,W=null;for(Y in a){var st=a[Y];if(a.hasOwnProperty(Y)&&st!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=st;default:l.hasOwnProperty(Y)||se(e,r,Y,null,l,st)}}for(var F in l){var Y=l[F];if(st=a[F],l.hasOwnProperty(F)&&(Y!=null||st!=null))switch(F){case"type":d=Y;break;case"name":f=Y;break;case"checked":q=Y;break;case"defaultChecked":W=Y;break;case"value":_=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==st&&se(e,r,F,Y,l,st)}}Ra(e,_,w,O,q,W,d,f);return;case"select":Y=_=w=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||se(e,r,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==O&&se(e,r,f,d,l,O)}r=w,a=_,l=Y,F!=null?Mr(e,!!a,F,!1):!!l!=!!a&&(r!=null?Mr(e,!!a,r,!0):Mr(e,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:se(e,r,w,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&se(e,r,_,f,l,d)}$u(e,F,Y);return;case"option":for(var pt in a)if(F=a[pt],a.hasOwnProperty(pt)&&F!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:se(e,r,pt,null,l,F)}for(O in l)if(F=l[O],Y=a[O],l.hasOwnProperty(O)&&F!==Y&&(F!=null||Y!=null))switch(O){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:se(e,r,O,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in a)F=a[wt],a.hasOwnProperty(wt)&&F!=null&&!l.hasOwnProperty(wt)&&se(e,r,wt,null,l,F);for(q in l)if(F=l[q],Y=a[q],l.hasOwnProperty(q)&&F!==Y&&(F!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:se(e,r,q,F,l,Y)}return;default:if(Ca(r)){for(var ae in a)F=a[ae],a.hasOwnProperty(ae)&&F!==void 0&&!l.hasOwnProperty(ae)&&cm(e,r,ae,void 0,l,F);for(W in l)F=l[W],Y=a[W],!l.hasOwnProperty(W)||F===Y||F===void 0&&Y===void 0||cm(e,r,W,F,l,Y);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&se(e,r,U,null,l,F);for(st in l)F=l[st],Y=a[st],!l.hasOwnProperty(st)||F===Y||F==null&&Y==null||se(e,r,st,F,l,Y)}function N_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,w=f.duration;if(d&&w&&N_(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],q=O.startTime;if(q>w)break;var W=O.transferSize,st=O.initiatorType;W&&N_(st)&&(O=O.responseEnd,_+=W*(O<w?1:(w-q)/(O-q)))}if(--l,r+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hm=null,fm=null;function Kc(e){return e.nodeType===9?e:e.ownerDocument}function R_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C_(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function dm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var mm=null;function NA(){var e=window.event;return e&&e.type==="popstate"?e===mm?!1:(mm=e,!0):(mm=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(e){return D_.resolve(null).then(e).catch(IA)}:I_;function IA(e){setTimeout(function(){throw e})}function is(e){return e==="head"}function O_(e,r){var a=r,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),co(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[bi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ll(e.ownerDocument.body);a=f}while(a);co(r)}function M_(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function pm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pm(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function DA(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[bi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function OA(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qn(e.nextSibling),e===null))return null;return e}function k_(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Qn(e.nextSibling),e===null))return null;return e}function gm(e){return e.data==="$?"||e.data==="$~"}function ym(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function MA(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var _m=null;function V_(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return Qn(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function L_(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function P_(e,r,a){switch(r=Kc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ll(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);xa(e)}var Yn=new Map,U_=new Set;function Xc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pr=G.d;G.d={f:kA,r:VA,D:LA,C:PA,L:UA,m:jA,X:BA,S:zA,M:qA};function kA(){var e=pr.f(),r=Bc();return e||r}function VA(e){var r=Pn(e);r!==null&&r.tag===5&&r.type==="form"?e0(r):pr.r(e)}var oo=typeof document>"u"?null:document;function j_(e,r,a){var l=oo;if(l&&typeof r=="string"&&r){var f=fn(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),U_.has(f)||(U_.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Je(r,"link",e),Ie(r),l.head.appendChild(r)))}}function LA(e){pr.D(e),j_("dns-prefetch",e,null)}function PA(e,r){pr.C(e,r),j_("preconnect",e,r)}function UA(e,r,a){pr.L(e,r,a);var l=oo;if(l&&e&&r){var f='link[rel="preload"][as="'+fn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(e)+'"]';var d=f;switch(r){case"style":d=lo(e);break;case"script":d=uo(e)}Yn.has(d)||(e=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Yn.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(Pl(d))||r==="script"&&l.querySelector(Ul(d))||(r=l.createElement("link"),Je(r,"link",e),Ie(r),l.head.appendChild(r)))}}function jA(e,r){pr.m(e,r);var a=oo;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(e)}if(!Yn.has(d)&&(e=b({rel:"modulepreload",href:e},r),Yn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(d)))return}l=a.createElement("link"),Je(l,"link",e),Ie(l),a.head.appendChild(l)}}}function zA(e,r,a){pr.S(e,r,a);var l=oo;if(l&&e){var f=wi(l).hoistableStyles,d=lo(e);r=r||"default";var _=f.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Pl(d)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Yn.get(d))&&vm(e,a);var O=_=l.createElement("link");Ie(O),Je(O,"link",e),O._p=new Promise(function(q,W){O.onload=q,O.onerror=W}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Zc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(d,_)}}}function BA(e,r){pr.X(e,r);var a=oo;if(a&&e){var l=wi(a).hoistableScripts,f=uo(e),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(e=b({src:e,async:!0},r),(r=Yn.get(f))&&Em(e,r),d=a.createElement("script"),Ie(d),Je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function qA(e,r){pr.M(e,r);var a=oo;if(a&&e){var l=wi(a).hoistableScripts,f=uo(e),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(e=b({src:e,async:!0,type:"module"},r),(r=Yn.get(f))&&Em(e,r),d=a.createElement("script"),Ie(d),Je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function z_(e,r,a,l){var f=(f=Nt.current)?Xc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=wi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=lo(a.href);var d=wi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Pl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Yn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(e,a),d||HA(f,e,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=wi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function lo(e){return'href="'+fn(e)+'"'}function Pl(e){return'link[rel="stylesheet"]['+e+"]"}function B_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function HA(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Je(r,"link",a),Ie(r),e.head.appendChild(r))}function uo(e){return'[src="'+fn(e)+'"]'}function Ul(e){return"script[async]"+e}function q_(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return r.instance=l,Ie(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ie(l),Je(l,"style",f),Zc(l,a.precedence,e),r.instance=l;case"stylesheet":f=lo(a.href);var d=e.querySelector(Pl(f));if(d)return r.state.loading|=4,r.instance=d,Ie(d),d;l=B_(a),(f=Yn.get(f))&&vm(l,f),d=(e.ownerDocument||e).createElement("link"),Ie(d);var _=d;return _._p=new Promise(function(w,O){_.onload=w,_.onerror=O}),Je(d,"link",l),r.state.loading|=4,Zc(d,a.precedence,e),r.instance=d;case"script":return d=uo(a.src),(f=e.querySelector(Ul(d)))?(r.instance=f,Ie(f),f):(l=a,(f=Yn.get(d))&&(l=b({},a),Em(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ie(f),Je(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Zc(l,a.precedence,e));return r.instance}function Zc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===r)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function vm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Em(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Jc=null;function H_(e,r,a){if(Jc===null){var l=new Map,f=Jc=new Map;f.set(a,l)}else f=Jc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[bi]||d[Ce]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=e+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function F_(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function FA(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function G_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function GA(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=lo(l.href),d=r.querySelector(Pl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Wc.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,Ie(d);return}d=r.ownerDocument||r,l=B_(l),(f=Yn.get(f))&&vm(l,f),d=d.createElement("link"),Ie(d);var _=d;_._p=new Promise(function(w,O){_.onload=w,_.onerror=O}),Je(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Wc.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var bm=0;function $A(e,r){return e.stylesheets&&e.count===0&&eh(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&eh(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&bm===0&&(bm=62500*xA());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&eh(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>bm?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var th=null;function eh(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,th=new Map,r.forEach(QA,e),th=null,Wc.call(e))}function QA(e,r){if(!(r.state.loading&4)){var a=th.get(e);if(a)var l=a.get(null);else{a=new Map,th.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Wc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var jl={$$typeof:J,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function YA(e,r,a,l,f,d,_,w,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function $_(e,r,a,l,f,d,_,w,O,q,W,st){return e=new YA(e,r,a,_,O,q,W,st,w),r=1,d===!0&&(r|=24),d=Sn(3,null,null,r),e.current=d,d.stateNode=e,r=td(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},rd(d),e}function Q_(e){return e?(e=za,e):za}function Y_(e,r,a,l,f,d){f=Q_(f),l.context===null?l.context=f:l.pendingContext=f,l=$r(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Qr(e,l,r),a!==null&&(_n(a,e,r),yl(a,e,r))}function K_(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Tm(e,r){K_(e,r),(e=e.alternate)&&K_(e,r)}function X_(e){if(e.tag===13||e.tag===31){var r=Ys(e,67108864);r!==null&&_n(r,e,67108864),Tm(e,67108864)}}function Z_(e){if(e.tag===13||e.tag===31){var r=In();r=Ls(r);var a=Ys(e,r);a!==null&&_n(a,e,r),Tm(e,r)}}var nh=!0;function KA(e,r,a,l){var f=P.T;P.T=null;var d=G.p;try{G.p=2,wm(e,r,a,l)}finally{G.p=d,P.T=f}}function XA(e,r,a,l){var f=P.T;P.T=null;var d=G.p;try{G.p=8,wm(e,r,a,l)}finally{G.p=d,P.T=f}}function wm(e,r,a,l){if(nh){var f=Am(l);if(f===null)um(e,r,l,ih,a),W_(e,l);else if(JA(f,e,r,a,l))l.stopPropagation();else if(W_(e,l),r&4&&-1<ZA.indexOf(e)){for(;f!==null;){var d=Pn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=yi(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var O=1<<31-we(_);w.entanglements[1]|=O,_&=~O}Li(d),(Jt&6)===0&&(jc=Ut()+500,Ml(0))}}break;case 31:case 13:w=Ys(d,2),w!==null&&_n(w,d,2),Bc(),Tm(d,2)}if(d=Am(l),d===null&&um(e,r,l,ih,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else um(e,r,l,null,a)}}function Am(e){return e=Un(e),Sm(e)}var ih=null;function Sm(e){if(ih=null,e=Ti(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=c(r),e!==null)return e;e=null}else if(a===31){if(e=m(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return ih=e,null}function J_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vt()){case jt:return 2;case Qe:return 8;case Vn:case Xi:return 32;case _e:return 268435456;default:return 32}default:return 32}}var xm=!1,rs=null,ss=null,as=null,zl=new Map,Bl=new Map,os=[],ZA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(e,r){switch(e){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(r.pointerId)}}function ql(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Pn(r),r!==null&&X_(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function JA(e,r,a,l,f){switch(r){case"focusin":return rs=ql(rs,e,r,a,l,f),!0;case"dragenter":return ss=ql(ss,e,r,a,l,f),!0;case"mouseover":return as=ql(as,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return zl.set(d,ql(zl.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Bl.set(d,ql(Bl.get(d)||null,e,r,a,l,f)),!0}return!1}function tv(e){var r=Ti(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){e.blockedOn=r,Jn(e.priority,function(){Z_(a)});return}}else if(r===31){if(r=m(a),r!==null){e.blockedOn=r,Jn(e.priority,function(){Z_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rh(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=Am(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);el=l,a.target.dispatchEvent(l),el=null}else return r=Pn(a),r!==null&&X_(r),e.blockedOn=a,!1;r.shift()}return!0}function ev(e,r,a){rh(e)&&a.delete(r)}function WA(){xm=!1,rs!==null&&rh(rs)&&(rs=null),ss!==null&&rh(ss)&&(ss=null),as!==null&&rh(as)&&(as=null),zl.forEach(ev),Bl.forEach(ev)}function sh(e,r){e.blockedOn===r&&(e.blockedOn=null,xm||(xm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,WA)))}var ah=null;function nv(e){ah!==e&&(ah=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ah===e&&(ah=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(Sm(l||a)===null)continue;break}var d=Pn(a);d!==null&&(e.splice(r,3),r-=3,Ad(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function co(e){function r(O){return sh(O,e)}rs!==null&&sh(rs,e),ss!==null&&sh(ss,e),as!==null&&sh(as,e),zl.forEach(r),Bl.forEach(r);for(var a=0;a<os.length;a++){var l=os[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<os.length&&(a=os[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&os.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[He]||null;if(typeof d=="function")_||nv(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[He]||null)w=_.formAction;else if(Sm(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),nv(a)}}}function iv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Nm(e){this._internalRoot=e}oh.prototype.render=Nm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=In();Y_(a,l,e,r,null,null)},oh.prototype.unmount=Nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Y_(e.current,2,null,e,null,null),Bc(),r[Ei]=null}};function oh(e){this._internalRoot=e}oh.prototype.unstable_scheduleHydration=function(e){if(e){var r=Bu();e={blockedOn:null,target:e,priority:r};for(var a=0;a<os.length&&r!==0&&r<os[a].priority;a++);os.splice(a,0,e),a===0&&tv(e)}};var rv=t.version;if(rv!=="19.2.1")throw Error(s(527,rv,"19.2.1"));G.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(r),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var tS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{ve=lh.inject(tS),je=lh}catch{}}return Fl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=h0,d=f0,_=d0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=$_(e,1,!1,null,null,a,l,null,f,d,_,iv),e[Ei]=r.current,lm(e),new Nm(r)},Fl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=h0,_=f0,w=d0,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=$_(e,1,!0,r,a??null,l,f,O,d,_,w,iv),r.context=Q_(null),a=r.current,l=In(),l=Ls(l),f=$r(l),f.callback=null,Qr(a,f,l),a=l,r.current.lanes=a,ks(r,a),Li(r),e[Ei]=r.current,lm(e),new oh(r)},Fl.version="19.2.1",Fl}var mv;function hS(){if(mv)return Im.exports;mv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Im.exports=cS(),Im.exports}var fS=hS();const dS=()=>{};var pv={};const vb=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},mS=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],c=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},Eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,I=g&63;p||(I=64,c||(A=64)),s.push(n[v],n[b],n[A],n[I])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(vb(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):mS(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new pS;const A=u<<2|m>>4;if(s.push(A),g!==64){const I=m<<4&240|g>>2;if(s.push(I),b!==64){const j=g<<6&192|b;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class pS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gS=function(i){const t=vb(i);return Eb.encodeByteArray(t,!0)},kh=function(i){return gS(i).replace(/\./g,"")},bb=function(i){try{return Eb.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _S=()=>yS().__FIREBASE_DEFAULTS__,vS=()=>{if(typeof process>"u"||typeof pv>"u")return;const i=pv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ES=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&bb(i[1]);return t&&JSON.parse(t)},of=()=>{try{return dS()||_S()||vS()||ES()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Tb=i=>of()?.emulatorHosts?.[i],bS=i=>{const t=Tb(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},wb=()=>of()?.config,Ab=i=>of()?.[`_${i}`];class TS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Po(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sb(i){return(await fetch(i,{credentials:"include"})).ok}function wS(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[kh(JSON.stringify(n)),kh(JSON.stringify(c)),""].join(".")}const nu={};function AS(){const i={prod:[],emulator:[]};for(const t of Object.keys(nu))nu[t]?i.emulator.push(t):i.prod.push(t);return i}function SS(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let gv=!1;function xb(i,t){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||nu[i]===t||nu[i]||gv)return;nu[i]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=AS().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{gv=!0,c()},A}function v(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=SS(s),I=n("text"),j=document.getElementById(I)||document.createElement("span"),Q=n("learnmore"),K=document.getElementById(Q)||document.createElement("a"),et=n("preprendIcon"),Z=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const J=A.element;m(J),v(K,Q);const ut=g();p(Z,et),J.append(Z,j,K,ut),document.body.appendChild(J)}u?(j.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function NS(){const i=of()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function IS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){const i=ln();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function OS(){return!NS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const VS="FirebaseError";class Sr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=VS,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?LS(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Sr(o,m,s)}}function LS(i,t){return i.replace(PS,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const PS=/\{\$([^}]+)}/g;function US(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ma(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],c=t[o];if(yv(u)&&yv(c)){if(!ma(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function yv(i){return i!==null&&typeof i=="object"}function xu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ql(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Yl(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function jS(i,t){const n=new zS(i,t);return n.subscribe.bind(n)}class zS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");BS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=km),o.error===void 0&&(o.error=km),o.complete===void 0&&(o.complete=km);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BS(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function km(){}function en(i){return i&&i._delegate?i._delegate:i}class pa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const oa="[DEFAULT]";class qS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new TS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FS(t))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=oa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oa){return this.instances.has(t)}getOptions(t=oa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=oa){return this.component?this.component.multipleInstances?t:oa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HS(i){return i===oa?void 0:i}function FS(i){return i.instantiationMode==="EAGER"}class GS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new qS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var qt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(qt||(qt={}));const $S={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},QS=qt.INFO,YS={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},KS=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=YS[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jp{constructor(t){this.name=t,this._logLevel=QS,this._logHandler=KS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$S[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const XS=(i,t)=>t.some(n=>i instanceof n);let _v,vv;function ZS(){return _v||(_v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JS(){return vv||(vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nb=new WeakMap,Jm=new WeakMap,Rb=new WeakMap,Vm=new WeakMap,zp=new WeakMap;function WS(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(ys(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&Nb.set(n,i)}).catch(()=>{}),zp.set(t,i),t}function tx(i){if(Jm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Jm.set(i,t)}let Wm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Jm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Rb.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function ex(i){Wm=i(Wm)}function nx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Lm(this),t,...n);return Rb.set(s,t.sort?t.sort():[t]),ys(s)}:JS().includes(i)?function(...t){return i.apply(Lm(this),t),ys(Nb.get(this))}:function(...t){return ys(i.apply(Lm(this),t))}}function ix(i){return typeof i=="function"?nx(i):(i instanceof IDBTransaction&&tx(i),XS(i,ZS())?new Proxy(i,Wm):i)}function ys(i){if(i instanceof IDBRequest)return WS(i);if(Vm.has(i))return Vm.get(i);const t=ix(i);return t!==i&&(Vm.set(i,t),zp.set(t,i)),t}const Lm=i=>zp.get(i);function rx(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),m=ys(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ys(c.result),p.oldVersion,p.newVersion,ys(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const sx=["get","getKey","getAll","getAllKeys","count"],ax=["put","add","delete","clear"],Pm=new Map;function Ev(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Pm.get(t))return Pm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=ax.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sx.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Pm.set(t,u),u}ex(i=>({...i,get:(t,n,s)=>Ev(t,n)||i.get(t,n,s),has:(t,n)=>!!Ev(t,n)||i.has(t,n)}));class ox{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lx(i){return i.getComponent()?.type==="VERSION"}const tp="@firebase/app",bv="0.14.6";const Er=new jp("@firebase/app"),ux="@firebase/app-compat",cx="@firebase/analytics-compat",hx="@firebase/analytics",fx="@firebase/app-check-compat",dx="@firebase/app-check",mx="@firebase/auth",px="@firebase/auth-compat",gx="@firebase/database",yx="@firebase/data-connect",_x="@firebase/database-compat",vx="@firebase/functions",Ex="@firebase/functions-compat",bx="@firebase/installations",Tx="@firebase/installations-compat",wx="@firebase/messaging",Ax="@firebase/messaging-compat",Sx="@firebase/performance",xx="@firebase/performance-compat",Nx="@firebase/remote-config",Rx="@firebase/remote-config-compat",Cx="@firebase/storage",Ix="@firebase/storage-compat",Dx="@firebase/firestore",Ox="@firebase/ai",Mx="@firebase/firestore-compat",kx="firebase",Vx="12.6.0";const ep="[DEFAULT]",Lx={[tp]:"fire-core",[ux]:"fire-core-compat",[hx]:"fire-analytics",[cx]:"fire-analytics-compat",[dx]:"fire-app-check",[fx]:"fire-app-check-compat",[mx]:"fire-auth",[px]:"fire-auth-compat",[gx]:"fire-rtdb",[yx]:"fire-data-connect",[_x]:"fire-rtdb-compat",[vx]:"fire-fn",[Ex]:"fire-fn-compat",[bx]:"fire-iid",[Tx]:"fire-iid-compat",[wx]:"fire-fcm",[Ax]:"fire-fcm-compat",[Sx]:"fire-perf",[xx]:"fire-perf-compat",[Nx]:"fire-rc",[Rx]:"fire-rc-compat",[Cx]:"fire-gcs",[Ix]:"fire-gcs-compat",[Dx]:"fire-fst",[Mx]:"fire-fst-compat",[Ox]:"fire-vertex","fire-js":"fire-js",[kx]:"fire-js-all"};const uu=new Map,Px=new Map,np=new Map;function Tv(i,t){try{i.container.addComponent(t)}catch(n){Er.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function xo(i){const t=i.name;if(np.has(t))return Er.debug(`There were multiple attempts to register component ${t}.`),!1;np.set(t,i);for(const n of uu.values())Tv(n,i);for(const n of Px.values())Tv(n,i);return!0}function Bp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function Kn(i){return i==null?!1:i.settings!==void 0}const Ux={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Su("app","Firebase",Ux);class jx{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}const Uo=Vx;function Cb(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:ep,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(n||(n=wb()),!n)throw _s.create("no-options");const u=uu.get(o);if(u){if(ma(n,u.options)&&ma(s,u.config))return u;throw _s.create("duplicate-app",{appName:o})}const c=new GS(o);for(const p of np.values())c.addComponent(p);const m=new jx(n,s,c);return uu.set(o,m),m}function Ib(i=ep){const t=uu.get(i);if(!t&&i===ep&&wb())return Cb();if(!t)throw _s.create("no-app",{appName:i});return t}function wv(){return Array.from(uu.values())}function vs(i,t,n){let s=Lx[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Er.warn(c.join(" "));return}xo(new pa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const zx="firebase-heartbeat-database",Bx=1,cu="firebase-heartbeat-store";let Um=null;function Db(){return Um||(Um=rx(zx,Bx,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(cu)}catch(n){console.warn(n)}}}}).catch(i=>{throw _s.create("idb-open",{originalErrorMessage:i.message})})),Um}async function qx(i){try{const n=(await Db()).transaction(cu),s=await n.objectStore(cu).get(Ob(i));return await n.done,s}catch(t){if(t instanceof Sr)Er.warn(t.message);else{const n=_s.create("idb-get",{originalErrorMessage:t?.message});Er.warn(n.message)}}}async function Av(i,t){try{const s=(await Db()).transaction(cu,"readwrite");await s.objectStore(cu).put(t,Ob(i)),await s.done}catch(n){if(n instanceof Sr)Er.warn(n.message);else{const s=_s.create("idb-set",{originalErrorMessage:n?.message});Er.warn(s.message)}}}function Ob(i){return`${i.name}!${i.options.appId}`}const Hx=1024,Fx=30;class Gx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Fx){const o=Yx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Sv(),{heartbeatsToSend:n,unsentEntries:s}=$x(this._heartbeatsCache.heartbeats),o=kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Er.warn(t),""}}}function Sv(){return new Date().toISOString().substring(0,10)}function $x(i,t=Hx){const n=[];let s=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),xv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Qx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function xv(i){return kh(JSON.stringify({version:2,heartbeats:i})).length}function Yx(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}function Kx(i){xo(new pa("platform-logger",t=>new ox(t),"PRIVATE")),xo(new pa("heartbeat",t=>new Gx(t),"PRIVATE")),vs(tp,bv,i),vs(tp,bv,"esm2020"),vs("fire-js","")}Kx("");var Xx="firebase",Zx="12.7.0";vs(Xx,Zx,"app");function Mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jx=Mb,kb=new Su("auth","Firebase",Mb());const Vh=new jp("@firebase/auth");function Wx(i,...t){Vh.logLevel<=qt.WARN&&Vh.warn(`Auth (${Uo}): ${i}`,...t)}function bh(i,...t){Vh.logLevel<=qt.ERROR&&Vh.error(`Auth (${Uo}): ${i}`,...t)}function di(i,...t){throw qp(i,...t)}function Ui(i,...t){return qp(i,...t)}function Vb(i,t,n){const s={...Jx(),[t]:n};return new Su("auth","Firebase",s).create(t,{appName:i.name})}function vr(i){return Vb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return kb.create(i,...t)}function St(i,t,...n){if(!i)throw qp(t,...n)}function yr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw bh(t),new Error(t)}function br(i,t){i||yr(t)}function ip(){return typeof self<"u"&&self.location?.href||""}function t2(){return Nv()==="http:"||Nv()==="https:"}function Nv(){return typeof self<"u"&&self.location?.protocol||null}function e2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t2()||CS()||"connection"in navigator)?navigator.onLine:!0}function n2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Nu{constructor(t,n){this.shortDelay=t,this.longDelay=n,br(n>t,"Short delay should be less than long delay!"),this.isMobile=xS()||IS()}get(){return e2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hp(i,t){br(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Lb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const i2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const r2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s2=new Nu(3e4,6e4);function xr(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function Nr(i,t,n,s,o={}){return Pb(i,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const m=xu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return RS()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Po(i.emulatorConfig.host)&&(g.credentials="include"),Lb.fetch()(await Ub(i,i.config.apiHost,n,m),g)})}async function Pb(i,t,n){i._canInitEmulator=!1;const s={...i2,...t};try{const o=new o2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw uh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw uh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw uh(i,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Vb(i,v,g);di(i,v)}}catch(o){if(o instanceof Sr)throw o;di(i,"network-request-failed",{message:String(o)})}}async function Ru(i,t,n,s,o={}){const u=await Nr(i,t,n,s,o);return"mfaPendingCredential"in u&&di(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ub(i,t,n,s){const o=`${t}${n}?${s}`,u=i,c=u.config.emulator?Hp(i.config,o):`${i.config.apiScheme}://${o}`;return r2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function a2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),s2.get())})}}function uh(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ui(i,t,s);return o.customData._tokenResponse=n,o}function Rv(i){return i!==void 0&&i.enterprise!==void 0}class l2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return a2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u2(i,t){return Nr(i,"GET","/v2/recaptchaConfig",xr(i,t))}async function c2(i,t){return Nr(i,"POST","/v1/accounts:delete",t)}async function Lh(i,t){return Nr(i,"POST","/v1/accounts:lookup",t)}function iu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function h2(i,t=!1){const n=en(i),s=await n.getIdToken(t),o=Fp(s);St(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:iu(jm(o.auth_time)),issuedAtTime:iu(jm(o.iat)),expirationTime:iu(jm(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function jm(i){return Number(i)*1e3}function Fp(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return bh("JWT malformed, contained fewer than 3 sections"),null;try{const o=bb(n);return o?JSON.parse(o):(bh("Failed to decode base64 JWT payload"),null)}catch(o){return bh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Cv(i){const t=Fp(i);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function hu(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Sr&&f2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function f2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class d2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ph(i){const t=i.auth,n=await i.getIdToken(),s=await hu(i,Lh(t,{idToken:n}));St(s?.users.length,t,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?jb(o.providerUserInfo):[],c=p2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function m2(i){const t=en(i);await Ph(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function p2(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function jb(i){return i.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function g2(i,t){const n=await Pb(i,{},async()=>{const s=xu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await Ub(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Po(i.emulatorConfig.host)&&(p.credentials="include"),Lb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y2(i,t){return Nr(i,"POST","/v2/accounts:revokeToken",xr(i,t))}class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Cv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=Cv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await g2(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new vo;return s&&(St(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(St(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return yr("not implemented")}}function us(i,t){St(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class ui{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new d2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await hu(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return h2(this,t)}reload(){return m2(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(vr(this.auth));const t=await this.getIdToken();return await hu(this,c2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:I,providerData:j,stsTokenManager:Q}=n;St(b&&Q,t,"internal-error");const K=vo.fromJSON(this.name,Q);St(typeof b=="string",t,"internal-error"),us(s,t.name),us(o,t.name),St(typeof A=="boolean",t,"internal-error"),St(typeof I=="boolean",t,"internal-error"),us(u,t.name),us(c,t.name),us(m,t.name),us(p,t.name),us(g,t.name),us(v,t.name);const et=new ui({uid:b,auth:t,email:o,emailVerified:A,displayName:s,isAnonymous:I,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:K,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(et.providerData=j.map(Z=>({...Z}))),p&&(et._redirectEventId=p),et}static async _fromIdTokenResponse(t,n,s=!1){const o=new vo;o.updateFromServerResponse(n);const u=new ui({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Ph(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?jb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new vo;m.updateFromIdToken(s);const p=new ui({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const Iv=new Map;function _r(i){br(i instanceof Function,"Expected a class definition");let t=Iv.get(i);return t?(br(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,Iv.set(i,t),t)}class zb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}zb.type="NONE";const Dv=zb;function Th(i,t,n){return`firebase:${i}:${t}:${n}`}class Eo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Th(this.userKey,o.apiKey,u),this.fullPersistenceKey=Th("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Lh(this.auth,{idToken:t}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Eo(_r(Dv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||_r(Dv);const c=Th(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const A=await Lh(t,{idToken:v}).catch(()=>{});if(!A)break;b=await ui._fromGetAccountInfoResponse(t,A,v)}else b=ui._fromJSON(t,v);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Eo(u,t,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Eo(u,t,s))}}function Ov(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($b(t))return"Blackberry";if(Qb(t))return"Webos";if(qb(t))return"Safari";if((t.includes("chrome/")||Hb(t))&&!t.includes("edge/"))return"Chrome";if(Gb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function Bb(i=ln()){return/firefox\//i.test(i)}function qb(i=ln()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Hb(i=ln()){return/crios\//i.test(i)}function Fb(i=ln()){return/iemobile/i.test(i)}function Gb(i=ln()){return/android/i.test(i)}function $b(i=ln()){return/blackberry/i.test(i)}function Qb(i=ln()){return/webos/i.test(i)}function Gp(i=ln()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function _2(i=ln()){return Gp(i)&&!!window.navigator?.standalone}function v2(){return DS()&&document.documentMode===10}function Yb(i=ln()){return Gp(i)||Gb(i)||Qb(i)||$b(i)||/windows phone/i.test(i)||Fb(i)}function Kb(i,t=[]){let n;switch(i){case"Browser":n=Ov(ln());break;case"Worker":n=`${Ov(ln())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${s}`}class E2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function b2(i,t={}){return Nr(i,"GET","/v2/passwordPolicy",xr(i,t))}const T2=6;class w2{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??T2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class A2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new E2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Lh(this,{idToken:t}),s=await ui._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ph(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=n2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(vr(this));const n=t?en(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await b2(this),n=new w2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Su("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await y2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&_r(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Kb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Wx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Rs(i){return en(i)}class Mv{constructor(t){this.auth=t,this.observer=null,this.addObserver=jS(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S2(i){lf=i}function Xb(i){return lf.loadJS(i)}function x2(){return lf.recaptchaEnterpriseScript}function N2(){return lf.gapiScript}function R2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class C2{constructor(){this.enterprise=new I2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class I2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const D2="recaptcha-enterprise",Zb="NO_RECAPTCHA";class O2{constructor(t){this.type=D2,this.auth=Rs(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{u2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new l2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;Rv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{c(g)}).catch(()=>{c(Zb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new C2().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(m=>{if(!n&&Rv(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=x2();p.length!==0&&(p+=m),Xb(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function kv(i,t,n,s=!1,o=!1){const u=new O2(i);let c;if(o)c=Zb;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Uh(i,t,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await kv(i,t,n,n==="getOobCode");return s(i,u)}else return s(i,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await kv(i,t,n,n==="getOobCode");return s(i,c)}else return Promise.reject(u)})}function M2(i,t){const n=Bp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ma(u,t??{}))return o;di(o,"already-initialized")}return n.initialize({options:t})}function k2(i,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(_r);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function V2(i,t,n){const s=Rs(i);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=Jb(t),{host:c,port:m}=L2(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(ma(g,s.config.emulator)&&ma(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Po(c)?(Sb(`${u}//${c}${p}`),xb("Auth",!0)):P2()}function Jb(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function L2(i){const t=Jb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Vv(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:Vv(c)}}}function Vv(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function P2(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class $p{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return yr("not implemented")}_getIdTokenResponse(t){return yr("not implemented")}_linkToIdToken(t,n){return yr("not implemented")}_getReauthenticationResolver(t){return yr("not implemented")}}async function U2(i,t){return Nr(i,"POST","/v1/accounts:signUp",t)}async function j2(i,t){return Ru(i,"POST","/v1/accounts:signInWithPassword",xr(i,t))}async function z2(i,t){return Nr(i,"POST","/v1/accounts:sendOobCode",xr(i,t))}async function B2(i,t){return z2(i,t)}async function q2(i,t){return Ru(i,"POST","/v1/accounts:signInWithEmailLink",xr(i,t))}async function H2(i,t){return Ru(i,"POST","/v1/accounts:signInWithEmailLink",xr(i,t))}class fu extends $p{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new fu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new fu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uh(t,n,"signInWithPassword",j2);case"emailLink":return q2(t,{email:this._email,oobCode:this._password});default:di(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uh(t,s,"signUpPassword",U2);case"emailLink":return H2(t,{idToken:n,email:this._email,oobCode:this._password});default:di(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function bo(i,t){return Ru(i,"POST","/v1/accounts:signInWithIdp",xr(i,t))}const F2="http://localhost";class ga extends $p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ga(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new ga(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return bo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,bo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,bo(t,n)}buildRequest(){const t={requestUri:F2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=xu(n)}return t}}function G2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $2(i){const t=Ql(Yl(i)).link,n=t?Ql(Yl(t)).deep_link_id:null,s=Ql(Yl(i)).deep_link_id;return(s?Ql(Yl(s)).link:null)||s||n||t||i}class Qp{constructor(t){const n=Ql(Yl(t)),s=n.apiKey??null,o=n.oobCode??null,u=G2(n.mode??null);St(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=$2(t);try{return new Qp(n)}catch{return null}}}class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(t,n){return fu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Qp.parseLink(n);return St(s,"argument-error"),fu._fromEmailAndCode(t,s.code,s.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Wb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Cu extends Wb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class fs extends Cu{constructor(){super("facebook.com")}static credential(t){return ga._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fs.credential(t.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";class ds extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ga._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";class ms extends Cu{constructor(){super("github.com")}static credential(t){return ga._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ms.credential(t.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";class ps extends Cu{constructor(){super("twitter.com")}static credential(t,n){return ga._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ps.credentialFromTaggedObject(t)}static credentialFromError(t){return ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ps.credential(n,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";async function Q2(i,t){return Ru(i,"POST","/v1/accounts:signUp",xr(i,t))}class ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ui._fromIdTokenResponse(t,s,o),c=Lv(s);return new ya({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Lv(s);return new ya({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Lv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class jh extends Sr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new jh(t,n,s,o)}}function tT(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(i,u,t,s):u})}async function Y2(i,t,n=!1){const s=await hu(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return ya._forOperation(i,"link",s)}async function K2(i,t,n=!1){const{auth:s}=i;if(Kn(s.app))return Promise.reject(vr(s));const o="reauthenticate";try{const u=await hu(i,tT(s,o,t,i),n);St(u.idToken,s,"internal-error");const c=Fp(u.idToken);St(c,s,"internal-error");const{sub:m}=c;return St(i.uid===m,s,"user-mismatch"),ya._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&di(s,"user-mismatch"),u}}async function eT(i,t,n=!1){if(Kn(i.app))return Promise.reject(vr(i));const s="signIn",o=await tT(i,s,t),u=await ya._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function X2(i,t){return eT(Rs(i),t)}async function nT(i){const t=Rs(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Z2(i,t,n){const s=Rs(i);await Uh(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",B2)}async function J2(i,t,n){if(Kn(i.app))return Promise.reject(vr(i));const s=Rs(i),c=await Uh(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Q2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&nT(i),p}),m=await ya._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function W2(i,t,n){return Kn(i.app)?Promise.reject(vr(i)):X2(en(i),jo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&nT(i),s})}function tN(i,t,n,s){return en(i).onIdTokenChanged(t,n,s)}function eN(i,t,n){return en(i).beforeAuthStateChanged(t,n)}function nN(i,t,n,s){return en(i).onAuthStateChanged(t,n,s)}function iN(i){return en(i).signOut()}const zh="__sak";class iT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const rN=1e3,sN=10;class rT extends iT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);v2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,sN):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},rN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}rT.type="LOCAL";const aN=rT;class sT extends iT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}sT.type="SESSION";const aT=sT;function oN(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class uf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new uf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await oN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];function Yp(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}class lN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Yp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ji(){return window}function uN(i){ji().location.href=i}function oT(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function cN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hN(){return navigator?.serviceWorker?.controller||null}function fN(){return oT()?self:null}const lT="firebaseLocalStorageDb",dN=1,Bh="firebaseLocalStorage",uT="fbase_key";class Iu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(i,t){return i.transaction([Bh],t?"readwrite":"readonly").objectStore(Bh)}function mN(){const i=indexedDB.deleteDatabase(lT);return new Iu(i).toPromise()}function sp(){const i=indexedDB.open(lT,dN);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Bh,{keyPath:uT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Bh)?t(s):(s.close(),await mN(),t(await sp()))})})}async function Pv(i,t,n){const s=cf(i,!0).put({[uT]:t,value:n});return new Iu(s).toPromise()}async function pN(i,t){const n=cf(i,!1).get(t),s=await new Iu(n).toPromise();return s===void 0?null:s.value}function Uv(i,t){const n=cf(i,!0).delete(t);return new Iu(n).toPromise()}const gN=800,yN=3;class cT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>yN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(fN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cN(),!this.activeServiceWorker)return;this.sender=new lN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sp();return await Pv(t,zh,"1"),await Uv(t,zh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Pv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>pN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=cf(o,!1).getAll();return new Iu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cT.type="LOCAL";const _N=cT;new Nu(3e4,6e4);function vN(i,t){return t?_r(t):(St(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Kp extends $p{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return bo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return bo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function EN(i){return eT(i.auth,new Kp(i),i.bypassAuthState)}function bN(i){const{auth:t,user:n}=i;return St(n,t,"internal-error"),K2(n,new Kp(i),i.bypassAuthState)}async function TN(i){const{auth:t,user:n}=i;return St(n,t,"internal-error"),Y2(n,new Kp(i),i.bypassAuthState)}class hT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return EN;case"linkViaPopup":case"linkViaRedirect":return TN;case"reauthViaPopup":case"reauthViaRedirect":return bN;default:di(this.auth,"internal-error")}}resolve(t){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wN=new Nu(2e3,1e4);class _o extends hT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const t=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wN.get())};t()}}_o.currentPopupAction=null;const AN="pendingRedirect",wh=new Map;class SN extends hT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=wh.get(this.auth._key());if(!t){try{const s=await xN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}wh.set(this.auth._key(),t)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xN(i,t){const n=CN(t),s=RN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function NN(i,t){wh.set(i._key(),t)}function RN(i){return _r(i._redirectPersistence)}function CN(i){return Th(AN,i.config.apiKey,i.name)}async function IN(i,t,n=!1){if(Kn(i.app))return Promise.reject(vr(i));const s=Rs(i),o=vN(s,t),c=await new SN(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const DN=600*1e3;class ON{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!MN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!fT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DN&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(t))}saveEventToCache(t){this.cachedEventUids.add(jv(t)),this.lastProcessedEventTime=Date.now()}}function jv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function fT({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function MN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fT(i);default:return!1}}async function kN(i,t={}){return Nr(i,"GET","/v1/projects",t)}const VN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LN=/^https?/;async function PN(i){if(i.config.emulator)return;const{authorizedDomains:t}=await kN(i);for(const n of t)try{if(UN(n))return}catch{}di(i,"unauthorized-domain")}function UN(i){const t=ip(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!LN.test(n))return!1;if(VN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const jN=new Nu(3e4,6e4);function zv(){const i=ji().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function zN(i){return new Promise((t,n)=>{function s(){zv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zv(),n(Ui(i,"network-request-failed"))},timeout:jN.get()})}if(ji().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ji().gapi?.load)s();else{const o=R2("iframefcb");return ji()[o]=()=>{gapi.load?s():n(Ui(i,"network-request-failed"))},Xb(`${N2()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Ah=null,t})}let Ah=null;function BN(i){return Ah=Ah||zN(i),Ah}const qN=new Nu(5e3,15e3),HN="__/auth/iframe",FN="emulator/auth/iframe",GN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QN(i){const t=i.config;St(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Hp(t,FN):`https://${i.config.authDomain}/${HN}`,s={apiKey:t.apiKey,appName:i.name,v:Uo},o=$N.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${xu(s).slice(1)}`}async function YN(i){const t=await BN(i),n=ji().gapi;return St(n,i,"internal-error"),t.open({where:document.body,url:QN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Ui(i,"network-request-failed"),m=ji().setTimeout(()=>{u(c)},qN.get());function p(){ji().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const KN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XN=500,ZN=600,JN="_blank",WN="http://localhost";class Bv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tR(i,t,n,s=XN,o=ZN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...KN,width:s.toString(),height:o.toString(),top:u,left:c},g=ln().toLowerCase();n&&(m=Hb(g)?JN:n),Bb(g)&&(t=t||WN,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[I,j])=>`${A}${I}=${j},`,"");if(_2(g)&&m!=="_self")return eR(t||"",m),new Bv(null);const b=window.open(t||"",m,v);St(b,i,"popup-blocked");try{b.focus()}catch{}return new Bv(b)}function eR(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const nR="__/auth/handler",iR="emulator/auth/handler",rR=encodeURIComponent("fac");async function qv(i,t,n,s,o,u){St(i.config.authDomain,i,"auth-domain-config-required"),St(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Uo,eventId:o};if(t instanceof Wb){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",US(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(t instanceof Cu){const v=t.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${rR}=${encodeURIComponent(p)}`:"";return`${sR(i)}?${xu(m).slice(1)}${g}`}function sR({config:i}){return i.emulator?Hp(i,iR):`https://${i.authDomain}/${nR}`}const zm="webStorageSupport";class aR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aT,this._completeRedirectFn=IN,this._overrideRedirectResult=NN}async _openPopup(t,n,s,o){br(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await qv(t,n,s,ip(),o);return tR(t,u,Yp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await qv(t,n,s,ip(),o);return uN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(br(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await YN(t),s=new ON(t);return n.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(zm,{type:zm},o=>{const u=o?.[0]?.[zm];u!==void 0&&n(!!u),di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yb()||qb()||Gp()}}const oR=aR;var Hv="@firebase/auth",Fv="1.12.0";class lR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uR(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cR(i){xo(new pa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kb(i)},g=new A2(s,o,u,p);return k2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),xo(new pa("auth-internal",t=>{const n=Rs(t.getProvider("auth").getImmediate());return(s=>new lR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(Hv,Fv,uR(i)),vs(Hv,Fv,"esm2020")}const hR=300,fR=Ab("authIdTokenMaxAge")||hR;let Gv=null;const dR=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>fR)return;const o=n?.token;Gv!==o&&(Gv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function mR(i=Ib()){const t=Bp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=M2(i,{popupRedirectResolver:oR,persistence:[_N,aN,aT]}),s=Ab("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=dR(u.toString());eN(n,c,()=>c(n.currentUser)),tN(n,m=>c(m))}}const o=Tb("auth");return o&&V2(n,`http://${o}`),n}function pR(){return document.getElementsByTagName("head")?.[0]??document}S2({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",pR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cR("Browser");var $v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Es,dT;(function(){var i;function t(N,S){function C(){}C.prototype=S.prototype,N.F=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,D,V){for(var R=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)R[vt-2]=arguments[vt];return S.prototype[D].apply(M,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,C){C||(C=0);const M=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)M[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;D<16;++D)M[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],D=N.g[2];let V=N.g[3],R;R=S+(V^C&(D^V))+M[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=V+(D^S&(C^D))+M[1]+3905402710&4294967295,V=S+(R<<12&4294967295|R>>>20),R=D+(C^V&(S^C))+M[2]+606105819&4294967295,D=V+(R<<17&4294967295|R>>>15),R=C+(S^D&(V^S))+M[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=S+(V^C&(D^V))+M[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=V+(D^S&(C^D))+M[5]+1200080426&4294967295,V=S+(R<<12&4294967295|R>>>20),R=D+(C^V&(S^C))+M[6]+2821735955&4294967295,D=V+(R<<17&4294967295|R>>>15),R=C+(S^D&(V^S))+M[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=S+(V^C&(D^V))+M[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=V+(D^S&(C^D))+M[9]+2336552879&4294967295,V=S+(R<<12&4294967295|R>>>20),R=D+(C^V&(S^C))+M[10]+4294925233&4294967295,D=V+(R<<17&4294967295|R>>>15),R=C+(S^D&(V^S))+M[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=S+(V^C&(D^V))+M[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=V+(D^S&(C^D))+M[13]+4254626195&4294967295,V=S+(R<<12&4294967295|R>>>20),R=D+(C^V&(S^C))+M[14]+2792965006&4294967295,D=V+(R<<17&4294967295|R>>>15),R=C+(S^D&(V^S))+M[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=S+(D^V&(C^D))+M[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=V+(C^D&(S^C))+M[6]+3225465664&4294967295,V=S+(R<<9&4294967295|R>>>23),R=D+(S^C&(V^S))+M[11]+643717713&4294967295,D=V+(R<<14&4294967295|R>>>18),R=C+(V^S&(D^V))+M[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=S+(D^V&(C^D))+M[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=V+(C^D&(S^C))+M[10]+38016083&4294967295,V=S+(R<<9&4294967295|R>>>23),R=D+(S^C&(V^S))+M[15]+3634488961&4294967295,D=V+(R<<14&4294967295|R>>>18),R=C+(V^S&(D^V))+M[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=S+(D^V&(C^D))+M[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=V+(C^D&(S^C))+M[14]+3275163606&4294967295,V=S+(R<<9&4294967295|R>>>23),R=D+(S^C&(V^S))+M[3]+4107603335&4294967295,D=V+(R<<14&4294967295|R>>>18),R=C+(V^S&(D^V))+M[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=S+(D^V&(C^D))+M[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=V+(C^D&(S^C))+M[2]+4243563512&4294967295,V=S+(R<<9&4294967295|R>>>23),R=D+(S^C&(V^S))+M[7]+1735328473&4294967295,D=V+(R<<14&4294967295|R>>>18),R=C+(V^S&(D^V))+M[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=S+(C^D^V)+M[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=V+(S^C^D)+M[8]+2272392833&4294967295,V=S+(R<<11&4294967295|R>>>21),R=D+(V^S^C)+M[11]+1839030562&4294967295,D=V+(R<<16&4294967295|R>>>16),R=C+(D^V^S)+M[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=S+(C^D^V)+M[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=V+(S^C^D)+M[4]+1272893353&4294967295,V=S+(R<<11&4294967295|R>>>21),R=D+(V^S^C)+M[7]+4139469664&4294967295,D=V+(R<<16&4294967295|R>>>16),R=C+(D^V^S)+M[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=S+(C^D^V)+M[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=V+(S^C^D)+M[0]+3936430074&4294967295,V=S+(R<<11&4294967295|R>>>21),R=D+(V^S^C)+M[3]+3572445317&4294967295,D=V+(R<<16&4294967295|R>>>16),R=C+(D^V^S)+M[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=S+(C^D^V)+M[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=V+(S^C^D)+M[12]+3873151461&4294967295,V=S+(R<<11&4294967295|R>>>21),R=D+(V^S^C)+M[15]+530742520&4294967295,D=V+(R<<16&4294967295|R>>>16),R=C+(D^V^S)+M[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=S+(D^(C|~V))+M[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=V+(C^(S|~D))+M[7]+1126891415&4294967295,V=S+(R<<10&4294967295|R>>>22),R=D+(S^(V|~C))+M[14]+2878612391&4294967295,D=V+(R<<15&4294967295|R>>>17),R=C+(V^(D|~S))+M[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=S+(D^(C|~V))+M[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=V+(C^(S|~D))+M[3]+2399980690&4294967295,V=S+(R<<10&4294967295|R>>>22),R=D+(S^(V|~C))+M[10]+4293915773&4294967295,D=V+(R<<15&4294967295|R>>>17),R=C+(V^(D|~S))+M[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=S+(D^(C|~V))+M[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=V+(C^(S|~D))+M[15]+4264355552&4294967295,V=S+(R<<10&4294967295|R>>>22),R=D+(S^(V|~C))+M[6]+2734768916&4294967295,D=V+(R<<15&4294967295|R>>>17),R=C+(V^(D|~S))+M[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=S+(D^(C|~V))+M[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=V+(C^(S|~D))+M[11]+3174756917&4294967295,V=S+(R<<10&4294967295|R>>>22),R=D+(S^(V|~C))+M[2]+718787259&4294967295,D=V+(R<<15&4294967295|R>>>17),R=C+(V^(D|~S))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+V&4294967295}s.prototype.v=function(N,S){S===void 0&&(S=N.length);const C=S-this.blockSize,M=this.C;let D=this.h,V=0;for(;V<S;){if(D==0)for(;V<=C;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<S;)if(M[D++]=N.charCodeAt(V++),D==this.blockSize){o(this,M),D=0;break}}else for(;V<S;)if(M[D++]=N[V++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=S},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[S++]=this.g[C]>>>M&255;return N};function u(N,S){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function c(N,S){this.h=S;const C=[];let M=!0;for(let D=N.length-1;D>=0;D--){const V=N[D]|0;M&&V==S||(C[D]=V,M=!1)}this.g=C}var m={};function p(N){return-128<=N&&N<128?u(N,function(S){return new c([S|0],S<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return K(g(-N));const S=[];let C=1;for(let M=0;N>=C;M++)S[M]=N/C|0,C*=4294967296;return new c(S,0)}function v(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return K(v(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(S,8));let M=b;for(let V=0;V<N.length;V+=8){var D=Math.min(8,N.length-V);const R=parseInt(N.substring(V,V+D),S);D<8?(D=g(Math.pow(S,D)),M=M.j(D).add(g(R))):(M=M.j(C),M=M.add(g(R)))}return M}var b=p(0),A=p(1),I=p(16777216);i=c.prototype,i.m=function(){if(Q(this))return-K(this).m();let N=0,S=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*S,S*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(Q(this))return"-"+K(this).toString(N);const S=g(Math.pow(N,6));var C=this;let M="";for(;;){const D=ut(C,S).g;C=et(C,D.j(S));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,j(C))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function Q(N){return N.h==-1}i.l=function(N){return N=et(this,N),Q(N)?-1:j(N)?0:1};function K(N){const S=N.g.length,C=[];for(let M=0;M<S;M++)C[M]=~N.g[M];return new c(C,~N.h).add(A)}i.abs=function(){return Q(this)?K(this):this},i.add=function(N){const S=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let D=0;D<=S;D++){let V=M+(this.i(D)&65535)+(N.i(D)&65535),R=(V>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=R>>>16,V&=65535,R&=65535,C[D]=R<<16|V}return new c(C,C[C.length-1]&-2147483648?-1:0)};function et(N,S){return N.add(K(S))}i.j=function(N){if(j(this)||j(N))return b;if(Q(this))return Q(N)?K(this).j(K(N)):K(K(this).j(N));if(Q(N))return K(this.j(K(N)));if(this.l(I)<0&&N.l(I)<0)return g(this.m()*N.m());const S=this.g.length+N.g.length,C=[];for(var M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const V=this.i(M)>>>16,R=this.i(M)&65535,vt=N.i(D)>>>16,X=N.i(D)&65535;C[2*M+2*D]+=R*X,Z(C,2*M+2*D),C[2*M+2*D+1]+=V*X,Z(C,2*M+2*D+1),C[2*M+2*D+1]+=R*vt,Z(C,2*M+2*D+1),C[2*M+2*D+2]+=V*vt,Z(C,2*M+2*D+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new c(C,0)};function Z(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function J(N,S){this.g=N,this.h=S}function ut(N,S){if(j(S))throw Error("division by zero");if(j(N))return new J(b,b);if(Q(N))return S=ut(K(N),S),new J(K(S.g),K(S.h));if(Q(S))return S=ut(N,K(S)),new J(K(S.g),S.h);if(N.g.length>30){if(Q(N)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=S;M.l(N)<=0;)C=H(C),M=H(M);var D=it(C,1),V=it(M,1);for(M=it(M,2),C=it(C,2);!j(M);){var R=V.add(M);R.l(N)<=0&&(D=D.add(C),V=R),M=it(M,1),C=it(C,1)}return S=et(N,D.j(S)),new J(D,S)}for(D=b;N.l(S)>=0;){for(C=Math.max(1,Math.floor(N.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=g(C),R=V.j(S);Q(R)||R.l(N)>0;)C-=M,V=g(C),R=V.j(S);j(V)&&(V=A),D=D.add(V),N=et(N,R)}return new J(D,N)}i.B=function(N){return ut(this,N).h},i.and=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)&N.i(M);return new c(C,this.h&N.h)},i.or=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)|N.i(M);return new c(C,this.h|N.h)},i.xor=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)^N.i(M);return new c(C,this.h^N.h)};function H(N){const S=N.g.length+1,C=[];for(let M=0;M<S;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new c(C,N.h)}function it(N,S){const C=S>>5;S%=32;const M=N.g.length-C,D=[];for(let V=0;V<M;V++)D[V]=S>0?N.i(V+C)>>>S|N.i(V+C+1)<<32-S:N.i(V+C);return new c(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,dT=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Es=c}).apply(typeof $v<"u"?$v:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mT,Kl,pT,Sh,ap,gT,yT,_T;(function(){var i,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)t:{var E=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var z=h[x];if(!(z in E))break t;E=E[z]}h=h[h.length-1],x=E[h],y=y(x),y!=x&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],x;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&E.push([x,y[x]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function b(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(x,z,$){for(var ht=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)ht[Ot-2]=arguments[Ot];return y.prototype[z].apply(x,ht)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const y=h.length;if(y>0){const E=Array(y);for(let x=0;x<y;x++)E[x]=h[x];return E}return[]}function j(h,y){for(let x=1;x<arguments.length;x++){const z=arguments[x];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=h.length||0;const $=z.length||0;h.length=E+$;for(let ht=0;ht<$;ht++)h[E+ht]=z[ht]}else h.push(z)}}class Q{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(h){c.setTimeout(()=>{throw h},0)}function et(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Z{constructor(){this.h=this.g=null}add(y,E){const x=J.get();x.set(y,E),this.h?this.h.next=x:this.g=x,this.h=x}}var J=new Q(()=>new ut,h=>h.reset());class ut{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let H,it=!1,N=new Z,S=()=>{const h=Promise.resolve(void 0);H=()=>{h.then(C)}};function C(){for(var h;h=et();){try{h.h.call(h.g)}catch(E){K(E)}var y=J;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}it=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function vt(h,y){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}b(vt,D),vt.prototype.init=function(h,y){const E=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&vt.Z.h.call(this)},vt.prototype.h=function(){vt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),P=0;function G(h,y,E,x,z){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!x,this.ha=z,this.key=++P,this.da=this.fa=!1}function rt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function at(h,y,E){for(const x in h)y.call(E,h[x],x,h)}function dt(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function k(h){const y={};for(const E in h)y[E]=h[E];return y}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(h,y){let E,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(E in x)h[E]=x[E];for(let $=0;$<tt.length;$++)E=tt[$],Object.prototype.hasOwnProperty.call(x,E)&&(h[E]=x[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,y,E,x,z){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const ht=Nt(h,y,x,z);return ht>-1?(y=h[ht],E||(y.fa=!1)):(y=new G(y,this.src,$,!!x,z),y.fa=E,h.push(y)),y};function bt(h,y){const E=y.type;if(E in h.g){var x=h.g[E],z=Array.prototype.indexOf.call(x,y,void 0),$;($=z>=0)&&Array.prototype.splice.call(x,z,1),$&&(rt(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Nt(h,y,E,x){for(let z=0;z<h.length;++z){const $=h[z];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==x)return z}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),ge={};function Qt(h,y,E,x,z){if(Array.isArray(y)){for(let $=0;$<y.length;$++)Qt(h,y[$],E,x,z);return null}return E=Os(E),h&&h[X]?h.J(y,E,m(x)?!!x.capture:!1,z):Mn(h,y,E,!1,x,z)}function Mn(h,y,E,x,z,$){if(!y)throw Error("Invalid event type");const ht=m(z)?!!z.capture:!!z;let Ot=Ki(h);if(Ot||(h[Dt]=Ot=new ft(h)),E=Ot.add(y,E,x,ht,$),E.proxy)return E;if(x=Yi(),E.proxy=x,x.src=h,x.listener=E,h.addEventListener)V||(z=ht),z===void 0&&(z=!1),h.addEventListener(y.toString(),x,z);else if(h.attachEvent)h.attachEvent(kn(y.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Yi(){function h(E){return y.call(h.src,h.listener,E)}const y=Ds;return h}function Rr(h,y,E,x,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)Rr(h,y[$],E,x,z);else x=m(x)?!!x.capture:!!x,E=Os(E),h&&h[X]?(h=h.i,$=String(y).toString(),$ in h.g&&(y=h.g[$],E=Nt(y,E,x,z),E>-1&&(rt(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[$],h.h--)))):h&&(h=Ki(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Nt(y,E,x,z)),(E=h>-1?y[h]:null)&&Cr(E))}function Cr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[X])bt(y.i,h);else{var E=h.type,x=h.proxy;y.removeEventListener?y.removeEventListener(E,x,h.capture):y.detachEvent?y.detachEvent(kn(E),x):y.addListener&&y.removeListener&&y.removeListener(x),(E=Ki(y))?(bt(E,h),E.h==0&&(E.src=null,y[Dt]=null)):rt(h)}}}function kn(h){return h in ge?ge[h]:ge[h]="on"+h}function Ds(h,y){if(h.da)h=!0;else{y=new vt(y,this);const E=h.listener,x=h.ha||h.src;h.fa&&Cr(h),h=E.call(x,y)}return h}function Ki(h){return h=h[Dt],h instanceof ft?h:null}var Ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function Os(h){return typeof h=="function"?h:(h[Ir]||(h[Ir]=function(y){return h.handleEvent(y)}),h[Ir])}function ye(){M.call(this),this.i=new ft(this),this.M=this,this.G=null}b(ye,M),ye.prototype[X]=!0,ye.prototype.removeEventListener=function(h,y,E,x){Rr(this,h,y,E,x)};function Te(h,y){var E,x=h.G;if(x)for(E=[];x;x=x.G)E.push(x);if(h=h.M,x=y.type||y,typeof y=="string")y=new D(y,h);else if(y instanceof D)y.target=y.target||h;else{var z=y;y=new D(x,h),ct(y,z)}z=!0;let $,ht;if(E)for(ht=E.length-1;ht>=0;ht--)$=y.g=E[ht],z=pi($,x,!0,y)&&z;if($=y.g=h,z=pi($,x,!0,y)&&z,z=pi($,x,!1,y)&&z,E)for(ht=0;ht<E.length;ht++)$=y.g=E[ht],z=pi($,x,!1,y)&&z}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let x=0;x<E.length;x++)rt(E[x]);delete h.g[y],h.h--}}this.G=null},ye.prototype.J=function(h,y,E,x){return this.i.add(String(h),y,!1,E,x)},ye.prototype.K=function(h,y,E,x){return this.i.add(String(h),y,!0,E,x)};function pi(h,y,E,x){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let $=0;$<y.length;++$){const ht=y[$];if(ht&&!ht.da&&ht.capture==E){const Ot=ht.listener,Ae=ht.ha||ht.src;ht.fa&&bt(h.i,ht),z=Ot.call(Ae,x)!==!1&&z}}return z&&!x.defaultPrevented}function gt(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Yt(h){h.g=gt(()=>{h.g=null,h.i&&(h.i=!1,Yt(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ut extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Yt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vt(h){M.call(this),this.h=h,this.g={}}b(Vt,M);var jt=[];function Qe(h){at(h.g,function(y,E){this.g.hasOwnProperty(E)&&Cr(y)},h),h.g={}}Vt.prototype.N=function(){Vt.Z.N.call(this),Qe(this)},Vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=c.JSON.stringify,Xi=c.JSON.parse,_e=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function un(){}function Dr(){}var ve={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){D.call(this,"d")}b(je,D);function Ln(){D.call(this,"c")}b(Ln,D);var we={},Uu=null;function Aa(){return Uu=Uu||new ye}we.Ia="serverreachability";function ju(h){D.call(this,we.Ia,h)}b(ju,D);function gi(h){const y=Aa();Te(y,new ju(y))}we.STAT_EVENT="statevent";function Ms(h,y){D.call(this,we.STAT_EVENT,h),this.stat=y}b(Ms,D);function Re(h){const y=Aa();Te(y,new Ms(y,h))}we.Ja="timingevent";function yi(h,y){D.call(this,we.Ja,h),this.size=y}b(yi,D);function _i(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Of(h,y,E,x,z,$){h.info(function(){if(h.g)if($){var ht="",Ot=$.split("&");for(let Zt=0;Zt<Ot.length;Zt++){var Ae=Ot[Zt].split("=");if(Ae.length>1){const fe=Ae[0];Ae=Ae[1];const zn=fe.split("_");ht=zn.length>=2&&zn[1]=="type"?ht+(fe+"="+Ae+"&"):ht+(fe+"=redacted&")}}}else ht=null;else ht=$;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+y+`
`+E+`
`+ht})}function zu(h,y,E,x,z,$,ht){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+y+`
`+E+`
`+$+" "+ht})}function vi(h,y,E,x){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mf(h,E)+(x?" "+x:"")})}function ks(h,y){h.info(function(){return"TIMEOUT: "+y})}Zn.prototype.info=function(){};function Mf(h,y){if(!h.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var x=E[1];if(Array.isArray(x)&&!(x.length<1)){var z=x[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ht=1;ht<x.length;ht++)x[ht]=""}}}}return Vn($)}catch{return y}}var Vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function Ls(){}b(Ls,un),Ls.prototype.g=function(){return new XMLHttpRequest},Go=new Ls;function Zi(h){return encodeURIComponent(String(h))}function Bu(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Jn(h,y,E,x){this.j=h,this.i=y,this.l=E,this.S=x||1,this.V=new Vt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Ce={},He={};function Ei(h,y,E){h.M=1,h.A=Ps(De(y)),h.u=E,h.R=!0,Sa(h,null)}function Sa(h,y){h.F=Date.now(),bi(h),h.B=De(h.A);var E=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),Ca(E.i,"t",x),h.C=0,E=h.j.L,h.h=new Wn,h.g=nc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new Ut(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,x=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(jt[0]=z.toString()),z=jt);for(let $=0;$<z.length;$++){const ht=Qt(E,z[$],x||y.handleEvent,!1,y.h||y);if(!ht)break;y.g[ht.key]=ht}y=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),gi(),Of(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ni(h)==3?y.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)t:{const Ot=ni(this.g),Ae=this.g.ya(),Zt=this.g.ca();if(!(Ot<3)&&(Ot!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Ot!=4||Ae==7||(Ae==8||Zt<=0?gi(3):gi(2)),Ti(this);var y=this.g.ca();this.X=y;var E=kf(this);if(this.o=y==200,zu(this.i,this.v,this.B,this.l,this.S,Ot,y),this.o){if(this.U&&!this.L){e:{if(this.g){var x,z=this.g;if((x=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(x)){var $=x;break e}}$=null}if(h=$)vi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,h);else{this.o=!1,this.m=3,Re(12),Tn(this),Pn(this);break t}}if(this.R){h=!0;let fe;for(;!this.K&&this.C<E.length;)if(fe=Hu(this,E),fe==He){Ot==4&&(this.m=4,Re(14),h=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Ce){this.m=4,Re(15),vi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else vi(this.i,this.l,fe,null),wi(this,fe);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||E.length!=0||this.h.h||(this.m=1,Re(16),h=!1),this.o=this.o&&h,!h)vi(this.i,this.l,E,"[Invalid Chunked Response]"),Tn(this),Pn(this);else if(E.length>0&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.aa&&!ht.P&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),al(ht),ht.P=!0,Re(11))}}else vi(this.i,this.l,E,null),wi(this,E);Ot==4&&Tn(this),this.o&&!this.K&&(Ot==4?Ju(this.j,this):(this.o=!1,bi(this)))}else Wi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Tn(this),Pn(this)}}}catch{}finally{}};function kf(h){if(!qu(h))return h.g.la();const y=Ye(h.g);if(y==="")return"";let E="";const x=y.length,z=ni(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),Pn(h),"";h.h.i=new c.TextDecoder}for(let $=0;$<x;$++)h.h.h=!0,E+=h.h.i.decode(y[$],{stream:!(z&&$==x-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function qu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Hu(h,y){var E=h.C,x=y.indexOf(`
`,E);return x==-1?He:(E=Number(y.substring(E,x)),isNaN(E)?Ce:(x+=1,x+E>y.length?He:(y=y.slice(x,x+E),h.C=x+E,y)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function bi(h){h.T=Date.now()+h.H,xa(h,h.H)}function xa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=_i(g(h.aa,h),y)}function Ti(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ks(this.i,this.B),this.M!=2&&(gi(),Re(17)),Tn(this),this.m=2,Pn(this)):xa(this,this.T-h)};function Pn(h){h.j.I==0||h.K||Ju(h.j,h)}function Tn(h){Ti(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Qe(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function wi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Si(E.h,h))){if(!h.L&&Si(E.h,h)&&E.I==3){try{var x=E.Ba.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)ka(E),jr(E);else break t;Fs(E),Re(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=_i(g(E.Va,E),6e3));Ai(E.h)<=1&&E.ta&&(E.ta=void 0)}else Di(E,11)}else if((h.L||E.g==h)&&ka(E),!R(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let Zt=z[y];const fe=Zt[0];if(!(fe<=E.K))if(E.K=fe,Zt=Zt[1],E.I==2)if(Zt[0]=="c"){E.M=Zt[1],E.ba=Zt[2];const zn=Zt[3];zn!=null&&(E.ka=zn,E.j.info("VER="+E.ka));const Oi=Zt[4];Oi!=null&&(E.za=Oi,E.j.info("SVER="+E.za));const ii=Zt[5];ii!=null&&typeof ii=="number"&&ii>0&&(x=1.5*ii,E.O=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const ri=h.g;if(ri){const Gs=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var $=x.h;$.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Yo($,$.h),$.h=null))}if(x.G){const Va=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(x.wa=Va,te(x.J,x.G,Va))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),x=E;var ht=h;if(x.na=ec(x,x.L?x.ba:null,x.W),ht.L){Ko(x.h,ht);var Ot=ht,Ae=x.O;Ae&&(Ot.H=Ae),Ot.D&&(Ti(Ot),bi(Ot)),x.g=ht}else Xu(x);E.i.length>0&&Ii(E)}else Zt[0]!="stop"&&Zt[0]!="close"||Di(E,7);else E.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Di(E,7):rl(E):Zt[0]!="noop"&&E.l&&E.l.qa(Zt),E.A=0)}}gi(4)}catch{}}var Ie=class{constructor(h,y){this.g=h,this.map=y}};function $o(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ai(h){return h.h?1:h.g?h.g.size:0}function Si(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Yo(h,y){h.g?h.g.add(y):h.h=y}function Ko(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}$o.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return I(h.i)}var Fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const x=h[E].indexOf("=");let z,$=null;x>=0?(z=h[E].substring(0,x),$=h[E].substring(x+1)):z=h[E],y(z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function wn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof wn?(this.l=h.l,Fe(this,h.j),this.o=h.o,this.g=h.g,Or(this,h.u),this.h=h.h,Zo(this,Yu(h.i)),this.m=h.m):h&&(y=String(h).match(Fu))?(this.l=!1,Fe(this,y[1]||"",!0),this.o=xi(y[2]||""),this.g=xi(y[3]||"",!0),Or(this,y[4]),this.h=xi(y[5]||"",!0),Zo(this,y[6]||"",!0),this.m=xi(y[7]||"")):(this.l=!1,this.i=new kr(null,this.l))}wn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Us(y,Ra,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Us(y,Ra,!0),"@"),h.push(Zi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Us(E,E.charAt(0)=="/"?Jo:Gu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Us(E,$u)),h.join("")},wn.prototype.resolve=function(h){const y=De(this);let E=!!h.j;E?Fe(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var x=h.h;if(E)Or(y,h.u);else if(E=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var z=y.h.lastIndexOf("/");z!=-1&&(x=y.h.slice(0,z+1)+x)}if(z=x,z==".."||z==".")x="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){x=z.lastIndexOf("/",0)==0,z=z.split("/");const $=[];for(let ht=0;ht<z.length;){const Ot=z[ht++];Ot=="."?x&&ht==z.length&&$.push(""):Ot==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),x&&ht==z.length&&$.push("")):($.push(Ot),x=!0)}x=$.join("/")}else x=z}return E?y.h=x:E=h.i.toString()!=="",E?Zo(y,Yu(h.i)):E=!!h.m,E&&(y.m=h.m),y};function De(h){return new wn(h)}function Fe(h,y,E){h.j=E?xi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Or(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Zo(h,y,E){y instanceof kr?(h.i=y,Ia(h.i,h.l)):(E||(y=Us(y,Mr)),h.i=new kr(y,h.l))}function te(h,y,E){h.i.set(y,E)}function Ps(h){return te(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function xi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Us(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,fn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ra=/[#\/\?@]/g,Gu=/[#\?:]/g,Jo=/[#\?]/g,Mr=/[#\?@]/g,$u=/#/g;function kr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Na(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=kr.prototype,i.add=function(h,y){dn(this),this.i=null,h=Vr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Qu(h,y){dn(h),y=Vr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Wo(h,y){return dn(h),y=Vr(h,y),h.g.has(y)}i.forEach=function(h,y){dn(this),this.g.forEach(function(E,x){E.forEach(function(z){h.call(y,z,x,this)},this)},this)};function tl(h,y){dn(h);let E=[];if(typeof y=="string")Wo(h,y)&&(E=E.concat(h.g.get(Vr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return dn(this),this.i=null,h=Vr(this,h),Wo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=tl(this,h),h.length>0?String(h[0]):y):y};function Ca(h,y,E){Qu(h,y),E.length>0&&(h.i=null,h.g.set(Vr(h,y),I(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let x=0;x<y.length;x++){var E=y[x];const z=Zi(E);E=tl(this,E);for(let $=0;$<E.length;$++){let ht=z;E[$]!==""&&(ht+="="+Zi(E[$])),h.push(ht)}}return this.i=h.join("&")};function Yu(h){const y=new kr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Vr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ia(h,y){y&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(E,x){const z=x.toLowerCase();x!=z&&(Qu(this,x),Ca(this,z,E))},h)),h.j=y}function ti(h,y){const E=new Zn;if(c.Image){const x=new Image;x.onload=v(Un,E,"TestLoadImage: loaded",!0,y,x),x.onerror=v(Un,E,"TestLoadImage: error",!1,y,x),x.onabort=v(Un,E,"TestLoadImage: abort",!1,y,x),x.ontimeout=v(Un,E,"TestLoadImage: timeout",!1,y,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else y(!1)}function el(h,y){const E=new Zn,x=new AbortController,z=setTimeout(()=>{x.abort(),Un(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:x.signal}).then($=>{clearTimeout(z),$.ok?Un(E,"TestPingServer: ok",!0,y):Un(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Un(E,"TestPingServer: error",!1,y)})}function Un(h,y,E,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(E)}catch{}}function Lr(){this.g=new _e}function Ni(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ni,un),Ni.prototype.g=function(){return new js(this.i,this.h)};function js(h,y){ye.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(js,ye),i=js.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ei(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Pr(this):ei(this),this.readyState==3&&Da(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Pr(this))},i.Na=function(h){this.g&&(this.response=h,Pr(this))},i.ga=function(){this.g&&Pr(this)};function Pr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ei(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ei(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jn(h){let y="";return at(h,function(E,x){y+=x,y+=":",y+=E,y+=`\r
`}),y}function zs(h,y,E){t:{for(x in E){var x=!1;break t}x=!0}x||(E=jn(E),typeof h=="string"?E!=null&&Zi(E):te(h,y,E))}function ie(h){ye.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ie,ye);var Ri=/^https?$/i,nl=["POST","PUT"];i=ie.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){Bs(this,$);return}if(h=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)E.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const $ of x.keys())E.set($,x.get($));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(nl,y,void 0)>=0)||x||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ht]of E)this.g.setRequestHeader($,ht);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){Bs(this,$)}};function Bs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,il(h),Ji(h)}function il(h){h.A||(h.A=!0,Te(h,"complete"),Te(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Te(this,"complete"),Te(this,"abort"),Ji(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),ie.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},i.Xa=function(){qs(this)};function qs(h){if(h.h&&typeof u<"u"){if(h.v&&ni(h)==4)setTimeout(h.Ca.bind(h),0);else if(Te(h,"readystatechange"),ni(h)==4){h.h=!1;try{const $=h.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var x;if(x=$===0){let ht=String(h.D).match(Fu)[1]||null;!ht&&c.self&&c.self.location&&(ht=c.self.location.protocol.slice(0,-1)),x=!Ri.test(ht?ht.toLowerCase():"")}E=x}if(E)Te(h,"complete"),Te(h,"success");else{h.o=6;try{var z=ni(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",il(h)}}finally{Ji(h)}}}}function Ji(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Te(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ni(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Xi(y)}};function Ye(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(h){const y={};h=(h.g&&ni(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(R(h[x]))continue;var E=Bu(h[x]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[z]||[];y[z]=$,$.push(E)}dt(y,function(x){return x.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Ur(h){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,h),this.Za=Ci("retryDelaySeedMs",1e4,h),this.Ta=Ci("forwardChannelMaxRetries",2,h),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(h&&h.concurrentRequestLimit),this.Ba=new Lr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ur.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,x){Re(0),this.W=h,this.H=y||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.J=ec(this,null,this.W),Ii(this)};function rl(h){if(Oa(h),h.I==3){var y=h.V++,E=De(h.J);if(te(E,"SID",h.M),te(E,"RID",y),te(E,"TYPE","terminate"),Hs(h,E),y=new Jn(h,h.j,y),y.M=2,y.A=Ps(De(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=nc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),bi(y)}tc(h)}function jr(h){h.g&&(al(h),h.g.cancel(),h.g=null)}function Oa(h){jr(h),h.v&&(c.clearTimeout(h.v),h.v=null),ka(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ii(h){if(!Qo(h.h)&&!h.m){h.m=!0;var y=h.Ea;H||S(),it||(H(),it=!0),N.add(y,h),h.D=0}}function Ma(h,y){return Ai(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=_i(g(h.Ea,h,y),Wu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new Jn(this,this.j,h);let $=this.o;if(this.U&&($?($=k($),ct($,this.U)):$=this.U),this.u!==null||this.R||(z.J=$,$=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(y+=x,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=Ku(this,z,y),E=De(this.J),te(E,"RID",h),te(E,"CVER",22),this.G&&te(E,"X-HTTP-Session-Id",this.G),Hs(this,E),$&&(this.R?y="headers="+Zi(jn($))+"&"+y:this.u&&zs(E,this.u,$)),Yo(this.h,z),this.Ra&&te(E,"TYPE","init"),this.S?(te(E,"$req",y),te(E,"SID","null"),z.U=!0,Ei(z,E,null)):Ei(z,E,y),this.I=2}}else this.I==3&&(h?sl(this,h):this.i.length==0||Qo(this.h)||sl(this))};function sl(h,y){var E;y?E=y.l:E=h.V++;const x=De(h.J);te(x,"SID",h.M),te(x,"RID",E),te(x,"AID",h.K),Hs(h,x),h.u&&h.o&&zs(x,h.u,h.o),E=new Jn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Ku(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Yo(h.h,E),Ei(E,x,y)}function Hs(h,y){h.H&&at(h.H,function(E,x){te(y,x,E)}),h.l&&at({},function(E,x){te(y,x,E)})}function Ku(h,y,E){E=Math.min(h.i.length,E);const x=h.l?g(h.l.Ka,h.l,h):null;t:{var z=h.i;let Ot=-1;for(;;){const Ae=["count="+E];Ot==-1?E>0?(Ot=z[0].g,Ae.push("ofs="+Ot)):Ot=0:Ae.push("ofs="+Ot);let Zt=!0;for(let fe=0;fe<E;fe++){var $=z[fe].g;const zn=z[fe].map;if($-=Ot,$<0)Ot=Math.max(0,z[fe].g-100),Zt=!1;else try{$="req"+$+"_"||"";try{var ht=zn instanceof Map?zn:Object.entries(zn);for(const[Oi,ii]of ht){let ri=ii;m(ii)&&(ri=Vn(ii)),Ae.push($+Oi+"="+encodeURIComponent(ri))}}catch(Oi){throw Ae.push($+"type="+encodeURIComponent("_badmap")),Oi}}catch{x&&x(zn)}}if(Zt){ht=Ae.join("&");break t}}ht=void 0}return h=h.i.splice(0,E),y.G=h,ht}function Xu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;H||S(),it||(H(),it=!0),N.add(y,h),h.A=0}}function Fs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=_i(g(h.Da,h),Wu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=_i(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),jr(this),Zu(this))};function al(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Zu(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=De(h.na);te(y,"RID","rpc"),te(y,"SID",h.M),te(y,"AID",h.K),te(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&te(y,"TO",h.ia),te(y,"TYPE","xmlhttp"),Hs(h,y),h.u&&h.o&&zs(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Ps(De(y)),E.u=null,E.R=!0,Sa(E,h)}i.Va=function(){this.C!=null&&(this.C=null,jr(this),Fs(this),Re(19))};function ka(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Ju(h,y){var E=null;if(h.g==y){ka(h),al(h),h.g=null;var x=2}else if(Si(h.h,y))E=y.G,Ko(h.h,y),x=1;else return;if(h.I!=0){if(y.o)if(x==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;x=Aa(),Te(x,new yi(x,E)),Ii(h)}else Xu(h);else if(z=y.m,z==3||z==0&&y.X>0||!(x==1&&Ma(h,y)||x==2&&Fs(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),z){case 1:Di(h,5);break;case 4:Di(h,10);break;case 3:Di(h,6);break;default:Di(h,2)}}}function Wu(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Di(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),x=h.Ua;const z=!x;x=new wn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Fe(x,"https"),Ps(x),z?ti(x.toString(),E):el(x.toString(),E)}else Re(2);h.I=0,h.l&&h.l.pa(y),tc(h),Oa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function tc(h){if(h.I=0,h.ja=[],h.l){const y=Xo(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function ec(h,y,E){var x=E instanceof wn?De(E):new wn(E);if(x.g!="")y&&(x.g=y+"."+x.g),Or(x,x.u);else{var z=c.location;x=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const $=new wn(null);x&&Fe($,x),y&&($.g=y),z&&Or($,z),E&&($.h=E),x=$}return E=h.G,y=h.wa,E&&y&&te(x,E,y),te(x,"VER",h.ka),Hs(h,x),x}function nc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new ie(new Ni({ab:E})):new ie(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}i=ic.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function zr(){}zr.prototype.g=function(h,y){return new cn(h,y)};function cn(h,y){ye.call(this),this.g=new Ur(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!R(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new tr(this)}b(cn,ye),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){rl(this.g)},cn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Vn(h),h=E);y.i.push(new Ie(y.Ya++,h)),y.I==3&&Ii(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,cn.Z.N.call(this)};function rc(h){je.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}b(rc,je);function sc(){Ln.call(this),this.status=1}b(sc,Ln);function tr(h){this.g=h}b(tr,ic),tr.prototype.ra=function(){Te(this.g,"a")},tr.prototype.qa=function(h){Te(this.g,new rc(h))},tr.prototype.pa=function(h){Te(this.g,new sc)},tr.prototype.oa=function(){Te(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,_T=function(){return new zr},yT=function(){return Aa()},gT=we,ap={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,Sh=Vs,Fo.COMPLETE="complete",pT=Fo,Dr.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Kl=Dr,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,mT=ie}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const Qv="@firebase/firestore",Yv="4.9.3";class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let zo="12.7.0";const _a=new jp("@firebase/firestore");function mo(){return _a.logLevel}function mt(i,...t){if(_a.logLevel<=qt.DEBUG){const n=t.map(Xp);_a.debug(`Firestore (${zo}): ${i}`,...n)}}function Tr(i,...t){if(_a.logLevel<=qt.ERROR){const n=t.map(Xp);_a.error(`Firestore (${zo}): ${i}`,...n)}}function No(i,...t){if(_a.logLevel<=qt.WARN){const n=t.map(Xp);_a.warn(`Firestore (${zo}): ${i}`,...n)}}function Xp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function xt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,vT(i,s,n)}function vT(i,t,n){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Tr(s),new Error(s)}function Wt(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||vT(t,o,s)}function It(i,t){return i}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Sr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class ET{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class yR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _R{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Wt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new bs,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new bs)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string",31837,{l:s}),new ET(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class vR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ER{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new vR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Kv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Wt(this.o===void 0,3512);const s=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Kv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function TR(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Zp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=TR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ht(i,t){return i<t?-1:i>t?1:0}function op(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return Bm(o)===Bm(u)?Ht(o,u):Bm(o)?1:-1}return Ht(i.length,t.length)}const wR=55296,AR=57343;function Bm(i){const t=i.charCodeAt(0);return t>=wR&&t<=AR}function Ro(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}const Xv="__name__";class Pi{constructor(t,n,s){n===void 0?n=0:n>t.length&&xt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&xt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Pi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ht(t.length,n.length)}static compareSegments(t,n){const s=Pi.isNumericId(t),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(t).compare(Pi.extractNumericId(n)):op(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Es.fromString(t.substring(4,t.length-2))}}class me extends Pi{construct(t,n,s){return new me(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new _t(lt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new me(n)}static emptyPath(){return new me([])}}const SR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Pi{construct(t,n,s){return new tn(t,n,s)}static isValidIdentifier(t){return SR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xv}static keyField(){return new tn([Xv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new _t(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new _t(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _t(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new _t(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(n)}static emptyPath(){return new tn([])}}class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(me.fromString(t))}static fromName(t){return new Tt(me.fromString(t).popFirst(5))}static empty(){return new Tt(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return me.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new me(t.slice()))}}function xR(i,t,n){if(!n)throw new _t(lt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function NR(i,t,n,s){if(t===!0&&s===!0)throw new _t(lt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Zv(i){if(!Tt.isDocumentKey(i))throw new _t(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function bT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Jp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":xt(12329,{type:typeof i})}function hi(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new _t(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jp(i);throw new _t(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}function Pe(i,t){const n={typeString:i};return t&&(n.value=t),n}function Du(i,t){if(!bT(i))throw new _t(lt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new _t(lt.INVALID_ARGUMENT,n);return!0}const Jv=-62135596800,Wv=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Wv);return new he(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new _t(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Jv)throw new _t(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wv}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Du(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Jv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Pe("string",he._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new he(0,0))}static max(){return new Rt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const du=-1;function RR(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(s===1e9?new he(n+1,0):new he(n,s));return new Ts(o,Tt.empty(),t)}function CR(i){return new Ts(i.readTime,i.key,du)}class Ts{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ts(Rt.min(),Tt.empty(),du)}static max(){return new Ts(Rt.max(),Tt.empty(),du)}}function IR(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=Tt.comparator(i.documentKey,t.documentKey),n!==0?n:Ht(i.largestBatchId,t.largestBatchId))}const DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Bo(i){if(i.code!==lt.FAILED_PRECONDITION||i.message!==DR)throw i;mt("LocalStore","Unexpectedly lost primary lease")}class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ot(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof ot?n:ot.resolve(n)}catch(n){return ot.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):ot.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):ot.reject(n)}static resolve(t){return new ot(((n,s)=>{n(t)}))}static reject(t){return new ot(((n,s)=>{s(t)}))}static waitFor(t){return new ot(((n,s)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(t){let n=ot.resolve(!1);for(const s of t)n=n.next((o=>o?ot.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new ot(((s,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((v=>{c[g]=v,++m,m===u&&s(c)}),(v=>o(v)))}}))}static doWhile(t,n){return new ot(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function MR(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(i){return i.name==="IndexedDbTransactionError"}class hf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hf.ce=-1;const Wp=-1;function ff(i){return i==null}function qh(i){return i===0&&1/i==-1/0}function kR(i){return typeof i=="number"&&Number.isInteger(i)&&!qh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const TT="";function VR(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=tE(t)),t=LR(i.get(n),t);return tE(t)}function LR(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case TT:n+="";break;default:n+=u}}return n}function tE(i){return i+TT+""}function eE(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function Cs(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function wT(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class pe{constructor(t,n){this.comparator=t,this.root=n||We.EMPTY}insert(t,n){return new pe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hh(this.root,t,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hh(this.root,t,this.comparator,!0)}}class hh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??We.RED,this.left=o??We.EMPTY,this.right=u??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new We(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return We.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new We(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(t){return new nE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new qe(this.comparator);return n.data=t,n}}class nE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new Dn([])}unionWith(t){let n=new qe(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Dn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ro(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class AT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new AT("Invalid base64 string: "+u):u}})(t);return new nn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new nn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const PR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(i){if(Wt(!!i,39018),typeof i=="string"){let t=0;const n=PR.exec(i);if(Wt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ne(i.seconds),nanos:Ne(i.nanos)}}function Ne(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function As(i){return typeof i=="string"?nn.fromBase64String(i):nn.fromUint8Array(i)}const ST="server_timestamp",xT="__type__",NT="__previous_value__",RT="__local_write_time__";function tg(i){return(i?.mapValue?.fields||{})[xT]?.stringValue===ST}function df(i){const t=i.mapValue.fields[NT];return tg(t)?df(t):t}function mu(i){const t=ws(i.mapValue.fields[RT].timestampValue);return new he(t.seconds,t.nanos)}class UR{constructor(t,n,s,o,u,c,m,p,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Hh="(default)";class pu{constructor(t,n){this.projectId=t,this.database=n||Hh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(t){return t instanceof pu&&t.projectId===this.projectId&&t.database===this.database}}const CT="__type__",jR="__max__",fh={mapValue:{}},IT="__vector__",Fh="value";function Ss(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?tg(i)?4:BR(i)?9007199254740991:zR(i)?10:11:xt(28295,{value:i})}function Gi(i,t){if(i===t)return!0;const n=Ss(i);if(n!==Ss(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return mu(i).isEqual(mu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=ws(o.timestampValue),m=ws(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return As(o.bytesValue).isEqual(As(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ne(o.geoPointValue.latitude)===Ne(u.geoPointValue.latitude)&&Ne(o.geoPointValue.longitude)===Ne(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ne(o.integerValue)===Ne(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ne(o.doubleValue),m=Ne(u.doubleValue);return c===m?qh(c)===qh(m):isNaN(c)&&isNaN(m)}return!1})(i,t);case 9:return Ro(i.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(eE(c)!==eE(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Gi(c[p],m[p])))return!1;return!0})(i,t);default:return xt(52216,{left:i})}}function gu(i,t){return(i.values||[]).find((n=>Gi(n,t)))!==void 0}function Co(i,t){if(i===t)return 0;const n=Ss(i),s=Ss(t);if(n!==s)return Ht(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ht(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Ne(u.integerValue||u.doubleValue),p=Ne(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return iE(i.timestampValue,t.timestampValue);case 4:return iE(mu(i),mu(t));case 5:return op(i.stringValue,t.stringValue);case 6:return(function(u,c){const m=As(u),p=As(c);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ht(m[g],p[g]);if(v!==0)return v}return Ht(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Ht(Ne(u.latitude),Ne(c.latitude));return m!==0?m:Ht(Ne(u.longitude),Ne(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return rE(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[Fh]?.arrayValue,v=p[Fh]?.arrayValue,b=Ht(g?.values?.length||0,v?.values?.length||0);return b!==0?b:rE(g,v)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===fh.mapValue&&c===fh.mapValue)return 0;if(u===fh.mapValue)return 1;if(c===fh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const A=op(p[b],v[b]);if(A!==0)return A;const I=Co(m[p[b]],g[v[b]]);if(I!==0)return I}return Ht(p.length,v.length)})(i.mapValue,t.mapValue);default:throw xt(23264,{he:n})}}function iE(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Ht(i,t);const n=ws(i),s=ws(t),o=Ht(n.seconds,s.seconds);return o!==0?o:Ht(n.nanos,s.nanos)}function rE(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Co(n[o],s[o]);if(u)return u}return Ht(n.length,s.length)}function Io(i){return lp(i)}function lp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ws(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return As(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Tt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=lp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${lp(n.fields[c])}`;return o+"}"})(i.mapValue):xt(61005,{value:i})}function xh(i){switch(Ss(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=df(i);return t?16+xh(t):16;case 5:return 2*i.stringValue.length;case 6:return As(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+xh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Cs(s.fields,((u,c)=>{o+=u.length+xh(c)})),o})(i.mapValue);default:throw xt(13486,{value:i})}}function up(i){return!!i&&"integerValue"in i}function eg(i){return!!i&&"arrayValue"in i}function sE(i){return!!i&&"nullValue"in i}function aE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nh(i){return!!i&&"mapValue"in i}function zR(i){return(i?.mapValue?.fields||{})[CT]?.stringValue===IT}function ru(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Cs(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=ru(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ru(i.arrayValue.values[n]);return t}return{...i}}function BR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===jR}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Nh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ru(n)}setAll(t){let n=tn.emptyPath(),s={},o=[];t.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=ru(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Cs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new En(ru(this.value))}}function DT(i){const t=[];return Cs(i.fields,((n,s)=>{const o=new tn([n]);if(Nh(s)){const u=DT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Dn(t)}class on{constructor(t,n,s,o,u,c,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new on(t,0,Rt.min(),Rt.min(),Rt.min(),En.empty(),0)}static newFoundDocument(t,n,s,o){return new on(t,1,n,Rt.min(),s,o,0)}static newNoDocument(t,n){return new on(t,2,n,Rt.min(),Rt.min(),En.empty(),0)}static newUnknownDocument(t,n){return new on(t,3,n,Rt.min(),Rt.min(),En.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gh{constructor(t,n){this.position=t,this.inclusive=n}}function oE(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?s=Tt.comparator(Tt.fromName(c.referenceValue),n.key):s=Co(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function lE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Gi(i.position[n],t.position[n]))return!1;return!0}class $h{constructor(t,n="asc"){this.field=t,this.dir=n}}function qR(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class OT{}class Be extends OT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new FR(t,n,s):n==="array-contains"?new QR(t,s):n==="in"?new YR(t,s):n==="not-in"?new KR(t,s):n==="array-contains-any"?new XR(t,s):new Be(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new GR(t,s):new $R(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends OT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new $i(t,n)}matches(t){return MT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MT(i){return i.op==="and"}function kT(i){return HR(i)&&MT(i)}function HR(i){for(const t of i.filters)if(t instanceof $i)return!1;return!0}function cp(i){if(i instanceof Be)return i.field.canonicalString()+i.op.toString()+Io(i.value);if(kT(i))return i.filters.map((t=>cp(t))).join(",");{const t=i.filters.map((n=>cp(n))).join(",");return`${i.op}(${t})`}}function VT(i,t){return i instanceof Be?(function(s,o){return o instanceof Be&&s.op===o.op&&s.field.isEqual(o.field)&&Gi(s.value,o.value)})(i,t):i instanceof $i?(function(s,o){return o instanceof $i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&VT(c,o.filters[m])),!0):!1})(i,t):void xt(19439)}function LT(i){return i instanceof Be?(function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`})(i):i instanceof $i?(function(n){return n.op.toString()+" {"+n.getFilters().map(LT).join(" ,")+"}"})(i):"Filter"}class FR extends Be{constructor(t,n,s){super(t,n,s),this.key=Tt.fromName(s.referenceValue)}matches(t){const n=Tt.comparator(t.key,this.key);return this.matchesComparison(n)}}class GR extends Be{constructor(t,n){super(t,"in",n),this.keys=PT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class $R extends Be{constructor(t,n){super(t,"not-in",n),this.keys=PT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function PT(i,t){return(t.arrayValue?.values||[]).map((n=>Tt.fromName(n.referenceValue)))}class QR extends Be{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return eg(n)&&gu(n.arrayValue,this.value)}}class YR extends Be{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class KR extends Be{constructor(t,n){super(t,"not-in",n)}matches(t){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class XR extends Be{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>gu(this.value.arrayValue,s)))}}class ZR{constructor(t,n=null,s=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function uE(i,t=null,n=[],s=[],o=null,u=null,c=null){return new ZR(i,t,n,s,o,u,c)}function ng(i){const t=It(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>cp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ff(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Io(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Io(s))).join(",")),t.Te=n}return t.Te}function ig(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!qR(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!VT(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!lE(i.startAt,t.startAt)&&lE(i.endAt,t.endAt)}function hp(i){return Tt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class mf{constructor(t,n=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JR(i,t,n,s,o,u,c,m){return new mf(i,t,n,s,o,u,c,m)}function pf(i){return new mf(i)}function cE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function WR(i){return i.collectionGroup!==null}function su(i){const t=It(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new qe(tn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new $h(u,s))})),n.has(tn.keyField().canonicalString())||t.Ie.push(new $h(tn.keyField(),s))}return t.Ie}function zi(i){const t=It(i);return t.Ee||(t.Ee=tC(t,su(i))),t.Ee}function tC(i,t){if(i.limitType==="F")return uE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new $h(o.field,u)}));const n=i.endAt?new Gh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Gh(i.startAt.position,i.startAt.inclusive):null;return uE(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function fp(i,t,n){return new mf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function gf(i,t){return ig(zi(i),zi(t))&&i.limitType===t.limitType}function UT(i){return`${ng(zi(i))}|lt:${i.limitType}`}function po(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>LT(o))).join(", ")}]`),ff(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Io(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Io(o))).join(",")),`Target(${s})`})(zi(i))}; limitType=${i.limitType})`}function yf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Tt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=oE(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,su(s),o)||s.endAt&&!(function(c,m,p){const g=oE(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,su(s),o))})(i,t)}function eC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function jT(i){return(t,n)=>{let s=!1;for(const o of su(i)){const u=nC(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function nC(i,t,n){const s=i.field.isKeyField()?Tt.comparator(t.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Co(p,g):xt(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return xt(19790,{direction:i.dir})}}class Ta{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Cs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return wT(this.inner)}size(){return this.innerSize}}const iC=new pe(Tt.comparator);function wr(){return iC}const zT=new pe(Tt.comparator);function Xl(...i){let t=zT;for(const n of i)t=t.insert(n.key,n);return t}function BT(i){let t=zT;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ua(){return au()}function qT(){return au()}function au(){return new Ta((i=>i.toString()),((i,t)=>i.isEqual(t)))}const rC=new pe(Tt.comparator),sC=new qe(Tt.comparator);function Ft(...i){let t=sC;for(const n of i)t=t.add(n);return t}const aC=new qe(Ht);function oC(){return aC}function rg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(t)?"-0":t}}function HT(i){return{integerValue:""+i}}function lC(i,t){return kR(t)?HT(t):rg(i,t)}class _f{constructor(){this._=void 0}}function uC(i,t,n){return i instanceof yu?(function(o,u){const c={fields:{[xT]:{stringValue:ST},[RT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tg(u)&&(u=df(u)),u&&(c.fields[NT]=u),{mapValue:c}})(n,t):i instanceof _u?GT(i,t):i instanceof vu?$T(i,t):(function(o,u){const c=FT(o,u),m=hE(c)+hE(o.Ae);return up(c)&&up(o.Ae)?HT(m):rg(o.serializer,m)})(i,t)}function cC(i,t,n){return i instanceof _u?GT(i,t):i instanceof vu?$T(i,t):n}function FT(i,t){return i instanceof Qh?(function(s){return up(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class yu extends _f{}class _u extends _f{constructor(t){super(),this.elements=t}}function GT(i,t){const n=QT(t);for(const s of i.elements)n.some((o=>Gi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class vu extends _f{constructor(t){super(),this.elements=t}}function $T(i,t){let n=QT(t);for(const s of i.elements)n=n.filter((o=>!Gi(o,s)));return{arrayValue:{values:n}}}class Qh extends _f{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function hE(i){return Ne(i.integerValue||i.doubleValue)}function QT(i){return eg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class hC{constructor(t,n){this.field=t,this.transform=n}}function fC(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof _u&&o instanceof _u||s instanceof vu&&o instanceof vu?Ro(s.elements,o.elements,Gi):s instanceof Qh&&o instanceof Qh?Gi(s.Ae,o.Ae):s instanceof yu&&o instanceof yu})(i.transform,t.transform)}class dC{constructor(t,n){this.version=t,this.transformResults=n}}class fi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new fi}static exists(t){return new fi(void 0,t)}static updateTime(t){return new fi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class vf{}function YT(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new sg(i.key,fi.none()):new Ou(i.key,i.data,fi.none());{const n=i.data,s=En.empty();let o=new qe(tn.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Is(i.key,s,new Dn(o.toArray()),fi.none())}}function mC(i,t,n){i instanceof Ou?(function(o,u,c){const m=o.value.clone(),p=dE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,n):i instanceof Is?(function(o,u,c){if(!Rh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=dE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(KT(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function ou(i,t,n,s){return i instanceof Ou?(function(u,c,m,p){if(!Rh(u.precondition,c))return m;const g=u.value.clone(),v=mE(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof Is?(function(u,c,m,p){if(!Rh(u.precondition,c))return m;const g=mE(u.fieldTransforms,p,c),v=c.data;return v.setAll(KT(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,t,n,s):(function(u,c,m){return Rh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,t,n)}function pC(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=FT(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function fE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,((u,c)=>fC(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Ou extends vf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends vf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function KT(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function dE(i,t,n){const s=new Map;Wt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,m=t.data.field(u.field);s.set(u.field,cC(c,m,n[o]))}return s}function mE(i,t,n){const s=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);s.set(o.field,uC(u,c,t))}return s}class sg extends vf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gC extends vf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&mC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=ou(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=ou(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=qT();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=YT(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&Ro(this.mutations,t.mutations,((n,s)=>fE(n,s)))&&Ro(this.baseMutations,t.baseMutations,((n,s)=>fE(n,s)))}}class ag{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Wt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return rC})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new ag(t,n,s,o)}}class _C{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Le,$t;function EC(i){switch(i){case lt.OK:return xt(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return xt(15467,{code:i})}}function XT(i){if(i===void 0)return Tr("GRPC error has no .code"),lt.UNKNOWN;switch(i){case Le.OK:return lt.OK;case Le.CANCELLED:return lt.CANCELLED;case Le.UNKNOWN:return lt.UNKNOWN;case Le.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Le.INTERNAL:return lt.INTERNAL;case Le.UNAVAILABLE:return lt.UNAVAILABLE;case Le.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Le.NOT_FOUND:return lt.NOT_FOUND;case Le.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Le.ABORTED:return lt.ABORTED;case Le.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Le.DATA_LOSS:return lt.DATA_LOSS;default:return xt(39323,{code:i})}}($t=Le||(Le={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";function bC(){return new TextEncoder}const TC=new Es([4294967295,4294967295],0);function pE(i){const t=bC().encode(i),n=new dT;return n.update(t),new Uint8Array(n.digest())}function gE(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Es([n,s],0),new Es([o,u],0)]}class og{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Es.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Es.fromNumber(s)));return o.compare(TC)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=pE(t),[s,o]=gE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new og(u,o,n);return s.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const n=pE(t),[s,o]=gE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ef{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Mu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Ef(Rt.min(),o,new pe(Ht),wr(),Ft())}}class Mu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Mu(s,n,Ft(),Ft(),Ft())}}class Ch{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class ZT{constructor(t,n){this.targetId=t,this.Ce=n}}class JT{constructor(t,n,s=nn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class yE{constructor(){this.ve=0,this.Fe=_E(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ft(),n=Ft(),s=Ft();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xt(38017,{changeType:u})}})),new Mu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=_E()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wC{constructor(t){this.Ge=t,this.ze=new Map,this.je=wr(),this.Je=dh(),this.He=dh(),this.Ye=new pe(Ht)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:xt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(hp(u))if(s===0){const c=new Tt(u.path);this.et(n,c,on.newNoDocument(c,Rt.min()))}else Wt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=As(s).toUint8Array()}catch(p){if(p instanceof AT)return No("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new og(c,o,u)}catch(p){return No(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&hp(m.target)){const p=new Tt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,on.newNoDocument(p,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=Ft();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Ef(t,n,this.Ye,this.je,s);return this.je=wr(),this.Je=dh(),this.He=dh(),this.Ye=new pe(Ht),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new yE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new qe(Ht),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new qe(Ht),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new yE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function dh(){return new pe(Tt.comparator)}function _E(){return new pe(Tt.comparator)}const AC={asc:"ASCENDING",desc:"DESCENDING"},SC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xC={and:"AND",or:"OR"};class NC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function dp(i,t){return i.useProto3Json||ff(t)?t:{value:t}}function Yh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function WT(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function RC(i,t){return Yh(i,t.toTimestamp())}function Bi(i){return Wt(!!i,49232),Rt.fromTimestamp((function(n){const s=ws(n);return new he(s.seconds,s.nanos)})(i))}function lg(i,t){return mp(i,t).canonicalString()}function mp(i,t){const n=(function(o){return new me(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function t1(i){const t=me.fromString(i);return Wt(s1(t),10190,{key:t.toString()}),t}function pp(i,t){return lg(i.databaseId,t.path)}function qm(i,t){const n=t1(t);if(n.get(1)!==i.databaseId.projectId)throw new _t(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new _t(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Tt(n1(n))}function e1(i,t){return lg(i.databaseId,t)}function CC(i){const t=t1(i);return t.length===4?me.emptyPath():n1(t)}function gp(i){return new me(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function n1(i){return Wt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function vE(i,t,n){return{name:pp(i,t),fields:n.value.mapValue.fields}}function IC(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Wt(v===void 0||typeof v=="string",58123),nn.fromBase64String(v||"")):(Wt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),nn.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?lt.UNKNOWN:XT(g.code);return new _t(v,g.message||"")})(c);n=new JT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=qm(i,s.document.name),u=Bi(s.document.updateTime),c=s.document.createTime?Bi(s.document.createTime):Rt.min(),m=new En({mapValue:{fields:s.document.fields}}),p=on.newFoundDocument(o,u,c,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Ch(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=qm(i,s.document),u=s.readTime?Bi(s.readTime):Rt.min(),c=on.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Ch([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=qm(i,s.document),u=s.removedTargetIds||[];n=new Ch([],u,o,null)}else{if(!("filter"in t))return xt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new vC(o,u),m=s.targetId;n=new ZT(m,c)}}return n}function DC(i,t){let n;if(t instanceof Ou)n={update:vE(i,t.key,t.value)};else if(t instanceof sg)n={delete:pp(i,t.key)};else if(t instanceof Is)n={update:vE(i,t.key,t.data),updateMask:zC(t.fieldMask)};else{if(!(t instanceof gC))return xt(16599,{Vt:t.type});n={verify:pp(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof yu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _u)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Qh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw xt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:RC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xt(27497)})(i,t.precondition)),n}function OC(i,t){return i&&i.length>0?(Wt(t!==void 0,14353),i.map((n=>(function(o,u){let c=o.updateTime?Bi(o.updateTime):Bi(u);return c.isEqual(Rt.min())&&(c=Bi(u)),new dC(c,o.transformResults||[])})(n,t)))):[]}function MC(i,t){return{documents:[e1(i,t.path)]}}function kC(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=e1(i,o);const u=(function(g){if(g.length!==0)return r1($i.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:go(A.field),direction:PC(A.dir)}})(v)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const m=dp(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function VC(i){let t=CC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Wt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(b){const A=i1(b);return A instanceof $i&&kT(A)?A.getFilters():[A]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((A=>(function(j){return new $h(yo(j.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,ff(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(b){const A=!!b.before,I=b.values||[];return new Gh(I,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const A=!b.before,I=b.values||[];return new Gh(I,A)})(n.endAt)),JR(t,o,c,u,m,"F",p,g)}function LC(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function i1(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=yo(n.unaryFilter.field);return Be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(n.unaryFilter.field);return Be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(n.unaryFilter.field);return Be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=yo(n.unaryFilter.field);return Be.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Be.create(yo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return $i.create(n.compositeFilter.filters.map((s=>i1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(n.compositeFilter.op))})(i):xt(30097,{filter:i})}function PC(i){return AC[i]}function UC(i){return SC[i]}function jC(i){return xC[i]}function go(i){return{fieldPath:i.canonicalString()}}function yo(i){return tn.fromServerFormat(i.fieldPath)}function r1(i){return i instanceof Be?(function(n){if(n.op==="=="){if(aE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(sE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(sE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:UC(n.op),value:n.value}}})(i):i instanceof $i?(function(n){const s=n.getFilters().map((o=>r1(o)));return s.length===1?s[0]:{compositeFilter:{op:jC(n.op),filters:s}}})(i):xt(54877,{filter:i})}function zC(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function s1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class gs{constructor(t,n,s,o,u=Rt.min(),c=Rt.min(),m=nn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class BC{constructor(t){this.yt=t}}function qC(i){const t=VC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?fp(t,t.limit,"L"):t}class HC{constructor(){this.Cn=new FC}addToCollectionParentIndex(t,n){return this.Cn.add(n),ot.resolve()}getCollectionParents(t,n){return ot.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return ot.resolve()}deleteFieldIndex(t,n){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,n){return ot.resolve()}getDocumentsMatchingTarget(t,n){return ot.resolve(null)}getIndexType(t,n){return ot.resolve(0)}getFieldIndexes(t,n){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,n){return ot.resolve(Ts.min())}getMinOffsetFromCollectionGroup(t,n){return ot.resolve(Ts.min())}updateCollectionGroup(t,n,s){return ot.resolve()}updateIndexEntries(t,n){return ot.resolve()}}class FC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new qe(me.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new qe(me.comparator)).toArray()}}const EE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a1=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(a1,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Do{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}const bE="LruGarbageCollector",GC=1048576;function TE([i,t],[n,s]){const o=Ht(i,n);return o===0?Ht(t,s):o}class $C{constructor(t){this.Ir=t,this.buffer=new qe(TE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();TE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){mt(bE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?mt(bE,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Vr(3e5)}))}}class YC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return ot.resolve(hf.ce);const s=new $C(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(EE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(t,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(g=Date.now(),mo()<=qt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function KC(i,t){return new YC(i,t)}class XC{constructor(){this.changes=new Ta((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ot.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ZC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class JC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&ou(s.mutation,o,Dn.empty(),he.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ft()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ft()){const o=ua();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let c=Xl();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=ua();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ft())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(t,n,s,o){let u=wr();const c=au(),m=(function(){return au()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Is)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),ou(v.mutation,g,v.mutation.getFieldMask(),he.now())):c.set(g.key,Dn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>m.set(g,new ZC(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=au();let o=new pe(((c,m)=>c-m)),u=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Dn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const b=(o.get(m.batchId)||Ft()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=qT();v.forEach((A=>{if(!u.has(A)){const I=YT(n.get(A),s.get(A));I!==null&&b.set(A,I),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,b))}return ot.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(c){return Tt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):WR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):ot.resolve(ua());let m=du,p=u;return c.next((g=>ot.forEach(g,((v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?ot.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ft()))).next((v=>({batchId:m,changes:BT(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Tt(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let c=Xl();return this.indexManager.getCollectionParents(t,u).next((m=>ot.forEach(m,(p=>{const g=(function(b,A){return new mf(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((b,A)=>{c=c.insert(b,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,on.newInvalidDocument(v)))}));let m=Xl();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&ou(v.mutation,g,Dn.empty(),he.now()),yf(n,g)&&(m=m.insert(p,g))})),m}))}}class WC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return ot.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(n)),ot.resolve()}getNamedQuery(t,n){return ot.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:qC(o.bundledQuery),readTime:Bi(o.readTime)}})(n)),ot.resolve()}}class tI{constructor(){this.overlays=new pe(Tt.comparator),this.qr=new Map}getOverlay(t,n){return ot.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ua();return ot.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),ot.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ot.resolve()}getOverlaysForCollection(t,n,s){const o=ua(),u=n.length+1,c=new Tt(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ot.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new pe(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ua(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ua(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return ot.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new _C(n,s));let u=this.qr.get(n);u===void 0&&(u=Ft(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class eI{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ot.resolve()}}class ug{constructor(){this.Qr=new qe($e.$r),this.Ur=new qe($e.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new $e(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new $e(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new Tt(new me([])),s=new $e(n,t),o=new $e(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Tt(new me([])),s=new $e(n,t),o=new $e(n,t+1);let u=Ft();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new $e(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class $e{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Tt.comparator(t.key,n.key)||Ht(t.Yr,n.Yr)}static Kr(t,n){return Ht(t.Yr,n.Yr)||Tt.comparator(t.key,n.key)}}class nI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qe($e.$r)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new yC(u,n,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new $e(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return ot.resolve(c)}lookupMutationBatch(t,n){return ot.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ot.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?Wp:this.tr-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new $e(n,0),o=new $e(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ot.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new qe(Ht);return n.forEach((o=>{const u=new $e(o,0),c=new $e(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{s=s.add(m.Yr)}))})),ot.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Tt.isDocumentKey(u)||(u=u.child(""));const c=new $e(new Tt(u),0);let m=new qe(Ht);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ot.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ot.forEach(n.mutations,(o=>{const u=new $e(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new $e(n,0),o=this.Zr.firstAfterOrEqual(s);return ot.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class iI{constructor(t){this.ri=t,this.docs=(function(){return new pe(Tt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return ot.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(t,n){let s=wr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))})),ot.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=wr();const c=n.path,m=new Tt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||IR(CR(v),s)<=0||(o.has(v.key)||yf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ot.resolve(u)}getAllFromCollectionGroup(t,n,s,o){xt(9500)}ii(t,n){return ot.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new rI(this)}getSize(t){return ot.resolve(this.size)}}class rI extends XC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),ot.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class sI{constructor(t){this.persistence=t,this.si=new Ta((n=>ng(n)),ig),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=Do.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ot.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Do(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,ot.resolve()}updateTargetData(t,n){return this.Pr(n),ot.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),ot.waitFor(u).next((()=>o))}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return ot.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),ot.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),ot.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),ot.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return ot.resolve(s)}containsKey(t,n){return ot.resolve(this._i.containsKey(n))}}class o1{constructor(t,n){this.ui={},this.overlays={},this.ci=new hf(0),this.li=!1,this.li=!0,this.hi=new eI,this.referenceDelegate=t(this),this.Pi=new sI(this),this.indexManager=new HC,this.remoteDocumentCache=(function(o){return new iI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new BC(n),this.Ii=new WC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new tI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new nI(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){mt("MemoryPersistence","Starting transaction:",t);const o=new aI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return ot.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class aI extends OR{constructor(t){super(),this.currentSequenceNumber=t}}class cg{constructor(t){this.persistence=t,this.Ri=new ug,this.Vi=null}static mi(t){return new cg(t)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ot.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ot.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),ot.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.fi,(s=>{const o=Tt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Rt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return ot.or([()=>ot.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Kh{constructor(t,n){this.persistence=t,this.pi=new Ta((s=>VR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=KC(this,n)}static mi(t,n){return new Kh(t,n)}Ei(){}di(t){return ot.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return ot.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?ot.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((m=>{m||(s++,u.removeEntry(c,Rt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),ot.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),ot.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),ot.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xh(t.data.value)),n}br(t,n,s){return ot.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return ot.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class hg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Ft(),o=Ft();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hg(t,n.fromCache,s,o)}}class oI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class lI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return OS()?8:MR(ln())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new oI;return this.Ss(t,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,c,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(mo()<=qt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ot.resolve()):(mo()<=qt.DEBUG&&mt("QueryEngine","Query:",po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(mo()<=qt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(n))):ot.resolve())}ys(t,n){if(cE(n))return ot.resolve(null);let s=zi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=fp(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=Ft(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(t,fp(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return cE(n)||o.isEqual(Rt.min())?ot.resolve(null):this.ps.getDocuments(t,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?ot.resolve(null):(mo()<=qt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.vs(t,c,n,RR(o,du)).next((m=>m)))}))}Ds(t,n){let s=new qe(jT(t));return n.forEach(((o,u)=>{yf(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return mo()<=qt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",po(n)),this.ps.getDocumentsMatchingQuery(t,n,Ts.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const fg="LocalStore",uI=3e8;class cI{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new pe(Ht),this.xs=new Ta((u=>ng(u)),ig),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function hI(i,t,n,s){return new cI(i,t,n,s)}async function l1(i,t){const n=It(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=Ft();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function fI(i,t){const n=It(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const b=g.batch,A=b.keys();let I=ot.resolve();return A.forEach((j=>{I=I.next((()=>v.getEntry(p,j))).next((Q=>{const K=g.docVersions.get(j);Wt(K!==null,48541),Q.version.compareTo(K)<0&&(b.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),v.addEntry(Q)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ft();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function u1(i){const t=It(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function dI(i,t){const n=It(i),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((v,b)=>{const A=o.get(b);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,b))));let I=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?I=I.withResumeToken(nn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,s)),o=o.insert(b,I),(function(Q,K,et){return Q.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=uI?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(A,I,v)&&m.push(n.Pi.updateTargetData(u,I))}));let p=wr(),g=Ft();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(mI(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Rt.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return ot.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function mI(i,t,n){let s=Ft(),o=Ft();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let c=wr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):mt(fg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function pI(i,t){const n=It(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function gI(i,t){const n=It(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,ot.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new gs(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function yp(i,t,n){const s=It(i),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!qo(c))throw c;mt(fg,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function wE(i,t,n){const s=It(i);let o=Rt.min(),u=Ft();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const b=It(p),A=b.xs.get(v);return A!==void 0?ot.resolve(b.Ms.get(A)):b.Pi.getTargetData(g,v)})(s,c,zi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?o:Rt.min(),n?u:Ft()))).next((m=>(yI(s,eC(t),m),{documents:m,Qs:u})))))}function yI(i,t,n){let s=i.Os.get(t)||Rt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(t,s)}class AE{constructor(){this.activeTargetIds=oC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _I{constructor(){this.Mo=new AE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new AE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vI{Oo(t){}shutdown(){}}const SE="ConnectivityMonitor";class xE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(SE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){mt(SE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mh=null;function _p(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}const Hm="RestConnection",EI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Hh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const c=_p(),m=this.zo(t,n.toUriEncodedString());mt(Hm,`Sending RPC '${t}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=Po(g);return this.Jo(t,m,p,s,v).then((b=>(mt(Hm,`Received RPC '${t}' ${c}: `,b),b)),(b=>{throw No(Hm,`RPC '${t}' ${c} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(t,n,s,o,u,c){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=EI[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class TI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class wI extends bI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const c=_p();return new Promise(((m,p)=>{const g=new mT;g.setWithCredentials(!0),g.listenOnce(pT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Sh.NO_ERROR:const b=g.getResponseJson();mt(sn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),m(b);break;case Sh.TIMEOUT:mt(sn,`RPC '${t}' ${c} timed out`),p(new _t(lt.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const A=g.getStatus();if(mt(sn,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const j=I?.error;if(j&&j.status&&j.message){const Q=(function(et){const Z=et.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(Z)>=0?Z:lt.UNKNOWN})(j.status);p(new _t(Q,j.message))}else p(new _t(lt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new _t(lt.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{mt(sn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);mt(sn,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(t,n,s){const o=_p(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=_T(),m=yT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");mt(sn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const b=c.createWebChannel(v,p);this.I_(b);let A=!1,I=!1;const j=new TI({Yo:K=>{I?mt(sn,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(A||(mt(sn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),A=!0),mt(sn,`RPC '${t}' stream ${o} sending:`,K),b.send(K))},Zo:()=>b.close()}),Q=(K,et,Z)=>{K.listen(et,(J=>{try{Z(J)}catch(ut){setTimeout((()=>{throw ut}),0)}}))};return Q(b,Kl.EventType.OPEN,(()=>{I||(mt(sn,`RPC '${t}' stream ${o} transport opened.`),j.o_())})),Q(b,Kl.EventType.CLOSE,(()=>{I||(I=!0,mt(sn,`RPC '${t}' stream ${o} transport closed`),j.a_(),this.E_(b))})),Q(b,Kl.EventType.ERROR,(K=>{I||(I=!0,No(sn,`RPC '${t}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),j.a_(new _t(lt.UNAVAILABLE,"The operation could not be completed")))})),Q(b,Kl.EventType.MESSAGE,(K=>{if(!I){const et=K.data[0];Wt(!!et,16349);const Z=et,J=Z?.error||Z[0]?.error;if(J){mt(sn,`RPC '${t}' stream ${o} received error:`,J);const ut=J.status;let H=(function(S){const C=Le[S];if(C!==void 0)return XT(C)})(ut),it=J.message;H===void 0&&(H=lt.INTERNAL,it="Unknown error status: "+ut+" with message "+J.message),I=!0,j.a_(new _t(H,it)),b.close()}else mt(sn,`RPC '${t}' stream ${o} received:`,et),j.u_(et)}})),Q(m,gT.STAT_EVENT,(K=>{K.stat===ap.PROXY?mt(sn,`RPC '${t}' stream ${o} detected buffering proxy`):K.stat===ap.NOPROXY&&mt(sn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Fm(){return typeof document<"u"?document:null}function bf(i){return new NC(i,!0)}class c1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const NE="PersistentStream";class h1{constructor(t,n,s,o,u,c,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new c1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===lt.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new _t(lt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(NE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(mt(NE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AI extends h1{constructor(t,n,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=IC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Rt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?Bi(c.readTime):Rt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=gp(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=hp(p)?{documents:MC(u,p)}:{query:kC(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=WT(u,c.resumeToken);const g=dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Rt.min())>0){m.readTime=Yh(u,c.snapshotVersion.toTimestamp());const g=dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=LC(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=gp(this.serializer),n.removeTarget=t,this.q_(n)}}class SI extends h1{constructor(t,n,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=OC(t.writeResults,t.commitTime),s=Bi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=gp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>DC(this.serializer,s)))};this.q_(n)}}class xI{}class NI extends xI{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _t(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,mp(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _t(lt.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,mp(n,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(lt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const va="RemoteStore";class CI{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{wa(this)&&(mt(va,"Restarting streams for network reachability change."),await(async function(p){const g=It(p);g.Ea.add(4),await ku(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Tf(g)})(this))}))})),this.Ra=new RI(s,o)}}async function Tf(i){if(wa(i))for(const t of i.da)await t(!0)}async function ku(i){for(const t of i.da)await t(!1)}function f1(i,t){const n=It(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),gg(n)?pg(n):Ho(n).O_()&&mg(n,t))}function dg(i,t){const n=It(i),s=Ho(n);n.Ia.delete(t),s.O_()&&d1(n,t),n.Ia.size===0&&(s.O_()?s.L_():wa(n)&&n.Ra.set("Unknown"))}function mg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ho(i).Y_(t)}function d1(i,t){i.Va.Ue(t),Ho(i).Z_(t)}function pg(i){i.Va=new wC({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Ho(i).start(),i.Ra.ua()}function gg(i){return wa(i)&&!Ho(i).x_()&&i.Ia.size>0}function wa(i){return It(i).Ea.size===0}function m1(i){i.Va=void 0}async function II(i){i.Ra.set("Online")}async function DI(i){i.Ia.forEach(((t,n)=>{mg(i,t)}))}async function OI(i,t){m1(i),gg(i)?(i.Ra.ha(t),pg(i)):i.Ra.set("Unknown")}async function MI(i,t,n){if(i.Ra.set("Online"),t instanceof JT&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(s){mt(va,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Xh(i,s)}else if(t instanceof Ch?i.Va.Ze(t):t instanceof ZT?i.Va.st(t):i.Va.tt(t),!n.isEqual(Rt.min()))try{const s=await u1(i.localStore);n.compareTo(s)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(nn.EMPTY_BYTE_STRING,v.snapshotVersion)),d1(u,p);const b=new gs(v.target,p,g,v.sequenceNumber);mg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){mt(va,"Failed to raise snapshot:",s),await Xh(i,s)}}async function Xh(i,t,n){if(!qo(t))throw t;i.Ea.add(1),await ku(i),i.Ra.set("Offline"),n||(n=()=>u1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{mt(va,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Tf(i)}))}function p1(i,t){return t().catch((n=>Xh(i,n,t)))}async function wf(i){const t=It(i),n=xs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wp;for(;kI(t);)try{const o=await pI(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,VI(t,o)}catch(o){await Xh(t,o)}g1(t)&&y1(t)}function kI(i){return wa(i)&&i.Ta.length<10}function VI(i,t){i.Ta.push(t);const n=xs(i);n.O_()&&n.X_&&n.ea(t.mutations)}function g1(i){return wa(i)&&!xs(i).x_()&&i.Ta.length>0}function y1(i){xs(i).start()}async function LI(i){xs(i).ra()}async function PI(i){const t=xs(i);for(const n of i.Ta)t.ea(n.mutations)}async function UI(i,t,n){const s=i.Ta.shift(),o=ag.from(s,t,n);await p1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await wf(i)}async function jI(i,t){t&&xs(i).X_&&await(async function(s,o){if((function(c){return EC(c)&&c!==lt.ABORTED})(o.code)){const u=s.Ta.shift();xs(s).B_(),await p1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await wf(s)}})(i,t),g1(i)&&y1(i)}async function RE(i,t){const n=It(i);n.asyncQueue.verifyOperationInProgress(),mt(va,"RemoteStore received new credentials");const s=wa(n);n.Ea.add(3),await ku(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Tf(n)}async function zI(i,t){const n=It(i);t?(n.Ea.delete(2),await Tf(n)):t||(n.Ea.add(2),await ku(n),n.Ra.set("Unknown"))}function Ho(i){return i.ma||(i.ma=(function(n,s,o){const u=It(n);return u.sa(),new AI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:II.bind(null,i),t_:DI.bind(null,i),r_:OI.bind(null,i),H_:MI.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),gg(i)?pg(i):i.Ra.set("Unknown")):(await i.ma.stop(),m1(i))}))),i.ma}function xs(i){return i.fa||(i.fa=(function(n,s,o){const u=It(n);return u.sa(),new SI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:LI.bind(null,i),r_:jI.bind(null,i),ta:PI.bind(null,i),na:UI.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await wf(i)):(await i.fa.stop(),i.Ta.length>0&&(mt(va,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class yg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const c=Date.now()+s,m=new yg(t,n,c,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(i,t){if(Tr("AsyncQueue",`${t}: ${i}`),qo(i))return new _t(lt.UNAVAILABLE,`${t}: ${i}`);throw i}class To{static emptySet(t){return new To(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Tt.comparator(n.key,s.key):(n,s)=>Tt.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof To)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new To;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class CE{constructor(){this.ga=new pe(Tt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):xt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Oo{constructor(t,n,s,o,u,c,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Oo(t,n,To.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class BI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class qI{constructor(){this.queries=IE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=It(n),u=o.queries;o.queries=IE(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new _t(lt.ABORTED,"Firestore shutting down"))}}function IE(){return new Ta((i=>UT(i)),gf)}async function _1(i,t){const n=It(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new BI,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=_g(c,`Initialization of query '${po(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&vg(n)}async function v1(i,t){const n=It(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function HI(i,t){const n=It(i);let s=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&vg(n)}function FI(i,t,n){const s=It(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function vg(i){i.Ca.forEach((t=>{t.next()}))}var vp,DE;(DE=vp||(vp={})).Ma="default",DE.Cache="cache";class E1{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Oo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vp.Cache}}class b1{constructor(t){this.key=t}}class T1{constructor(t){this.key=t}}class GI{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ft(),this.mutatedKeys=Ft(),this.eu=jT(t),this.tu=new To(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new CE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,b)=>{const A=o.get(v),I=yf(this.query,b)?b:null,j=!!A&&this.mutatedKeys.has(A.key),Q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let K=!1;A&&I?A.data.isEqual(I.data)?j!==Q&&(s.track({type:3,doc:I}),K=!0):this.su(A,I)||(s.track({type:2,doc:I}),K=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(m=!0)):!A&&I?(s.track({type:0,doc:I}),K=!0):A&&!I&&(s.track({type:1,doc:A}),K=!0,(p||g)&&(m=!0)),K&&(I?(c=c.add(I),u=Q?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,b)=>(function(I,j){const Q=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:K})}};return Q(I)-Q(j)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Oo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ft(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new T1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new b1(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ft();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Eg="SyncEngine";class $I{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class QI{constructor(t){this.key=t,this.hu=!1}}class YI{constructor(t,n,s,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ta((m=>UT(m)),gf),this.Iu=new Map,this.Eu=new Set,this.du=new pe(Tt.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KI(i,t,n=!0){const s=R1(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await w1(s,t,n,!0),o}async function XI(i,t){const n=R1(i);await w1(n,t,!0,!1)}async function w1(i,t,n,s){const o=await gI(i.localStore,zi(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ZI(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&f1(i.remoteStore,o),m}async function ZI(i,t,n,s,o){i.pu=(b,A,I)=>(async function(Q,K,et,Z){let J=K.view.ru(et);J.Cs&&(J=await wE(Q.localStore,K.query,!1).then((({documents:N})=>K.view.ru(N,J))));const ut=Z&&Z.targetChanges.get(K.targetId),H=Z&&Z.targetMismatches.get(K.targetId)!=null,it=K.view.applyChanges(J,Q.isPrimaryClient,ut,H);return ME(Q,K.targetId,it.au),it.snapshot})(i,b,A,I);const u=await wE(i.localStore,t,!0),c=new GI(t,u.Qs),m=c.ru(u.documents),p=Mu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);ME(i,n,g.au);const v=new $I(t,n,c);return i.Tu.set(t,v),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),g.snapshot}async function JI(i,t,n){const s=It(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!gf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await yp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dg(s.remoteStore,o.targetId),Ep(s,o.targetId)})).catch(Bo)):(Ep(s,o.targetId),await yp(s.localStore,o.targetId,!0))}async function WI(i,t){const n=It(i),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dg(n.remoteStore,s.targetId))}async function tD(i,t,n){const s=oD(i);try{const o=await(function(c,m){const p=It(c),g=he.now(),v=m.reduce(((I,j)=>I.add(j.key)),Ft());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let j=wr(),Q=Ft();return p.Ns.getEntries(I,v).next((K=>{j=K,j.forEach(((et,Z)=>{Z.isValidDocument()||(Q=Q.add(et))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,j))).next((K=>{b=K;const et=[];for(const Z of m){const J=pC(Z,b.get(Z.key).overlayedDocument);J!=null&&et.push(new Is(Z.key,J,DT(J.value.mapValue),fi.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,et,m)})).next((K=>{A=K;const et=K.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(I,K.batchId,et)}))})).then((()=>({batchId:A.batchId,changes:BT(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new pe(Ht)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Vu(s,o.changes),await wf(s.remoteStore)}catch(o){const u=_g(o,"Failed to persist write");n.reject(u)}}async function A1(i,t){const n=It(i);try{const s=await dI(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Wt(c.hu,14607):o.removedDocuments.size>0&&(Wt(c.hu,42227),c.hu=!1))})),await Vu(n,s,t)}catch(s){await Bo(s)}}function OE(i,t,n){const s=It(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=It(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,b)=>{for(const A of b.Sa)A.va(m)&&(g=!0)})),g&&vg(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function eD(i,t,n){const s=It(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new pe(Tt.comparator);c=c.insert(u,on.newNoDocument(u,Rt.min()));const m=Ft().add(u),p=new Ef(Rt.min(),new Map,new pe(Ht),c,m);await A1(s,p),s.du=s.du.remove(u),s.Au.delete(t),bg(s)}else await yp(s.localStore,t,!1).then((()=>Ep(s,t,n))).catch(Bo)}async function nD(i,t){const n=It(i),s=t.batch.batchId;try{const o=await fI(n.localStore,t);x1(n,s,null),S1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(n,o)}catch(o){await Bo(o)}}async function iD(i,t,n){const s=It(i);try{const o=await(function(c,m){const p=It(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Wt(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);x1(s,t,n),S1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Vu(s,o)}catch(o){await Bo(o)}}function S1(i,t){(i.mu.get(t)||[]).forEach((n=>{n.resolve()})),i.mu.delete(t)}function x1(i,t,n){const s=It(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Ep(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||N1(i,s)}))}function N1(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(dg(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),bg(i))}function ME(i,t,n){for(const s of n)s instanceof b1?(i.Ru.addReference(s.key,t),rD(i,s)):s instanceof T1?(mt(Eg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||N1(i,s.key)):xt(19791,{wu:s})}function rD(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(mt(Eg,"New document in limbo: "+n),i.Eu.add(s),bg(i))}function bg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new Tt(me.fromString(t)),s=i.fu.next();i.Au.set(s,new QI(n)),i.du=i.du.insert(n,s),f1(i.remoteStore,new gs(zi(pf(n.path)),s,"TargetPurposeLimboResolution",hf.ce))}}async function Vu(i,t,n){const s=It(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=hg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const v=It(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ot.forEach(g,(A=>ot.forEach(A.Es,(I=>v.persistence.referenceDelegate.addReference(b,A.targetId,I))).next((()=>ot.forEach(A.ds,(I=>v.persistence.referenceDelegate.removeReference(b,A.targetId,I)))))))))}catch(b){if(!qo(b))throw b;mt(fg,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const I=v.Ms.get(A),j=I.snapshotVersion,Q=I.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(A,Q)}}})(s.localStore,u))}async function sD(i,t){const n=It(i);if(!n.currentUser.isEqual(t)){mt(Eg,"User change. New user:",t.toKey());const s=await l1(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new _t(lt.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Vu(n,s.Ls)}}function aD(i,t){const n=It(i),s=n.Au.get(t);if(s&&s.hu)return Ft().add(s.key);{let o=Ft();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function R1(i){const t=It(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=A1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eD.bind(null,t),t.Pu.H_=HI.bind(null,t.eventManager),t.Pu.yu=FI.bind(null,t.eventManager),t}function oD(i){const t=It(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iD.bind(null,t),t}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return hI(this.persistence,new lI,t.initialUser,this.serializer)}Cu(t){return new o1(cg.mi,this.serializer)}Du(t){return new _I}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class lD extends Zh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Wt(this.persistence.referenceDelegate instanceof Kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new QC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new o1((s=>Kh.mi(s,n)),this.serializer)}}class bp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>OE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sD.bind(null,this.syncEngine),await zI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qI})()}createDatastore(t){const n=bf(t.databaseInfo.databaseId),s=(function(u){return new wI(u)})(t.databaseInfo);return(function(u,c,m,p){return new NI(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,c,m){return new CI(s,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>OE(this.syncEngine,n,0)),(function(){return xE.v()?new xE:new vI})())}createSyncEngine(t,n){return(function(o,u,c,m,p,g,v){const b=new YI(o,u,c,m,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=It(n);mt(va,"RemoteStore shutting down."),s.Ea.add(5),await ku(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bp.provider={build:()=>new bp};class C1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ns="FirestoreClient";class uD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{mt(Ns,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(mt(Ns,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=_g(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Gm(i,t){i.asyncQueue.verifyOperationInProgress(),mt(Ns,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await l1(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function kE(i,t){i.asyncQueue.verifyOperationInProgress();const n=await cD(i);mt(Ns,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>RE(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>RE(t.remoteStore,o))),i._onlineComponents=t}async function cD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){mt(Ns,"Using user provided OfflineComponentProvider");try{await Gm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===lt.FAILED_PRECONDITION||o.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await Gm(i,new Zh)}}else mt(Ns,"Using default OfflineComponentProvider"),await Gm(i,new lD(void 0));return i._offlineComponents}async function I1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(mt(Ns,"Using user provided OnlineComponentProvider"),await kE(i,i._uninitializedComponentsProvider._online)):(mt(Ns,"Using default OnlineComponentProvider"),await kE(i,new bp))),i._onlineComponents}function hD(i){return I1(i).then((t=>t.syncEngine))}async function Tp(i){const t=await I1(i),n=t.eventManager;return n.onListen=KI.bind(null,t.syncEngine),n.onUnlisten=JI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=XI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=WI.bind(null,t.syncEngine),n}function fD(i,t,n={}){const s=new bs;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new C1({next:A=>{v.Nu(),c.enqueueAndForget((()=>v1(u,b)));const I=A.docs.has(m);!I&&A.fromCache?g.reject(new _t(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&p&&p.source==="server"?g.reject(new _t(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new E1(pf(m.path),v,{includeMetadataChanges:!0,qa:!0});return _1(u,b)})(await Tp(i),i.asyncQueue,t,n,s))),s.promise}function D1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const VE=new Map;const O1="firestore.googleapis.com",LE=!0;class PE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new _t(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O1,this.ssl=LE}else this.host=t.host,this.ssl=t.ssl??LE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=a1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GC)throw new _t(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _t(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _t(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _t(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Tg{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new gR;switch(s.type){case"firstParty":return new ER(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _t(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=VE.get(n);s&&(mt("ComponentProvider","Removing Datastore"),VE.delete(n),s.terminate())})(this),Promise.resolve()}}function dD(i,t,n,s={}){i=hi(i,Tg);const o=Po(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${n}`;o&&(Sb(`https://${m}`),xb("Firestore",!0)),u.host!==O1&&u.host!==m&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ma(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=an.MOCK_USER;else{g=wS(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new _t(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new an(b)}i._authCredentials=new yR(new ET(g,v))}}class Af{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Af(this.firestore,t,this._query)}}class Ue{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Du(n,Ue._jsonSchema))return new Ue(t,s||null,new Tt(me.fromString(n.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Pe("string",Ue._jsonSchemaVersion),referencePath:Pe("string")};class Eu extends Af{constructor(t,n,s){super(t,n,pf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new Tt(t))}withConverter(t){return new Eu(this.firestore,t,this._path)}}function Mo(i,t,...n){if(i=en(i),arguments.length===1&&(t=Zp.newId()),xR("doc","path",t),i instanceof Tg){const s=me.fromString(t,...n);return Zv(s),new Ue(i,null,new Tt(s))}{if(!(i instanceof Ue||i instanceof Eu))throw new _t(lt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(me.fromString(t,...n));return Zv(s),new Ue(i.firestore,i instanceof Eu?i.converter:null,new Tt(s))}}const UE="AsyncQueue";class jE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new c1(this,"async_queue_retry"),this._c=()=>{const s=Fm();s&&mt(UE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!qo(t))throw t;mt(UE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",zE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=yg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&xt(47125,{Pc:zE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function zE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}function BE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Ea extends Tg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new jE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jE(t),this._firestoreClient=void 0,await t}}}function mD(i,t){const n=typeof i=="object"?i:Ib(),s=typeof i=="string"?i:Hh,o=Bp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=bS("firestore");u&&dD(o,...u)}return o}function wg(i){if(i._terminated)throw new _t(lt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||pD(i),i._firestoreClient}function pD(i){const t=i._freezeSettings(),n=(function(o,u,c,m){return new UR(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,D1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new uD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xn(nn.fromBase64String(t))}catch(n){throw new _t(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Xn(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Du(t,Xn._jsonSchema))return Xn.fromBase64String(t.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Pe("string",Xn._jsonSchemaVersion),bytes:Pe("string")};class Sf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new _t(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xf{constructor(t){this._methodName=t}}class qi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new _t(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _t(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(t){if(Du(t,qi._jsonSchema))return new qi(t.latitude,t.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Pe("string",qi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class Hi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Du(t,Hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Hi(t.vectorValues);throw new _t(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Pe("string",Hi._jsonSchemaVersion),vectorValues:Pe("object")};const gD=/^__.*__$/;class yD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Is(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(t,this.data,n,this.fieldTransforms)}}class M1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Is(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function k1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:i})}}class Ag{constructor(t,n,s,o,u,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ag({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Jh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(k1(this.Ac)&&gD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class _D{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||bf(t)}Cc(t,n,s,o=!1){return new Ag({Ac:t,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V1(i){const t=i._freezeSettings(),n=bf(i._databaseId);return new _D(i._databaseId,!!t.ignoreUndefinedProperties,n)}function vD(i,t,n,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,t,n,o);xg("Data must be an object, but it was:",c,s);const m=L1(s,c);let p,g;if(u.merge)p=new Dn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const A=wp(t,b,n);if(!c.contains(A))throw new _t(lt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);U1(v,A)||v.push(A)}p=new Dn(v),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new yD(new En(m),p,g)}class Nf extends xf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nf}}class Sg extends xf{_toFieldTransform(t){return new hC(t.path,new yu)}isEqual(t){return t instanceof Sg}}function ED(i,t,n,s){const o=i.Cc(1,t,n);xg("Data must be an object, but it was:",o,s);const u=[],c=En.empty();Cs(s,((p,g)=>{const v=Ng(t,p,n);g=en(g);const b=o.yc(v);if(g instanceof Nf)u.push(v);else{const A=Rf(g,b);A!=null&&(u.push(v),c.set(v,A))}}));const m=new Dn(u);return new M1(c,m,o.fieldTransforms)}function bD(i,t,n,s,o,u){const c=i.Cc(1,t,n),m=[wp(t,s,n)],p=[o];if(u.length%2!=0)throw new _t(lt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(wp(t,u[A])),p.push(u[A+1]);const g=[],v=En.empty();for(let A=m.length-1;A>=0;--A)if(!U1(g,m[A])){const I=m[A];let j=p[A];j=en(j);const Q=c.yc(I);if(j instanceof Nf)g.push(I);else{const K=Rf(j,Q);K!=null&&(g.push(I),v.set(I,K))}}const b=new Dn(g);return new M1(v,b,c.fieldTransforms)}function Rf(i,t){if(P1(i=en(i)))return xg("Unsupported field value:",t,i),L1(i,t);if(i instanceof xf)return(function(s,o){if(!k1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=Rf(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=he.fromDate(s);return{timestampValue:Yh(o.serializer,u)}}if(s instanceof he){const u=new he(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yh(o.serializer,u)}}if(s instanceof qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:WT(o.serializer,s._byteString)};if(s instanceof Ue){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Hi)return(function(c,m){return{mapValue:{fields:{[CT]:{stringValue:IT},[Fh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return rg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Jp(s)}`)})(i,t)}function L1(i,t){const n={};return wT(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cs(i,((s,o)=>{const u=Rf(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function P1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof he||i instanceof qi||i instanceof Xn||i instanceof Ue||i instanceof xf||i instanceof Hi)}function xg(i,t,n){if(!P1(n)||!bT(n)){const s=Jp(n);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function wp(i,t,n){if((t=en(t))instanceof Sf)return t._internalPath;if(typeof t=="string")return Ng(i,t);throw Jh("Field path arguments must be of type string or ",i,!1,void 0,n)}const TD=new RegExp("[~\\*/\\[\\]]");function Ng(i,t,n){if(t.search(TD)>=0)throw Jh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Sf(...t.split("."))._internalPath}catch{throw Jh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jh(i,t,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new _t(lt.INVALID_ARGUMENT,m+i+p)}function U1(i,t){return i.some((n=>n.isEqual(t)))}class j1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(z1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wD extends j1{data(){return super.data()}}function z1(i,t){return typeof t=="string"?Ng(i,t):t instanceof Sf?t._internalPath:t._delegate._internalPath}function AD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new _t(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SD{convertValue(t,n="none"){switch(Ss(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(As(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Cs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Fh].arrayValue?.values?.map((s=>Ne(s.doubleValue)));return new Hi(n)}convertGeoPoint(t){return new qi(Ne(t.latitude),Ne(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=df(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(mu(t));default:return null}}convertTimestamp(t){const n=ws(t);return new he(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=me.fromString(t);Wt(s1(s),9688,{name:t});const o=new pu(s.get(1),s.get(3)),u=new Tt(s.popFirst(5));return o.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function xD(i,t,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(t,n):i.toFirestore(t):t,s}class Jl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fa extends j1{constructor(t,n,s,o,u,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(z1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=fa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:Pe("string",fa._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Ih extends fa{data(t={}){return super.data(t)}}class wo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Ih(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:ND(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ND(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:i})}}function Rg(i){i=hi(i,Ue);const t=hi(i.firestore,Ea);return fD(wg(t),i._key).then((n=>H1(t,i,n)))}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Pe("string",wo._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class B1 extends SD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}function q1(i,t,n){i=hi(i,Ue);const s=hi(i.firestore,Ea),o=xD(i.converter,t,n);return Cg(s,[vD(V1(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,fi.none())])}function RD(i,t,n,...s){i=hi(i,Ue);const o=hi(i.firestore,Ea),u=V1(o);let c;return c=typeof(t=en(t))=="string"||t instanceof Sf?bD(u,"updateDoc",i._key,t,n,s):ED(u,"updateDoc",i._key,t),Cg(o,[c.toMutation(i._key,fi.exists(!0))])}function CD(i){return Cg(hi(i.firestore,Ea),[new sg(i._key,fi.none())])}function ID(i,...t){i=en(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||BE(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(BE(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,c,m;if(i instanceof Ue)c=hi(i.firestore,Ea),m=pf(i._key.path),u={next:p=>{t[s]&&t[s](H1(c,i,p))},error:t[s+1],complete:t[s+2]};else{const p=hi(i,Af);c=hi(p.firestore,Ea),m=p._query;const g=new B1(c);u={next:v=>{t[s]&&t[s](new wo(c,g,p,v))},error:t[s+1],complete:t[s+2]},AD(i._query)}return(function(g,v,b,A){const I=new C1(A),j=new E1(v,I,b);return g.asyncQueue.enqueueAndForget((async()=>_1(await Tp(g),j))),()=>{I.Nu(),g.asyncQueue.enqueueAndForget((async()=>v1(await Tp(g),j)))}})(wg(c),m,o,u)}function Cg(i,t){return(function(s,o){const u=new bs;return s.asyncQueue.enqueueAndForget((async()=>tD(await hD(s),o,u))),u.promise})(wg(i),t)}function H1(i,t,n){const s=n.docs.get(t._key),o=new B1(i);return new fa(i,o,t._key,s,new Jl(n.hasPendingWrites,n.fromCache),t.converter)}function F1(){return new Sg("serverTimestamp")}(function(t,n=!0){(function(o){zo=o})(Uo),xo(new pa("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new Ea(new _R(s.getProvider("auth-internal")),new bR(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _t(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),vs(Qv,Yv,t),vs(Qv,Yv,"esm2020")})();const DD={apiKey:"AIzaSyDJLZ07IsSV0efiWNzZDvSDltscm7yFMGc",authDomain:"flowmetrics-a7669.firebaseapp.com",projectId:"flowmetrics-a7669",storageBucket:"flowmetrics-a7669.appspot.com",messagingSenderId:"13206232192",appId:"1:13206232192:web:97d4b158974350ed5ada65"},G1=wv().length?wv()[0]:Cb(DD),Gl=mR(G1),ko=mD(G1),$1=At.createContext(null);function OD({children:i}){const[t,n]=At.useState(null),[s,o]=At.useState(!0);At.useEffect(()=>{const g=nN(Gl,v=>{n(v??null),o(!1)});return()=>g()},[]);async function u(g,v){await W2(Gl,g,v)}async function c(g,v){return await J2(Gl,g,v)}async function m(){await iN(Gl),n(null)}async function p(g){await Z2(Gl,g)}return T.jsx($1.Provider,{value:{user:t,authLoading:s,signInWithEmail:u,signUpWithEmail:c,signOut:m,resetPassword:p},children:i})}function MD(){const i=At.useContext($1);if(!i)throw new Error("useFirebaseAuth must be used inside FirebaseAuthProvider");return i}async function kD(i){if(!i)return null;const t=Mo(ko,"workspaces",i),n=await Rg(t);return n.exists()?n.data().state??null:null}async function VD(i,t){if(!i)return;const n=Mo(ko,"workspaces",i);await q1(n,{state:t,updatedAt:F1()},{merge:!0})}const lu=["","","","","","","","","",""];function LD(i=""){let t=0;for(let n=0;n<i.length;n++)t=(t<<5)-t+i.charCodeAt(n),t|=0;return Math.abs(t)}function Q1(i,t="Budgeteer"){if(!i)return t;const n=i.trim();return n&&n.replace(/[^a-zA-Z0-9_\- ]+/g,"").slice(0,32)||t}function PD(i){const t=i?.email?.split("@")[0]??"",n=Q1(t,"Budgeteer"),s=i?.uid||i?.email||n||String(Date.now()),o=LD(s)%lu.length;return{username:n,avatarEmoji:lu[o]}}async function UD(i){const t=i?.uid;if(!t)return null;const n=Mo(ko,"users",t),s=await Rg(n);if(s.exists())return s.data();const o=PD(i);return await q1(n,{...o,createdAt:F1()},{merge:!0}),o}async function jD(i,{username:t,avatarEmoji:n}={}){if(!i)throw new Error("Missing uid");const s={};typeof t=="string"&&(s.username=Q1(t)),typeof n=="string"&&(s.avatarEmoji=n);const o=Mo(ko,"users",i);return await RD(o,s),(await Rg(o)).data()}function zD({label:i,active:t,onClick:n}){return T.jsx("button",{onClick:n,className:`px-3 py-1 rounded-full border text-xs transition
      ${t?"border-cyan-400 bg-cyan-500/10 text-cyan-200":"border-slate-600/60 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200"}`,children:i})}const Ap=[{key:"dark",label:"Cyber Dark",description:"Charcoal with neon cyan highlights",shellClass:"bg-[#05060A] text-slate-100",headerClass:"border-[#1f2937] bg-[#05060F]/90",pillClass:"border-slate-600/70 bg-black/20 hover:bg-black/40",previewGradient:"from-[#020617] via-[#05060f] to-[#020617]"},{key:"light",label:"Soft Light",description:"Warm whites with slate ink",shellClass:"bg-slate-50 text-slate-900",headerClass:"border-slate-200 bg-white/80",pillClass:"border-slate-300 bg-white/70 hover:bg-slate-100",previewGradient:"from-white via-slate-100 to-slate-200"},{key:"midnight",label:"Midnight Pulse",description:"Indigo mist with electric purple",shellClass:"bg-[#070718] text-indigo-100",headerClass:"border-[#191d3a] bg-gradient-to-r from-[#0f1032cc] to-[#1b0d3fcc]",pillClass:"border-indigo-600/50 bg-indigo-900/40 hover:bg-indigo-900/70",previewGradient:"from-[#0b1433] via-[#25124f] to-[#3b0f49]"},{key:"aurora",label:"Aurora Mist",description:"Deep teal with aurora glow",shellClass:"bg-gradient-to-br from-[#041b1f] via-[#082831] to-[#041b1f] text-emerald-50",headerClass:"border-emerald-900/40 bg-[#051f25]/90",pillClass:"border-emerald-500/40 bg-emerald-900/40 hover:bg-emerald-900/70",previewGradient:"from-[#052528] via-[#0b4b4f] to-[#0f766e]"},{key:"crimson",label:"Crimson Bloom",description:"Deep burgundy with neon rose edges",shellClass:"bg-gradient-to-br from-[#19070a] via-[#2b0d12] to-[#19070a] text-rose-50",headerClass:"border-rose-900/40 bg-[#2b0d12]/90",pillClass:"border-rose-500/50 bg-rose-900/40 hover:bg-rose-900/70",previewGradient:"from-[#300911] via-[#5b0a1c] to-[#be123c]"}];function Y1(i){return Ap.find(t=>t.key===i)||Ap[0]}function BD({option:i,active:t,onSelect:n}){return T.jsxs("button",{type:"button",onClick:()=>n(i.key),className:`w-full text-left rounded-xl border px-3 py-2 transition ${t?"border-cyan-400 bg-cyan-500/10":"border-white/10 hover:border-cyan-400/60"}`,children:[T.jsx("div",{className:`h-10 rounded-lg bg-gradient-to-r ${i.previewGradient} mb-2`}),T.jsx("p",{className:"text-sm font-semibold text-white",children:i.label}),T.jsx("p",{className:"text-[11px] text-slate-300",children:i.description})]})}function qD({value:i,onChange:t,variant:n="default",onAfterSelect:s=()=>{}}){const[o,u]=At.useState(!1),c=At.useMemo(()=>Y1(i),[i]),m=n==="menu";function p(b){t?.(b),u(!1),s?.()}const g=m?"w-full text-left px-3 py-2 text-slate-200 hover:bg-slate-800/80 rounded-md transition":`px-2 py-1 rounded border transition ${c.pillClass}`,v=`absolute ${m?"left-0":"right-0"} ${m?"mt-1":"mt-2"} w-64 rounded-2xl border border-white/15 bg-[#05060F]/95 p-3 shadow-xl backdrop-blur z-50 transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`;return T.jsxs("div",{className:`relative text-xs ${m?"w-full":""}`,children:[T.jsxs("button",{type:"button",onClick:()=>u(b=>!b),className:g,children:["Theme: ",c.label]}),T.jsx("div",{className:v,children:T.jsx("div",{className:"space-y-2",children:Ap.map(b=>T.jsx(BD,{option:b,active:b.key===c.key,onSelect:p},b.key))})})]})}function HD({customizeMode:i,setCustomizeMode:t,onReset:n,onSignOut:s,themeValue:o,onChangeTheme:u=()=>{}}){const[c,m]=At.useState(!1);return T.jsxs("div",{className:"relative",children:[T.jsx("button",{type:"button",className:"flex items-center justify-center w-9 h-9 rounded-full border border-slate-600/70 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200 transition",onClick:()=>m(p=>!p),children:T.jsxs("span",{className:"relative flex flex-col justify-between w-4 h-3",children:[T.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${c?"translate-y-[5px] rotate-45":""}`}),T.jsx("span",{className:`h-[2px] rounded-full bg-current transition-opacity duration-200 ${c?"opacity-0":"opacity-100"}`}),T.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${c?"-translate-y-[5px] -rotate-45":""}`})]})}),T.jsxs("div",{className:`absolute right-0 mt-2 w-52 bg-[#0B0C14] border border-slate-700/70 rounded-lg shadow-lg z-50 text-xs origin-top-right transform transition-all duration-150 ${c?"opacity-100 scale-100 translate-y-0 pointer-events-auto":"opacity-0 scale-95 -translate-y-1 pointer-events-none"}`,children:[T.jsx("div",{className:"px-2 py-2 border-b border-slate-800/70",children:T.jsx(qD,{value:o,onChange:u,variant:"menu",onAfterSelect:()=>m(!1)})}),T.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:()=>{t(p=>!p),m(!1)},children:i?"Finish Customizing":"Customize Layout"}),T.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-rose-300",onClick:()=>{m(!1),n()},children:"Reset Data"}),T.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:async()=>{m(!1);try{await s()}catch(p){console.error("Sign out failed:",p)}},children:"Sign Out"})]})]})}function FD({onSignIn:i,onSignUp:t,onResetPassword:n,loading:s}){const[o,u]=ce.useState("signin"),[c,m]=ce.useState(""),[p,g]=ce.useState(""),[v,b]=ce.useState(null),[A,I]=ce.useState(null),[j,Q]=ce.useState(!1),[K,et]=ce.useState(!1);async function Z(){if(b(null),I(null),!c){b("Please enter your email first, then click 'Forgot password?'.");return}if(n){et(!0);try{await n(c),I("If an account exists with that email, a reset link has been sent. Check your inbox.")}catch(ut){b(ut.message||"Failed to start password reset.")}finally{et(!1)}}}async function J(ut){ut.preventDefault(),b(null),I(null),Q(!0);try{if(o==="signin")await i(c,p);else{const H=await t(c,p),it=H?.user||null,N=H?.session||null;I(it&&!N?"Account created! Check your email and click the confirmation link.":"Account created!")}}catch(H){b(H.message||"Something went wrong.")}finally{Q(!1)}}return s?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-200",children:T.jsx("div",{className:"text-sm text-slate-400",children:"Checking session..."})}):T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-100 px-4",children:T.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-2xl border border-white/10 bg-black/30 p-8 shadow-[0_20px_50px_rgba(8,8,12,0.8)]",children:[T.jsxs("div",{className:"space-y-2 text-center",children:[T.jsx("p",{className:"text-xs tracking-[0.4em] uppercase text-cyan-300",children:"Budget Center"}),T.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Access portal"}),T.jsx("p",{className:"text-sm text-slate-400",children:o==="signin"?"Sign in to load your encrypted budgets.":"Create an account to sync your budgets and goals across devices."})]}),T.jsxs("div",{className:"grid grid-cols-2 rounded-full bg-white/5 p-1 text-sm",children:[T.jsx("button",{type:"button",onClick:()=>u("signin"),className:`rounded-full py-2 font-medium transition ${o==="signin"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Sign in"}),T.jsx("button",{type:"button",onClick:()=>u("signup"),className:`rounded-full py-2 font-medium transition ${o==="signup"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Create account"})]}),v&&T.jsx("div",{className:"rounded border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-100",children:v}),A&&T.jsx("div",{className:"rounded border border-emerald-400/60 bg-emerald-400/10 px-3 py-2 text-sm text-emerald-100",children:A}),T.jsxs("form",{onSubmit:J,className:"space-y-4",children:[T.jsxs("label",{className:"block text-sm",children:[T.jsx("span",{className:"text-slate-300",children:"Email"}),T.jsx("input",{type:"email",required:!0,value:c,onChange:ut=>m(ut.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"you@email.com",autoComplete:"email"})]}),T.jsxs("label",{className:"block text-sm",children:[T.jsx("span",{className:"text-slate-300",children:"Password"}),T.jsx("input",{type:"password",required:!0,minLength:6,value:p,onChange:ut=>g(ut.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"",autoComplete:o==="signin"?"current-password":"new-password"})]}),T.jsx("button",{type:"submit",disabled:j,className:"w-full rounded-lg bg-cyan-500 py-2 text-sm font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:j?"Please wait...":o==="signin"?"Sign in":"Create account"})]}),T.jsx("div",{className:"text-center text-sm text-slate-400",children:T.jsx("button",{type:"button",className:"font-medium text-cyan-300 hover:text-cyan-200 disabled:opacity-60",onClick:Z,disabled:K,children:K?"Sending reset link...":"Forgot password?"})})]})})}function GD({message:i,variant:t="info",actionLabel:n,onAction:s,onClose:o}){const u=t==="success";return T.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-xs sm:max-w-sm",children:T.jsxs("div",{className:`toast-enter flex items-start gap-3 rounded-xl border px-4 py-3 text-xs shadow-xl bg-[#05060F]/95 backdrop-blur
        ${u?"border-emerald-400/80 text-emerald-100":"border-cyan-400/80 text-cyan-100"}`,children:[T.jsx("div",{className:"mt-[2px] text-lg",children:u?"":""}),T.jsxs("div",{className:"flex-1 space-y-1",children:[T.jsx("p",{className:"leading-snug",children:i}),n&&s&&T.jsxs("button",{onClick:s,className:"inline-flex items-center gap-1 text-[0.7rem] mt-1 px-2 py-1 rounded-full border border-cyan-400/70 text-cyan-100 hover:bg-cyan-500/10 hover:border-cyan-300 transition",children:[T.jsx("span",{children:n}),T.jsx("span",{className:"text-[0.75rem]",children:""})]})]}),o&&T.jsx("button",{className:"ml-1 text-[0.7rem] text-slate-500 hover:text-slate-200",onClick:o,children:""})]})})}function $D({emoji:i,active:t,onSelect:n}){return T.jsx("button",{type:"button",onClick:()=>n(i),className:`w-9 h-9 text-lg rounded-full border transition flex items-center justify-center
      ${t?"border-cyan-400/80 bg-cyan-500/10":"border-slate-600/60 bg-black/30 hover:border-cyan-400/40"}`,children:i})}function QD({profile:i,email:t,loading:n,onUpdateProfile:s}){const[o,u]=At.useState(!1),[c,m]=At.useState(i?.username??""),[p,g]=At.useState(i?.avatar_emoji??lu[0]),[v,b]=At.useState(!1);At.useEffect(()=>{m(i?.username??""),g(i?.avatar_emoji??lu[0])},[i?.username,i?.avatar_emoji]);async function A(Q){if(Q.preventDefault(),!s)return;b(!0);const K=await s({username:c,avatar_emoji:p});b(!1),K&&u(!1)}const I=i?.avatar_emoji??"",j=i?.username||"Budgeteer";return T.jsxs("div",{className:"relative",children:[T.jsxs("button",{type:"button",onClick:()=>u(Q=>!Q),className:"flex items-center gap-2 rounded-full border border-slate-600/70 bg-black/20 px-2 py-1 text-left hover:border-cyan-400/60 transition",children:[T.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-cyan-500/10 text-lg",children:I}),T.jsxs("span",{className:"flex flex-col leading-tight text-xs text-slate-300",children:[T.jsx("span",{className:"text-cyan-200",children:j}),T.jsx("span",{className:"text-[10px] text-slate-500",children:n?"Syncing...":"Profile"})]})]}),T.jsxs("form",{className:`absolute right-0 mt-2 w-64 rounded-xl border border-slate-700/70 bg-[#05060F] p-4 text-xs shadow-xl transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,onSubmit:A,children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-[11px] text-slate-400",children:t?`Signed in as ${t}`:"Signed in"}),T.jsxs("label",{className:"block",children:[T.jsx("span",{className:"text-slate-300",children:"Display name"}),T.jsx("input",{type:"text",value:c,onChange:Q=>m(Q.target.value),placeholder:"Budgeteer",className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-xs text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none"})]})]}),T.jsxs("div",{className:"mt-3",children:[T.jsx("p",{className:"mb-2 text-slate-300",children:"Avatar"}),T.jsx("div",{className:"grid grid-cols-5 gap-2",children:lu.map(Q=>T.jsx($D,{emoji:Q,active:p===Q,onSelect:g},Q))})]}),T.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[T.jsx("button",{type:"button",className:"text-[11px] text-slate-500 hover:text-slate-200",onClick:()=>u(!1),children:"Cancel"}),T.jsx("button",{type:"submit",disabled:v,className:"rounded-full bg-cyan-500 px-3 py-1 text-[11px] font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:v?"Saving...":"Save changes"})]})]})]})}function ci({title:i,children:t}){return T.jsxs("section",{className:"card-surface border rounded-xl p-4",children:[i&&T.jsx("h2",{className:"text-xs font-semibold tracking-[0.25em] text-slate-400 mb-3 uppercase",children:i}),t]})}function Ig({value:i=0}){const t=Math.max(0,Math.min(100,Number.isNaN(i)?0:i));return T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress-bar-filled",style:{width:`${t}%`},children:t>2&&T.jsx("div",{className:"progress-shine shine"})})})}function YD(i){switch(i){case"sunset":return"bg-gradient-to-br from-orange-500/70 via-pink-500/60 to-rose-500/60 border-rose-400/60";case"forest":return"bg-gradient-to-br from-emerald-900/70 via-emerald-800/60 to-emerald-700/60 border-emerald-400/60";case"midnight":return"bg-gradient-to-br from-indigo-900/70 via-purple-900/60 to-indigo-900/70 border-indigo-400/60";case"cyber":default:return"bg-[#090a11] border-slate-800"}}function KD({goal:i,onClick:t}){const n=Number(i?.saved??i?.current??0),s=Number(i?.target??0),o=Number(i?.monthlyPlan??0),u=i?.icon||i?.emoji||"",c=i?.name||"Untitled Goal",m=s>0?Math.min(100,n/s*100):0,p=YD(i?.theme);return T.jsxs("button",{onClick:t,className:`text-left rounded-xl p-3 hover:border-cyan-400/70 hover:shadow-[0_0_18px_rgba(34,211,238,0.35)] transition ${p}`,children:[T.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-lg",children:u}),T.jsx("span",{className:"text-sm font-medium text-slate-100",children:c})]}),T.jsxs("span",{className:"text-[0.7rem] text-slate-400",children:["Plan: $",o.toFixed(0),"/mo"]})]}),T.jsxs("div",{className:"text-xs text-slate-400 mb-1",children:["$",n.toFixed(0)," / $",s.toFixed(0)]}),T.jsx(Ig,{value:m})]})}const XD="modulepreload",ZD=function(i){return"/budget-app/"+i},qE={},JD=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),m=c?.nonce||c?.getAttribute("nonce");o=p(n.map(g=>{if(g=ZD(g),g in qE)return;qE[g]=!0;const v=g.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":XD,v||(A.as="script"),A.crossOrigin="",A.href=g,m&&A.setAttribute("nonce",m),document.head.appendChild(A),v)return new Promise((I,j)=>{A.addEventListener("load",I),A.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},Sp=[{key:"chase",label:"Chase"},{key:"capitalone",label:"Capital One"},{key:"wellsfargo",label:"Wells Fargo"},{key:"americanexpress",label:"Amex"},{key:"discover",label:"Discover"},{key:"navyfederal",label:"Navy Federal"},{key:"mountainamerica",label:"Mountain America"},{key:"bankofamerica",label:"Bank of America"},{key:"usbank",label:"US Bank"},{key:"pnc",label:"PNC"}];function xp(i=""){return i.toLowerCase().replace(/[^a-z0-9]/g,"")}function HE(i="",t=""){const n=xp((t||"")+" "+i.slice(0,4e3));for(const s of Sp)if(n.includes(s.key))return s.label;return null}function Dg(i=""){const t=i.split(/\r\n|\n|\r/).find(p=>p.trim().length>0)||"";let n=0,s=0,o=0,u=0,c=!1;for(let p=0;p<t.length;p++){const g=t[p];if(g==='"'){c=!c;continue}c||(g===","?n++:g===";"?s++:g==="	"?o++:g==="|"&&u++)}const m=[{d:",",c:n},{d:";",c:s},{d:"	",c:o},{d:"|",c:u}].sort((p,g)=>g.c-p.c);return m[0].c>0?m[0].d:","}function Ao(i,t=","){const n=[];let s="",o=!1;for(let u=0;u<i.length;u++){const c=i[u];if(c==='"'){if(o&&i[u+1]==='"'){s+='"',u+=1;continue}o=!o;continue}c===t&&!o?(n.push(s),s=""):s+=c}return n.push(s),n}function ca(i){if(i==null)return NaN;let t=String(i).trim();t=t.replace(/"/g,"");let n=!1;t.startsWith("(")&&t.endsWith(")")&&(n=!0,t=t.slice(1,-1));let s=!1,o=!1;if(/[a-z]/i.test(t.slice(-1))&&(t.trim().toUpperCase().endsWith("CR")?(s=!0,t=t.replace(/cr$/i,"")):t.trim().toUpperCase().endsWith("DR")&&(o=!0,t=t.replace(/dr$/i,""))),t=t.replace(/[$,]/g,""),t.endsWith("-")&&(t="-"+t.slice(0,-1)),t.endsWith("+")&&(t=t.slice(0,-1)),t=t.replace(/^\+/,""),t==="")return NaN;const u=Number(t);if(Number.isNaN(u))return NaN;let c=n?-u:u;return s&&(c=Math.abs(c)),o&&(c=-Math.abs(c)),c}function K1(i,t){const n=(i||"").toLowerCase();return t>0?n.includes("payroll")||n.includes("direct deposit")?"Income  Paycheck":n.includes("refund")||n.includes("rebate")?"Income  Refund":"Income  Other":n.includes("uber")||n.includes("lyft")||n.includes("taxi")?"Transport  Rideshare":n.includes("shell")||n.includes("chevron")||n.includes("exxon")||n.includes("gas")||n.includes("fuel")?"Transport  Gas":n.includes("walmart")||n.includes("costco")||n.includes("grocery")||n.includes("smith")||n.includes("kroger")?"Groceries":n.includes("starbucks")||n.includes("coffee")||n.includes("mcdonald")||n.includes("taco bell")||n.includes("restaurant")||n.includes("cafe")?"Food & Dining":n.includes("netflix")||n.includes("spotify")||n.includes("hulu")||n.includes("disney")||n.includes("subscription")||n.includes("prime")?"Subscriptions":n.includes("rent")||n.includes("landlord")||n.includes("mortgage")?"Housing  Rent/Mortgage":n.includes("power")||n.includes("electric")||n.includes("water")||n.includes("utility")||n.includes("utilities")?"Utilities":n.includes("gym")||n.includes("fitness")?"Health & Fitness":n.includes("insurance")||n.includes("geico")||n.includes("allstate")?"Insurance":n.includes("amazon")||n.includes("target")||n.includes("best buy")||n.includes("shop")?"Shopping":"Other"}const ho={date:["date","transaction date","posted date","posting date","trans date"],description:["description","details","memo","payee","transaction description","narrative"],debit:["debit","withdrawal","outflow","money out","charge","dr"],credit:["credit","deposit","inflow","money in","payment","credit amount","cr"],amount:["amount","amt","transaction amount","value","amount (usd)","amount (cad)"],type:["type","dr/cr","transaction type","debit/credit"]};function WD(i,t=","){return Ao(i,t).map(s=>s.trim()).map(s=>{let o=s.toLowerCase().replace(/"/g,"");return o=o.replace(/\s+/g," ").trim(),o})}function fo(i,t){return i.findIndex(n=>t.includes(n)||t.some(s=>n.includes(s)))}function X1(i){if(!i)return"";let t=String(i).trim().replace(/"/g,"");if(!t)return"";let n=t.match(/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/);if(n){const[,o,u,c]=n;return`${o}-${u.padStart(2,"0")}-${c.padStart(2,"0")}`}if(n=t.match(/^(\d{4})(\d{2})(\d{2})$/),n){const[,o,u,c]=n;return`${o}-${u}-${c}`}if(n=t.match(/^(\d{1,2})[\/.-](\d{1,2})[\/.-](\d{2,4})$/),n){let[,o,u,c]=n,m=c.length===2?Number(c)>=70?`19${c}`:`20${c}`:c;const p=Number(o),g=Number(u);let v,b;return p>12&&g<=12?(b=p,v=g):(v=p,b=g),`${m}-${String(v).padStart(2,"0")}-${String(b).padStart(2,"0")}`}if(n=t.match(/^(\d{1,2})\s+([A-Za-z]{3,})\s+(\d{2,4})$/),n){const[,o,u,c]=n,m=c.length===2?`20${c}`:c,g=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(u.toLowerCase().slice(0,3));if(g>=0){const v=String(g+1).padStart(2,"0"),b=String(o).padStart(2,"0");return`${m}-${v}-${b}`}}if(n=t.match(/^([A-Za-z]{3,})\s+(\d{1,2}),?\s+(\d{2,4})$/),n){const[,o,u,c]=n,m=c.length===2?`20${c}`:c,g=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(o.toLowerCase().slice(0,3));if(g>=0){const v=String(g+1).padStart(2,"0"),b=String(u).padStart(2,"0");return`${m}-${v}-${b}`}}const s=new Date(t);return Number.isNaN(s.getTime())?t:s.toISOString().slice(0,10)}function tO(i){const t=Dg(i),n=i.split(/\r?\n/).find(u=>u.trim().length>0)||"";if(!n)return[];const s=Ao(n,t).map(u=>u.trim().replace(/^"|"$/g,""));return s.some(u=>/[a-zA-Z]/.test(u))?s.map((u,c)=>u||`Column ${c+1}`):s.map((u,c)=>`Column ${c+1}`)}function eO(i){if(!i)return[];const t=i.replace(/^\uFEFF/,""),n=Dg(i),s=t.split(/\r\n|\n|\r/).filter(et=>et.trim()!=="");if(s.length===0)return[];let o=WD(s[0],n),u=1;function c(et){const Z=fo(et,ho.date),J=fo(et,ho.description),ut=fo(et,ho.amount),H=fo(et,ho.debit),it=fo(et,ho.credit),N=fo(et,ho.type);return{dateIndex:Z,descIndex:J,amountIndex:ut,debitIndex:H,creditIndex:it,typeIndex:N}}let{dateIndex:m,descIndex:p,amountIndex:g,debitIndex:v,creditIndex:b,typeIndex:A}=c(o);if(m<0&&p<0&&g<0&&v<0&&b<0){const et=Ao(s[0],n).map(J=>J.trim());o=et.map((J,ut)=>ut===0?"date":ut===1?"description":ut===2||ut===et.length-1?"amount":`col${ut+1}`),u=0,{dateIndex:m,descIndex:p,amountIndex:g,debitIndex:v,creditIndex:b,typeIndex:A}=c(o)}function j(){const et=Math.min(s.length,25),Z=[];for(let H=u;H<et;H++)Ao(s[H],n).forEach((N,S)=>{const C=ca(N);Number.isNaN(C)||(Z[S]=(Z[S]||0)+1)});let J=-1,ut=0;return Z.forEach((H,it)=>{H>ut&&(ut=H,J=it)}),ut>=2?J:-1}if(g<0&&v<0&&b<0){const et=j();et>=0&&(g=et)}function Q(et,Z){if(!Z||A<0)return et;const J=Z[A]?.toString().toLowerCase()||"";if(!J)return et;const ut=J.includes("debit")||J.includes("withdrawal")||J.includes("payment")||J.includes("dr")||J==="d",H=J.includes("credit")||J.includes("deposit")||J.includes("refund")||J.includes("cr")||J==="c";return ut?-Math.abs(et):H?Math.abs(et):et}const K=[];for(let et=u;et<s.length;et++){const Z=s[et],J=Ao(Z,n).map(C=>C.trim());if(J.length===0||J.every(C=>C===""))continue;const ut=m>=0?J[m]:"",H=X1(ut),it=p>=0?J[p]:"";let N=NaN;if(g>=0)N=ca(J[g]),N=Q(N,J);else if(v>=0||b>=0){const C=v>=0?ca(J[v]):0,M=b>=0?ca(J[b]):0,D=Number.isFinite(C)?C:0;N=(Number.isFinite(M)?M:0)-D}if(!H&&!it&&Number.isNaN(N)||typeof N!="number"||Number.isNaN(N))continue;const S=K1(it,N);K.push({date:H,description:it,amount:N,category:S})}return K}function nO(i,{dateIndex:t=null,descIndex:n=null,amountIndex:s=null}={}){if(!i)return[];const o=i.replace(/^\uFEFF/,""),u=Dg(i),c=o.split(/\r\n|\n|\r/).filter(p=>p.trim()!=="");if(c.length===0)return[];const m=[];for(let p=1;p<c.length;p++){const g=c[p],v=Ao(g,u).map(K=>K.trim());if(v.length===0||v.every(K=>K===""))continue;const b=t!=null&&t>=0?v[t]:"",A=X1(b),I=n!=null&&n>=0?v[n]:"";let j=NaN;if(s!=null&&s>=0)j=ca(v[s]);else if(debitIndex!=null||creditIndex!=null){const K=debitIndex!=null&&debitIndex>=0?ca(v[debitIndex]):0,et=creditIndex!=null&&creditIndex>=0?ca(v[creditIndex]):0,Z=Number.isFinite(K)?K:0;j=(Number.isFinite(et)?et:0)-Z}if(!A&&!I&&Number.isNaN(j)||typeof j!="number"||Number.isNaN(j))continue;const Q=K1(I,j);m.push({date:A,description:I,amount:j,category:Q})}return m}function iO(i){return new Promise((t,n)=>{const s=new FileReader;s.onload=o=>t(String(o.target?.result||"")),s.onerror=()=>n(new Error("Failed to read file")),s.readAsText(i)})}function ph(i){i.preventDefault(),i.stopPropagation()}function rO(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`f-${Date.now()}-${Math.random().toString(16).slice(2)}`}function sO(i){return(i?.name||"").toLowerCase().endsWith(".pdf")||i?.type==="application/pdf"?"pdf":"csv"}function aO(i){return{id:rO(),file:i,name:i?.name||"unknown",kind:sO(i),detectedBank:"",rawText:"",columns:[],mapping:{date:"",description:"",amount:""},previewRows:[],status:"pending",error:"",importedCount:0,createdAt:Date.now()}}function oO({onTransactionsParsed:i=()=>{}}){const[t,n]=ce.useState([]),[s,o]=ce.useState(null),[u,c]=ce.useState(!1),m=ce.useMemo(()=>t.find(H=>H.id===s)||null,[t,s]),p=t.filter(H=>H.status==="imported").length,g=t.filter(H=>H.status==="ready").length,v=t.filter(H=>H.status==="error").length;function b(H=[]){const it=Array.from(H||[]).filter(Boolean);if(!it.length)return;const N=it.map(aO);n(S=>{const C=new Set(S.map(D=>`${D.name}::${D.file?.size}::${D.file?.lastModified}`)),M=N.filter(D=>{const V=`${D.name}::${D.file?.size}::${D.file?.lastModified}`;return C.has(V)?!1:(C.add(V),!0)});return[...S,...M]}),o(S=>S||N[0].id)}async function A(H){n(N=>N.map(S=>S.id===H?{...S,status:"parsing",error:""}:S));const it=t.find(N=>N.id===H);if(it)try{if(it.kind==="pdf"){const{parsePdfTransactions:D}=await JD(async()=>{const{parsePdfTransactions:P}=await import("./pdf-Der6AnF-.js");return{parsePdfTransactions:P}},[]),{text:V,rows:R}=await D(it.file),vt=HE(V,it.name||""),X=Array.isArray(R)?R:[];n(P=>P.map(G=>G.id!==H?G:X.length?{...G,rawText:V||"",detectedBank:vt||"",previewRows:X,columns:[],status:"ready",error:""}:{...G,rawText:V||"",detectedBank:vt||"",previewRows:[],columns:[],status:"error",error:"We couldn't detect any transactions in that PDF. Try a different export or use CSV."}));return}const N=await iO(it.file),S=HE(N,it.name||""),C=eO(N),M=tO(N);n(D=>D.map(V=>V.id!==H?V:C.length?{...V,rawText:N,detectedBank:S||"",columns:M,previewRows:C,status:"ready",error:""}:{...V,rawText:N,detectedBank:S||"",columns:M,previewRows:[],status:"needsMapping",error:"We couldn't automatically detect the right columns. Use the mapping controls and click Re-parse."}))}catch(N){console.error("Parse error:",N),n(S=>S.map(C=>C.id===H?{...C,status:"error",error:C.kind==="pdf"?"We couldn't read this PDF. Try downloading it as a CSV or a different PDF format.":"We couldn't understand this CSV. Try a different export format."}:C))}}ce.useEffect(()=>{const H=t.find(N=>N.status==="pending");if(!H)return;const it=setTimeout(()=>A(H.id),0);return()=>clearTimeout(it)},[t]);function I(H,it){m&&n(N=>N.map(S=>S.id===m.id?{...S,mapping:{...S.mapping,[H]:it}}:S))}function j(){if(!m?.rawText)return;const H={dateIndex:m.mapping.date===""?null:Number.parseInt(m.mapping.date,10),descIndex:m.mapping.description===""?null:Number.parseInt(m.mapping.description,10),amountIndex:m.mapping.amount===""?null:Number.parseInt(m.mapping.amount,10)},it=nO(m.rawText,H);if(!it.length){n(N=>N.map(S=>S.id===m.id?{...S,previewRows:[],status:"needsMapping",error:"No rows were parsed with that mapping. Try different columns or reset to auto-detect."}:S));return}n(N=>N.map(S=>S.id===m.id?{...S,previewRows:it,status:"ready",error:""}:S))}function Q(H){n(it=>{const N=it.find(C=>C.id===H);if(!N||N.status!=="ready")return it;const S=it.map(C=>C.id===H?{...C,status:"importing"}:C);return queueMicrotask(()=>{try{const C={sourceText:N.rawText,detectedBank:N.detectedBank,fileName:N.name,kind:N.kind};i(N.previewRows,{rawText:N.rawText,bank:N.detectedBank||"",filename:N.name||"",kind:N.kind||"csv"}),n(M=>M.map(D=>D.id===H?{...D,status:"imported",importedCount:N.previewRows.length,error:""}:D))}catch(C){console.error("Import error:",C),n(M=>M.map(D=>D.id===H?{...D,status:"error",error:C?.message||"Import failed."}:D))}}),S})}async function K(){const H=t.filter(it=>it.status==="ready");for(const it of H)await new Promise(N=>setTimeout(N,0)),Q(it.id)}function et(H){if(n(it=>it.filter(N=>N.id!==H)),s===H){const it=t.filter(N=>N.id!==H);o(it[0]?.id||null)}}function Z(){n([]),o(null),c(!1)}const J=Math.min(10,m?.previewRows?.length||0),ut=(m?.previewRows||[]).reduce((H,it)=>H+(typeof it.amount=="number"?it.amount:0),0);return T.jsxs("div",{className:`space-y-2 text-xs rounded-xl border p-3 transition ${u?"border-cyan-400/70 bg-cyan-500/5":"border-slate-800 bg-slate-950/30"}`,onDragEnter:H=>{ph(H),c(!0)},onDragOver:H=>{ph(H),c(!0)},onDragLeave:H=>{ph(H),c(!1)},onDrop:H=>{ph(H),c(!1),b(H.dataTransfer?.files||[])},children:[T.jsxs("p",{className:"text-slate-400",children:["Upload"," ",T.jsx("span",{className:"text-cyan-300 font-semibold",children:".csv"})," or"," ",T.jsx("span",{className:"text-cyan-300 font-semibold",children:".pdf"})," bank statements. You can drop multiple files here. Click a file to preview/match columns before importing."]}),T.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[T.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md border border-cyan-400/70 text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 cursor-pointer transition",children:[T.jsx("span",{children:"Choose file(s)"}),T.jsx("input",{type:"file",accept:".csv,.pdf,text/csv,application/pdf,text/plain",multiple:!0,className:"hidden",onChange:H=>{b(H.target.files||[]),H.target.value=""}})]}),t.length>0&&T.jsxs(T.Fragment,{children:[T.jsxs("button",{type:"button",onClick:K,disabled:g===0,className:"px-3 py-1.5 rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:["Import all ready (",g,")"]}),T.jsx("button",{type:"button",onClick:Z,className:"px-3 py-1.5 rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Clear"}),T.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["Imported"," ",T.jsx("span",{className:"text-slate-200 font-mono",children:p}),"/",T.jsx("span",{className:"text-slate-200 font-mono",children:t.length}),v?T.jsxs("span",{className:"ml-2 text-rose-400",children:["(",v," error",v===1?"":"s",")"]}):null]})]})]}),t.length>0&&T.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:t.slice().sort((H,it)=>H.createdAt-it.createdAt).map(H=>{const it=H.id===s,N=H.status==="imported"?"text-emerald-300":H.status==="ready"?"text-cyan-300":H.status==="error"?"text-rose-400":H.status==="needsMapping"?"text-amber-300":"text-slate-400";return T.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-md border text-[0.7rem] whitespace-nowrap ${it?"border-cyan-400/70 bg-cyan-500/10 text-cyan-200":"border-slate-700 text-slate-300 hover:border-slate-500"}`,children:[T.jsxs("button",{type:"button",onClick:()=>o(H.id),children:[H.name,T.jsxs("span",{className:`ml-2 ${N}`,children:[" ",H.status]})]}),T.jsx("button",{type:"button",className:"ml-1 text-slate-500 hover:text-slate-200",title:"Remove",onClick:()=>et(H.id),children:""})]},H.id)})}),m&&T.jsxs("div",{className:"mt-1 space-y-2",children:[T.jsxs("div",{className:"rounded-md border border-slate-800 bg-black/20 p-2 text-[0.7rem] text-slate-400",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-slate-200 font-semibold",children:m.name})," ",T.jsxs("span",{className:"text-slate-500",children:["(",m.kind.toUpperCase(),")"]})]}),T.jsxs("div",{className:"text-slate-500",children:["Rows:"," ",T.jsx("span",{className:"text-slate-200 font-mono",children:m.previewRows?.length||0}),m.detectedBank?T.jsxs(T.Fragment,{children:[" "," Bank:"," ",T.jsx("span",{className:"text-cyan-300 font-semibold",children:m.detectedBank})]}):null]})]}),m.error?T.jsx("div",{className:"mt-1 text-rose-400",children:m.error}):null]}),m.kind==="csv"&&m.rawText&&m.columns.length>0&&T.jsxs("div",{className:"border border-slate-700 rounded-md p-2 space-y-2",children:[T.jsx("p",{className:"text-[0.7rem] text-slate-400",children:"If dates/amounts look wrong, override the mapping:"}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:["date","description","amount"].map(H=>T.jsxs("label",{className:"flex flex-col gap-1 text-[0.7rem]",children:[T.jsx("span",{className:"uppercase tracking-[0.16em] text-slate-500",children:H}),T.jsxs("select",{className:"bg-[#05060F] border border-slate-700 rounded px-2 py-1 text-slate-200",value:m.mapping?.[H]??"",onChange:it=>I(H,it.target.value),children:[T.jsx("option",{value:"",children:"Auto detect"}),m.columns.map((it,N)=>T.jsxs("option",{value:N,children:[it," (column ",N+1,")"]},N))]})]},H))}),T.jsx("button",{type:"button",onClick:j,className:"mt-1 px-3 py-1.5 text-[0.7rem] rounded-md border border-cyan-400/70 text-cyan-100 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"Re-parse with mapping"}),m.status==="needsMapping"?T.jsx("p",{className:"text-[0.7rem] text-amber-300",children:"This file needs mapping before it can be imported."}):null]}),m.previewRows?.length>0&&T.jsxs("div",{className:"border border-slate-700 rounded-md p-2 space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-between text-[0.7rem] text-slate-400",children:[T.jsxs("span",{children:["Previewing ",J," of ",m.previewRows.length," rows"]}),T.jsxs("span",{children:["Net amount:"," ",T.jsxs("span",{className:ut<0?"text-rose-300":"text-emerald-300",children:[ut<0?"-":"","$",Math.abs(ut).toFixed(2)]})]})]}),T.jsx("div",{className:"max-h-40 overflow-auto text-[0.7rem]",children:T.jsxs("table",{className:"w-full text-left border-collapse",children:[T.jsx("thead",{className:"sticky top-0 bg-[#05060F]",children:T.jsxs("tr",{className:"border-b border-slate-700",children:[T.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Date"}),T.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Description"}),T.jsx("th",{className:"py-1 text-right font-semibold text-slate-300",children:"Amount"})]})}),T.jsx("tbody",{children:m.previewRows.slice(0,J).map((H,it)=>T.jsxs("tr",{className:"border-b border-slate-800/60",children:[T.jsx("td",{className:"py-1 pr-2 text-slate-200",children:H.date}),T.jsx("td",{className:"py-1 pr-2 text-slate-300",children:H.description}),T.jsxs("td",{className:`py-1 text-right ${H.amount<0?"text-rose-300":"text-emerald-300"}`,children:[H.amount<0?"-":"","$",Math.abs(H.amount).toFixed(2)]})]},it))})]})}),T.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[T.jsx("button",{type:"button",onClick:()=>Q(m.id),disabled:m.status!=="ready",className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:"Import this file"}),T.jsx("button",{type:"button",onClick:()=>A(m.id),className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Re-parse"})]})]}),m.previewRows?.length===0&&m.status==="ready"?T.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"No rows to preview. If this seems wrong, try re-parsing or mapping."}):null]}),T.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"Tip: Most banks let you export recent transactions as CSV from their website."})]})}function gh({label:i,value:t,accent:n}){return T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.22em] text-slate-500",children:i}),T.jsxs("span",{className:`text-base font-semibold ${n}`,children:["$",t.toFixed(2)]})]})}const lO=["monthOverview","accountSnapshot","goals","csvImport"];function uO({month:i="",income:t=0,fixed:n=0,variable:s=0,leftover:o=0,goals:u=[],transactions:c=[],accounts:m=[],currentAccountId:p,onChangeCurrentAccount:g=()=>{},onOpenGoal:v=()=>{},onCreateGoal:b=()=>{},onCsvImported:A=()=>{},onTransactionsParsed:I,currentAccountBalance:j=0,totalBalance:Q=0,sectionsOrder:K}){const et=A||I||(()=>{}),Z=Number(t)||0,J=Number(n)||0,ut=Number(s)||0,H=Number(o)||0,it=Z>0?(Z-H)/Z*100:0,N=K&&K.length?K:lO,S=Array.isArray(c)&&c.length>0,[C,M]=ce.useState(!1);return ce.useEffect(()=>{M(!1)},[c]),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:i}),T.jsx("span",{className:"text-xs text-slate-400",children:"Overview of this month's money flow"})]}),N.map(D=>{switch(D){case"monthOverview":return T.jsxs(ci,{title:"MONTH OVERVIEW",children:[T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[T.jsx(gh,{label:"Income",value:Z,accent:"text-emerald-300"}),T.jsx(gh,{label:"Fixed",value:J,accent:"text-rose-300"}),T.jsx(gh,{label:"Variable",value:ut,accent:"text-amber-300"}),T.jsx(gh,{label:"Leftover",value:H,accent:"text-cyan-300"})]}),T.jsxs("div",{className:"mt-4",children:[T.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Allocation this month"}),T.jsx(Ig,{value:it})]})]},"monthOverview");case"accountSnapshot":return T.jsxs(ci,{title:"ACCOUNT SNAPSHOT",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Current account"}),T.jsx("select",{className:"mt-1 bg-[#05060F] border border-slate-700 rounded-md px-2 py-1 text-[0.75rem] text-slate-100",value:p,onChange:V=>g(V.target.value),children:(m||[]).map(V=>T.jsx("option",{value:V.id,children:V.name},V.id))})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Balance"}),T.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",j.toFixed(2)]}),T.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["of $",Q.toFixed(2)," total"]})]})]}),T.jsx("hr",{className:"my-3 border-slate-800"}),T.jsxs("div",{children:[T.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.2em] text-slate-500",children:"All accounts"}),T.jsxs("div",{className:"mt-1 text-xl font-semibold text-emerald-300",children:["$",Q.toFixed(2)]}),T.jsx("p",{className:"mt-1 text-[0.7rem] text-slate-500",children:"Total estimated cash across all linked accounts."})]})]},"accountSnapshot");case"goals":return T.jsxs("div",{className:"space-y-3",children:[T.jsx("h2",{className:"text-xs tracking-[0.25em] text-slate-400 uppercase",children:"Goals"}),T.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:u.map(V=>T.jsx(KD,{goal:V,onClick:()=>v(V.id)},V.id))}),T.jsx("button",{type:"button",onClick:b,className:"mt-1 px-4 py-2 rounded-lg border border-cyan-400/70 text-xs text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"+ Add Goal"})]},"goals");case"csvImport":return T.jsxs(ci,{title:"BANK STATEMENT IMPORT (CSV)",children:[T.jsx(oO,{onTransactionsParsed:(V,R)=>{M(!1),et(V,R)}}),S&&T.jsxs("div",{className:"mt-4 space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h3",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Current account transactions"}),T.jsx("button",{type:"button",className:"text-[0.7rem] px-2 py-1 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 transition",onClick:()=>M(V=>!V),children:C?"Hide":"Show"})]}),C&&T.jsx("div",{className:"max-h-64 overflow-auto border border-slate-800 rounded-lg",children:T.jsxs("table",{className:"w-full text-xs text-left",children:[T.jsx("thead",{className:"bg-slate-900 text-slate-300",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-2 py-1",children:"Date"}),T.jsx("th",{className:"px-2 py-1",children:"Description"}),T.jsx("th",{className:"px-2 py-1",children:"Category"}),T.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-800",children:c.map((V,R)=>T.jsxs("tr",{className:"hover:bg-slate-900/70",children:[T.jsx("td",{className:"px-2 py-1 text-slate-300",children:V.date||"-"}),T.jsx("td",{className:"px-2 py-1 text-slate-200",children:V.description||"-"}),T.jsx("td",{className:"px-2 py-1 text-slate-300",children:V.category||"Other"}),T.jsx("td",{className:`px-2 py-1 text-right ${typeof V.amount=="number"&&V.amount<0?"text-rose-300":"text-emerald-300"}`,children:typeof V.amount!="number"||Number.isNaN(V.amount)?"-":`$${V.amount.toFixed(2)}`})]},R))})]})})]})]},"csvImport");default:return null}})]})}function FE(i){return i.reduce((t,n)=>t+n.amount,0)}function Z1(i){return(Array.isArray(i?.transactions)?i.transactions:[]).reduce((n,s)=>n+(typeof s.amount=="number"?s.amount:0),0)}function cs(i){return(i||[]).map(t=>({...t,startingBalance:typeof t.startingBalance=="number"?t.startingBalance:0,transactions:Array.isArray(t.transactions)?t.transactions:[]}))}function GE(i){if(!i)return 0;const t=typeof i.startingBalance=="number"?i.startingBalance:0,n=Z1(i);return t+n}function J1(i,t){const n=u=>`${(u.date||"").trim()}|${(u.description||"").trim().toLowerCase()}|${isNaN(u.amount)?"NaN":u.amount}`,s=new Set(i.map(u=>n(u))),o=[...i];for(const u of t){const c=n(u);s.has(c)||(o.push(u),s.add(c))}return o}function $E(i=[]){const t=new Set;return(i||[]).forEach(n=>{const s=(n.description||"").trim().toLowerCase();s&&t.add(s)}),t}function cO(i=[]){if(!i.length)return"checking";let t=0,n=0;for(const o of i)typeof o.amount=="number"&&(o.amount<0?t++:o.amount>0&&n++);return t===0&&n===0?"checking":t/(t+n)>=.7?"credit":"checking"}function hO(i=[],t=""){const n=xp(t);if(n)for(const m of Sp){const p=(m.key||m.match||"").toLowerCase();if(p&&n.includes(p))return`${m.label} Account`}if(i.length){const m=i.slice(0,20).map(g=>g.description||"").join(" "),p=xp(m);if(p)for(const g of Sp){const v=(g.key||g.match||"").toLowerCase();if(v&&p.includes(v))return`${g.label} Account`}}if(!i.length)return"Imported Account";const s=(i[0].description||"").trim();if(!s)return"Imported Account";const o=s.split(/\s+/).filter(m=>m.length>3);if(!o.length)return"Imported Account";const c=o[0].replace(/[^a-z0-9]/gi," ").trim();return c?c.charAt(0).toUpperCase()+c.slice(1)+" Account":"Imported Account"}function fO(i=[],t,n=[]){const s=(i||[]).filter(p=>Array.isArray(p.transactions)&&p.transactions.length>0);if(!s.length)return null;const o=$E(n);if(!o.size)return t;let u=null,c=0;for(const p of s){const g=$E(p.transactions);if(!g.size)continue;let v=0;for(const b of o)g.has(b)&&v++;v>c&&(c=v,u=p.id)}const m=o.size>0?c/o.size:0;return u&&(c>=3||m>=.2)?u:null}function dO(i=[],t,n=[],s=""){const o=fO(i,t,n);if(o){const g=(i||[]).map(b=>b.id===o?{...b,transactions:J1(b.transactions||[],n)}:b),v=(i||[]).find(b=>b.id===o);return{targetAccountId:o,targetAccountName:v?.name||"Account",accounts:g,createdNew:!1}}const u=cO(n),c=hO(n,s),m=c.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")+"-"+Date.now(),p={id:m,name:c,type:u,startingBalance:0,transactions:n};return{targetAccountId:m,targetAccountName:c,accounts:[...i||[],p],createdNew:!0}}function mO({accounts:i=[],currentAccountId:t,onChangeCurrentAccount:n=()=>{},onCreateAccount:s=()=>{},onDeleteAccount:o=()=>{},onSetAccountBalance:u=()=>{},onRenameAccount:c=()=>{}}){const m=Array.isArray(i)&&i.length>0,[p,g]=At.useState([]),v=b=>{g(A=>A.includes(b)?A.filter(I=>I!==b):[...A,b])};return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("header",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:"Accounts"}),T.jsx("button",{type:"button",onClick:s,className:"px-2 py-1 rounded-md bg-emerald-500 hover:bg-emerald-400 text-xs font-medium text-slate-900",children:"+ New account"})]}),T.jsxs(ci,{title:"ALL ACCOUNTS",children:[!m&&T.jsx("p",{className:"text-xs text-slate-400",children:"No accounts yet. Create one to start tracking balances."}),m&&T.jsx("div",{className:"space-y-2",children:i.map(b=>{const A=Array.isArray(b.transactions)?b.transactions.length:0,I=Z1(b),j=(typeof b.startingBalance=="number"?b.startingBalance:0)+I,Q=Array.isArray(b.transactions)?b.transactions.slice().filter(Z=>Z&&typeof Z=="object").sort((Z,J)=>{const ut=Date.parse(Z.date),H=Date.parse(J.date),it=Number.isFinite(ut),N=Number.isFinite(H);return!it&&!N?0:it?N?H-ut:-1:1}):[],K=Q.length>0,et=p.includes(b.id);return T.jsxs("div",{className:`space-y-2 rounded-md px-3 py-2 text-xs ${b.id===t?"bg-slate-800/70 border border-cyan-400/50":"bg-slate-900/60 border border-slate-700/70"}`,children:[T.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("input",{className:"bg-transparent text-slate-100 font-medium text-xs w-full focus:outline-none",value:b.name,onChange:Z=>c(b.id,Z.target.value)}),T.jsxs("p",{className:"text-[11px] text-slate-400",children:["Type: ",b.type||"checking"]}),T.jsxs("p",{className:"text-[11px] text-slate-400",children:["Transactions:"," ",T.jsx("span",{className:"text-slate-200",children:A}),"  Net:"," ",T.jsxs("span",{className:j>=0?"text-emerald-300":"text-rose-300",children:["$",j.toFixed(2)]})]})]}),T.jsxs("div",{className:"flex flex-col items-end",children:[T.jsx("label",{className:"text-[11px] text-slate-400",children:"Starting balance"}),T.jsx("input",{type:"number",className:"w-24 bg-slate-900/80 border border-slate-700 rounded px-1 py-0.5 text-right text-xs font-mono text-slate-100 focus:outline-none focus:ring-1 focus:ring-cyan-400",value:b.startingBalance??0,onChange:Z=>u(b.id,parseFloat(Z.target.value||"0"))})]}),T.jsxs("div",{className:"flex flex-col items-end gap-1",children:[T.jsx("button",{type:"button",onClick:()=>{n(b.id),v(b.id)},className:"px-2 py-0.5 rounded text-[11px] border border-slate-500 hover:border-cyan-400",children:et?"Hide":"View"}),T.jsx("button",{type:"button",onClick:()=>o(b.id),className:"px-2 py-0.5 rounded text-[11px] text-red-300 hover:bg-red-500/10",children:"Delete"})]})]}),T.jsxs("div",{className:"border-t border-slate-800/70 pt-2",children:[!K&&T.jsx("p",{className:"mt-1 text-[0.65rem] text-slate-500",children:"No transactions imported yet."}),et&&K&&T.jsx("div",{className:"mt-2 max-h-72 overflow-auto rounded-md border border-slate-800/50",children:T.jsxs("table",{className:"w-full text-[0.7rem] text-left",children:[T.jsx("thead",{className:"bg-slate-900 text-slate-300 sticky top-0",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-2 py-1",children:"Date"}),T.jsx("th",{className:"px-2 py-1",children:"Description"}),T.jsx("th",{className:"px-2 py-1",children:"Category"}),T.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-800/70",children:Q.map((Z,J)=>{const ut=Number(Z.amount),H=Number.isFinite(ut)?`$${ut.toFixed(2)}`:"-";return T.jsxs("tr",{children:[T.jsx("td",{className:"px-2 py-1 text-slate-300",children:Z.date||"-"}),T.jsx("td",{className:"px-2 py-1 text-slate-200",children:Z.description||"Transaction"}),T.jsx("td",{className:"px-2 py-1 text-slate-400",children:Z.category||"Other"}),T.jsx("td",{className:`px-2 py-1 text-right ${ut<0?"text-rose-300":"text-emerald-300"}`,children:H})]},Z.id||`${b.id}-full-${J}`)})})]})})]})]},b.id)})})]})]})}function pO({month:i,budget:t,totals:n={},onBudgetChange:s}){n?.fixedTotal,n?.variableTotal,n?.leftover;const o=Number(t?.income??0),u=Array.isArray(t?.fixed)?t.fixed:[],c=Array.isArray(t?.variable)?t.variable:[];function m(){const v=window.prompt("Monthly income amount:",o.toString());if(v===null)return;const b=Number(v);if(!Number.isFinite(b)){window.alert("Enter a valid number for income.");return}s({...t,income:b})}function p(v){const b=window.prompt(`New ${v} item name:`);if(!b)return;const A=window.prompt(`Amount for "${b}" (numbers only):`),I=Number(A);if(!Number.isFinite(I)){window.alert("That didn't look like a valid number.");return}const j={id:`budget-${v}-${Date.now()}`,label:b,amount:I},K=[...v==="fixed"?u:c,j],et={...t,[v]:K};s(et)}function g(v,b){if(!window.confirm("Delete this item?"))return;const I=(v==="fixed"?u:c).filter((Q,K)=>K!==b),j={...t,[v]:I};s(j)}return T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("h1",{className:"text-lg font-semibold text-slate-100",children:[i," Budget"]}),T.jsx("span",{className:"text-xs text-slate-400",children:"Income  Expenses  Goals"})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[T.jsxs(ci,{title:"INCOME",children:[T.jsxs("div",{className:"text-3xl font-semibold text-emerald-300",children:["$",o.toFixed(2)]}),T.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Total take-home income for the active month."}),T.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-emerald-400/70 text-emerald-200 bg-emerald-500/10 hover:bg-emerald-500/20 transition",onClick:m,children:"Edit Income"})]}),T.jsxs(ci,{title:"FIXED EXPENSES",children:[T.jsx(QE,{items:u,total:n.fixedTotal,onDelete:v=>g("fixed",v)}),T.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-rose-400/70 text-rose-200 bg-rose-500/10 hover:bg-rose-500/20 transition",onClick:()=>p("fixed"),children:"+ Add Fixed Expense"})]}),T.jsxs(ci,{title:"VARIABLE SPENDING",children:[T.jsx(QE,{items:c,total:n.variableTotal,onDelete:v=>g("variable",v)}),T.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-amber-400/70 text-amber-200 bg-amber-500/10 hover:bg-amber-500/20 transition",onClick:()=>p("variable"),children:"+ Add Variable Expense"})]}),T.jsxs(ci,{title:"REMAINING FOR GOALS",children:[T.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",n.leftover.toFixed(2)]}),T.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"This is what's left after income minus all listed expenses."})]})]})]})}function QE({items:i=[],total:t=0,onDelete:n}){return T.jsxs("div",{className:"space-y-2 text-sm",children:[i.length===0&&T.jsx("p",{className:"text-xs text-slate-500",children:"No items yet."}),i.map((s,o)=>{const u=Number(s?.amount??0),c=s?.label||s?.name||`Item ${o+1}`;return T.jsxs("div",{className:"flex items-center justify-between text-slate-200 gap-2",children:[T.jsxs("div",{className:"flex-1 flex justify-between",children:[T.jsx("span",{children:c}),T.jsxs("span",{className:"text-slate-300",children:["$",u.toFixed(2)]})]}),n&&T.jsx("button",{className:"text-[0.65rem] text-slate-500 hover:text-rose-400",onClick:()=>n(o),children:""})]},(s?.id||c)+o)}),T.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-700 flex items-center justify-between text-xs",children:[T.jsx("span",{className:"uppercase tracking-[0.18em] text-slate-500",children:"Total"}),T.jsxs("span",{className:"text-slate-100",children:["$",t.toFixed(2)]})]})]})}const gO=[{value:"auto",label:"Auto (detect)"},{value:"income",label:"Income"},{value:"expense",label:"Expense"},{value:"transfer",label:"Transfer"},{value:"ignore",label:"Ignore"}],yO={income:"Income",expense:"Expense",transfer:"Transfer",ignore:"Ignored",unknown:"Unknown"};function _O(i){const{transactions:t=[],accountName:n="",onUpdateTransaction:s=()=>{},onDeleteTransaction:o=()=>{},typeHints:u=[],filter:c,onFilterChange:m,filterText:p,onChangeFilterText:g}=i,v=(p??c??"").toString(),b=g??m??(()=>{}),A=Array.isArray(t)&&t.length>0,[I,j]=At.useState({query:"",minAmount:"",maxAmount:""}),[Q,K]=At.useState("date"),[et,Z]=At.useState("desc");At.useEffect(()=>{const S=(v||"").trim();S&&j(C=>({...C,query:S}))},[v]);const J=S=>C=>{const M=C.target.value;j(D=>({...D,[S]:M})),S==="query"&&b(M)},ut=()=>{j({query:"",minAmount:"",maxAmount:""}),b("")},H=I.query||I.minAmount||I.maxAmount,it=()=>{Z(S=>S==="asc"?"desc":"asc")},N=At.useMemo(()=>A?[...t.map((D,V)=>({tx:D,index:V})).filter(({tx:D})=>{const V=I.query.trim().toLowerCase(),R=Number(D.amount);if(V&&![D.description||"",D.category||""].join(" ").toLowerCase().includes(V))return!1;if(I.minAmount!==""){const vt=Number(I.minAmount);if(!Number.isNaN(vt)&&!Number.isNaN(R)&&R<vt)return!1}if(I.maxAmount!==""){const vt=Number(I.maxAmount);if(!Number.isNaN(vt)&&!Number.isNaN(R)&&R>vt)return!1}return!0})].sort((D,V)=>{const R=D.tx,vt=V.tx,X=et==="asc"?1:-1;if(Q==="amount"){const rt=Number(R.amount)||0,at=Number(vt.amount)||0;return(rt-at)*X}if(Q==="description"||Q==="category"){const rt=(R[Q]||"").toLowerCase(),at=(vt[Q]||"").toLowerCase();return rt.localeCompare(at)*X}const P=Date.parse(R.date)||0,G=Date.parse(vt.date)||0;return(P-G)*X}):[],[t,I,Q,et,A]);return T.jsxs("div",{className:"space-y-4 w-full",children:[T.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:"Transactions"}),T.jsx("span",{className:"text-xs text-slate-400",children:"Imported from your bank CSV files"}),T.jsxs("p",{className:"text-[0.65rem] text-slate-500",children:["Currently viewing:"," ",T.jsx("span",{className:"font-semibold text-cyan-200",children:n||"None"})]}),!!v.trim()&&T.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-lg border border-cyan-500/40 bg-cyan-500/10 px-2 py-1 text-[0.65rem] text-cyan-200",children:[T.jsx("span",{className:"font-mono",children:"Report filter:"}),T.jsx("span",{className:"text-slate-100",children:v}),T.jsx("button",{type:"button",onClick:ut,className:"ml-1 rounded border border-cyan-500/40 px-2 py-[2px] text-[0.65rem] hover:bg-cyan-500/10",children:"Clear"})]})]}),A&&T.jsxs("span",{className:"text-[0.65rem] text-slate-500",children:["Showing ",N.length," of ",t.length]})]}),T.jsxs(ci,{title:"ALL TRANSACTIONS",children:[!A&&T.jsx("p",{className:"text-xs text-slate-400",children:"No transactions yet. Import a CSV on the Dashboard to see them here."}),A&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"mb-3 flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[T.jsxs("div",{className:"flex flex-col gap-1 w-full md:w-auto",children:[T.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Search"}),T.jsx("input",{type:"text",value:I.query,onChange:J("query"),placeholder:"Search description or category...",className:"h-8 w-full md:w-64 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]}),T.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-end md:justify-end",children:[T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Min"}),T.jsx("input",{type:"number",value:I.minAmount,onChange:J("minAmount"),className:"h-8 w-24 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]}),T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Max"}),T.jsx("input",{type:"number",value:I.maxAmount,onChange:J("maxAmount"),className:"h-8 w-24 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]})]}),T.jsx("button",{type:"button",onClick:ut,disabled:!H,className:"h-8 px-3 rounded-md border text-[0.7rem] font-medium transition border-slate-600 text-slate-200 hover:border-cyan-400 hover:text-cyan-200 disabled:opacity-40 disabled:cursor-not-allowed",children:"Clear filters"})]})]}),T.jsx("div",{className:"mb-3 flex flex-col sm:flex-row sm:items-center sm:justify-end gap-2 text-[0.7rem]",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"uppercase tracking-[0.18em] text-slate-500",children:"Sort by"}),T.jsxs("select",{value:Q,onChange:S=>K(S.target.value),className:"h-8 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500",children:[T.jsx("option",{value:"date",children:"Date"}),T.jsx("option",{value:"amount",children:"Amount"}),T.jsx("option",{value:"description",children:"Description"}),T.jsx("option",{value:"category",children:"Category"})]}),T.jsx("button",{type:"button",onClick:it,className:"h-8 px-3 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 hover:text-cyan-200 transition",children:et==="asc"?"Asc ":"Desc "})]})})]}),A&&N.length===0&&T.jsx("p",{className:"text-xs text-slate-400",children:"No transactions match your current filters."}),A&&N.length>0&&T.jsx("div",{className:"hScroll",children:T.jsx("div",{className:"min-w-[640px] max-h-[65vh] overflow-y-auto border border-slate-800 rounded-lg",children:T.jsxs("table",{className:"w-full text-[0.7rem] sm:text-xs text-left",children:[T.jsx("thead",{className:"bg-slate-900 text-slate-300 sticky top-0",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-2 py-1",children:"Date"}),T.jsx("th",{className:"px-2 py-1",children:"Description"}),T.jsx("th",{className:"px-2 py-1 hidden sm:table-cell",children:"Category"}),T.jsx("th",{className:"px-2 py-1 hidden sm:table-cell",children:"Type"}),T.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"}),T.jsx("th",{className:"px-2 py-1 text-right",children:"Actions"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-800",children:N.map(({tx:S,index:C})=>T.jsxs("tr",{className:"hover:bg-slate-900/70",children:[T.jsx("td",{className:"px-2 py-1 text-slate-300 whitespace-nowrap",children:S.date||"-"}),T.jsxs("td",{className:"px-2 py-1 text-slate-200",children:[T.jsx("input",{className:"w-full bg-transparent border-b border-slate-700 focus:outline-none focus:border-cyan-400 text-[0.7rem] sm:text-xs",value:S.description||"",onChange:M=>s(C,{description:M.target.value})}),T.jsx("div",{className:"sm:hidden mt-1 text-[0.65rem] text-slate-500",children:(S.category||"").trim()?S.category:"Uncategorized"})]}),T.jsx("td",{className:"px-2 py-1 text-slate-300 hidden sm:table-cell",children:T.jsx("input",{className:"w-full bg-transparent border-b border-slate-700 focus:outline-none focus:border-cyan-400 text-[0.7rem] sm:text-xs",value:S.category||"",onChange:M=>s(C,{category:M.target.value})})}),T.jsx("td",{className:"px-2 py-1 text-slate-300 hidden sm:table-cell",children:T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("select",{className:"w-full bg-slate-900/40 rounded-md border border-slate-700 px-2 py-1 text-[0.65rem] focus:outline-none focus:border-cyan-400",value:S.flowType||"auto",onChange:M=>{const D=M.target.value;s(C,{flowType:D==="auto"?void 0:D})},children:gO.map(M=>T.jsx("option",{value:M.value,children:M.label},M.value))}),T.jsxs("span",{className:"text-[0.6rem] text-slate-500",children:["Detected:"," ",yO[u[C]]||"Unknown"]})]})}),T.jsx("td",{className:`px-2 py-1 text-right whitespace-nowrap ${S.amount<0?"text-rose-300":"text-emerald-300"}`,children:Number.isFinite(Number(S.amount))?`$${Number(S.amount).toFixed(2)}`:"-"}),T.jsx("td",{className:"px-2 py-1 text-right",children:T.jsx("button",{className:"text-[0.7rem] px-2 py-1 rounded-md border border-rose-500/60 text-rose-300 hover:bg-rose-400/10",onClick:()=>{window.confirm("Delete this transaction from this account?")&&o(C)},children:"Delete"})})]},C))})]})})})]})]})}function vO({onEdit:i,onDelete:t,onDuplicate:n,onExport:s}){const[o,u]=At.useState(!1);function c(){u(!1),t?.()}return T.jsxs("div",{className:"relative",children:[T.jsx("button",{type:"button",className:"rounded-full border border-slate-600/70 px-3 py-1 text-xs text-slate-300 hover:border-cyan-400/60",onClick:()=>u(m=>!m),children:"Manage goal "}),T.jsxs("div",{className:`absolute right-0 mt-2 w-40 rounded-xl border border-slate-700/70 bg-[#05060F] text-xs shadow-lg transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,children:[T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),i?.()},children:"Edit goal"}),T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),n?.()},children:"Duplicate goal"}),T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),s?.()},children:"Export progress"}),T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-rose-300 hover:bg-slate-800/70",onClick:()=>{window.confirm("Delete this goal?")&&c()},children:"Delete goal"})]})]})}function EO({goal:i,onEditGoal:t=()=>{},onDeleteGoal:n=()=>{},onDuplicateGoal:s=()=>{},onExportGoal:o=()=>{},onAddContributionRequest:u=()=>{}}){const c=Number(i?.saved??i?.current??0),m=Number(i?.target??0),p=Number(i?.monthlyPlan??0),g=i?.icon||i?.emoji||"",v=i?.name||"Untitled Goal",b=m>0?Math.min(100,c/m*100):0;return T.jsxs("div",{className:"space-y-5",children:[T.jsxs("header",{className:"flex items-center justify-between gap-3",children:[T.jsx("div",{className:"space-y-1",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-2xl",children:g}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:v}),T.jsx("p",{className:"text-xs text-slate-400",children:"Personalized goal view  future: themed backgrounds & animations."})]})]})}),T.jsx(vO,{onEdit:()=>t(i?.id),onDelete:()=>{i?.id&&n(i.id)},onDuplicate:()=>s(i?.id),onExport:()=>o(i?.id)})]}),T.jsx(ci,{title:"PROGRESS",children:T.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[T.jsxs("span",{className:"text-slate-200",children:["$",c.toFixed(2)," / $",m.toFixed(2)]}),T.jsx(Ig,{value:b}),T.jsxs("span",{className:"text-xs text-slate-400",children:[b.toFixed(1),"% complete"]})]})}),T.jsxs(ci,{title:"PLAN",children:[T.jsxs("p",{className:"text-sm text-slate-200",children:["Recommended monthly contribution:",T.jsxs("span",{className:"ml-1 text-cyan-300 font-semibold",children:["$",p.toFixed(2)]})]}),T.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Later we'll calculate this based on your income, expenses and due date."}),T.jsx("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:T.jsx("button",{className:"px-3 py-1.5 text-xs rounded-md border border-pink-400/70 text-pink-200 bg-pink-500/10 hover:bg-pink-500/20 transition",onClick:()=>u(i?.id),children:"Add Contribution"})})]})]})}var bO={value:()=>{}};function W1(){for(var i=0,t=arguments.length,n={},s;i<t;++i){if(!(s=arguments[i]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Dh(n)}function Dh(i){this._=i}function TO(i,t){return i.trim().split(/^|\s+/).map(function(n){var s="",o=n.indexOf(".");if(o>=0&&(s=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Dh.prototype=W1.prototype={constructor:Dh,on:function(i,t){var n=this._,s=TO(i+"",n),o,u=-1,c=s.length;if(arguments.length<2){for(;++u<c;)if((o=(i=s[u]).type)&&(o=wO(n[o],i.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<c;)if(o=(i=s[u]).type)n[o]=YE(n[o],i.name,t);else if(t==null)for(o in n)n[o]=YE(n[o],i.name,null);return this},copy:function(){var i={},t=this._;for(var n in t)i[n]=t[n].slice();return new Dh(i)},call:function(i,t){if((o=arguments.length-2)>0)for(var n=new Array(o),s=0,o,u;s<o;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(u=this._[i],s=0,o=u.length;s<o;++s)u[s].value.apply(t,n)},apply:function(i,t,n){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var s=this._[i],o=0,u=s.length;o<u;++o)s[o].value.apply(t,n)}};function wO(i,t){for(var n=0,s=i.length,o;n<s;++n)if((o=i[n]).name===t)return o.value}function YE(i,t,n){for(var s=0,o=i.length;s<o;++s)if(i[s].name===t){i[s]=bO,i=i.slice(0,s).concat(i.slice(s+1));break}return n!=null&&i.push({name:t,value:n}),i}var Np="http://www.w3.org/1999/xhtml";const KE={svg:"http://www.w3.org/2000/svg",xhtml:Np,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cf(i){var t=i+="",n=t.indexOf(":");return n>=0&&(t=i.slice(0,n))!=="xmlns"&&(i=i.slice(n+1)),KE.hasOwnProperty(t)?{space:KE[t],local:i}:i}function AO(i){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Np&&t.documentElement.namespaceURI===Np?t.createElement(i):t.createElementNS(n,i)}}function SO(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function tw(i){var t=Cf(i);return(t.local?SO:AO)(t)}function xO(){}function Og(i){return i==null?xO:function(){return this.querySelector(i)}}function NO(i){typeof i!="function"&&(i=Og(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],c=u.length,m=s[o]=new Array(c),p,g,v=0;v<c;++v)(p=u[v])&&(g=i.call(p,p.__data__,v,u))&&("__data__"in p&&(g.__data__=p.__data__),m[v]=g);return new On(s,this._parents)}function RO(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function CO(){return[]}function ew(i){return i==null?CO:function(){return this.querySelectorAll(i)}}function IO(i){return function(){return RO(i.apply(this,arguments))}}function DO(i){typeof i=="function"?i=IO(i):i=ew(i);for(var t=this._groups,n=t.length,s=[],o=[],u=0;u<n;++u)for(var c=t[u],m=c.length,p,g=0;g<m;++g)(p=c[g])&&(s.push(i.call(p,p.__data__,g,c)),o.push(p));return new On(s,o)}function nw(i){return function(){return this.matches(i)}}function iw(i){return function(t){return t.matches(i)}}var OO=Array.prototype.find;function MO(i){return function(){return OO.call(this.children,i)}}function kO(){return this.firstElementChild}function VO(i){return this.select(i==null?kO:MO(typeof i=="function"?i:iw(i)))}var LO=Array.prototype.filter;function PO(){return Array.from(this.children)}function UO(i){return function(){return LO.call(this.children,i)}}function jO(i){return this.selectAll(i==null?PO:UO(typeof i=="function"?i:iw(i)))}function zO(i){typeof i!="function"&&(i=nw(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],c=u.length,m=s[o]=[],p,g=0;g<c;++g)(p=u[g])&&i.call(p,p.__data__,g,u)&&m.push(p);return new On(s,this._parents)}function rw(i){return new Array(i.length)}function BO(){return new On(this._enter||this._groups.map(rw),this._parents)}function Wh(i,t){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=t}Wh.prototype={constructor:Wh,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,t){return this._parent.insertBefore(i,t)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function qO(i){return function(){return i}}function HO(i,t,n,s,o,u){for(var c=0,m,p=t.length,g=u.length;c<g;++c)(m=t[c])?(m.__data__=u[c],s[c]=m):n[c]=new Wh(i,u[c]);for(;c<p;++c)(m=t[c])&&(o[c]=m)}function FO(i,t,n,s,o,u,c){var m,p,g=new Map,v=t.length,b=u.length,A=new Array(v),I;for(m=0;m<v;++m)(p=t[m])&&(A[m]=I=c.call(p,p.__data__,m,t)+"",g.has(I)?o[m]=p:g.set(I,p));for(m=0;m<b;++m)I=c.call(i,u[m],m,u)+"",(p=g.get(I))?(s[m]=p,p.__data__=u[m],g.delete(I)):n[m]=new Wh(i,u[m]);for(m=0;m<v;++m)(p=t[m])&&g.get(A[m])===p&&(o[m]=p)}function GO(i){return i.__data__}function $O(i,t){if(!arguments.length)return Array.from(this,GO);var n=t?FO:HO,s=this._parents,o=this._groups;typeof i!="function"&&(i=qO(i));for(var u=o.length,c=new Array(u),m=new Array(u),p=new Array(u),g=0;g<u;++g){var v=s[g],b=o[g],A=b.length,I=QO(i.call(v,v&&v.__data__,g,s)),j=I.length,Q=m[g]=new Array(j),K=c[g]=new Array(j),et=p[g]=new Array(A);n(v,b,Q,K,et,I,t);for(var Z=0,J=0,ut,H;Z<j;++Z)if(ut=Q[Z]){for(Z>=J&&(J=Z+1);!(H=K[J])&&++J<j;);ut._next=H||null}}return c=new On(c,s),c._enter=m,c._exit=p,c}function QO(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function YO(){return new On(this._exit||this._groups.map(rw),this._parents)}function KO(i,t,n){var s=this.enter(),o=this,u=this.exit();return typeof i=="function"?(s=i(s),s&&(s=s.selection())):s=s.append(i+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?u.remove():n(u),s&&o?s.merge(o).order():o}function XO(i){for(var t=i.selection?i.selection():i,n=this._groups,s=t._groups,o=n.length,u=s.length,c=Math.min(o,u),m=new Array(o),p=0;p<c;++p)for(var g=n[p],v=s[p],b=g.length,A=m[p]=new Array(b),I,j=0;j<b;++j)(I=g[j]||v[j])&&(A[j]=I);for(;p<o;++p)m[p]=n[p];return new On(m,this._parents)}function ZO(){for(var i=this._groups,t=-1,n=i.length;++t<n;)for(var s=i[t],o=s.length-1,u=s[o],c;--o>=0;)(c=s[o])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function JO(i){i||(i=WO);function t(b,A){return b&&A?i(b.__data__,A.__data__):!b-!A}for(var n=this._groups,s=n.length,o=new Array(s),u=0;u<s;++u){for(var c=n[u],m=c.length,p=o[u]=new Array(m),g,v=0;v<m;++v)(g=c[v])&&(p[v]=g);p.sort(t)}return new On(o,this._parents).order()}function WO(i,t){return i<t?-1:i>t?1:i>=t?0:NaN}function t4(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function e4(){return Array.from(this)}function n4(){for(var i=this._groups,t=0,n=i.length;t<n;++t)for(var s=i[t],o=0,u=s.length;o<u;++o){var c=s[o];if(c)return c}return null}function i4(){let i=0;for(const t of this)++i;return i}function r4(){return!this.node()}function s4(i){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var o=t[n],u=0,c=o.length,m;u<c;++u)(m=o[u])&&i.call(m,m.__data__,u,o);return this}function a4(i){return function(){this.removeAttribute(i)}}function o4(i){return function(){this.removeAttributeNS(i.space,i.local)}}function l4(i,t){return function(){this.setAttribute(i,t)}}function u4(i,t){return function(){this.setAttributeNS(i.space,i.local,t)}}function c4(i,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(i):this.setAttribute(i,n)}}function h4(i,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,n)}}function f4(i,t){var n=Cf(i);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?o4:a4:typeof t=="function"?n.local?h4:c4:n.local?u4:l4)(n,t))}function sw(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function d4(i){return function(){this.style.removeProperty(i)}}function m4(i,t,n){return function(){this.style.setProperty(i,t,n)}}function p4(i,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(i):this.style.setProperty(i,s,n)}}function g4(i,t,n){return arguments.length>1?this.each((t==null?d4:typeof t=="function"?p4:m4)(i,t,n??"")):Vo(this.node(),i)}function Vo(i,t){return i.style.getPropertyValue(t)||sw(i).getComputedStyle(i,null).getPropertyValue(t)}function y4(i){return function(){delete this[i]}}function _4(i,t){return function(){this[i]=t}}function v4(i,t){return function(){var n=t.apply(this,arguments);n==null?delete this[i]:this[i]=n}}function E4(i,t){return arguments.length>1?this.each((t==null?y4:typeof t=="function"?v4:_4)(i,t)):this.node()[i]}function aw(i){return i.trim().split(/^|\s+/)}function Mg(i){return i.classList||new ow(i)}function ow(i){this._node=i,this._names=aw(i.getAttribute("class")||"")}ow.prototype={add:function(i){var t=this._names.indexOf(i);t<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var t=this._names.indexOf(i);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function lw(i,t){for(var n=Mg(i),s=-1,o=t.length;++s<o;)n.add(t[s])}function uw(i,t){for(var n=Mg(i),s=-1,o=t.length;++s<o;)n.remove(t[s])}function b4(i){return function(){lw(this,i)}}function T4(i){return function(){uw(this,i)}}function w4(i,t){return function(){(t.apply(this,arguments)?lw:uw)(this,i)}}function A4(i,t){var n=aw(i+"");if(arguments.length<2){for(var s=Mg(this.node()),o=-1,u=n.length;++o<u;)if(!s.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?w4:t?b4:T4)(n,t))}function S4(){this.textContent=""}function x4(i){return function(){this.textContent=i}}function N4(i){return function(){var t=i.apply(this,arguments);this.textContent=t??""}}function R4(i){return arguments.length?this.each(i==null?S4:(typeof i=="function"?N4:x4)(i)):this.node().textContent}function C4(){this.innerHTML=""}function I4(i){return function(){this.innerHTML=i}}function D4(i){return function(){var t=i.apply(this,arguments);this.innerHTML=t??""}}function O4(i){return arguments.length?this.each(i==null?C4:(typeof i=="function"?D4:I4)(i)):this.node().innerHTML}function M4(){this.nextSibling&&this.parentNode.appendChild(this)}function k4(){return this.each(M4)}function V4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function L4(){return this.each(V4)}function P4(i){var t=typeof i=="function"?i:tw(i);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function U4(){return null}function j4(i,t){var n=typeof i=="function"?i:tw(i),s=t==null?U4:typeof t=="function"?t:Og(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function z4(){var i=this.parentNode;i&&i.removeChild(this)}function B4(){return this.each(z4)}function q4(){var i=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function H4(){var i=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function F4(i){return this.select(i?H4:q4)}function G4(i){return arguments.length?this.property("__data__",i):this.node().__data__}function $4(i){return function(t){i.call(this,t,this.__data__)}}function Q4(i){return i.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function Y4(i){return function(){var t=this.__on;if(t){for(var n=0,s=-1,o=t.length,u;n<o;++n)u=t[n],(!i.type||u.type===i.type)&&u.name===i.name?this.removeEventListener(u.type,u.listener,u.options):t[++s]=u;++s?t.length=s:delete this.__on}}}function K4(i,t,n){return function(){var s=this.__on,o,u=$4(t);if(s){for(var c=0,m=s.length;c<m;++c)if((o=s[c]).type===i.type&&o.name===i.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=n),o.value=t;return}}this.addEventListener(i.type,u,n),o={type:i.type,name:i.name,value:t,listener:u,options:n},s?s.push(o):this.__on=[o]}}function X4(i,t,n){var s=Q4(i+""),o,u=s.length,c;if(arguments.length<2){var m=this.node().__on;if(m){for(var p=0,g=m.length,v;p<g;++p)for(o=0,v=m[p];o<u;++o)if((c=s[o]).type===v.type&&c.name===v.name)return v.value}return}for(m=t?K4:Y4,o=0;o<u;++o)this.each(m(s[o],t,n));return this}function cw(i,t,n){var s=sw(i),o=s.CustomEvent;typeof o=="function"?o=new o(t,n):(o=s.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),i.dispatchEvent(o)}function Z4(i,t){return function(){return cw(this,i,t)}}function J4(i,t){return function(){return cw(this,i,t.apply(this,arguments))}}function W4(i,t){return this.each((typeof t=="function"?J4:Z4)(i,t))}function*tM(){for(var i=this._groups,t=0,n=i.length;t<n;++t)for(var s=i[t],o=0,u=s.length,c;o<u;++o)(c=s[o])&&(yield c)}var hw=[null];function On(i,t){this._groups=i,this._parents=t}function Lu(){return new On([[document.documentElement]],hw)}function eM(){return this}On.prototype=Lu.prototype={constructor:On,select:NO,selectAll:DO,selectChild:VO,selectChildren:jO,filter:zO,data:$O,enter:BO,exit:YO,join:KO,merge:XO,selection:eM,order:ZO,sort:JO,call:t4,nodes:e4,node:n4,size:i4,empty:r4,each:s4,attr:f4,style:g4,property:E4,classed:A4,text:R4,html:O4,raise:k4,lower:L4,append:P4,insert:j4,remove:B4,clone:F4,datum:G4,on:X4,dispatch:W4,[Symbol.iterator]:tM};function nM(i){return typeof i=="string"?new On([[document.querySelector(i)]],[document.documentElement]):new On([[i]],hw)}function kg(i,t,n){i.prototype=t.prototype=n,n.constructor=i}function fw(i,t){var n=Object.create(i.prototype);for(var s in t)n[s]=t[s];return n}function Pu(){}var bu=.7,tf=1/bu,So="\\s*([+-]?\\d+)\\s*",Tu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iM=/^#([0-9a-f]{3,8})$/,rM=new RegExp(`^rgb\\(${So},${So},${So}\\)$`),sM=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),aM=new RegExp(`^rgba\\(${So},${So},${So},${Tu}\\)$`),oM=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${Tu}\\)$`),lM=new RegExp(`^hsl\\(${Tu},${Fi},${Fi}\\)$`),uM=new RegExp(`^hsla\\(${Tu},${Fi},${Fi},${Tu}\\)$`),XE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kg(Pu,wu,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:ZE,formatHex:ZE,formatHex8:cM,formatHsl:hM,formatRgb:JE,toString:JE});function ZE(){return this.rgb().formatHex()}function cM(){return this.rgb().formatHex8()}function hM(){return dw(this).formatHsl()}function JE(){return this.rgb().formatRgb()}function wu(i){var t,n;return i=(i+"").trim().toLowerCase(),(t=iM.exec(i))?(n=t[1].length,t=parseInt(t[1],16),n===6?WE(t):n===3?new bn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rM.exec(i))?new bn(t[1],t[2],t[3],1):(t=sM.exec(i))?new bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aM.exec(i))?yh(t[1],t[2],t[3],t[4]):(t=oM.exec(i))?yh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lM.exec(i))?nb(t[1],t[2]/100,t[3]/100,1):(t=uM.exec(i))?nb(t[1],t[2]/100,t[3]/100,t[4]):XE.hasOwnProperty(i)?WE(XE[i]):i==="transparent"?new bn(NaN,NaN,NaN,0):null}function WE(i){return new bn(i>>16&255,i>>8&255,i&255,1)}function yh(i,t,n,s){return s<=0&&(i=t=n=NaN),new bn(i,t,n,s)}function fM(i){return i instanceof Pu||(i=wu(i)),i?(i=i.rgb(),new bn(i.r,i.g,i.b,i.opacity)):new bn}function Rp(i,t,n,s){return arguments.length===1?fM(i):new bn(i,t,n,s??1)}function bn(i,t,n,s){this.r=+i,this.g=+t,this.b=+n,this.opacity=+s}kg(bn,Rp,fw(Pu,{brighter(i){return i=i==null?tf:Math.pow(tf,i),new bn(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?bu:Math.pow(bu,i),new bn(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new bn(da(this.r),da(this.g),da(this.b),ef(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tb,formatHex:tb,formatHex8:dM,formatRgb:eb,toString:eb}));function tb(){return`#${ha(this.r)}${ha(this.g)}${ha(this.b)}`}function dM(){return`#${ha(this.r)}${ha(this.g)}${ha(this.b)}${ha((isNaN(this.opacity)?1:this.opacity)*255)}`}function eb(){const i=ef(this.opacity);return`${i===1?"rgb(":"rgba("}${da(this.r)}, ${da(this.g)}, ${da(this.b)}${i===1?")":`, ${i})`}`}function ef(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function da(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function ha(i){return i=da(i),(i<16?"0":"")+i.toString(16)}function nb(i,t,n,s){return s<=0?i=t=n=NaN:n<=0||n>=1?i=t=NaN:t<=0&&(i=NaN),new li(i,t,n,s)}function dw(i){if(i instanceof li)return new li(i.h,i.s,i.l,i.opacity);if(i instanceof Pu||(i=wu(i)),!i)return new li;if(i instanceof li)return i;i=i.rgb();var t=i.r/255,n=i.g/255,s=i.b/255,o=Math.min(t,n,s),u=Math.max(t,n,s),c=NaN,m=u-o,p=(u+o)/2;return m?(t===u?c=(n-s)/m+(n<s)*6:n===u?c=(s-t)/m+2:c=(t-n)/m+4,m/=p<.5?u+o:2-u-o,c*=60):m=p>0&&p<1?0:c,new li(c,m,p,i.opacity)}function mM(i,t,n,s){return arguments.length===1?dw(i):new li(i,t,n,s??1)}function li(i,t,n,s){this.h=+i,this.s=+t,this.l=+n,this.opacity=+s}kg(li,mM,fw(Pu,{brighter(i){return i=i==null?tf:Math.pow(tf,i),new li(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?bu:Math.pow(bu,i),new li(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,t=isNaN(i)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,o=2*n-s;return new bn($m(i>=240?i-240:i+120,o,s),$m(i,o,s),$m(i<120?i+240:i-120,o,s),this.opacity)},clamp(){return new li(ib(this.h),_h(this.s),_h(this.l),ef(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=ef(this.opacity);return`${i===1?"hsl(":"hsla("}${ib(this.h)}, ${_h(this.s)*100}%, ${_h(this.l)*100}%${i===1?")":`, ${i})`}`}}));function ib(i){return i=(i||0)%360,i<0?i+360:i}function _h(i){return Math.max(0,Math.min(1,i||0))}function $m(i,t,n){return(i<60?t+(n-t)*i/60:i<180?n:i<240?t+(n-t)*(240-i)/60:t)*255}const mw=i=>()=>i;function pM(i,t){return function(n){return i+n*t}}function gM(i,t,n){return i=Math.pow(i,n),t=Math.pow(t,n)-i,n=1/n,function(s){return Math.pow(i+s*t,n)}}function yM(i){return(i=+i)==1?pw:function(t,n){return n-t?gM(t,n,i):mw(isNaN(t)?n:t)}}function pw(i,t){var n=t-i;return n?pM(i,n):mw(isNaN(i)?t:i)}const rb=(function i(t){var n=yM(t);function s(o,u){var c=n((o=Rp(o)).r,(u=Rp(u)).r),m=n(o.g,u.g),p=n(o.b,u.b),g=pw(o.opacity,u.opacity);return function(v){return o.r=c(v),o.g=m(v),o.b=p(v),o.opacity=g(v),o+""}}return s.gamma=i,s})(1);function hs(i,t){return i=+i,t=+t,function(n){return i*(1-n)+t*n}}var Cp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qm=new RegExp(Cp.source,"g");function _M(i){return function(){return i}}function vM(i){return function(t){return i(t)+""}}function EM(i,t){var n=Cp.lastIndex=Qm.lastIndex=0,s,o,u,c=-1,m=[],p=[];for(i=i+"",t=t+"";(s=Cp.exec(i))&&(o=Qm.exec(t));)(u=o.index)>n&&(u=t.slice(n,u),m[c]?m[c]+=u:m[++c]=u),(s=s[0])===(o=o[0])?m[c]?m[c]+=o:m[++c]=o:(m[++c]=null,p.push({i:c,x:hs(s,o)})),n=Qm.lastIndex;return n<t.length&&(u=t.slice(n),m[c]?m[c]+=u:m[++c]=u),m.length<2?p[0]?vM(p[0].x):_M(t):(t=p.length,function(g){for(var v=0,b;v<t;++v)m[(b=p[v]).i]=b.x(g);return m.join("")})}var sb=180/Math.PI,Ip={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gw(i,t,n,s,o,u){var c,m,p;return(c=Math.sqrt(i*i+t*t))&&(i/=c,t/=c),(p=i*n+t*s)&&(n-=i*p,s-=t*p),(m=Math.sqrt(n*n+s*s))&&(n/=m,s/=m,p/=m),i*s<t*n&&(i=-i,t=-t,p=-p,c=-c),{translateX:o,translateY:u,rotate:Math.atan2(t,i)*sb,skewX:Math.atan(p)*sb,scaleX:c,scaleY:m}}var vh;function bM(i){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return t.isIdentity?Ip:gw(t.a,t.b,t.c,t.d,t.e,t.f)}function TM(i){return i==null||(vh||(vh=document.createElementNS("http://www.w3.org/2000/svg","g")),vh.setAttribute("transform",i),!(i=vh.transform.baseVal.consolidate()))?Ip:(i=i.matrix,gw(i.a,i.b,i.c,i.d,i.e,i.f))}function yw(i,t,n,s){function o(g){return g.length?g.pop()+" ":""}function u(g,v,b,A,I,j){if(g!==b||v!==A){var Q=I.push("translate(",null,t,null,n);j.push({i:Q-4,x:hs(g,b)},{i:Q-2,x:hs(v,A)})}else(b||A)&&I.push("translate("+b+t+A+n)}function c(g,v,b,A){g!==v?(g-v>180?v+=360:v-g>180&&(g+=360),A.push({i:b.push(o(b)+"rotate(",null,s)-2,x:hs(g,v)})):v&&b.push(o(b)+"rotate("+v+s)}function m(g,v,b,A){g!==v?A.push({i:b.push(o(b)+"skewX(",null,s)-2,x:hs(g,v)}):v&&b.push(o(b)+"skewX("+v+s)}function p(g,v,b,A,I,j){if(g!==b||v!==A){var Q=I.push(o(I)+"scale(",null,",",null,")");j.push({i:Q-4,x:hs(g,b)},{i:Q-2,x:hs(v,A)})}else(b!==1||A!==1)&&I.push(o(I)+"scale("+b+","+A+")")}return function(g,v){var b=[],A=[];return g=i(g),v=i(v),u(g.translateX,g.translateY,v.translateX,v.translateY,b,A),c(g.rotate,v.rotate,b,A),m(g.skewX,v.skewX,b,A),p(g.scaleX,g.scaleY,v.scaleX,v.scaleY,b,A),g=v=null,function(I){for(var j=-1,Q=A.length,K;++j<Q;)b[(K=A[j]).i]=K.x(I);return b.join("")}}}var wM=yw(bM,"px, ","px)","deg)"),AM=yw(TM,", ",")",")"),Lo=0,Wl=0,$l=0,_w=1e3,nf,tu,rf=0,ba=0,If=0,Au=typeof performance=="object"&&performance.now?performance:Date,vw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function Vg(){return ba||(vw(SM),ba=Au.now()+If)}function SM(){ba=0}function sf(){this._call=this._time=this._next=null}sf.prototype=Ew.prototype={constructor:sf,restart:function(i,t,n){if(typeof i!="function")throw new TypeError("callback is not a function");n=(n==null?Vg():+n)+(t==null?0:+t),!this._next&&tu!==this&&(tu?tu._next=this:nf=this,tu=this),this._call=i,this._time=n,Dp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dp())}};function Ew(i,t,n){var s=new sf;return s.restart(i,t,n),s}function xM(){Vg(),++Lo;for(var i=nf,t;i;)(t=ba-i._time)>=0&&i._call.call(void 0,t),i=i._next;--Lo}function ab(){ba=(rf=Au.now())+If,Lo=Wl=0;try{xM()}finally{Lo=0,RM(),ba=0}}function NM(){var i=Au.now(),t=i-rf;t>_w&&(If-=t,rf=i)}function RM(){for(var i,t=nf,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),i=t,t=t._next):(n=t._next,t._next=null,t=i?i._next=n:nf=n);tu=i,Dp(s)}function Dp(i){if(!Lo){Wl&&(Wl=clearTimeout(Wl));var t=i-ba;t>24?(i<1/0&&(Wl=setTimeout(ab,i-Au.now()-If)),$l&&($l=clearInterval($l))):($l||(rf=Au.now(),$l=setInterval(NM,_w)),Lo=1,vw(ab))}}function ob(i,t,n){var s=new sf;return t=t==null?0:+t,s.restart(o=>{s.stop(),i(o+t)},t,n),s}var CM=W1("start","end","cancel","interrupt"),IM=[],bw=0,lb=1,Op=2,Oh=3,ub=4,Mp=5,Mh=6;function Df(i,t,n,s,o,u){var c=i.__transition;if(!c)i.__transition={};else if(n in c)return;DM(i,n,{name:t,index:s,group:o,on:CM,tween:IM,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:bw})}function Lg(i,t){var n=mi(i,t);if(n.state>bw)throw new Error("too late; already scheduled");return n}function Qi(i,t){var n=mi(i,t);if(n.state>Oh)throw new Error("too late; already running");return n}function mi(i,t){var n=i.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function DM(i,t,n){var s=i.__transition,o;s[t]=n,n.timer=Ew(u,0,n.time);function u(g){n.state=lb,n.timer.restart(c,n.delay,n.time),n.delay<=g&&c(g-n.delay)}function c(g){var v,b,A,I;if(n.state!==lb)return p();for(v in s)if(I=s[v],I.name===n.name){if(I.state===Oh)return ob(c);I.state===ub?(I.state=Mh,I.timer.stop(),I.on.call("interrupt",i,i.__data__,I.index,I.group),delete s[v]):+v<t&&(I.state=Mh,I.timer.stop(),I.on.call("cancel",i,i.__data__,I.index,I.group),delete s[v])}if(ob(function(){n.state===Oh&&(n.state=ub,n.timer.restart(m,n.delay,n.time),m(g))}),n.state=Op,n.on.call("start",i,i.__data__,n.index,n.group),n.state===Op){for(n.state=Oh,o=new Array(A=n.tween.length),v=0,b=-1;v<A;++v)(I=n.tween[v].value.call(i,i.__data__,n.index,n.group))&&(o[++b]=I);o.length=b+1}}function m(g){for(var v=g<n.duration?n.ease.call(null,g/n.duration):(n.timer.restart(p),n.state=Mp,1),b=-1,A=o.length;++b<A;)o[b].call(i,v);n.state===Mp&&(n.on.call("end",i,i.__data__,n.index,n.group),p())}function p(){n.state=Mh,n.timer.stop(),delete s[t];for(var g in s)return;delete i.__transition}}function OM(i,t){var n=i.__transition,s,o,u=!0,c;if(n){t=t==null?null:t+"";for(c in n){if((s=n[c]).name!==t){u=!1;continue}o=s.state>Op&&s.state<Mp,s.state=Mh,s.timer.stop(),s.on.call(o?"interrupt":"cancel",i,i.__data__,s.index,s.group),delete n[c]}u&&delete i.__transition}}function MM(i){return this.each(function(){OM(this,i)})}function kM(i,t){var n,s;return function(){var o=Qi(this,i),u=o.tween;if(u!==n){s=n=u;for(var c=0,m=s.length;c<m;++c)if(s[c].name===t){s=s.slice(),s.splice(c,1);break}}o.tween=s}}function VM(i,t,n){var s,o;if(typeof n!="function")throw new Error;return function(){var u=Qi(this,i),c=u.tween;if(c!==s){o=(s=c).slice();for(var m={name:t,value:n},p=0,g=o.length;p<g;++p)if(o[p].name===t){o[p]=m;break}p===g&&o.push(m)}u.tween=o}}function LM(i,t){var n=this._id;if(i+="",arguments.length<2){for(var s=mi(this.node(),n).tween,o=0,u=s.length,c;o<u;++o)if((c=s[o]).name===i)return c.value;return null}return this.each((t==null?kM:VM)(n,i,t))}function Pg(i,t,n){var s=i._id;return i.each(function(){var o=Qi(this,s);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return mi(o,s).value[t]}}function Tw(i,t){var n;return(typeof t=="number"?hs:t instanceof wu?rb:(n=wu(t))?(t=n,rb):EM)(i,t)}function PM(i){return function(){this.removeAttribute(i)}}function UM(i){return function(){this.removeAttributeNS(i.space,i.local)}}function jM(i,t,n){var s,o=n+"",u;return function(){var c=this.getAttribute(i);return c===o?null:c===s?u:u=t(s=c,n)}}function zM(i,t,n){var s,o=n+"",u;return function(){var c=this.getAttributeNS(i.space,i.local);return c===o?null:c===s?u:u=t(s=c,n)}}function BM(i,t,n){var s,o,u;return function(){var c,m=n(this),p;return m==null?void this.removeAttribute(i):(c=this.getAttribute(i),p=m+"",c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,m)))}}function qM(i,t,n){var s,o,u;return function(){var c,m=n(this),p;return m==null?void this.removeAttributeNS(i.space,i.local):(c=this.getAttributeNS(i.space,i.local),p=m+"",c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,m)))}}function HM(i,t){var n=Cf(i),s=n==="transform"?AM:Tw;return this.attrTween(i,typeof t=="function"?(n.local?qM:BM)(n,s,Pg(this,"attr."+i,t)):t==null?(n.local?UM:PM)(n):(n.local?zM:jM)(n,s,t))}function FM(i,t){return function(n){this.setAttribute(i,t.call(this,n))}}function GM(i,t){return function(n){this.setAttributeNS(i.space,i.local,t.call(this,n))}}function $M(i,t){var n,s;function o(){var u=t.apply(this,arguments);return u!==s&&(n=(s=u)&&GM(i,u)),n}return o._value=t,o}function QM(i,t){var n,s;function o(){var u=t.apply(this,arguments);return u!==s&&(n=(s=u)&&FM(i,u)),n}return o._value=t,o}function YM(i,t){var n="attr."+i;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=Cf(i);return this.tween(n,(s.local?$M:QM)(s,t))}function KM(i,t){return function(){Lg(this,i).delay=+t.apply(this,arguments)}}function XM(i,t){return t=+t,function(){Lg(this,i).delay=t}}function ZM(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?KM:XM)(t,i)):mi(this.node(),t).delay}function JM(i,t){return function(){Qi(this,i).duration=+t.apply(this,arguments)}}function WM(i,t){return t=+t,function(){Qi(this,i).duration=t}}function t3(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?JM:WM)(t,i)):mi(this.node(),t).duration}function e3(i,t){if(typeof t!="function")throw new Error;return function(){Qi(this,i).ease=t}}function n3(i){var t=this._id;return arguments.length?this.each(e3(t,i)):mi(this.node(),t).ease}function i3(i,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Qi(this,i).ease=n}}function r3(i){if(typeof i!="function")throw new Error;return this.each(i3(this._id,i))}function s3(i){typeof i!="function"&&(i=nw(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],c=u.length,m=s[o]=[],p,g=0;g<c;++g)(p=u[g])&&i.call(p,p.__data__,g,u)&&m.push(p);return new Ar(s,this._parents,this._name,this._id)}function a3(i){if(i._id!==this._id)throw new Error;for(var t=this._groups,n=i._groups,s=t.length,o=n.length,u=Math.min(s,o),c=new Array(s),m=0;m<u;++m)for(var p=t[m],g=n[m],v=p.length,b=c[m]=new Array(v),A,I=0;I<v;++I)(A=p[I]||g[I])&&(b[I]=A);for(;m<s;++m)c[m]=t[m];return new Ar(c,this._parents,this._name,this._id)}function o3(i){return(i+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function l3(i,t,n){var s,o,u=o3(t)?Lg:Qi;return function(){var c=u(this,i),m=c.on;m!==s&&(o=(s=m).copy()).on(t,n),c.on=o}}function u3(i,t){var n=this._id;return arguments.length<2?mi(this.node(),n).on.on(i):this.each(l3(n,i,t))}function c3(i){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==i)return;t&&t.removeChild(this)}}function h3(){return this.on("end.remove",c3(this._id))}function f3(i){var t=this._name,n=this._id;typeof i!="function"&&(i=Og(i));for(var s=this._groups,o=s.length,u=new Array(o),c=0;c<o;++c)for(var m=s[c],p=m.length,g=u[c]=new Array(p),v,b,A=0;A<p;++A)(v=m[A])&&(b=i.call(v,v.__data__,A,m))&&("__data__"in v&&(b.__data__=v.__data__),g[A]=b,Df(g[A],t,n,A,g,mi(v,n)));return new Ar(u,this._parents,t,n)}function d3(i){var t=this._name,n=this._id;typeof i!="function"&&(i=ew(i));for(var s=this._groups,o=s.length,u=[],c=[],m=0;m<o;++m)for(var p=s[m],g=p.length,v,b=0;b<g;++b)if(v=p[b]){for(var A=i.call(v,v.__data__,b,p),I,j=mi(v,n),Q=0,K=A.length;Q<K;++Q)(I=A[Q])&&Df(I,t,n,Q,A,j);u.push(A),c.push(v)}return new Ar(u,c,t,n)}var m3=Lu.prototype.constructor;function p3(){return new m3(this._groups,this._parents)}function g3(i,t){var n,s,o;return function(){var u=Vo(this,i),c=(this.style.removeProperty(i),Vo(this,i));return u===c?null:u===n&&c===s?o:o=t(n=u,s=c)}}function ww(i){return function(){this.style.removeProperty(i)}}function y3(i,t,n){var s,o=n+"",u;return function(){var c=Vo(this,i);return c===o?null:c===s?u:u=t(s=c,n)}}function _3(i,t,n){var s,o,u;return function(){var c=Vo(this,i),m=n(this),p=m+"";return m==null&&(p=m=(this.style.removeProperty(i),Vo(this,i))),c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,m))}}function v3(i,t){var n,s,o,u="style."+t,c="end."+u,m;return function(){var p=Qi(this,i),g=p.on,v=p.value[u]==null?m||(m=ww(t)):void 0;(g!==n||o!==v)&&(s=(n=g).copy()).on(c,o=v),p.on=s}}function E3(i,t,n){var s=(i+="")=="transform"?wM:Tw;return t==null?this.styleTween(i,g3(i,s)).on("end.style."+i,ww(i)):typeof t=="function"?this.styleTween(i,_3(i,s,Pg(this,"style."+i,t))).each(v3(this._id,i)):this.styleTween(i,y3(i,s,t),n).on("end.style."+i,null)}function b3(i,t,n){return function(s){this.style.setProperty(i,t.call(this,s),n)}}function T3(i,t,n){var s,o;function u(){var c=t.apply(this,arguments);return c!==o&&(s=(o=c)&&b3(i,c,n)),s}return u._value=t,u}function w3(i,t,n){var s="style."+(i+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,T3(i,t,n??""))}function A3(i){return function(){this.textContent=i}}function S3(i){return function(){var t=i(this);this.textContent=t??""}}function x3(i){return this.tween("text",typeof i=="function"?S3(Pg(this,"text",i)):A3(i==null?"":i+""))}function N3(i){return function(t){this.textContent=i.call(this,t)}}function R3(i){var t,n;function s(){var o=i.apply(this,arguments);return o!==n&&(t=(n=o)&&N3(o)),t}return s._value=i,s}function C3(i){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(i==null)return this.tween(t,null);if(typeof i!="function")throw new Error;return this.tween(t,R3(i))}function I3(){for(var i=this._name,t=this._id,n=Aw(),s=this._groups,o=s.length,u=0;u<o;++u)for(var c=s[u],m=c.length,p,g=0;g<m;++g)if(p=c[g]){var v=mi(p,t);Df(p,i,n,g,c,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Ar(s,this._parents,i,n)}function D3(){var i,t,n=this,s=n._id,o=n.size();return new Promise(function(u,c){var m={value:c},p={value:function(){--o===0&&u()}};n.each(function(){var g=Qi(this,s),v=g.on;v!==i&&(t=(i=v).copy(),t._.cancel.push(m),t._.interrupt.push(m),t._.end.push(p)),g.on=t}),o===0&&u()})}var O3=0;function Ar(i,t,n,s){this._groups=i,this._parents=t,this._name=n,this._id=s}function Aw(){return++O3}var gr=Lu.prototype;Ar.prototype={constructor:Ar,select:f3,selectAll:d3,selectChild:gr.selectChild,selectChildren:gr.selectChildren,filter:s3,merge:a3,selection:p3,transition:I3,call:gr.call,nodes:gr.nodes,node:gr.node,size:gr.size,empty:gr.empty,each:gr.each,on:u3,attr:HM,attrTween:YM,style:E3,styleTween:w3,text:x3,textTween:C3,remove:h3,tween:LM,delay:ZM,duration:t3,ease:n3,easeVarying:r3,end:D3,[Symbol.iterator]:gr[Symbol.iterator]};function M3(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var k3={time:null,delay:0,duration:250,ease:M3};function V3(i,t){for(var n;!(n=i.__transition)||!(n=n[t]);)if(!(i=i.parentNode))throw new Error(`transition ${t} not found`);return n}function L3(i){var t,n;i instanceof Ar?(t=i._id,i=i._name):(t=Aw(),(n=k3).time=Vg(),i=i==null?null:i+"");for(var s=this._groups,o=s.length,u=0;u<o;++u)for(var c=s[u],m=c.length,p,g=0;g<m;++g)(p=c[g])&&Df(p,i,t,g,c,n||V3(p,t));return new Ar(s,this._parents,i,t)}Lu.prototype.interrupt=MM;Lu.prototype.transition=L3;function eu(i,t,n){this.k=i,this.x=t,this.y=n}eu.prototype={constructor:eu,scale:function(i){return i===1?this:new eu(this.k*i,this.x,this.y)},translate:function(i,t){return i===0&t===0?this:new eu(this.k,this.x+this.k*i,this.y+this.k*t)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};eu.prototype;function cb(i,t){let n;if(t===void 0)for(const s of i)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);else{let s=-1;for(let o of i)(o=t(o,++s,i))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function P3(i,t){let n;if(t===void 0)for(const s of i)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);else{let s=-1;for(let o of i)(o=t(o,++s,i))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function Ym(i,t){let n=0;if(t===void 0)for(let s of i)(s=+s)&&(n+=s);else{let s=-1;for(let o of i)(o=+t(o,++s,i))&&(n+=o)}return n}function U3(i,t){return i.sourceLinks.length?i.depth:t-1}function Eh(i){return function(){return i}}function hb(i,t){return af(i.source,t.source)||i.index-t.index}function fb(i,t){return af(i.target,t.target)||i.index-t.index}function af(i,t){return i.y0-t.y0}function Km(i){return i.value}function j3(i){return i.index}function z3(i){return i.nodes}function B3(i){return i.links}function db(i,t){const n=i.get(t);if(!n)throw new Error("missing: "+t);return n}function mb({nodes:i}){for(const t of i){let n=t.y0,s=n;for(const o of t.sourceLinks)o.y0=n+o.width/2,n+=o.width;for(const o of t.targetLinks)o.y1=s+o.width/2,s+=o.width}}function q3(){let i=0,t=0,n=1,s=1,o=24,u=8,c,m=j3,p=U3,g,v,b=z3,A=B3,I=6;function j(){const X={nodes:b.apply(null,arguments),links:A.apply(null,arguments)};return Q(X),K(X),et(X),Z(X),H(X),mb(X),X}j.update=function(X){return mb(X),X},j.nodeId=function(X){return arguments.length?(m=typeof X=="function"?X:Eh(X),j):m},j.nodeAlign=function(X){return arguments.length?(p=typeof X=="function"?X:Eh(X),j):p},j.nodeSort=function(X){return arguments.length?(g=X,j):g},j.nodeWidth=function(X){return arguments.length?(o=+X,j):o},j.nodePadding=function(X){return arguments.length?(u=c=+X,j):u},j.nodes=function(X){return arguments.length?(b=typeof X=="function"?X:Eh(X),j):b},j.links=function(X){return arguments.length?(A=typeof X=="function"?X:Eh(X),j):A},j.linkSort=function(X){return arguments.length?(v=X,j):v},j.size=function(X){return arguments.length?(i=t=0,n=+X[0],s=+X[1],j):[n-i,s-t]},j.extent=function(X){return arguments.length?(i=+X[0][0],n=+X[1][0],t=+X[0][1],s=+X[1][1],j):[[i,t],[n,s]]},j.iterations=function(X){return arguments.length?(I=+X,j):I};function Q({nodes:X,links:P}){for(const[rt,at]of X.entries())at.index=rt,at.sourceLinks=[],at.targetLinks=[];const G=new Map(X.map((rt,at)=>[m(rt,at,X),rt]));for(const[rt,at]of P.entries()){at.index=rt;let{source:dt,target:k}=at;typeof dt!="object"&&(dt=at.source=db(G,dt)),typeof k!="object"&&(k=at.target=db(G,k)),dt.sourceLinks.push(at),k.targetLinks.push(at)}if(v!=null)for(const{sourceLinks:rt,targetLinks:at}of X)rt.sort(v),at.sort(v)}function K({nodes:X}){for(const P of X)P.value=P.fixedValue===void 0?Math.max(Ym(P.sourceLinks,Km),Ym(P.targetLinks,Km)):P.fixedValue}function et({nodes:X}){const P=X.length;let G=new Set(X),rt=new Set,at=0;for(;G.size;){for(const dt of G){dt.depth=at;for(const{target:k}of dt.sourceLinks)rt.add(k)}if(++at>P)throw new Error("circular link");G=rt,rt=new Set}}function Z({nodes:X}){const P=X.length;let G=new Set(X),rt=new Set,at=0;for(;G.size;){for(const dt of G){dt.height=at;for(const{source:k}of dt.targetLinks)rt.add(k)}if(++at>P)throw new Error("circular link");G=rt,rt=new Set}}function J({nodes:X}){const P=cb(X,at=>at.depth)+1,G=(n-i-o)/(P-1),rt=new Array(P);for(const at of X){const dt=Math.max(0,Math.min(P-1,Math.floor(p.call(null,at,P))));at.layer=dt,at.x0=i+dt*G,at.x1=at.x0+o,rt[dt]?rt[dt].push(at):rt[dt]=[at]}if(g)for(const at of rt)at.sort(g);return rt}function ut(X){const P=P3(X,G=>(s-t-(G.length-1)*c)/Ym(G,Km));for(const G of X){let rt=t;for(const at of G){at.y0=rt,at.y1=rt+at.value*P,rt=at.y1+c;for(const dt of at.sourceLinks)dt.width=dt.value*P}rt=(s-rt+c)/(G.length+1);for(let at=0;at<G.length;++at){const dt=G[at];dt.y0+=rt*(at+1),dt.y1+=rt*(at+1)}V(G)}}function H(X){const P=J(X);c=Math.min(u,(s-t)/(cb(P,G=>G.length)-1)),ut(P);for(let G=0;G<I;++G){const rt=Math.pow(.99,G),at=Math.max(1-rt,(G+1)/I);N(P,rt,at),it(P,rt,at)}}function it(X,P,G){for(let rt=1,at=X.length;rt<at;++rt){const dt=X[rt];for(const k of dt){let tt=0,ct=0;for(const{source:bt,value:Nt}of k.targetLinks){let Dt=Nt*(k.layer-bt.layer);tt+=R(bt,k)*Dt,ct+=Dt}if(!(ct>0))continue;let ft=(tt/ct-k.y0)*P;k.y0+=ft,k.y1+=ft,D(k)}g===void 0&&dt.sort(af),S(dt,G)}}function N(X,P,G){for(let rt=X.length,at=rt-2;at>=0;--at){const dt=X[at];for(const k of dt){let tt=0,ct=0;for(const{target:bt,value:Nt}of k.sourceLinks){let Dt=Nt*(bt.layer-k.layer);tt+=vt(k,bt)*Dt,ct+=Dt}if(!(ct>0))continue;let ft=(tt/ct-k.y0)*P;k.y0+=ft,k.y1+=ft,D(k)}g===void 0&&dt.sort(af),S(dt,G)}}function S(X,P){const G=X.length>>1,rt=X[G];M(X,rt.y0-c,G-1,P),C(X,rt.y1+c,G+1,P),M(X,s,X.length-1,P),C(X,t,0,P)}function C(X,P,G,rt){for(;G<X.length;++G){const at=X[G],dt=(P-at.y0)*rt;dt>1e-6&&(at.y0+=dt,at.y1+=dt),P=at.y1+c}}function M(X,P,G,rt){for(;G>=0;--G){const at=X[G],dt=(at.y1-P)*rt;dt>1e-6&&(at.y0-=dt,at.y1-=dt),P=at.y0-c}}function D({sourceLinks:X,targetLinks:P}){if(v===void 0){for(const{source:{sourceLinks:G}}of P)G.sort(fb);for(const{target:{targetLinks:G}}of X)G.sort(hb)}}function V(X){if(v===void 0)for(const{sourceLinks:P,targetLinks:G}of X)P.sort(fb),G.sort(hb)}function R(X,P){let G=X.y0-(X.sourceLinks.length-1)*c/2;for(const{target:rt,width:at}of X.sourceLinks){if(rt===P)break;G+=at+c}for(const{source:rt,width:at}of P.targetLinks){if(rt===X)break;G-=at}return G}function vt(X,P){let G=P.y0-(P.targetLinks.length-1)*c/2;for(const{source:rt,width:at}of P.targetLinks){if(rt===X)break;G+=at+c}for(const{target:rt,width:at}of X.sourceLinks){if(rt===P)break;G-=at}return G}return j}var kp=Math.PI,Vp=2*kp,la=1e-6,H3=Vp-la;function Lp(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Sw(){return new Lp}Lp.prototype=Sw.prototype={constructor:Lp,moveTo:function(i,t){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(i,t){this._+="L"+(this._x1=+i)+","+(this._y1=+t)},quadraticCurveTo:function(i,t,n,s){this._+="Q"+ +i+","+ +t+","+(this._x1=+n)+","+(this._y1=+s)},bezierCurveTo:function(i,t,n,s,o,u){this._+="C"+ +i+","+ +t+","+ +n+","+ +s+","+(this._x1=+o)+","+(this._y1=+u)},arcTo:function(i,t,n,s,o){i=+i,t=+t,n=+n,s=+s,o=+o;var u=this._x1,c=this._y1,m=n-i,p=s-t,g=u-i,v=c-t,b=g*g+v*v;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=i)+","+(this._y1=t);else if(b>la)if(!(Math.abs(v*m-p*g)>la)||!o)this._+="L"+(this._x1=i)+","+(this._y1=t);else{var A=n-u,I=s-c,j=m*m+p*p,Q=A*A+I*I,K=Math.sqrt(j),et=Math.sqrt(b),Z=o*Math.tan((kp-Math.acos((j+b-Q)/(2*K*et)))/2),J=Z/et,ut=Z/K;Math.abs(J-1)>la&&(this._+="L"+(i+J*g)+","+(t+J*v)),this._+="A"+o+","+o+",0,0,"+ +(v*A>g*I)+","+(this._x1=i+ut*m)+","+(this._y1=t+ut*p)}},arc:function(i,t,n,s,o,u){i=+i,t=+t,n=+n,u=!!u;var c=n*Math.cos(s),m=n*Math.sin(s),p=i+c,g=t+m,v=1^u,b=u?s-o:o-s;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+p+","+g:(Math.abs(this._x1-p)>la||Math.abs(this._y1-g)>la)&&(this._+="L"+p+","+g),n&&(b<0&&(b=b%Vp+Vp),b>H3?this._+="A"+n+","+n+",0,1,"+v+","+(i-c)+","+(t-m)+"A"+n+","+n+",0,1,"+v+","+(this._x1=p)+","+(this._y1=g):b>la&&(this._+="A"+n+","+n+",0,"+ +(b>=kp)+","+v+","+(this._x1=i+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(i,t,n,s){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +s+"h"+-n+"Z"},toString:function(){return this._}};function pb(i){return function(){return i}}function F3(i){return i[0]}function G3(i){return i[1]}var $3=Array.prototype.slice;function Q3(i){return i.source}function Y3(i){return i.target}function K3(i){var t=Q3,n=Y3,s=F3,o=G3,u=null;function c(){var m,p=$3.call(arguments),g=t.apply(this,p),v=n.apply(this,p);if(u||(u=m=Sw()),i(u,+s.apply(this,(p[0]=g,p)),+o.apply(this,p),+s.apply(this,(p[0]=v,p)),+o.apply(this,p)),m)return u=null,m+""||null}return c.source=function(m){return arguments.length?(t=m,c):t},c.target=function(m){return arguments.length?(n=m,c):n},c.x=function(m){return arguments.length?(s=typeof m=="function"?m:pb(+m),c):s},c.y=function(m){return arguments.length?(o=typeof m=="function"?m:pb(+m),c):o},c.context=function(m){return arguments.length?(u=m??null,c):u},c}function X3(i,t,n,s,o){i.moveTo(t,n),i.bezierCurveTo(t=(t+s)/2,n,t,o,s,o)}function Z3(){return K3(X3)}function J3(i){return[i.source.x1,i.y0]}function W3(i){return[i.target.x0,i.y1]}function tk(){return Z3().source(J3).target(W3)}function ek({data:i,height:t=560,nodeWidth:n=16,nodePadding:s=18,onNodeClick:o}){const u=ce.useRef(null),[c,m]=ce.useState(0);return ce.useEffect(()=>{const p=u.current;if(!p)return;const g=new ResizeObserver(v=>{const b=Math.floor(v[0]?.contentRect?.width||0);m(b)});return g.observe(p),m(Math.floor(p.clientWidth||0)),()=>g.disconnect()},[]),ce.useEffect(()=>{const p=u.current;if(!p)return;p.innerHTML="";const g=Math.max(320,c||p.clientWidth||0),v=nM(p).append("svg").attr("width",g).attr("height",t).attr("viewBox",`0 0 ${g} ${t}`).style("display","block"),b=Z=>{v.append("text").attr("x",16).attr("y",28).attr("fill","#e2e8f0").attr("font-size",12).text(Z)},A={Income:"#22c55e",Fixed:"#f97316",Essential:"#3b82f6",Variable:"#a855f7",Transfers:"#eab308",Leftover:"#10b981"},I=Number(i?.meta?.incomeTotal||0),j=Z=>I>0?Z/I*100:0,Q=Z=>`$${Number(Z||0).toFixed(2)}`,K=g<420?10:12;let et=requestAnimationFrame(()=>{try{const Z=Array.isArray(i?.nodes)?i.nodes:[],J=Array.isArray(i?.links)?i.links:[];if(!Z.length||!J.length){b("No report data yet  import transactions to see cash flow.");return}const ut=new Set(Z.map(R=>R?.name).filter(Boolean));for(const R of J)typeof R?.source=="string"&&ut.add(R.source),typeof R?.target=="string"&&ut.add(R.target);const H=[...ut],it=new Map(H.map((R,vt)=>[R,vt])),N=H.map(R=>({name:R})),S=J.map(R=>{const vt=typeof R.source=="string"?it.get(R.source):R.source,X=typeof R.target=="string"?it.get(R.target):R.target,P=Number(R.value||0);return typeof vt!="number"||typeof X!="number"||!Number.isFinite(P)||P<=0?null:{source:vt,target:X,value:P}}).filter(Boolean);if(!S.length){b("Report links are empty after validation.");return}const M=q3().nodeWidth(n).nodePadding(s).extent([[12,12],[g-12,t-12]])({nodes:N.map(R=>({...R})),links:S.map(R=>({...R}))});v.append("g").attr("fill","none").attr("stroke-opacity",.35).selectAll("path").data(M.links).join("path").attr("d",tk()).attr("stroke",R=>{const vt=M.nodes[R.source.index]?.name;return A[vt]||"#94a3b8"}).attr("stroke-width",R=>Math.max(1,R.width)).append("title").text(R=>{const vt=Number(R.value||0),X=M.nodes[R.source.index]?.name,P=M.nodes[R.target.index]?.name;return`${X}  ${P}
${Q(vt)} (${j(vt).toFixed(1)}% of income)`});const V=v.append("g").selectAll("g").data(M.nodes).join("g");V.append("rect").attr("x",R=>R.x0).attr("y",R=>R.y0).attr("height",R=>Math.max(1,R.y1-R.y0)).attr("width",R=>R.x1-R.x0).attr("rx",6).attr("fill",R=>A[R.name]||"#64748b").attr("opacity",.9).style("cursor",typeof o=="function"?"pointer":"default").on("click",(R,vt)=>{typeof o=="function"&&o(vt.name,vt)}).append("title").text(R=>{const vt=Number(R.value||0);return`${R.name}
${Q(vt)} (${j(vt).toFixed(1)}% of income)`}),V.append("text").attr("x",R=>R.x0<g/2?R.x1+8:R.x0-8).attr("y",R=>(R.y0+R.y1)/2).attr("dy","0.35em").attr("text-anchor",R=>R.x0<g/2?"start":"end").attr("font-size",K).attr("fill","#e2e8f0").text(R=>R.name)}catch(Z){console.error("FlowSankey render error:",Z),b(`Sankey render error: ${Z?.message||String(Z)}`)}});return()=>cancelAnimationFrame(et)},[i,t,n,s,o,c]),T.jsx("div",{ref:u,style:{width:"100%"}})}const Xm={topNPerBucket:10,maxRows:2e4,includeTransfers:!0,preset:"Detailed"};function nk(i){return!i||typeof i!="string"||i.length<7?null:i.slice(0,7)}function Zm(i){const t=Number(i);return Number.isFinite(t)?t:0}function ik(i=""){let t=String(i).trim().toLowerCase();return t=t.replace(/\s+/g," "),t}function rk(i=""){let t=String(i).trim();return t=t.replace(/[*#]{3,}\w{2,}$/g,"").trim(),t=t.replace(/\b(?:\d{3,}|x{3,}\d+)\b/gi,"").trim(),t=t.replace(/\s+/g," "),t.length>28&&(t=t.slice(0,26)+""),t||"Uncategorized"}const sk=["rent","mortgage","apts","apt","apartment","lease","property management","hoa","insurance","internet","phone","utilities","loan","payment"],ak=["amazon prime","prime membership","netflix","hulu","spotify","youtube premium","rocket money","membership","subscription","icloud","google one","dropbox"],ok=["grocery","costco","walmart","gas","fuel","medical","pharmacy","power","water"],lk=["transfer","zelle","venmo","cash app","withdrawal","deposit"];function uk(i=""){const t=i.toLowerCase();return lk.some(n=>t.includes(n))?"Transfers":sk.some(n=>t.includes(n))?"Fixed":ak.some(n=>t.includes(n))?"Subscriptions":ok.some(n=>t.includes(n))?"Essential":"Variable"}function ck(i,t){const n=[];for(const s of i.entries())n.push(s),n.sort((o,u)=>u[1]-o[1]),n.length>t&&(n.length=t);return n}function hk({accounts:i=[],monthKey:t,topNPerBucket:n=10,maxRows:s=2e4,includeTransfers:o=!0}){const u=(i||[]).flatMap(Z=>Z.transactions||[]),c=t?u.filter(Z=>nk(Z.date)===t):u,m=c.length>s?c.slice(-s):c,p=m.reduce((Z,J)=>Z+(Zm(J.amount)>0?Zm(J.amount):0),0),g=new Map,v=new Map;for(const Z of m){const J=Zm(Z.amount);if(!(J<0))continue;const ut=ik(Z.description||""),H=rk(Z.description||""),it=uk(ut);if(!o&&it==="Transfers")continue;const N=Math.abs(J);g.set(it,(g.get(it)||0)+N),v.has(it)||v.set(it,new Map);const S=v.get(it);S.set(H,(S.get(H)||0)+N)}if(p<=0&&g.size===0)return{nodes:[],links:[],meta:{incomeTotal:0}};const b=o?["Fixed","Subscriptions","Essential","Variable","Transfers"]:["Fixed","Subscriptions","Essential","Variable"],A=[{name:"Income"},...b.map(Z=>({name:Z}))],I=[];for(const Z of b){const J=g.get(Z)||0;J>0&&I.push({source:"Income",target:Z,value:J})}for(const Z of b){const J=v.get(Z);if(J)for(const[ut,H]of ck(J,n))A.push({name:ut}),I.push({source:Z,target:ut,value:H})}const j=b.reduce((Z,J)=>J==="Transfers"?Z:Z+(g.get(J)||0),0),Q=Math.max(0,p-j);Q>0&&(A.push({name:"Leftover"}),I.push({source:"Income",target:"Leftover",value:Q}));const K=new Set,et=[];for(const Z of A)K.has(Z.name)||(K.add(Z.name),et.push(Z));return{nodes:et,links:I,meta:{incomeTotal:p,totalIncome:p,spentTotal:j,totalSpent:j,transfersTotal:g.get("Transfers")||0,leftover:Q}}}const gb="budgetApp_reportSettings_v1",fk={Minimal:{topNPerBucket:5,maxRows:1e4,includeTransfers:!1,preset:"Minimal"},Detailed:{topNPerBucket:12,maxRows:6e4,includeTransfers:!0,preset:"Detailed"},Audit:{topNPerBucket:30,maxRows:2e5,includeTransfers:!0,preset:"Audit"}};function yb(i,t,n,s){const o=Number(i);return Number.isFinite(o)?Math.max(t,Math.min(n,Math.trunc(o))):s}function dk({accounts:i=[],monthKey:t,onMerchantPick:n}){const[s,o]=ce.useState("overview"),[u,c]=ce.useState({nodes:[],links:[],meta:{incomeTotal:0}}),[m,p]=ce.useState(560);ce.useEffect(()=>{function A(){const I=Math.max(380,Math.min(680,Math.round(window.innerHeight*.55)));p(I)}return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const[g,v]=ce.useState(()=>{try{const A=localStorage.getItem(gb),I=A?JSON.parse(A):null;return{...Xm,...I||{}}}catch{return{...Xm}}});ce.useEffect(()=>{const A=setTimeout(()=>{c(hk({accounts:i,monthKey:t,topNPerBucket:g.topNPerBucket,maxRows:g.maxRows,includeTransfers:g.includeTransfers}))},0);return()=>clearTimeout(A)},[i,t,g.topNPerBucket,g.maxRows,g.includeTransfers]),ce.useEffect(()=>{const A=setTimeout(()=>{try{localStorage.setItem(gb,JSON.stringify(g))}catch{}},300);return()=>clearTimeout(A)},[g]);function b(A){const I=fk[A];I&&v(j=>({...j,...I,preset:A}))}return T.jsxs("div",{className:"space-y-3",children:[T.jsx("div",{className:"flex items-center justify-between gap-3",children:T.jsxs("div",{className:"inline-flex rounded-xl border border-slate-800 bg-slate-950/40 p-1",children:[T.jsx("button",{onClick:()=>o("overview"),className:`px-3 py-1.5 text-sm rounded-lg ${s==="overview"?"bg-slate-900 text-slate-100":"text-slate-300 hover:text-slate-100"}`,children:"Overview"}),T.jsx("button",{onClick:()=>o("settings"),className:`px-3 py-1.5 text-sm rounded-lg ${s==="settings"?"bg-slate-900 text-slate-100":"text-slate-300 hover:text-slate-100"}`,children:"Settings"})]})}),s==="overview"&&T.jsx("div",{className:"rounded-2xl border border-slate-800 bg-slate-950/40 p-3",children:T.jsx("div",{className:"hScroll",children:T.jsx("div",{style:{minHeight:m},children:T.jsx(ek,{data:u,height:m,onNodeClick:A=>{!["Income","Fixed","Subscriptions","Essential","Variable","Transfers","Leftover"].includes(A)&&typeof n=="function"&&n(A)}})})})}),s==="settings"&&T.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-950/40 p-4 space-y-5",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("div",{className:"text-sm font-medium text-slate-100",children:"Presets"}),T.jsxs("div",{className:"flex flex-wrap gap-2",children:[["Minimal","Detailed","Audit"].map(A=>T.jsx("button",{onClick:()=>b(A),className:"text-sm px-3 py-2 rounded-md border border-slate-800 bg-slate-900 hover:bg-slate-800 text-slate-100",children:A},A)),T.jsx("button",{onClick:()=>v({...Xm,preset:"Custom"}),className:"text-sm px-3 py-2 rounded-md border border-slate-800 bg-slate-900 hover:bg-slate-800 text-slate-100",children:"Reset"})]})]}),T.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-slate-100 text-sm font-medium",children:"Top merchants per bucket"}),T.jsx("input",{type:"number",min:1,max:50,value:g.topNPerBucket,onChange:A=>v(I=>({...I,topNPerBucket:yb(A.target.value,1,50,10),preset:"Custom"})),className:"w-full bg-slate-900 border border-slate-800 rounded-md px-3 py-2 text-slate-100"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-slate-100 text-sm font-medium",children:"Max rows to process"}),T.jsx("input",{type:"number",min:1e3,max:2e5,step:1e3,value:g.maxRows,onChange:A=>v(I=>({...I,maxRows:yb(A.target.value,1e3,2e5,2e4),preset:"Custom"})),className:"w-full bg-slate-900 border border-slate-800 rounded-md px-3 py-2 text-slate-100"})]}),T.jsxs("div",{className:"flex items-center justify-between gap-4 md:col-span-2",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-slate-100 text-sm font-medium",children:"Include Transfers"}),T.jsx("p",{className:"text-slate-400 text-xs",children:"Show/hide Transfers bucket in the chart."})]}),T.jsx("input",{type:"checkbox",checked:!!g.includeTransfers,onChange:A=>v(I=>({...I,includeTransfers:A.target.checked,preset:"Custom"})),className:"h-5 w-5"})]})]})]})]})}const Ug="budgetAppState_v1";function mk(){if(typeof window>"u")return null;try{const i=window.localStorage.getItem(Ug);return i?JSON.parse(i):null}catch(i){return console.error("Failed to load stored state",i),null}}function pk(i){if(!(typeof window>"u"))try{window.localStorage.setItem(Ug,JSON.stringify(i))}catch(t){console.error("Failed to save state",t)}}function gk(i){if(!i)return null;if(i.accounts&&Array.isArray(i.accounts))return i;const t={id:"main",name:"Main Account",type:"checking",transactions:Array.isArray(i.transactions)?i.transactions:[]};return{...i,accounts:[t],currentAccountId:i.currentAccountId||"main"}}const Pp=[{key:"dashboard",label:"Dashboard"},{key:"balances",label:"Accounts"},{key:"budget",label:"Budget"},{key:"transactions",label:"Transactions"},{key:"goalDetail",label:"Goals"},{key:"reports",label:"Reports"}],yk=Object.fromEntries(Pp.map(i=>[i.key,i.label])),_b=["monthOverview","accountSnapshot","goals","csvImport"];function _k(){const i=new Date;return`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`}function vk(){const{user:i,authLoading:t,signInWithEmail:n,signUpWithEmail:s,signOut:o,resetPassword:u}=MD();function c(gt="id"){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${gt}-${Date.now()}-${Math.random().toString(16).slice(2)}`}function m(gt=[],Yt=[]){const Ut=new Set(gt.map(jt=>`${jt.date}|${jt.amount}|${jt.description}|${jt.accountId}`)),Vt=[...gt];for(const jt of Yt){const Qe=`${jt.date}|${jt.amount}|${jt.description}|${jt.accountId}`;Ut.has(Qe)||(Ut.add(Qe),Vt.push(jt))}return Vt}const p=i?.uid||null,g=At.useRef(!1),v=At.useRef(null),b=At.useRef(null);b.current===null&&(b.current=gk(mk()));const A=b.current,[I,j]=At.useState(A?.theme||"dark"),[Q,K]=At.useState(A?.budgetsByMonth||{}),[et,Z]=At.useState(A?.activeMonth||_k()),[J,ut]=At.useState(A?.goals||[]),[H,it]=At.useState(cs(A?.accounts||[])),[N,S]=At.useState(A?.currentAccountId||"main"),[C,M]=At.useState(A?.navOrder||Pp.map(gt=>gt.key));At.useEffect(()=>{(!Array.isArray(C)||C.length===0)&&M(Pp.map(gt=>gt.key))},[C]);const[D,V]=At.useState(A?.homePage||"dashboard"),[R,vt]=At.useState(A?.dashboardSectionsOrder||_b),[X,P]=At.useState(D),[G,rt]=At.useState(A?.selectedGoalId||null),[at,dt]=At.useState(A?.txFilter||""),[k,tt]=At.useState(null),[ct,ft]=At.useState(null),[bt,Nt]=At.useState(null),[Dt,ge]=At.useState(!1),Qt=Q[et]||{month:et,income:0},Mn=At.useMemo(()=>{const gt=FE(Qt.fixed||[]),Yt=FE(Qt.variable||[]);return{fixed:gt,variable:Yt,leftover:Qt.income-gt-Yt}},[Qt]),Yi=At.useMemo(()=>Y1(I),[I]),{currentAccountBalance:Rr,totalBalance:Cr}=At.useMemo(()=>{const gt=Array.isArray(H)?H:[],Yt=gt.find(jt=>jt.id===N),Ut=GE(Yt),Vt=gt.reduce((jt,Qe)=>jt+GE(Qe),0);return{currentAccountBalance:Ut,totalBalance:Vt}},[H,N]);At.useEffect(()=>{const gt=Array.isArray(H)?H:[];if(gt.length===0)return;gt.some(Ut=>Ut.id===N)||S(gt[0].id)},[H,N]),At.useEffect(()=>{i?.uid&&(ge(!0),UD(i).then(Nt).finally(()=>ge(!1)))},[i?.uid]),At.useEffect(()=>{if(!p)return;const gt=Mo(ko,"workspaces",p),Yt=ID(gt,Ut=>{const Vt=Ut.data()?.state;Vt&&(g.current=!0,K(Vt.budgetsByMonth||{}),Z(Vt.activeMonth||et),ut(Vt.goals||[]),it(cs(Vt.accounts||[])),S(Vt.currentAccountId||"main"),M(Vt.navOrder||C),vt(Vt.dashboardSectionsOrder||_b),j(Vt.theme||"dark"))});return()=>Yt()},[p]),At.useEffect(()=>{p&&kD(p).then(gt=>{gt&&(g.current=!0,K(gt.budgetsByMonth||{}),Z(gt.activeMonth||et),ut(gt.goals||[]),it(cs(gt.accounts||[])))})},[p]),At.useEffect(()=>{const gt={budgetsByMonth:Q,activeMonth:et,goals:J,accounts:H,currentAccountId:N,navOrder:C,homePage:D,dashboardSectionsOrder:R,theme:I,txFilter:at};if(pk(gt),!!p){if(g.current){g.current=!1;return}clearTimeout(v.current),v.current=setTimeout(()=>{VD(p,gt).then(()=>ft(new Date().toLocaleTimeString()))},600)}},[p,Q,et,J,H,N,C,D,R,I,at]);async function kn(){window.confirm("Reset all data?")&&(p&&await CD(Mo(ko,"workspaces",p)),localStorage.removeItem(Ug),window.location.reload())}if(!i)return T.jsx(FD,{loading:t,onSignIn:n,onSignUp:s,onResetPassword:u});function Ds(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`tx-${Date.now()}-${Math.random().toString(16).slice(2)}`}function Ki(gt){return Array.isArray(gt)?gt:[]}function Ir(gt=[],Yt={}){const Ut=Ki(gt).map(_e=>{const un=typeof _e.amount=="number"?_e.amount:Number(_e.amount);return{id:_e.id||Ds(),date:_e.date||"",description:_e.description||"",category:_e.category||"",amount:Number.isFinite(un)?un:NaN}}).filter(_e=>Number.isFinite(_e.amount));if(!Ut.length){tt({message:"No valid transactions were found in that file.",variant:"info"});return}const Vt=Yt.bank||Yt.detectedBank||Yt.filename||Yt.fileName||"Imported",jt=dO(H,N,Ut,Vt),Qe=jt.targetAccountId,Vn=jt.targetAccountName||Vt,Xi=Ut.map(_e=>({..._e,accountId:Qe}));it(_e=>{const un=Array.isArray(_e)?_e:[],Dr=un.some(ve=>ve.id===Qe);if(jt.createdNew||!Dr){const ve={id:Qe,name:Vn,type:jt.accounts?.find(je=>je.id===Qe)?.type||"checking",startingBalance:0,transactions:Xi};return cs([...un,ve])}return cs(un.map(ve=>ve.id===Qe?{...ve,transactions:J1(ve.transactions||[],Xi)}:ve))}),K(_e=>{const un=_e?.[et]||{month:et,income:0,fixed:[],variable:[],transactions:[]},Dr=Array.isArray(un.transactions)?un.transactions:[],ve=m(Dr,Xi);return{..._e,[et]:{...un,transactions:ve}}}),S(Qe),tt({variant:"success",message:jt.createdNew?`Created "${Vn}" and imported ${Xi.length} transactions.`:`Imported ${Xi.length} transactions into "${Vn}".`})}function Os(){const gt=`Account ${H.length+1}`,Yt=c("acct"),Ut={id:Yt,name:gt,type:"checking",startingBalance:0,transactions:[],createdAt:Date.now()};it(Vt=>cs([...Array.isArray(Vt)?Vt:[],Ut])),S(Yt),tt({variant:"success",message:`Created ${gt}`})}function ye(gt){gt&&window.confirm("Delete this account? Transactions tied to it will remain in budgets but the account will be removed.")&&it(Yt=>{const Vt=(Array.isArray(Yt)?Yt:[]).filter(jt=>jt.id!==gt);return N===gt&&S(Vt[0]?.id||"main"),Vt})}function Te(gt,Yt){const Ut=Number(Yt);it(Vt=>cs((Array.isArray(Vt)?Vt:[]).map(jt=>jt.id===gt?{...jt,startingBalance:Number.isFinite(Ut)?Ut:0}:jt)))}function pi(gt,Yt){const Ut=(Yt||"").trim()||"Account";it(Vt=>cs((Array.isArray(Vt)?Vt:[]).map(jt=>jt.id===gt?{...jt,name:Ut}:jt)))}return T.jsxs("div",{className:`app-shell ${Yi.shellClass}`,children:[T.jsx("header",{className:Yi.headerClass,children:T.jsxs("div",{className:"content headerRow",children:[T.jsxs("div",{className:"brandAndNav",children:[T.jsx("span",{className:"appTitle",children:"BUDGET CENTER"}),T.jsx("div",{className:"navRow","aria-label":"Primary navigation",children:C.map(gt=>T.jsx(zD,{label:yk[gt],active:X===gt,onClick:()=>P(gt)},gt))})]}),T.jsxs("div",{className:"headerRight",children:[T.jsx(QD,{profile:bt,email:i.email,loading:Dt,onUpdateProfile:gt=>jD(i.uid,gt).then(Nt)}),T.jsx(HD,{onReset:kn,onSignOut:o,themeValue:I,onChangeTheme:j})]})]})}),T.jsxs("main",{className:"content",children:[X==="dashboard"&&T.jsx(uO,{month:et,income:Qt.income,fixed:Mn.fixed,variable:Mn.variable,leftover:Mn.leftover,goals:J,accounts:H,currentAccountId:N,onChangeCurrentAccount:S,transactions:Qt.transactions||[],currentAccountBalance:Rr,totalBalance:Cr,onCsvImported:Ir,onTransactionsParsed:Ir}),X==="balances"&&T.jsx(mO,{accounts:H,currentAccountId:N,onChangeCurrentAccount:S,onAccountsChange:it,onCreateAccount:Os,onDeleteAccount:ye,onSetAccountBalance:Te,onRenameAccount:pi}),X==="budget"&&T.jsx(pO,{month:et,budget:Qt,totals:Mn,budgetsByMonth:Q,onBudgetChange:gt=>K(Yt=>({...Yt,[et]:gt}))}),X==="transactions"&&T.jsx(_O,{accounts:H,currentAccountId:N,transactions:Qt.transactions||[],filter:at,onFilterChange:dt,onUpdateBudget:gt=>K(Yt=>({...Yt,[et]:gt}))}),X==="goalDetail"&&T.jsx(EO,{goals:J,selectedGoalId:G,onSelectGoal:rt,onGoalsChange:ut}),X==="reports"&&T.jsx(dk,{accounts:H,monthKey:et,onMerchantPick:gt=>{dt(gt),P("transactions")}})]}),k&&T.jsx(GD,{...k,onClose:()=>tt(null)})]})}fS.createRoot(document.getElementById("root")).render(T.jsx(At.StrictMode,{children:T.jsx(OD,{children:T.jsx(vk,{})})}));export{ca as a,K1 as c,X1 as p};
//# sourceMappingURL=index-BBl25nav.js.map
