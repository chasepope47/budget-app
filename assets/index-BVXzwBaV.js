(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $S(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Rm={exports:{}},Ol={};var nv;function KS(){if(nv)return Ol;nv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=t,Ol.jsx=n,Ol.jsxs=n,Ol}var iv;function XS(){return iv||(iv=1,Rm.exports=KS()),Rm.exports}var b=XS(),Nm={exports:{}},Nt={};var rv;function ZS(){if(rv)return Nt;rv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,K={};function lt(V,Z,ct){this.props=V,this.context=Z,this.refs=K,this.updater=ct||U}lt.prototype.isReactComponent={},lt.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},lt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function W(){}W.prototype=lt.prototype;function et(V,Z,ct){this.props=V,this.context=Z,this.refs=K,this.updater=ct||U}var ut=et.prototype=new W;ut.constructor=et,H(ut,lt.prototype),ut.isPureReactComponent=!0;var Q=Array.isArray;function it(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(V,Z,ct){var ft=ct.ref;return{$$typeof:i,type:V,key:Z,ref:ft!==void 0?ft:null,props:ct}}function N(V,Z){return C(V.type,Z,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function L(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ct){return Z[ct]})}var I=/\/+/g;function zt(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Z.toString(36)}function J(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(it,it):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function P(V,Z,ct,ft,vt){var St=typeof V;(St==="undefined"||St==="boolean")&&(V=null);var At=!1;if(V===null)At=!0;else switch(St){case"bigint":case"string":case"number":At=!0;break;case"object":switch(V.$$typeof){case i:case t:At=!0;break;case _:return At=V._init,P(At(V._payload),Z,ct,ft,vt)}}if(At)return vt=vt(V),At=ft===""?"."+zt(V,0):ft,Q(vt)?(ct="",At!=null&&(ct=At.replace(I,"$&/")+"/"),P(vt,Z,ct,"",function(zi){return zi})):vt!=null&&(D(vt)&&(vt=N(vt,ct+(vt.key==null||V&&V.key===vt.key?"":(""+vt.key).replace(I,"$&/")+"/")+At)),Z.push(vt)),1;At=0;var ue=ft===""?".":ft+":";if(Q(V))for(var ne=0;ne<V.length;ne++)ft=V[ne],St=ue+zt(ft,ne),At+=P(ft,Z,ct,St,vt);else if(ne=M(V),typeof ne=="function")for(V=ne.call(V),ne=0;!(ft=V.next()).done;)ft=ft.value,St=ue+zt(ft,ne++),At+=P(ft,Z,ct,St,vt);else if(St==="object"){if(typeof V.then=="function")return P(J(V),Z,ct,ft,vt);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return At}function G(V,Z,ct){if(V==null)return V;var ft=[],vt=0;return P(V,ft,"","",function(St){return Z.call(ct,St,vt++)}),ft}function rt(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(ct){(V._status===0||V._status===-1)&&(V._status=1,V._result=ct)},function(ct){(V._status===0||V._status===-1)&&(V._status=2,V._result=ct)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var at=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},dt={map:G,forEach:function(V,Z,ct){G(V,function(){Z.apply(this,arguments)},ct)},count:function(V){var Z=0;return G(V,function(){Z++}),Z},toArray:function(V){return G(V,function(Z){return Z})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Nt.Activity=T,Nt.Children=dt,Nt.Component=lt,Nt.Fragment=n,Nt.Profiler=o,Nt.PureComponent=et,Nt.StrictMode=s,Nt.Suspense=p,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},Nt.cache=function(V){return function(){return V.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(V,Z,ct){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ft=H({},V.props),vt=V.key;if(Z!=null)for(St in Z.key!==void 0&&(vt=""+Z.key),Z)!x.call(Z,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Z.ref===void 0||(ft[St]=Z[St]);var St=arguments.length-2;if(St===1)ft.children=ct;else if(1<St){for(var At=Array(St),ue=0;ue<St;ue++)At[ue]=arguments[ue+2];ft.children=At}return C(V.type,vt,ft)},Nt.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Nt.createElement=function(V,Z,ct){var ft,vt={},St=null;if(Z!=null)for(ft in Z.key!==void 0&&(St=""+Z.key),Z)x.call(Z,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(vt[ft]=Z[ft]);var At=arguments.length-2;if(At===1)vt.children=ct;else if(1<At){for(var ue=Array(At),ne=0;ne<At;ne++)ue[ne]=arguments[ne+2];vt.children=ue}if(V&&V.defaultProps)for(ft in At=V.defaultProps,At)vt[ft]===void 0&&(vt[ft]=At[ft]);return C(V,St,vt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(V){return{$$typeof:m,render:V}},Nt.isValidElement=D,Nt.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:rt}},Nt.memo=function(V,Z){return{$$typeof:g,type:V,compare:Z===void 0?null:Z}},Nt.startTransition=function(V){var Z=R.T,ct={};R.T=ct;try{var ft=V(),vt=R.S;vt!==null&&vt(ct,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(it,at)}catch(St){at(St)}finally{Z!==null&&ct.types!==null&&(Z.types=ct.types),R.T=Z}},Nt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Nt.use=function(V){return R.H.use(V)},Nt.useActionState=function(V,Z,ct){return R.H.useActionState(V,Z,ct)},Nt.useCallback=function(V,Z){return R.H.useCallback(V,Z)},Nt.useContext=function(V){return R.H.useContext(V)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(V,Z){return R.H.useDeferredValue(V,Z)},Nt.useEffect=function(V,Z){return R.H.useEffect(V,Z)},Nt.useEffectEvent=function(V){return R.H.useEffectEvent(V)},Nt.useId=function(){return R.H.useId()},Nt.useImperativeHandle=function(V,Z,ct){return R.H.useImperativeHandle(V,Z,ct)},Nt.useInsertionEffect=function(V,Z){return R.H.useInsertionEffect(V,Z)},Nt.useLayoutEffect=function(V,Z){return R.H.useLayoutEffect(V,Z)},Nt.useMemo=function(V,Z){return R.H.useMemo(V,Z)},Nt.useOptimistic=function(V,Z){return R.H.useOptimistic(V,Z)},Nt.useReducer=function(V,Z,ct){return R.H.useReducer(V,Z,ct)},Nt.useRef=function(V){return R.H.useRef(V)},Nt.useState=function(V){return R.H.useState(V)},Nt.useSyncExternalStore=function(V,Z,ct){return R.H.useSyncExternalStore(V,Z,ct)},Nt.useTransition=function(){return R.H.useTransition()},Nt.version="19.2.1",Nt}var sv;function Lp(){return sv||(sv=1,Nm.exports=ZS()),Nm.exports}var xt=Lp();const ve=$S(xt);var Cm={exports:{}},Ml={},Im={exports:{}},Dm={};var av;function JS(){return av||(av=1,(function(i){function t(P,G){var rt=P.length;P.push(G);t:for(;0<rt;){var at=rt-1>>>1,dt=P[at];if(0<o(dt,G))P[at]=G,P[rt]=dt,rt=at;else break t}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var G=P[0],rt=P.pop();if(rt!==G){P[0]=rt;t:for(var at=0,dt=P.length,V=dt>>>1;at<V;){var Z=2*(at+1)-1,ct=P[Z],ft=Z+1,vt=P[ft];if(0>o(ct,rt))ft<dt&&0>o(vt,ct)?(P[at]=vt,P[ft]=rt,at=ft):(P[at]=ct,P[Z]=rt,at=Z);else if(ft<dt&&0>o(vt,rt))P[at]=vt,P[ft]=rt,at=ft;else break t}}return G}function o(P,G){var rt=P.sortIndex-G.sortIndex;return rt!==0?rt:P.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,T=null,S=3,M=!1,U=!1,H=!1,K=!1,lt=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function ut(P){for(var G=n(g);G!==null;){if(G.callback===null)s(g);else if(G.startTime<=P)s(g),G.sortIndex=G.expirationTime,t(p,G);else break;G=n(g)}}function Q(P){if(H=!1,ut(P),!U)if(n(p)!==null)U=!0,it||(it=!0,L());else{var G=n(g);G!==null&&J(Q,G.startTime-P)}}var it=!1,R=-1,x=5,C=-1;function N(){return K?!0:!(i.unstable_now()-C<x)}function D(){if(K=!1,it){var P=i.unstable_now();C=P;var G=!0;try{t:{U=!1,H&&(H=!1,W(R),R=-1),M=!0;var rt=S;try{e:{for(ut(P),T=n(p);T!==null&&!(T.expirationTime>P&&N());){var at=T.callback;if(typeof at=="function"){T.callback=null,S=T.priorityLevel;var dt=at(T.expirationTime<=P);if(P=i.unstable_now(),typeof dt=="function"){T.callback=dt,ut(P),G=!0;break e}T===n(p)&&s(p),ut(P)}else s(p);T=n(p)}if(T!==null)G=!0;else{var V=n(g);V!==null&&J(Q,V.startTime-P),G=!1}}break t}finally{T=null,S=rt,M=!1}G=void 0}}finally{G?L():it=!1}}}var L;if(typeof et=="function")L=function(){et(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,zt=I.port2;I.port1.onmessage=D,L=function(){zt.postMessage(null)}}else L=function(){lt(D,0)};function J(P,G){R=lt(function(){P(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(P){switch(S){case 1:case 2:case 3:var G=3;break;default:G=S}var rt=S;S=G;try{return P()}finally{S=rt}},i.unstable_requestPaint=function(){K=!0},i.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var rt=S;S=P;try{return G()}finally{S=rt}},i.unstable_scheduleCallback=function(P,G,rt){var at=i.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?at+rt:at):rt=at,P){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=rt+dt,P={id:_++,callback:G,priorityLevel:P,startTime:rt,expirationTime:dt,sortIndex:-1},rt>at?(P.sortIndex=rt,t(g,P),n(p)===null&&P===n(g)&&(H?(W(R),R=-1):H=!0,J(Q,rt-at))):(P.sortIndex=dt,t(p,P),U||M||(U=!0,it||(it=!0,L()))),P},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(P){var G=S;return function(){var rt=S;S=G;try{return P.apply(this,arguments)}finally{S=rt}}}})(Dm)),Dm}var ov;function WS(){return ov||(ov=1,Im.exports=JS()),Im.exports}var Om={exports:{}},Ze={};var lv;function tA(){if(lv)return Ze;lv=1;var i=Lp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,_)},Ze.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},Ze.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ze.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ze.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:M}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ze.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ze.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ze.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ze.requestFormReset=function(p){s.d.r(p)},Ze.unstable_batchedUpdates=function(p,g){return p(g)},Ze.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},Ze.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ze.version="19.2.1",Ze}var uv;function eA(){if(uv)return Om.exports;uv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Om.exports=tA(),Om.exports}var cv;function nA(){if(cv)return Ml;cv=1;var i=WS(),t=Lp(),n=eA();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function c(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,w=f.child;w;){if(w===a){v=!0,a=f,l=d;break}if(w===l){v=!0,l=f,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=f;break}if(w===l){v=!0,l=d,a=f;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function _(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=_(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),et=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case lt:return"Profiler";case K:return"StrictMode";case Q:return"Suspense";case it:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case et:return e.displayName||"Context";case W:return(e._context.displayName||"Context")+".Consumer";case ut:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return r=e.displayName||null,r!==null?r:zt(e.type)||"Memo";case x:r=e._payload,e=e._init;try{return zt(e(r))}catch{}}return null}var J=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},at=[],dt=-1;function V(e){return{current:e}}function Z(e){0>dt||(e.current=at[dt],at[dt]=null,dt--)}function ct(e,r){dt++,at[dt]=e.current,e.current=r}var ft=V(null),vt=V(null),St=V(null),At=V(null);function ue(e,r){switch(ct(St,r),ct(vt,e),ct(ft,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?A_(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=A_(r),e=x_(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(ft),ct(ft,e)}function ne(){Z(ft),Z(vt),Z(St)}function zi(e){e.memoizedState!==null&&ct(At,e);var r=ft.current,a=x_(r,e.type);r!==a&&(ct(vt,e),ct(ft,a))}function Ht(e){vt.current===e&&(Z(ft),Z(vt)),At.current===e&&(Z(At),Nl._currentValue=rt)}var gn,_r;function Ee(e){if(gn===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);gn=r&&r[1]||"",_r=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gn+e+_r}var No=!1;function vs(e,r){if(!e||No)return"";No=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var F=$}Reflect.construct(e,[],nt)}else{try{nt.call()}catch($){F=$}e.call(nt.prototype)}}else{try{throw Error()}catch($){F=$}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var O=v.split(`
`),q=w.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===q.length)for(l=O.length-1,f=q.length-1;1<=l&&0<=f&&O[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==q[f]){var X=`
`+O[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=f);break}}}finally{No=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ee(a):""}function Co(e,r){switch(e.tag){case 26:case 27:case 5:return Ee(e.type);case 16:return Ee("Lazy");case 13:return e.child!==r&&r!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return vs(e.type,!1);case 11:return vs(e.type.render,!1);case 1:return vs(e.type,!0);case 31:return Ee("Activity");default:return""}}function Io(e){try{var r="",a=null;do r+=Co(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Te=Object.prototype.hasOwnProperty,Me=i.unstable_scheduleCallback,vr=i.unstable_cancelCallback,Cf=i.unstable_shouldYield,Cu=i.unstable_requestPaint,nn=i.unstable_now,Es=i.unstable_getCurrentPriorityLevel,Do=i.unstable_ImmediatePriority,Oo=i.unstable_UserBlockingPriority,Er=i.unstable_NormalPriority,If=i.unstable_LowPriority,Iu=i.unstable_IdlePriority,Du=i.log,Ou=i.unstable_setDisableYieldValue,Hn=null,Be=null;function Nn(e){if(typeof Du=="function"&&Ou(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Hn,e)}catch{}}var me=Math.clz32?Math.clz32:Vu,Mu=Math.log,ha=Math.LN2;function Vu(e){return e>>>=0,e===0?32:31-(Mu(e)/ha|0)|0}var li=256,Ts=262144,be=4194304;function ui(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=ui(l):(v&=w,v!==0?f=ui(v):a||(a=w&~e,a!==0&&(f=ui(a))))):(w=l&~d,w!==0?f=ui(w):v!==0?f=ui(v):a||(a=l&~e,a!==0&&(f=ui(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Fn(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Df(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ku(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function hi(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function bs(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Of(e,r,a,l,f,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,O=e.expirationTimes,q=e.hiddenUpdates;for(a=v&~a;0<a;){var X=31-me(a),nt=1<<X;w[X]=0,O[X]=-1;var F=q[X];if(F!==null)for(q[X]=null,X=0;X<F.length;X++){var $=F[X];$!==null&&($.lane&=-536870913)}a&=~nt}l!==0&&ws(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~r))}function ws(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-me(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Mo(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-me(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function Vo(e,r){var a=r&-r;return a=(a&42)!==0?1:Ss(a),(a&(e.suspendedLanes|r))!==0?0:a}function Ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lu(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:K_(e.type))}function Gn(e,r){var a=G.p;try{return G.p=e,r()}finally{G.p=a}}var Qn=Math.random().toString(36).slice(2),we="__reactFiber$"+Qn,Pe="__reactProps$"+Qn,fi="__reactContainer$"+Qn,fa="__reactEvents$"+Qn,Mf="__reactListeners$"+Qn,Pu="__reactHandles$"+Qn,Uu="__reactResources$"+Qn,di="__reactMarker$"+Qn;function da(e){delete e[we],delete e[Pe],delete e[fa],delete e[Mf],delete e[Pu]}function mi(e){var r=e[we];if(r)return r;for(var a=e.parentNode;a;){if(r=a[fi]||a[we]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=M_(e);e!==null;){if(a=e[we])return a;e=M_(e)}return r}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[we]||e[fi]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function yn(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function pi(e){var r=e[Uu];return r||(r=e[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Se(e){e[di]=!0}var ko=new Set,Lo={};function gi(e,r){yi(e,r),yi(e+"Capture",r)}function yi(e,r){for(Lo[e]=r,e=0;e<r.length;e++)ko.add(r[e])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},jo={};function ju(e){return Te.call(jo,e)?!0:Te.call(Uo,e)?!1:Po.test(e)?jo[e]=!0:(Uo[e]=!0,!1)}function ma(e,r,a){if(ju(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function _n(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function Ae(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tr(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zo(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Kt(e){if(!e._valueTracker){var r=Tr(e)?"checked":"value";e._valueTracker=zo(e,r,""+e[r])}}function As(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Tr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xs=/[\n"\\]/g;function an(e){return e.replace(xs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pa(e,r,a,l,f,d,v,w){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),r!=null?v==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+Ue(r)):e.value!==""+Ue(r)&&(e.value=""+Ue(r)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),r!=null?Bo(e,v,Ue(r)):a!=null?Bo(e,v,Ue(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Ue(w):e.removeAttribute("name")}function zu(e,r,a,l,f,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Kt(e);return}a=a!=null?""+Ue(a):"",r=r!=null?""+Ue(r):a,w||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Kt(e)}function Bo(e,r,a){r==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function br(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Bu(e,r,a){if(r!=null&&(r=""+Ue(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+Ue(a):""}function wr(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(J(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ue(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function on(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||qu.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Ho(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&qo(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&qo(e,d,r[d])}function ga(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(e){return Sr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Fo=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ar=null,vi=null;function Rs(e){var r=Cn(e);if(r&&(e=r.stateNode)){var a=e[Pe]||null;t:switch(e=r.stateNode,r.type){case"input":if(pa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[Pe]||null;if(!f)throw Error(s(90));pa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&As(l)}break t;case"textarea":Bu(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&br(e,!!a.multiple,r,!1)}}}var _a=!1;function xr(e,r,a){if(_a)return e(r,a);_a=!0;try{var l=e(r);return l}finally{if(_a=!1,(Ar!==null||vi!==null)&&(Lc(),Ar&&(r=Ar,e=vi,vi=Ar=null,Rs(r),e)))for(r=0;r<e.length;r++)Rs(e[r])}}function $n(e,r){var a=e.stateNode;if(a===null)return null;var l=a[Pe]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(Dn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Ns=!1}var Ei=null,Go=null,Cs=null;function Qo(){if(Cs)return Cs;var e,r=Go,a=r.length,l,f="value"in Ei?Ei.value:Ei.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var v=a-e;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return Cs=f.slice(e,1<l?1-l:void 0)}function Is(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function qi(){return!0}function Kn(){return!1}function qe(e){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qi:Kn,this.isPropagationStopped=Kn,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),r}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=qe(Hi),Rr=T({},Hi,{view:0,detail:0}),Yo=qe(Rr),Nr,va,bi,Ea=T({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Nr=e.screenX-bi.screenX,va=e.screenY-bi.screenY):va=Nr=0,bi=e),Nr)},movementY:function(e){return"movementY"in e?e.movementY:va}}),$o=qe(Ea),Ds=T({},Ea,{dataTransfer:0}),Fu=qe(Ds),Gu=T({},Rr,{relatedTarget:0}),Os=qe(Gu),Ko=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=qe(Ko),Ta=T({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yu=qe(Ta),$u=T({},Hi,{data:0}),wi=qe($u),Ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Zu[e])?!!r[e]:!1}function Cr(){return Ju}var rn=T({},Rr,{key:function(e){if(e.key){var r=Ku[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return e.type==="keypress"?Is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wu=qe(rn),tc=T({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=qe(tc),h=T({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),y=qe(h),E=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qe(E),z=T({},Ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=qe(z),ht=T({},Hi,{newState:0,oldState:0}),It=qe(ht),pe=[9,13,27,32],Qt=Dn&&"CompositionEvent"in window,oe=null;Dn&&"documentMode"in document&&(oe=document.documentMode);var On=Dn&&"TextEvent"in window&&!oe,Si=Dn&&(!Qt||oe&&8<oe&&11>=oe),Xn=" ",Zn=!1;function Ms(e,r){switch(e){case"keyup":return pe.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function _w(e,r){switch(e){case"compositionend":return ba(r);case"keypress":return r.which!==32?null:(Zn=!0,Xn);case"textInput":return e=r.data,e===Xn&&Zn?null:e;default:return null}}function vw(e,r){if(wa)return e==="compositionend"||!Qt&&Ms(e,r)?(e=Qo(),Cs=Go=Ei=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Si&&r.locale!=="ko"?null:r.data;default:return null}}var Ew={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Ew[e.type]:r==="textarea"}function Pg(e,r,a,l){Ar?vi?vi.push(l):vi=[l]:Ar=l,r=Hc(r,"onChange"),0<r.length&&(a=new Ti("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var Xo=null,Zo=null;function Tw(e){v_(e,0)}function ec(e){var r=yn(e);if(As(r))return e}function Ug(e,r){if(e==="change")return r}var jg=!1;if(Dn){var Vf;if(Dn){var kf="oninput"in document;if(!kf){var zg=document.createElement("div");zg.setAttribute("oninput","return;"),kf=typeof zg.oninput=="function"}Vf=kf}else Vf=!1;jg=Vf&&(!document.documentMode||9<document.documentMode)}function Bg(){Xo&&(Xo.detachEvent("onpropertychange",qg),Zo=Xo=null)}function qg(e){if(e.propertyName==="value"&&ec(Zo)){var r=[];Pg(r,Zo,e,In(e)),xr(Tw,r)}}function bw(e,r,a){e==="focusin"?(Bg(),Xo=r,Zo=a,Xo.attachEvent("onpropertychange",qg)):e==="focusout"&&Bg()}function ww(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ec(Zo)}function Sw(e,r){if(e==="click")return ec(r)}function Aw(e,r){if(e==="input"||e==="change")return ec(r)}function xw(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var vn=typeof Object.is=="function"?Object.is:xw;function Jo(e,r){if(vn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Te.call(r,f)||!vn(e[f],r[f]))return!1}return!0}function Hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fg(e,r){var a=Hg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Hg(a)}}function Gg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Gg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Qg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=_i(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=_i(e.document)}return r}function Lf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Rw=Dn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Pf=null,Wo=null,Uf=!1;function Yg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uf||Sa==null||Sa!==_i(l)||(l=Sa,"selectionStart"in l&&Lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Jo(Wo,l)||(Wo=l,l=Hc(Pf,"onSelect"),0<l.length&&(r=new Ti("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Sa)))}function Vs(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Aa={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},jf={},$g={};Dn&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function ks(e){if(jf[e])return jf[e];if(!Aa[e])return e;var r=Aa[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in $g)return jf[e]=r[a];return e}var Kg=ks("animationend"),Xg=ks("animationiteration"),Zg=ks("animationstart"),Nw=ks("transitionrun"),Cw=ks("transitionstart"),Iw=ks("transitioncancel"),Jg=ks("transitionend"),Wg=new Map,zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zf.push("scrollEnd");function Jn(e,r){Wg.set(e,r),gi(r,[e])}var nc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],xa=0,Bf=0;function ic(){for(var e=xa,r=Bf=xa=0;r<e;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var f=Mn[r];Mn[r++]=null;var d=Mn[r];if(Mn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&ty(a,f,d)}}function rc(e,r,a,l){Mn[xa++]=e,Mn[xa++]=r,Mn[xa++]=a,Mn[xa++]=l,Bf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function qf(e,r,a,l){return rc(e,r,a,l),sc(e)}function Ls(e,r){return rc(e,null,null,r),sc(e)}function ty(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-me(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function sc(e){if(50<Tl)throw Tl=0,Zd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Ra={};function Dw(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,r,a,l){return new Dw(e,r,a,l)}function Hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gi(e,r){var a=e.alternate;return a===null?(a=En(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ey(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function ac(e,r,a,l,f,d){var v=0;if(l=e,typeof e=="function")Hf(e)&&(v=1);else if(typeof e=="string")v=LS(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=En(31,a,r,f),e.elementType=C,e.lanes=d,e;case H:return Ps(a.children,f,d,r);case K:v=8,f|=24;break;case lt:return e=En(12,a,r,f|2),e.elementType=lt,e.lanes=d,e;case Q:return e=En(13,a,r,f),e.elementType=Q,e.lanes=d,e;case it:return e=En(19,a,r,f),e.elementType=it,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:v=10;break t;case W:v=9;break t;case ut:v=11;break t;case R:v=14;break t;case x:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=En(v,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function Ps(e,r,a,l){return e=En(7,e,l,r),e.lanes=a,e}function Ff(e,r,a){return e=En(6,e,null,r),e.lanes=a,e}function ny(e){var r=En(18,null,null,0);return r.stateNode=e,r}function Gf(e,r,a){return r=En(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var iy=new WeakMap;function Vn(e,r){if(typeof e=="object"&&e!==null){var a=iy.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Io(r)},iy.set(e,r),r)}return{value:e,source:r,stack:Io(r)}}var Na=[],Ca=0,oc=null,tl=0,kn=[],Ln=0,Ir=null,Ai=1,xi="";function Qi(e,r){Na[Ca++]=tl,Na[Ca++]=oc,oc=e,tl=r}function ry(e,r,a){kn[Ln++]=Ai,kn[Ln++]=xi,kn[Ln++]=Ir,Ir=e;var l=Ai;e=xi;var f=32-me(l)-1;l&=~(1<<f),a+=1;var d=32-me(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ai=1<<32-me(r)+f|a<<f|l,xi=d+e}else Ai=1<<d|a<<f|l,xi=e}function Qf(e){e.return!==null&&(Qi(e,1),ry(e,1,0))}function Yf(e){for(;e===oc;)oc=Na[--Ca],Na[Ca]=null,tl=Na[--Ca],Na[Ca]=null;for(;e===Ir;)Ir=kn[--Ln],kn[Ln]=null,xi=kn[--Ln],kn[Ln]=null,Ai=kn[--Ln],kn[Ln]=null}function sy(e,r){kn[Ln++]=Ai,kn[Ln++]=xi,kn[Ln++]=Ir,Ai=r.id,xi=r.overflow,Ir=e}var He=null,re=null,Bt=!1,Dr=null,Pn=!1,$f=Error(s(519));function Or(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Vn(r,e)),$f}function ay(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[we]=e,r[Pe]=l,a){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(a=0;a<wl.length;a++)Vt(wl[a],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Vt("invalid",r),zu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",r);break;case"textarea":Vt("invalid",r),wr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||w_(r.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",r),Vt("toggle",r)),l.onScroll!=null&&Vt("scroll",r),l.onScrollEnd!=null&&Vt("scrollend",r),l.onClick!=null&&(r.onclick=Yn),r=!0):r=!1,r||Or(e,!0)}function oy(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:He=He.return}}function Ia(e){if(e!==He)return!1;if(!Bt)return oy(e),Bt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||fm(e.type,e.memoizedProps)),a=!a),a&&re&&Or(e),oy(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));re=O_(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));re=O_(e)}else r===27?(r=re,Qr(e.type)?(e=ym,ym=null,re=e):re=r):re=He?jn(e.stateNode.nextSibling):null;return!0}function Us(){re=He=null,Bt=!1}function Kf(){var e=Dr;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Dr=null),e}function el(e){Dr===null?Dr=[e]:Dr.push(e)}var Xf=V(null),js=null,Yi=null;function Mr(e,r,a){ct(Xf,r._currentValue),r._currentValue=a}function $i(e){e._currentValue=Xf.current,Z(Xf)}function Zf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Jf(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=f;for(var O=0;O<r.length;O++)if(w.context===r[O]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Zf(d.return,a,e),l||(v=null);break t}d=w.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Zf(v,a,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Da(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=f.type;vn(f.pendingProps.value,v.value)||(e!==null?e.push(w):e=[w])}}else if(f===At.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Nl):e=[Nl])}f=f.return}e!==null&&Jf(r,e,a,l),r.flags|=262144}function lc(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zs(e){js=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return ly(js,e)}function uc(e,r){return js===null&&zs(e),ly(e,r)}function ly(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yi===null){if(e===null)throw Error(s(308));Yi=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Yi=Yi.next=r;return a}var Ow=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},Mw=i.unstable_scheduleCallback,Vw=i.unstable_NormalPriority,xe={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new Ow,data:new Map,refCount:0}}function nl(e){e.refCount--,e.refCount===0&&Mw(Vw,function(){e.controller.abort()})}var il=null,td=0,Oa=0,Ma=null;function kw(e,r){if(il===null){var a=il=[];td=0,Oa=im(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return td++,r.then(uy,uy),r}function uy(){if(--td===0&&il!==null){Ma!==null&&(Ma.status="fulfilled");var e=il;il=null,Oa=0,Ma=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Lw(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var cy=P.S;P.S=function(e,r){Y0=nn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&kw(e,r),cy!==null&&cy(e,r)};var Bs=V(null);function ed(){var e=Bs.current;return e!==null?e:ie.pooledCache}function cc(e,r){r===null?ct(Bs,Bs.current):ct(Bs,r.pool)}function hy(){var e=ed();return e===null?null:{parent:xe._currentValue,pool:e}}var Va=Error(s(460)),nd=Error(s(474)),hc=Error(s(542)),fc={then:function(){}};function fy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dy(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(Yn,Yn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,py(e),e;default:if(typeof r.status=="string")r.then(Yn,Yn);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,py(e),e}throw Hs=r,Va}}function qs(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,Va):a}}var Hs=null;function my(){if(Hs===null)throw Error(s(459));var e=Hs;return Hs=null,e}function py(e){if(e===Va||e===hc)throw Error(s(483))}var ka=null,rl=0;function dc(e){var r=rl;return rl+=1,ka===null&&(ka=[]),dy(ka,e,r)}function sl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function mc(e,r){throw r.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function gy(e){function r(j,k){if(e){var B=j.deletions;B===null?(j.deletions=[k],j.flags|=16):B.push(k)}}function a(j,k){if(!e)return null;for(;k!==null;)r(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=Gi(j,k),j.index=0,j.sibling=null,j}function d(j,k,B){return j.index=B,e?(B=j.alternate,B!==null?(B=B.index,B<k?(j.flags|=67108866,k):B):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function v(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function w(j,k,B,tt){return k===null||k.tag!==6?(k=Ff(B,j.mode,tt),k.return=j,k):(k=f(k,B),k.return=j,k)}function O(j,k,B,tt){var _t=B.type;return _t===H?X(j,k,B.props.children,tt,B.key):k!==null&&(k.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===x&&qs(_t)===k.type)?(k=f(k,B.props),sl(k,B),k.return=j,k):(k=ac(B.type,B.key,B.props,null,j.mode,tt),sl(k,B),k.return=j,k)}function q(j,k,B,tt){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=Gf(B,j.mode,tt),k.return=j,k):(k=f(k,B.children||[]),k.return=j,k)}function X(j,k,B,tt,_t){return k===null||k.tag!==7?(k=Ps(B,j.mode,tt,_t),k.return=j,k):(k=f(k,B),k.return=j,k)}function nt(j,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Ff(""+k,j.mode,B),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case M:return B=ac(k.type,k.key,k.props,null,j.mode,B),sl(B,k),B.return=j,B;case U:return k=Gf(k,j.mode,B),k.return=j,k;case x:return k=qs(k),nt(j,k,B)}if(J(k)||L(k))return k=Ps(k,j.mode,B,null),k.return=j,k;if(typeof k.then=="function")return nt(j,dc(k),B);if(k.$$typeof===et)return nt(j,uc(j,k),B);mc(j,k)}return null}function F(j,k,B,tt){var _t=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return _t!==null?null:w(j,k,""+B,tt);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case M:return B.key===_t?O(j,k,B,tt):null;case U:return B.key===_t?q(j,k,B,tt):null;case x:return B=qs(B),F(j,k,B,tt)}if(J(B)||L(B))return _t!==null?null:X(j,k,B,tt,null);if(typeof B.then=="function")return F(j,k,dc(B),tt);if(B.$$typeof===et)return F(j,k,uc(j,B),tt);mc(j,B)}return null}function $(j,k,B,tt,_t){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return j=j.get(B)||null,w(k,j,""+tt,_t);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case M:return j=j.get(tt.key===null?B:tt.key)||null,O(k,j,tt,_t);case U:return j=j.get(tt.key===null?B:tt.key)||null,q(k,j,tt,_t);case x:return tt=qs(tt),$(j,k,B,tt,_t)}if(J(tt)||L(tt))return j=j.get(B)||null,X(k,j,tt,_t,null);if(typeof tt.then=="function")return $(j,k,B,dc(tt),_t);if(tt.$$typeof===et)return $(j,k,B,uc(k,tt),_t);mc(k,tt)}return null}function pt(j,k,B,tt){for(var _t=null,Ft=null,gt=k,Ot=k=0,Lt=null;gt!==null&&Ot<B.length;Ot++){gt.index>Ot?(Lt=gt,gt=null):Lt=gt.sibling;var Gt=F(j,gt,B[Ot],tt);if(Gt===null){gt===null&&(gt=Lt);break}e&&gt&&Gt.alternate===null&&r(j,gt),k=d(Gt,k,Ot),Ft===null?_t=Gt:Ft.sibling=Gt,Ft=Gt,gt=Lt}if(Ot===B.length)return a(j,gt),Bt&&Qi(j,Ot),_t;if(gt===null){for(;Ot<B.length;Ot++)gt=nt(j,B[Ot],tt),gt!==null&&(k=d(gt,k,Ot),Ft===null?_t=gt:Ft.sibling=gt,Ft=gt);return Bt&&Qi(j,Ot),_t}for(gt=l(gt);Ot<B.length;Ot++)Lt=$(gt,j,Ot,B[Ot],tt),Lt!==null&&(e&&Lt.alternate!==null&&gt.delete(Lt.key===null?Ot:Lt.key),k=d(Lt,k,Ot),Ft===null?_t=Lt:Ft.sibling=Lt,Ft=Lt);return e&&gt.forEach(function(Zr){return r(j,Zr)}),Bt&&Qi(j,Ot),_t}function Tt(j,k,B,tt){if(B==null)throw Error(s(151));for(var _t=null,Ft=null,gt=k,Ot=k=0,Lt=null,Gt=B.next();gt!==null&&!Gt.done;Ot++,Gt=B.next()){gt.index>Ot?(Lt=gt,gt=null):Lt=gt.sibling;var Zr=F(j,gt,Gt.value,tt);if(Zr===null){gt===null&&(gt=Lt);break}e&&gt&&Zr.alternate===null&&r(j,gt),k=d(Zr,k,Ot),Ft===null?_t=Zr:Ft.sibling=Zr,Ft=Zr,gt=Lt}if(Gt.done)return a(j,gt),Bt&&Qi(j,Ot),_t;if(gt===null){for(;!Gt.done;Ot++,Gt=B.next())Gt=nt(j,Gt.value,tt),Gt!==null&&(k=d(Gt,k,Ot),Ft===null?_t=Gt:Ft.sibling=Gt,Ft=Gt);return Bt&&Qi(j,Ot),_t}for(gt=l(gt);!Gt.done;Ot++,Gt=B.next())Gt=$(gt,j,Ot,Gt.value,tt),Gt!==null&&(e&&Gt.alternate!==null&&gt.delete(Gt.key===null?Ot:Gt.key),k=d(Gt,k,Ot),Ft===null?_t=Gt:Ft.sibling=Gt,Ft=Gt);return e&&gt.forEach(function(YS){return r(j,YS)}),Bt&&Qi(j,Ot),_t}function ee(j,k,B,tt){if(typeof B=="object"&&B!==null&&B.type===H&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case M:t:{for(var _t=B.key;k!==null;){if(k.key===_t){if(_t=B.type,_t===H){if(k.tag===7){a(j,k.sibling),tt=f(k,B.props.children),tt.return=j,j=tt;break t}}else if(k.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===x&&qs(_t)===k.type){a(j,k.sibling),tt=f(k,B.props),sl(tt,B),tt.return=j,j=tt;break t}a(j,k);break}else r(j,k);k=k.sibling}B.type===H?(tt=Ps(B.props.children,j.mode,tt,B.key),tt.return=j,j=tt):(tt=ac(B.type,B.key,B.props,null,j.mode,tt),sl(tt,B),tt.return=j,j=tt)}return v(j);case U:t:{for(_t=B.key;k!==null;){if(k.key===_t)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){a(j,k.sibling),tt=f(k,B.children||[]),tt.return=j,j=tt;break t}else{a(j,k);break}else r(j,k);k=k.sibling}tt=Gf(B,j.mode,tt),tt.return=j,j=tt}return v(j);case x:return B=qs(B),ee(j,k,B,tt)}if(J(B))return pt(j,k,B,tt);if(L(B)){if(_t=L(B),typeof _t!="function")throw Error(s(150));return B=_t.call(B),Tt(j,k,B,tt)}if(typeof B.then=="function")return ee(j,k,dc(B),tt);if(B.$$typeof===et)return ee(j,k,uc(j,B),tt);mc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(a(j,k.sibling),tt=f(k,B),tt.return=j,j=tt):(a(j,k),tt=Ff(B,j.mode,tt),tt.return=j,j=tt),v(j)):a(j,k)}return function(j,k,B,tt){try{rl=0;var _t=ee(j,k,B,tt);return ka=null,_t}catch(gt){if(gt===Va||gt===hc)throw gt;var Ft=En(29,gt,null,j.mode);return Ft.lanes=tt,Ft.return=j,Ft}finally{}}}var Fs=gy(!0),yy=gy(!1),Vr=!1;function id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=sc(e),ty(e,null,a),r}return rc(e,l,r,a),sc(e)}function al(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Mo(e,a)}}function sd(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var ad=!1;function ol(){if(ad){var e=Ma;if(e!==null)throw e}}function ll(e,r,a,l){ad=!1;var f=e.updateQueue;Vr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,q=O.next;O.next=null,v===null?d=q:v.next=q,v=O;var X=e.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==v&&(w===null?X.firstBaseUpdate=q:w.next=q,X.lastBaseUpdate=O))}if(d!==null){var nt=f.baseState;v=0,X=q=O=null,w=d;do{var F=w.lane&-536870913,$=F!==w.lane;if($?(kt&F)===F:(l&F)===F){F!==0&&F===Oa&&(ad=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var pt=e,Tt=w;F=r;var ee=a;switch(Tt.tag){case 1:if(pt=Tt.payload,typeof pt=="function"){nt=pt.call(ee,nt,F);break t}nt=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Tt.payload,F=typeof pt=="function"?pt.call(ee,nt,F):pt,F==null)break t;nt=T({},nt,F);break t;case 2:Vr=!0}}F=w.callback,F!==null&&(e.flags|=64,$&&(e.flags|=8192),$=f.callbacks,$===null?f.callbacks=[F]:$.push(F))}else $={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(q=X=$,O=nt):X=X.next=$,v|=F;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;$=w,w=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);X===null&&(O=nt),f.baseState=O,f.firstBaseUpdate=q,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Br|=v,e.lanes=v,e.memoizedState=nt}}function _y(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function vy(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_y(a[e],r)}var La=V(null),pc=V(0);function Ey(e,r){e=ir,ct(pc,e),ct(La,r),ir=e|r.baseLanes}function od(){ct(pc,ir),ct(La,La.current)}function ld(){ir=pc.current,Z(La),Z(pc)}var Tn=V(null),Un=null;function Pr(e){var r=e.alternate;ct(ge,ge.current&1),ct(Tn,e),Un===null&&(r===null||La.current!==null||r.memoizedState!==null)&&(Un=e)}function ud(e){ct(ge,ge.current),ct(Tn,e),Un===null&&(Un=e)}function Ty(e){e.tag===22?(ct(ge,ge.current),ct(Tn,e),Un===null&&(Un=e)):Ur()}function Ur(){ct(ge,ge.current),ct(Tn,Tn.current)}function bn(e){Z(Tn),Un===e&&(Un=null),Z(ge)}var ge=V(0);function gc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pm(a)||gm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ki=0,Dt=null,Wt=null,Re=null,yc=!1,Pa=!1,Gs=!1,_c=0,ul=0,Ua=null,Pw=0;function fe(){throw Error(s(321))}function cd(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!vn(e[a],r[a]))return!1;return!0}function hd(e,r,a,l,f,d){return Ki=d,Dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=e===null||e.memoizedState===null?r0:xd,Gs=!1,d=a(l,f),Gs=!1,Pa&&(d=wy(r,a,l,f)),by(e),d}function by(e){P.H=fl;var r=Wt!==null&&Wt.next!==null;if(Ki=0,Re=Wt=Dt=null,yc=!1,ul=0,Ua=null,r)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&lc(e)&&(Ne=!0))}function wy(e,r,a,l){Dt=e;var f=0;do{if(Pa&&(Ua=null),ul=0,Pa=!1,25<=f)throw Error(s(301));if(f+=1,Re=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=s0,d=r(a,l)}while(Pa);return d}function Uw(){var e=P.H,r=e.useState()[0];return r=typeof r.then=="function"?cl(r):r,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Dt.flags|=1024),r}function fd(){var e=_c!==0;return _c=0,e}function dd(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function md(e){if(yc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}yc=!1}Ki=0,Re=Wt=Dt=null,Pa=!1,ul=_c=0,Ua=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Dt.memoizedState=Re=e:Re=Re.next=e,Re}function ye(){if(Wt===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var r=Re===null?Dt.memoizedState:Re.next;if(r!==null)Re=r,Wt=e;else{if(e===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Re===null?Dt.memoizedState=Re=e:Re=Re.next=e}return Re}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var r=ul;return ul+=1,Ua===null&&(Ua=[]),e=dy(Ua,e,r),r=Dt,(Re===null?r.memoizedState:Re.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?r0:xd),e}function Ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===et)return Fe(e)}throw Error(s(438,String(e)))}function pd(e){var r=null,a=Dt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=vc(),Dt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=N;return r.index++,a}function Xi(e,r){return typeof r=="function"?r(e):r}function Tc(e){var r=ye();return gd(r,Wt,e)}function gd(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var w=v=null,O=null,q=r,X=!1;do{var nt=q.lane&-536870913;if(nt!==q.lane?(kt&nt)===nt:(Ki&nt)===nt){var F=q.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),nt===Oa&&(X=!0);else if((Ki&F)===F){q=q.next,F===Oa&&(X=!0);continue}else nt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(w=O=nt,v=d):O=O.next=nt,Dt.lanes|=F,Br|=F;nt=q.action,Gs&&a(d,nt),d=q.hasEagerState?q.eagerState:a(d,nt)}else F={lane:nt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(w=O=F,v=d):O=O.next=F,Dt.lanes|=nt,Br|=nt;q=q.next}while(q!==null&&q!==r);if(O===null?v=d:O.next=w,!vn(d,e.memoizedState)&&(Ne=!0,X&&(a=Ma,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yd(e){var r=ye(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);vn(d,r.memoizedState)||(Ne=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Sy(e,r,a){var l=Dt,f=ye(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!vn((Wt||f).memoizedState,a);if(v&&(f.memoizedState=a,Ne=!0),f=f.queue,Ed(Ry.bind(null,l,f,e),[e]),f.getSnapshot!==r||v||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,ja(9,{destroy:void 0},xy.bind(null,l,f,a,r),null),ie===null)throw Error(s(349));d||(Ki&127)!==0||Ay(l,r,a)}return a}function Ay(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Dt.updateQueue,r===null?(r=vc(),Dt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function xy(e,r,a,l){r.value=a,r.getSnapshot=l,Ny(r)&&Cy(e)}function Ry(e,r,a){return a(function(){Ny(r)&&Cy(e)})}function Ny(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!vn(e,a)}catch{return!0}}function Cy(e){var r=Ls(e,2);r!==null&&fn(r,e,2)}function _d(e){var r=sn();if(typeof e=="function"){var a=e;if(e=a(),Gs){Nn(!0);try{a()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},r}function Iy(e,r,a,l){return e.baseState=a,gd(e,Wt,typeof l=="function"?l:Xi)}function jw(e,r,a,l,f){if(Sc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};P.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Dy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Dy(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=P.T,v={};P.T=v;try{var w=a(f,l),O=P.S;O!==null&&O(v,w),Oy(e,r,w)}catch(q){vd(e,r,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),P.T=d}}else try{d=a(f,l),Oy(e,r,d)}catch(q){vd(e,r,q)}}function Oy(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){My(e,r,l)},function(l){return vd(e,r,l)}):My(e,r,a)}function My(e,r,a){r.status="fulfilled",r.value=a,Vy(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,Dy(e,a)))}function vd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Vy(r),r=r.next;while(r!==l)}e.action=null}function Vy(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function ky(e,r){return r}function Ly(e,r){if(Bt){var a=ie.formState;if(a!==null){t:{var l=Dt;if(Bt){if(re){e:{for(var f=re,d=Pn;f.nodeType!==8;){if(!d){f=null;break e}if(f=jn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){re=jn(f.nextSibling),l=f.data==="F!";break t}}Or(l)}l=!1}l&&(r=a[0])}}return a=sn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ky,lastRenderedState:r},a.queue=l,a=e0.bind(null,Dt,l),l.dispatch=a,l=_d(!1),d=Ad.bind(null,Dt,!1,l.queue),l=sn(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=jw.bind(null,Dt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function Py(e){var r=ye();return Uy(r,Wt,e)}function Uy(e,r,a){if(r=gd(e,r,ky)[0],e=Tc(Xi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=cl(r)}catch(v){throw v===Va?hc:v}else l=r;r=ye();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Dt.flags|=2048,ja(9,{destroy:void 0},zw.bind(null,f,a),null)),[l,d,e]}function zw(e,r){e.action=r}function jy(e){var r=ye(),a=Wt;if(a!==null)return Uy(r,a,e);ye(),r=r.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function ja(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Dt.updateQueue,r===null&&(r=vc(),Dt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function zy(){return ye().memoizedState}function bc(e,r,a,l){var f=sn();Dt.flags|=e,f.memoizedState=ja(1|r,{destroy:void 0},a,l===void 0?null:l)}function wc(e,r,a,l){var f=ye();l=l===void 0?null:l;var d=f.memoizedState.inst;Wt!==null&&l!==null&&cd(l,Wt.memoizedState.deps)?f.memoizedState=ja(r,d,a,l):(Dt.flags|=e,f.memoizedState=ja(1|r,d,a,l))}function By(e,r){bc(8390656,8,e,r)}function Ed(e,r){wc(2048,8,e,r)}function Bw(e){Dt.flags|=4;var r=Dt.updateQueue;if(r===null)r=vc(),Dt.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function qy(e){var r=ye().memoizedState;return Bw({ref:r,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Hy(e,r){return wc(4,2,e,r)}function Fy(e,r){return wc(4,4,e,r)}function Gy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Qy(e,r,a){a=a!=null?a.concat([e]):null,wc(4,4,Gy.bind(null,r,e),a)}function Td(){}function Yy(e,r){var a=ye();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&cd(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function $y(e,r){var a=ye();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&cd(r,l[1]))return l[0];if(l=e(),Gs){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,r],l}function bd(e,r,a){return a===void 0||(Ki&1073741824)!==0&&(kt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=K0(),Dt.lanes|=e,Br|=e,a)}function Ky(e,r,a,l){return vn(a,r)?a:La.current!==null?(e=bd(e,a,l),vn(e,r)||(Ne=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(kt&261930)===0?(Ne=!0,e.memoizedState=a):(e=K0(),Dt.lanes|=e,Br|=e,r)}function Xy(e,r,a,l,f){var d=G.p;G.p=d!==0&&8>d?d:8;var v=P.T,w={};P.T=w,Ad(e,!1,r,a);try{var O=f(),q=P.S;if(q!==null&&q(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=Lw(O,l);hl(e,r,X,An(e))}else hl(e,r,l,An(e))}catch(nt){hl(e,r,{then:function(){},status:"rejected",reason:nt},An())}finally{G.p=d,v!==null&&w.types!==null&&(v.types=w.types),P.T=v}}function qw(){}function wd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=Zy(e).queue;Xy(e,f,r,rt,a===null?qw:function(){return Jy(e),a(l)})}function Zy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:rt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function Jy(e){var r=Zy(e);r.next===null&&(r=e.alternate.memoizedState),hl(e,r.next.queue,{},An())}function Sd(){return Fe(Nl)}function Wy(){return ye().memoizedState}function t0(){return ye().memoizedState}function Hw(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=An();e=kr(a);var l=Lr(r,e,a);l!==null&&(fn(l,r,a),al(l,r,a)),r={cache:Wf()},e.payload=r;return}r=r.return}}function Fw(e,r,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Sc(e)?n0(r,a):(a=qf(e,r,a,l),a!==null&&(fn(a,e,l),i0(a,r,l)))}function e0(e,r,a){var l=An();hl(e,r,a,l)}function hl(e,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sc(e))n0(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,w=d(v,a);if(f.hasEagerState=!0,f.eagerState=w,vn(w,v))return rc(e,r,f,0),ie===null&&ic(),!1}catch{}finally{}if(a=qf(e,r,f,l),a!==null)return fn(a,e,l),i0(a,r,l),!0}return!1}function Ad(e,r,a,l){if(l={lane:2,revertLane:im(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sc(e)){if(r)throw Error(s(479))}else r=qf(e,a,l,2),r!==null&&fn(r,e,2)}function Sc(e){var r=e.alternate;return e===Dt||r!==null&&r===Dt}function n0(e,r){Pa=yc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function i0(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Mo(e,a)}}var fl={readContext:Fe,use:Ec,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};fl.useEffectEvent=fe;var r0={readContext:Fe,use:Ec,useCallback:function(e,r){return sn().memoizedState=[e,r===void 0?null:r],e},useContext:Fe,useEffect:By,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,bc(4194308,4,Gy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return bc(4194308,4,e,r)},useInsertionEffect:function(e,r){bc(4,2,e,r)},useMemo:function(e,r){var a=sn();r=r===void 0?null:r;var l=e();if(Gs){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=sn();if(a!==void 0){var f=a(r);if(Gs){Nn(!0);try{a(r)}finally{Nn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Fw.bind(null,Dt,e),[l.memoizedState,e]},useRef:function(e){var r=sn();return e={current:e},r.memoizedState=e},useState:function(e){e=_d(e);var r=e.queue,a=e0.bind(null,Dt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Td,useDeferredValue:function(e,r){var a=sn();return bd(a,e,r)},useTransition:function(){var e=_d(!1);return e=Xy.bind(null,Dt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Dt,f=sn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ie===null)throw Error(s(349));(kt&127)!==0||Ay(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,By(Ry.bind(null,l,d,e),[e]),l.flags|=2048,ja(9,{destroy:void 0},xy.bind(null,l,d,a,r),null),a},useId:function(){var e=sn(),r=ie.identifierPrefix;if(Bt){var a=xi,l=Ai;a=(l&~(1<<32-me(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Pw++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:Sd,useFormState:Ly,useActionState:Ly,useOptimistic:function(e){var r=sn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ad.bind(null,Dt,!0,a),a.dispatch=r,[e,r]},useMemoCache:pd,useCacheRefresh:function(){return sn().memoizedState=Hw.bind(null,Dt)},useEffectEvent:function(e){var r=sn(),a={impl:e};return r.memoizedState=a,function(){if((Yt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},xd={readContext:Fe,use:Ec,useCallback:Yy,useContext:Fe,useEffect:Ed,useImperativeHandle:Qy,useInsertionEffect:Hy,useLayoutEffect:Fy,useMemo:$y,useReducer:Tc,useRef:zy,useState:function(){return Tc(Xi)},useDebugValue:Td,useDeferredValue:function(e,r){var a=ye();return Ky(a,Wt.memoizedState,e,r)},useTransition:function(){var e=Tc(Xi)[0],r=ye().memoizedState;return[typeof e=="boolean"?e:cl(e),r]},useSyncExternalStore:Sy,useId:Wy,useHostTransitionStatus:Sd,useFormState:Py,useActionState:Py,useOptimistic:function(e,r){var a=ye();return Iy(a,Wt,e,r)},useMemoCache:pd,useCacheRefresh:t0};xd.useEffectEvent=qy;var s0={readContext:Fe,use:Ec,useCallback:Yy,useContext:Fe,useEffect:Ed,useImperativeHandle:Qy,useInsertionEffect:Hy,useLayoutEffect:Fy,useMemo:$y,useReducer:yd,useRef:zy,useState:function(){return yd(Xi)},useDebugValue:Td,useDeferredValue:function(e,r){var a=ye();return Wt===null?bd(a,e,r):Ky(a,Wt.memoizedState,e,r)},useTransition:function(){var e=yd(Xi)[0],r=ye().memoizedState;return[typeof e=="boolean"?e:cl(e),r]},useSyncExternalStore:Sy,useId:Wy,useHostTransitionStatus:Sd,useFormState:jy,useActionState:jy,useOptimistic:function(e,r){var a=ye();return Wt!==null?Iy(a,Wt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:pd,useCacheRefresh:t0};s0.useEffectEvent=qy;function Rd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Nd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=An(),f=kr(l);f.payload=r,a!=null&&(f.callback=a),r=Lr(e,f,l),r!==null&&(fn(r,e,l),al(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=An(),f=kr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Lr(e,f,l),r!==null&&(fn(r,e,l),al(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=An(),l=kr(a);l.tag=2,r!=null&&(l.callback=r),r=Lr(e,l,a),r!==null&&(fn(r,e,a),al(r,e,a))}};function a0(e,r,a,l,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Jo(a,l)||!Jo(f,d):!0}function o0(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Nd.enqueueReplaceState(r,r.state,null)}function Qs(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function l0(e){nc(e)}function u0(e){console.error(e)}function c0(e){nc(e)}function Ac(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function h0(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cd(e,r,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(e,r)},a}function f0(e){return e=kr(e),e.tag=3,e}function d0(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){h0(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){h0(r,a,l),typeof f!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Gw(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Da(r,a,f,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Pc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===fc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),tm(e,l,f)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),tm(e,l,f)),!1}throw Error(s(435,a.tag))}return tm(e,l,f),Pc(),!1}if(Bt)return r=Tn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==$f&&(e=Error(s(422),{cause:l}),el(Vn(e,a)))):(l!==$f&&(r=Error(s(423),{cause:l}),el(Vn(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Vn(l,a),f=Cd(e.stateNode,l,f),sd(e,f),de!==4&&(de=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),El===null?El=[d]:El.push(d),de!==4&&(de=2),r===null)return!0;l=Vn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Cd(a.stateNode,l,e),sd(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=f0(f),d0(f,e,a,l),sd(a,f),!1}a=a.return}while(a!==null);return!1}var Id=Error(s(461)),Ne=!1;function Ge(e,r,a,l){r.child=e===null?yy(r,null,a,l):Fs(r,e.child,a,l)}function m0(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return zs(r),l=hd(e,r,a,v,d,f),w=fd(),e!==null&&!Ne?(dd(e,r,f),Zi(e,r,f)):(Bt&&w&&Qf(r),r.flags|=1,Ge(e,r,l,f),r.child)}function p0(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Hf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,g0(e,r,d,l,f)):(e=ac(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Ud(e,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(v,l)&&e.ref===r.ref)return Zi(e,r,f)}return r.flags|=1,e=Gi(d,l),e.ref=r.ref,e.return=r,r.child=e}function g0(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(Jo(d,l)&&e.ref===r.ref)if(Ne=!1,r.pendingProps=l=d,Ud(e,f))(e.flags&131072)!==0&&(Ne=!0);else return r.lanes=e.lanes,Zi(e,r,f)}return Dd(e,r,a,l,f)}function y0(e,r,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=r.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return _0(e,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&cc(r,d!==null?d.cachePool:null),d!==null?Ey(r,d):od(),Ty(r);else return l=r.lanes=536870912,_0(e,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(cc(r,d.cachePool),Ey(r,d),Ur(),r.memoizedState=null):(e!==null&&cc(r,null),od(),Ur());return Ge(e,r,f,a),r.child}function dl(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function _0(e,r,a,l,f){var d=ed();return d=d===null?null:{parent:xe._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&cc(r,null),od(),Ty(r),e!==null&&Da(e,r,l,!0),r.childLanes=f,null}function xc(e,r){return r=Nc({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function v0(e,r,a){return Fs(r,e.child,null,a),e=xc(r,r.pendingProps),e.flags|=2,bn(r),r.memoizedState=null,e}function Qw(e,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Bt){if(l.mode==="hidden")return e=xc(r,l),r.lanes=536870912,dl(null,e);if(ud(r),(e=re)?(e=D_(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Ir!==null?{id:Ai,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=ny(e),a.return=r,r.child=a,He=r,re=null)):e=null,e===null)throw Or(r);return r.lanes=536870912,null}return xc(r,l)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(ud(r),f)if(r.flags&256)r.flags&=-257,r=v0(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ne||Da(e,r,a,!1),f=(a&e.childLanes)!==0,Ne||f){if(l=ie,l!==null&&(v=Vo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ls(e,v),fn(l,e,v),Id;Pc(),r=v0(e,r,a)}else e=d.treeContext,re=jn(v.nextSibling),He=r,Bt=!0,Dr=null,Pn=!1,e!==null&&sy(r,e),r=xc(r,l),r.flags|=4096;return r}return e=Gi(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Rc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Dd(e,r,a,l,f){return zs(r),a=hd(e,r,a,l,void 0,f),l=fd(),e!==null&&!Ne?(dd(e,r,f),Zi(e,r,f)):(Bt&&l&&Qf(r),r.flags|=1,Ge(e,r,a,f),r.child)}function E0(e,r,a,l,f,d){return zs(r),r.updateQueue=null,a=wy(r,l,a,f),by(e),l=fd(),e!==null&&!Ne?(dd(e,r,d),Zi(e,r,d)):(Bt&&l&&Qf(r),r.flags|=1,Ge(e,r,a,d),r.child)}function T0(e,r,a,l,f){if(zs(r),r.stateNode===null){var d=Ra,v=a.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Nd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},id(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):Ra,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Rd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Nd.enqueueReplaceState(d,d.state,null),ll(r,l,d,f),ol(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var w=r.memoizedProps,O=Qs(a,w);d.props=O;var q=d.context,X=a.contextType;v=Ra,typeof X=="object"&&X!==null&&(v=Fe(X));var nt=a.getDerivedStateFromProps;X=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||q!==v)&&o0(r,d,l,v),Vr=!1;var F=r.memoizedState;d.state=F,ll(r,l,d,f),ol(),q=r.memoizedState,w||F!==q||Vr?(typeof nt=="function"&&(Rd(r,a,nt,l),q=r.memoizedState),(O=Vr||a0(r,a,O,l,F,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,rd(e,r),v=r.memoizedProps,X=Qs(a,v),d.props=X,nt=r.pendingProps,F=d.context,q=a.contextType,O=Ra,typeof q=="object"&&q!==null&&(O=Fe(q)),w=a.getDerivedStateFromProps,(q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==nt||F!==O)&&o0(r,d,l,O),Vr=!1,F=r.memoizedState,d.state=F,ll(r,l,d,f),ol();var $=r.memoizedState;v!==nt||F!==$||Vr||e!==null&&e.dependencies!==null&&lc(e.dependencies)?(typeof w=="function"&&(Rd(r,a,w,l),$=r.memoizedState),(X=Vr||a0(r,a,X,l,F,$,O)||e!==null&&e.dependencies!==null&&lc(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=O,l=X):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Rc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Fs(r,e.child,null,f),r.child=Fs(r,null,a,f)):Ge(e,r,a,f),r.memoizedState=d.state,e=r.child):e=Zi(e,r,f),e}function b0(e,r,a,l){return Us(),r.flags|=256,Ge(e,r,a,l),r.child}var Od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Md(e){return{baseLanes:e,cachePool:hy()}}function Vd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Sn),e}function w0(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,e===null){if(Bt){if(f?Pr(r):Ur(),(e=re)?(e=D_(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Ir!==null?{id:Ai,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=ny(e),a.return=r,r.child=a,He=r,re=null)):e=null,e===null)throw Or(r);return gm(e)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Ur(),f=r.mode,w=Nc({mode:"hidden",children:w},f),l=Ps(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=Md(a),l.childLanes=Vd(e,v,a),r.memoizedState=Od,dl(null,l)):(Pr(r),kd(r,w))}var O=e.memoizedState;if(O!==null&&(w=O.dehydrated,w!==null)){if(d)r.flags&256?(Pr(r),r.flags&=-257,r=Ld(e,r,a)):r.memoizedState!==null?(Ur(),r.child=e.child,r.flags|=128,r=null):(Ur(),w=l.fallback,f=r.mode,l=Nc({mode:"visible",children:l.children},f),w=Ps(w,f,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,Fs(r,e.child,null,a),l=r.child,l.memoizedState=Md(a),l.childLanes=Vd(e,v,a),r.memoizedState=Od,r=dl(null,l));else if(Pr(r),gm(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,el({value:l,source:null,stack:null}),r=Ld(e,r,a)}else if(Ne||Da(e,r,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=ie,v!==null&&(l=Vo(v,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Ls(e,l),fn(v,e,l),Id;pm(w)||Pc(),r=Ld(e,r,a)}else pm(w)?(r.flags|=192,r.child=e.child,r=null):(e=O.treeContext,re=jn(w.nextSibling),He=r,Bt=!0,Dr=null,Pn=!1,e!==null&&sy(r,e),r=kd(r,l.children),r.flags|=4096);return r}return f?(Ur(),w=l.fallback,f=r.mode,O=e.child,q=O.sibling,l=Gi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,q!==null?w=Gi(q,w):(w=Ps(w,f,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,dl(null,l),l=r.child,w=e.child.memoizedState,w===null?w=Md(a):(f=w.cachePool,f!==null?(O=xe._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=hy(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Vd(e,v,a),r.memoizedState=Od,dl(e.child,l)):(Pr(r),a=e.child,e=a.sibling,a=Gi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(v=r.deletions,v===null?(r.deletions=[e],r.flags|=16):v.push(e)),r.child=a,r.memoizedState=null,a)}function kd(e,r){return r=Nc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Nc(e,r){return e=En(22,e,null,r),e.lanes=0,e}function Ld(e,r,a){return Fs(r,e.child,null,a),e=kd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function S0(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Zf(e.return,r,a)}function Pd(e,r,a,l,f,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function A0(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=ge.current,w=(v&2)!==0;if(w?(v=v&1|2,r.flags|=128):v&=1,ct(ge,v),Ge(e,r,l,a),l=Bt?tl:0,!w&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&S0(e,a,r);else if(e.tag===19)S0(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&gc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Pd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&gc(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Pd(r,!0,a,null,d,l);break;case"together":Pd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Zi(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Br|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Da(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=Gi(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=Gi(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Ud(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&lc(e)))}function Yw(e,r,a){switch(r.tag){case 3:ue(r,r.stateNode.containerInfo),Mr(r,xe,e.memoizedState.cache),Us();break;case 27:case 5:zi(r);break;case 4:ue(r,r.stateNode.containerInfo);break;case 10:Mr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ud(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?w0(e,r,a):(Pr(r),e=Zi(e,r,a),e!==null?e.sibling:null);Pr(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Da(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return A0(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ct(ge,ge.current),l)break;return null;case 22:return r.lanes=0,y0(e,r,a,r.pendingProps);case 24:Mr(r,xe,e.memoizedState.cache)}return Zi(e,r,a)}function x0(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ne=!0;else{if(!Ud(e,a)&&(r.flags&128)===0)return Ne=!1,Yw(e,r,a);Ne=(e.flags&131072)!==0}else Ne=!1,Bt&&(r.flags&1048576)!==0&&ry(r,tl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=qs(r.elementType),r.type=e,typeof e=="function")Hf(e)?(l=Qs(e,l),r.tag=1,r=T0(null,r,e,l,a)):(r.tag=0,r=Dd(null,r,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===ut){r.tag=11,r=m0(null,r,e,l,a);break t}else if(f===R){r.tag=14,r=p0(null,r,e,l,a);break t}}throw r=zt(e)||e,Error(s(306,r,""))}}return r;case 0:return Dd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Qs(l,r.pendingProps),T0(e,r,l,f,a);case 3:t:{if(ue(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,rd(e,r),ll(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Mr(r,xe,l),l!==d.cache&&Jf(r,[xe],a,!0),ol(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=b0(e,r,l,a);break t}else if(l!==f){f=Vn(Error(s(424)),r),el(f),r=b0(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(re=jn(e.firstChild),He=r,Bt=!0,Dr=null,Pn=!0,a=yy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Us(),l===f){r=Zi(e,r,a);break t}Ge(e,r,l,a)}r=r.child}return r;case 26:return Rc(e,r),e===null?(a=P_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Bt||(a=r.type,e=r.pendingProps,l=Fc(St.current).createElement(a),l[we]=r,l[Pe]=e,Qe(l,a,e),Se(l),r.stateNode=l):r.memoizedState=P_(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return zi(r),e===null&&Bt&&(l=r.stateNode=V_(r.type,r.pendingProps,St.current),He=r,Pn=!0,f=re,Qr(r.type)?(ym=f,re=jn(l.firstChild)):re=f),Ge(e,r,r.pendingProps.children,a),Rc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Bt&&((f=l=re)&&(l=wS(l,r.type,r.pendingProps,Pn),l!==null?(r.stateNode=l,He=r,re=jn(l.firstChild),Pn=!1,f=!0):f=!1),f||Or(r)),zi(r),f=r.type,d=r.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,fm(f,d)?l=null:v!==null&&fm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=hd(e,r,Uw,null,null,a),Nl._currentValue=f),Rc(e,r),Ge(e,r,l,a),r.child;case 6:return e===null&&Bt&&((e=a=re)&&(a=SS(a,r.pendingProps,Pn),a!==null?(r.stateNode=a,He=r,re=null,e=!0):e=!1),e||Or(r)),null;case 13:return w0(e,r,a);case 4:return ue(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Fs(r,null,l,a):Ge(e,r,l,a),r.child;case 11:return m0(e,r,r.type,r.pendingProps,a);case 7:return Ge(e,r,r.pendingProps,a),r.child;case 8:return Ge(e,r,r.pendingProps.children,a),r.child;case 12:return Ge(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Mr(r,r.type,l.value),Ge(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,zs(r),f=Fe(f),l=l(f),r.flags|=1,Ge(e,r,l,a),r.child;case 14:return p0(e,r,r.type,r.pendingProps,a);case 15:return g0(e,r,r.type,r.pendingProps,a);case 19:return A0(e,r,a);case 31:return Qw(e,r,a);case 22:return y0(e,r,a,r.pendingProps);case 24:return zs(r),l=Fe(xe),e===null?(f=ed(),f===null&&(f=ie,d=Wf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},id(r),Mr(r,xe,f)):((e.lanes&a)!==0&&(rd(e,r),ll(r,null,null,a),ol()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Mr(r,xe,l)):(l=d.cache,Mr(r,xe,l),l!==f.cache&&Jf(r,[xe],a,!0))),Ge(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ji(e){e.flags|=4}function jd(e,r,a,l,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(W0())e.flags|=8192;else throw Hs=fc,nd}else e.flags&=-16777217}function R0(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!q_(r))if(W0())e.flags|=8192;else throw Hs=fc,nd}function Cc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?ku():536870912,e.lanes|=r,Ha|=r)}function ml(e,r){if(!Bt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function $w(e,r,a){var l=r.pendingProps;switch(Yf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(r),null;case 1:return se(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),$i(xe),ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ia(r)?Ji(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kf())),se(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(Ji(r),d!==null?(se(r),R0(r,d)):(se(r),jd(r,f,null,l,a))):d?d!==e.memoizedState?(Ji(r),se(r),R0(r,d)):(se(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ji(r),se(r),jd(r,f,e,l,a)),null;case 27:if(Ht(r),a=St.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return se(r),null}e=ft.current,Ia(r)?ay(r):(e=V_(f,l,a),r.stateNode=e,Ji(r))}return se(r),null;case 5:if(Ht(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return se(r),null}if(d=ft.current,Ia(r))ay(r);else{var v=Fc(St.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[we]=r,d[Pe]=l;t:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break t;for(;v.sibling===null;){if(v.return===null||v.return===r)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;t:switch(Qe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ji(r)}}return se(r),jd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&Ji(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=St.current,Ia(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=He,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[we]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||w_(e.nodeValue,a)),e||Or(r,!0)}else e=Fc(e).createTextNode(l),e[we]=r,r.stateNode=e}return se(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[we]=r}else Us(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),e=!1}else a=Kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(bn(r),r):(bn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return se(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ia(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[we]=r}else Us(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),f=!1}else f=Kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(bn(r),r):(bn(r),null)}return bn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Cc(r,r.updateQueue),se(r),null);case 4:return ne(),e===null&&om(r.stateNode.containerInfo),se(r),null;case 10:return $i(r.type),se(r),null;case 19:if(Z(ge),l=r.memoizedState,l===null)return se(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)ml(l,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=gc(e),d!==null){for(r.flags|=128,ml(l,!1),e=d.updateQueue,r.updateQueue=e,Cc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)ey(a,e),a=a.sibling;return ct(ge,ge.current&1|2),Bt&&Qi(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&nn()>Vc&&(r.flags|=128,f=!0,ml(l,!1),r.lanes=4194304)}else{if(!f)if(e=gc(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,Cc(r,e),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Bt)return se(r),null}else 2*nn()-l.renderingStartTime>Vc&&a!==536870912&&(r.flags|=128,f=!0,ml(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=nn(),e.sibling=null,a=ge.current,ct(ge,f?a&1|2:a&1),Bt&&Qi(r,l.treeForkCount),e):(se(r),null);case 22:case 23:return bn(r),ld(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(se(r),r.subtreeFlags&6&&(r.flags|=8192)):se(r),a=r.updateQueue,a!==null&&Cc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&Z(Bs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),$i(xe),se(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Kw(e,r){switch(Yf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return $i(xe),ne(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Ht(r),null;case 31:if(r.memoizedState!==null){if(bn(r),r.alternate===null)throw Error(s(340));Us()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(bn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Us()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Z(ge),null;case 4:return ne(),null;case 10:return $i(r.type),null;case 22:case 23:return bn(r),ld(),e!==null&&Z(Bs),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return $i(xe),null;case 25:return null;default:return null}}function N0(e,r){switch(Yf(r),r.tag){case 3:$i(xe),ne();break;case 26:case 27:case 5:Ht(r);break;case 4:ne();break;case 31:r.memoizedState!==null&&bn(r);break;case 13:bn(r);break;case 19:Z(ge);break;case 10:$i(r.type);break;case 22:case 23:bn(r),ld(),e!==null&&Z(Bs);break;case 24:$i(xe)}}function pl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(w){Zt(r,r.return,w)}}function jr(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,f=r;var O=a,q=w;try{q()}catch(X){Zt(f,O,X)}}}l=l.next}while(l!==d)}}catch(X){Zt(r,r.return,X)}}function C0(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{vy(r,a)}catch(l){Zt(e,e.return,l)}}}function I0(e,r,a){a.props=Qs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,r,l)}}function gl(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Zt(e,r,f)}}function Ri(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Zt(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Zt(e,r,f)}else a.current=null}function D0(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Zt(e,e.return,f)}}function zd(e,r,a){try{var l=e.stateNode;yS(l,e.type,a,r),l[Pe]=r}catch(f){Zt(e,e.return,f)}}function O0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qr(e.type)||e.tag===4}function Bd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||O0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Yn));else if(l!==4&&(l===27&&Qr(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(qd(e,r,a),e=e.sibling;e!==null;)qd(e,r,a),e=e.sibling}function Ic(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&Qr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ic(e,r,a),e=e.sibling;e!==null;)Ic(e,r,a),e=e.sibling}function M0(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Qe(r,l,a),r[we]=e,r[Pe]=a}catch(d){Zt(e,e.return,d)}}var Wi=!1,Ce=!1,Hd=!1,V0=typeof WeakSet=="function"?WeakSet:Set,je=null;function Xw(e,r){if(e=e.containerInfo,cm=Zc,e=Qg(e),Lf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,w=-1,O=-1,q=0,X=0,nt=e,F=null;e:for(;;){for(var $;nt!==a||f!==0&&nt.nodeType!==3||(w=v+f),nt!==d||l!==0&&nt.nodeType!==3||(O=v+l),nt.nodeType===3&&(v+=nt.nodeValue.length),($=nt.firstChild)!==null;)F=nt,nt=$;for(;;){if(nt===e)break e;if(F===a&&++q===f&&(w=v),F===d&&++X===l&&(O=v),($=nt.nextSibling)!==null)break;nt=F,F=nt.parentNode}nt=$}a=w===-1||O===-1?null:{start:w,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(hm={focusedElem:e,selectionRange:a},Zc=!1,je=r;je!==null;)if(r=je,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,je=e;else for(;je!==null;){switch(r=je,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=Qs(a.type,f);e=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Zt(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)mm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,je=e;break}je=r.return}}function k0(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:er(e,a),l&4&&pl(5,a);break;case 1:if(er(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(v){Zt(a,a.return,v)}else{var f=Qs(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(a,a.return,v)}}l&64&&C0(a),l&512&&gl(a,a.return);break;case 3:if(er(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{vy(e,r)}catch(v){Zt(a,a.return,v)}}break;case 27:r===null&&l&4&&M0(a);case 26:case 5:er(e,a),r===null&&l&4&&D0(a),l&512&&gl(a,a.return);break;case 12:er(e,a);break;case 31:er(e,a),l&4&&U0(e,a);break;case 13:er(e,a),l&4&&j0(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=sS.bind(null,a),AS(e,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){r=r!==null&&r.memoizedState!==null||Ce,f=Wi;var d=Ce;Wi=l,(Ce=r)&&!d?nr(e,a,(a.subtreeFlags&8772)!==0):er(e,a),Wi=f,Ce=d}break;case 30:break;default:er(e,a)}}function L0(e){var r=e.alternate;r!==null&&(e.alternate=null,L0(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&da(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,ln=!1;function tr(e,r,a){for(a=a.child;a!==null;)P0(e,r,a),a=a.sibling}function P0(e,r,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Ce||Ri(a,r),tr(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Ri(a,r);var l=le,f=ln;Qr(a.type)&&(le=a.stateNode,ln=!1),tr(e,r,a),Al(a.stateNode),le=l,ln=f;break;case 5:Ce||Ri(a,r);case 6:if(l=le,f=ln,le=null,tr(e,r,a),le=l,ln=f,le!==null)if(ln)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Zt(a,r,d)}else try{le.removeChild(a.stateNode)}catch(d){Zt(a,r,d)}break;case 18:le!==null&&(ln?(e=le,C_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Za(e)):C_(le,a.stateNode));break;case 4:l=le,f=ln,le=a.stateNode.containerInfo,ln=!0,tr(e,r,a),le=l,ln=f;break;case 0:case 11:case 14:case 15:jr(2,a,r),Ce||jr(4,a,r),tr(e,r,a);break;case 1:Ce||(Ri(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&I0(a,r,l)),tr(e,r,a);break;case 21:tr(e,r,a);break;case 22:Ce=(l=Ce)||a.memoizedState!==null,tr(e,r,a),Ce=l;break;default:tr(e,r,a)}}function U0(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Za(e)}catch(a){Zt(r,r.return,a)}}}function j0(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Za(e)}catch(a){Zt(r,r.return,a)}}function Zw(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new V0),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new V0),r;default:throw Error(s(435,e.tag))}}function Dc(e,r){var a=Zw(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=aS.bind(null,e,l);l.then(f,f)}})}function un(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,v=r,w=v;t:for(;w!==null;){switch(w.tag){case 27:if(Qr(w.type)){le=w.stateNode,ln=!1;break t}break;case 5:le=w.stateNode,ln=!1;break t;case 3:case 4:le=w.stateNode.containerInfo,ln=!0;break t}w=w.return}if(le===null)throw Error(s(160));P0(d,v,f),le=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)z0(r,e),r=r.sibling}var Wn=null;function z0(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(r,e),cn(e),l&4&&(jr(3,e,e.return),pl(3,e),jr(5,e,e.return));break;case 1:un(r,e),cn(e),l&512&&(Ce||a===null||Ri(a,a.return)),l&64&&Wi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Wn;if(un(r,e),cn(e),l&512&&(Ce||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[di]||d[we]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qe(d,l,a),d[we]=e,Se(d),l=d;break t;case"link":var v=z_("link","href",f).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break e}}d=f.createElement(l),Qe(d,l,a),f.head.appendChild(d);break;case"meta":if(v=z_("meta","content",f).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break e}}d=f.createElement(l),Qe(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[we]=e,Se(d),l=d}e.stateNode=l}else B_(f,e.type,e.stateNode);else e.stateNode=j_(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?B_(f,e.type,e.stateNode):j_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&zd(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(r,e),cn(e),l&512&&(Ce||a===null||Ri(a,a.return)),a!==null&&l&4&&zd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(r,e),cn(e),l&512&&(Ce||a===null||Ri(a,a.return)),e.flags&32){f=e.stateNode;try{on(f,"")}catch(pt){Zt(e,e.return,pt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,zd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Hd=!0);break;case 6:if(un(r,e),cn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(pt){Zt(e,e.return,pt)}}break;case 3:if(Yc=null,f=Wn,Wn=Gc(r.containerInfo),un(r,e),Wn=f,cn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(r.containerInfo)}catch(pt){Zt(e,e.return,pt)}Hd&&(Hd=!1,B0(e));break;case 4:l=Wn,Wn=Gc(e.stateNode.containerInfo),un(r,e),cn(e),Wn=l;break;case 12:un(r,e),cn(e);break;case 31:un(r,e),cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Dc(e,l)));break;case 13:un(r,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mc=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Dc(e,l)));break;case 22:f=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,q=Wi,X=Ce;if(Wi=q||f,Ce=X||O,un(r,e),Ce=X,Wi=q,cn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||O||Wi||Ce||Ys(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=O.stateNode;var nt=O.memoizedProps.style,F=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;w.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(pt){Zt(O,O.return,pt)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(pt){Zt(O,O.return,pt)}}}else if(r.tag===18){if(a===null){O=r;try{var $=O.stateNode;f?I_($,!0):I_(O.stateNode,!1)}catch(pt){Zt(O,O.return,pt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dc(e,a))));break;case 19:un(r,e),cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Dc(e,l)));break;case 30:break;case 21:break;default:un(r,e),cn(e)}}function cn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(O0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Bd(e);Ic(e,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(on(v,""),a.flags&=-33);var w=Bd(e);Ic(e,w,v);break;case 3:case 4:var O=a.stateNode.containerInfo,q=Bd(e);qd(e,q,O);break;default:throw Error(s(161))}}catch(X){Zt(e,e.return,X)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function B0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;B0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function er(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)k0(e,r.alternate,r),r=r.sibling}function Ys(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:jr(4,r,r.return),Ys(r);break;case 1:Ri(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&I0(r,r.return,a),Ys(r);break;case 27:Al(r.stateNode);case 26:case 5:Ri(r,r.return),Ys(r);break;case 22:r.memoizedState===null&&Ys(r);break;case 30:Ys(r);break;default:Ys(r)}e=e.sibling}}function nr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:nr(f,d,a),pl(4,d);break;case 1:if(nr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Zt(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)_y(O[f],w)}catch(q){Zt(l,l.return,q)}}a&&v&64&&C0(d),gl(d,d.return);break;case 27:M0(d);case 26:case 5:nr(f,d,a),a&&l===null&&v&4&&D0(d),gl(d,d.return);break;case 12:nr(f,d,a);break;case 31:nr(f,d,a),a&&v&4&&U0(f,d);break;case 13:nr(f,d,a),a&&v&4&&j0(f,d);break;case 22:d.memoizedState===null&&nr(f,d,a),gl(d,d.return);break;case 30:break;default:nr(f,d,a)}r=r.sibling}}function Fd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&nl(a))}function Gd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&nl(e))}function ti(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)q0(e,r,a,l),r=r.sibling}function q0(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ti(e,r,a,l),f&2048&&pl(9,r);break;case 1:ti(e,r,a,l);break;case 3:ti(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&nl(e)));break;case 12:if(f&2048){ti(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Zt(r,r.return,O)}}else ti(e,r,a,l);break;case 31:ti(e,r,a,l);break;case 13:ti(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?ti(e,r,a,l):yl(e,r):d._visibility&2?ti(e,r,a,l):(d._visibility|=2,za(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Fd(v,r);break;case 24:ti(e,r,a,l),f&2048&&Gd(r.alternate,r);break;default:ti(e,r,a,l)}}function za(e,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,v=r,w=a,O=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:za(d,v,w,O,f),pl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?za(d,v,w,O,f):yl(d,v):(X._visibility|=2,za(d,v,w,O,f)),f&&q&2048&&Fd(v.alternate,v);break;case 24:za(d,v,w,O,f),f&&q&2048&&Gd(v.alternate,v);break;default:za(d,v,w,O,f)}r=r.sibling}}function yl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:yl(a,l),f&2048&&Fd(l.alternate,l);break;case 24:yl(a,l),f&2048&&Gd(l.alternate,l);break;default:yl(a,l)}r=r.sibling}}var _l=8192;function Ba(e,r,a){if(e.subtreeFlags&_l)for(e=e.child;e!==null;)H0(e,r,a),e=e.sibling}function H0(e,r,a){switch(e.tag){case 26:Ba(e,r,a),e.flags&_l&&e.memoizedState!==null&&PS(a,Wn,e.memoizedState,e.memoizedProps);break;case 5:Ba(e,r,a);break;case 3:case 4:var l=Wn;Wn=Gc(e.stateNode.containerInfo),Ba(e,r,a),Wn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=_l,_l=16777216,Ba(e,r,a),_l=l):Ba(e,r,a));break;default:Ba(e,r,a)}}function F0(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function vl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];je=l,Q0(l,e)}F0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)G0(e),e=e.sibling}function G0(e){switch(e.tag){case 0:case 11:case 15:vl(e),e.flags&2048&&jr(9,e,e.return);break;case 3:vl(e);break;case 12:vl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Oc(e)):vl(e);break;default:vl(e)}}function Oc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];je=l,Q0(l,e)}F0(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:jr(8,r,r.return),Oc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(r));break;default:Oc(r)}e=e.sibling}}function Q0(e,r){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:jr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=e;je!==null;){l=je;var f=l.sibling,d=l.return;if(L0(l),l===a){je=null;break t}if(f!==null){f.return=d,je=f;break t}je=d}}}var Jw={getCacheForType:function(e){var r=Fe(xe),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Fe(xe).controller.signal}},Ww=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ie=null,Mt=null,kt=0,Xt=0,wn=null,zr=!1,qa=!1,Qd=!1,ir=0,de=0,Br=0,$s=0,Yd=0,Sn=0,Ha=0,El=null,hn=null,$d=!1,Mc=0,Y0=0,Vc=1/0,kc=null,qr=null,Ve=0,Hr=null,Fa=null,rr=0,Kd=0,Xd=null,$0=null,Tl=0,Zd=null;function An(){return(Yt&2)!==0&&kt!==0?kt&-kt:P.T!==null?im():Lu()}function K0(){if(Sn===0)if((kt&536870912)===0||Bt){var e=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),Sn=e}else Sn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),Sn}function fn(e,r,a){(e===ie&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ga(e,0),Fr(e,kt,Sn,!1)),bs(e,a),((Yt&2)===0||e!==ie)&&(e===ie&&((Yt&2)===0&&($s|=a),de===4&&Fr(e,kt,Sn,!1)),Ni(e))}function X0(e,r,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||Fn(e,r),f=l?nS(e,r):Wd(e,r,!0),d=l;do{if(f===0){qa&&!l&&Fr(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!tS(a)){f=Wd(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var w=e;f=El;var O=w.current.memoizedState.isDehydrated;if(O&&(Ga(w,v).flags|=256),v=Wd(w,v,!1),v!==2){if(Qd&&!O){w.errorRecoveryDisabledLanes|=d,$s|=d,f=4;break t}d=hn,hn=f,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Ga(e,0),Fr(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Fr(l,r,Sn,!zr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Mc+300-nn(),10<f)){if(Fr(l,r,Sn,!zr),ci(l,0,!0)!==0)break t;rr=r,l.timeoutHandle=R_(Z0.bind(null,l,a,hn,kc,$d,r,Sn,$s,Ha,zr,d,"Throttled",-0,0),f);break t}Z0(l,a,hn,kc,$d,r,Sn,$s,Ha,zr,d,null,-0,0)}}break}while(!0);Ni(e)}function Z0(e,r,a,l,f,d,v,w,O,q,X,nt,F,$){if(e.timeoutHandle=-1,nt=r.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},H0(r,d,nt);var pt=(d&62914560)===d?Mc-nn():(d&4194048)===d?Y0-nn():0;if(pt=US(nt,pt),pt!==null){rr=d,e.cancelPendingCommit=pt(s_.bind(null,e,r,d,a,l,f,v,w,O,X,nt,null,F,$)),Fr(e,d,v,!q);return}}s_(e,r,d,a,l,f,v,w,O)}function tS(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!vn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(e,r,a,l){r&=~Yd,r&=~$s,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-me(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&ws(e,a,r)}function Lc(){return(Yt&6)===0?(bl(0),!1):!0}function Jd(){if(Mt!==null){if(Xt===0)var e=Mt.return;else e=Mt,Yi=js=null,md(e),ka=null,rl=0,e=Mt;for(;e!==null;)N0(e.alternate,e),e=e.return;Mt=null}}function Ga(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ES(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),rr=0,Jd(),ie=e,Mt=a=Gi(e.current,null),kt=r,Xt=0,wn=null,zr=!1,qa=Fn(e,r),Qd=!1,Ha=Sn=Yd=$s=Br=de=0,hn=El=null,$d=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-me(l),d=1<<f;r|=e[f],l&=~d}return ir=r,ic(),a}function J0(e,r){Dt=null,P.H=fl,r===Va||r===hc?(r=my(),Xt=3):r===nd?(r=my(),Xt=4):Xt=r===Id?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Mt===null&&(de=1,Ac(e,Vn(r,e.current)))}function W0(){var e=Tn.current;return e===null?!0:(kt&4194048)===kt?Un===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Un:!1}function t_(){var e=P.H;return P.H=fl,e===null?fl:e}function e_(){var e=P.A;return P.A=Jw,e}function Pc(){de=4,zr||(kt&4194048)!==kt&&Tn.current!==null||(qa=!0),(Br&134217727)===0&&($s&134217727)===0||ie===null||Fr(ie,kt,Sn,!1)}function Wd(e,r,a){var l=Yt;Yt|=2;var f=t_(),d=e_();(ie!==e||kt!==r)&&(kc=null,Ga(e,r)),r=!1;var v=de;t:do try{if(Xt!==0&&Mt!==null){var w=Mt,O=wn;switch(Xt){case 8:Jd(),v=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(r=!0);var q=Xt;if(Xt=0,wn=null,Qa(e,w,O,q),a&&qa){v=0;break t}break;default:q=Xt,Xt=0,wn=null,Qa(e,w,O,q)}}eS(),v=de;break}catch(X){J0(e,X)}while(!0);return r&&e.shellSuspendCounter++,Yi=js=null,Yt=l,P.H=f,P.A=d,Mt===null&&(ie=null,kt=0,ic()),v}function eS(){for(;Mt!==null;)n_(Mt)}function nS(e,r){var a=Yt;Yt|=2;var l=t_(),f=e_();ie!==e||kt!==r?(kc=null,Vc=nn()+500,Ga(e,r)):qa=Fn(e,r);t:do try{if(Xt!==0&&Mt!==null){r=Mt;var d=wn;e:switch(Xt){case 1:Xt=0,wn=null,Qa(e,r,d,1);break;case 2:case 9:if(fy(d)){Xt=0,wn=null,i_(r);break}r=function(){Xt!==2&&Xt!==9||ie!==e||(Xt=7),Ni(e)},d.then(r,r);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:fy(d)?(Xt=0,wn=null,i_(r)):(Xt=0,wn=null,Qa(e,r,d,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var w=Mt;if(v?q_(v):w.stateNode.complete){Xt=0,wn=null;var O=w.sibling;if(O!==null)Mt=O;else{var q=w.return;q!==null?(Mt=q,Uc(q)):Mt=null}break e}}Xt=0,wn=null,Qa(e,r,d,5);break;case 6:Xt=0,wn=null,Qa(e,r,d,6);break;case 8:Jd(),de=6;break t;default:throw Error(s(462))}}iS();break}catch(X){J0(e,X)}while(!0);return Yi=js=null,P.H=l,P.A=f,Yt=a,Mt!==null?0:(ie=null,kt=0,ic(),de)}function iS(){for(;Mt!==null&&!Cf();)n_(Mt)}function n_(e){var r=x0(e.alternate,e,ir);e.memoizedProps=e.pendingProps,r===null?Uc(e):Mt=r}function i_(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=E0(a,r,r.pendingProps,r.type,void 0,kt);break;case 11:r=E0(a,r,r.pendingProps,r.type.render,r.ref,kt);break;case 5:md(r);default:N0(a,r),r=Mt=ey(r,ir),r=x0(a,r,ir)}e.memoizedProps=e.pendingProps,r===null?Uc(e):Mt=r}function Qa(e,r,a,l){Yi=js=null,md(r),ka=null,rl=0;var f=r.return;try{if(Gw(e,f,r,a,kt)){de=1,Ac(e,Vn(a,e.current)),Mt=null;return}}catch(d){if(f!==null)throw Mt=f,d;de=1,Ac(e,Vn(a,e.current)),Mt=null;return}r.flags&32768?(Bt||l===1?e=!0:qa||(kt&536870912)!==0?e=!1:(zr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),r_(r,e)):Uc(r)}function Uc(e){var r=e;do{if((r.flags&32768)!==0){r_(r,zr);return}e=r.return;var a=$w(r.alternate,r,ir);if(a!==null){Mt=a;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=e}while(r!==null);de===0&&(de=5)}function r_(e,r){do{var a=Kw(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);de=6,Mt=null}function s_(e,r,a,l,f,d,v,w,O){e.cancelPendingCommit=null;do jc();while(Ve!==0);if((Yt&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Bf,Of(e,a,d,v,w,O),e===ie&&(Mt=ie=null,kt=0),Fa=r,Hr=e,rr=a,Kd=d,Xd=f,$0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oS(Er,function(){return c_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,f=G.p,G.p=2,v=Yt,Yt|=4;try{Xw(e,r,a)}finally{Yt=v,G.p=f,P.T=l}}Ve=1,a_(),o_(),l_()}}function a_(){if(Ve===1){Ve=0;var e=Hr,r=Fa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var l=G.p;G.p=2;var f=Yt;Yt|=4;try{z0(r,e);var d=hm,v=Qg(e.containerInfo),w=d.focusedElem,O=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&Gg(w.ownerDocument.documentElement,w)){if(O!==null&&Lf(w)){var q=O.start,X=O.end;if(X===void 0&&(X=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(X,w.value.length);else{var nt=w.ownerDocument||document,F=nt&&nt.defaultView||window;if(F.getSelection){var $=F.getSelection(),pt=w.textContent.length,Tt=Math.min(O.start,pt),ee=O.end===void 0?Tt:Math.min(O.end,pt);!$.extend&&Tt>ee&&(v=ee,ee=Tt,Tt=v);var j=Fg(w,Tt),k=Fg(w,ee);if(j&&k&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var B=nt.createRange();B.setStart(j.node,j.offset),$.removeAllRanges(),Tt>ee?($.addRange(B),$.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),$.addRange(B))}}}}for(nt=[],$=w;$=$.parentNode;)$.nodeType===1&&nt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<nt.length;w++){var tt=nt[w];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Zc=!!cm,hm=cm=null}finally{Yt=f,G.p=l,P.T=a}}e.current=r,Ve=2}}function o_(){if(Ve===2){Ve=0;var e=Hr,r=Fa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var l=G.p;G.p=2;var f=Yt;Yt|=4;try{k0(e,r.alternate,r)}finally{Yt=f,G.p=l,P.T=a}}Ve=3}}function l_(){if(Ve===4||Ve===3){Ve=0,Cu();var e=Hr,r=Fa,a=rr,l=$0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ve=5:(Ve=0,Fa=Hr=null,u_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(qr=null),Bi(a),r=r.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Hn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=P.T,f=G.p,G.p=2,P.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{P.T=r,G.p=f}}(rr&3)!==0&&jc(),Ni(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Zd?Tl++:(Tl=0,Zd=e):Tl=0,bl(0)}}function u_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,nl(r)))}function jc(){return a_(),o_(),l_(),c_()}function c_(){if(Ve!==5)return!1;var e=Hr,r=Kd;Kd=0;var a=Bi(rr),l=P.T,f=G.p;try{G.p=32>a?32:a,P.T=null,a=Xd,Xd=null;var d=Hr,v=rr;if(Ve=0,Fa=Hr=null,rr=0,(Yt&6)!==0)throw Error(s(331));var w=Yt;if(Yt|=4,G0(d.current),q0(d,d.current,v,a),Yt=w,bl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{G.p=f,P.T=l,u_(e,r)}}function h_(e,r,a){r=Vn(a,r),r=Cd(e.stateNode,r,2),e=Lr(e,r,2),e!==null&&(bs(e,2),Ni(e))}function Zt(e,r,a){if(e.tag===3)h_(e,e,a);else for(;r!==null;){if(r.tag===3){h_(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){e=Vn(a,e),a=f0(2),l=Lr(r,a,2),l!==null&&(d0(a,l,r,e),bs(l,2),Ni(l));break}}r=r.return}}function tm(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Ww;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Qd=!0,f.add(a),e=rS.bind(null,e,r,a),r.then(e,e))}function rS(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ie===e&&(kt&a)===a&&(de===4||de===3&&(kt&62914560)===kt&&300>nn()-Mc?(Yt&2)===0&&Ga(e,0):Yd|=a,Ha===kt&&(Ha=0)),Ni(e)}function f_(e,r){r===0&&(r=ku()),e=Ls(e,r),e!==null&&(bs(e,r),Ni(e))}function sS(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),f_(e,a)}function aS(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),f_(e,a)}function oS(e,r){return Me(e,r)}var zc=null,Ya=null,em=!1,Bc=!1,nm=!1,Gr=0;function Ni(e){e!==Ya&&e.next===null&&(Ya===null?zc=Ya=e:Ya=Ya.next=e),Bc=!0,em||(em=!0,uS())}function bl(e,r){if(!nm&&Bc){nm=!0;do for(var a=!1,l=zc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-me(42|e)+1)-1,d&=f&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,g_(l,d))}else d=kt,d=ci(l,l===ie?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,g_(l,d));l=l.next}while(a);nm=!1}}function lS(){d_()}function d_(){Bc=em=!1;var e=0;Gr!==0&&vS()&&(e=Gr);for(var r=nn(),a=null,l=zc;l!==null;){var f=l.next,d=m_(l,r);d===0?(l.next=null,a===null?zc=f:a.next=f,f===null&&(Ya=a)):(a=l,(e!==0||(d&3)!==0)&&(Bc=!0)),l=f}Ve!==0&&Ve!==5||bl(e),Gr!==0&&(Gr=0)}function m_(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-me(d),w=1<<v,O=f[v];O===-1?((w&a)===0||(w&l)!==0)&&(f[v]=Df(w,r)):O<=r&&(e.expiredLanes|=w),d&=~w}if(r=ie,a=kt,a=ci(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&vr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fn(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&vr(l),Bi(a)){case 2:case 8:a=Oo;break;case 32:a=Er;break;case 268435456:a=Iu;break;default:a=Er}return l=p_.bind(null,e),a=Me(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&vr(l),e.callbackPriority=2,e.callbackNode=null,2}function p_(e,r){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(jc()&&e.callbackNode!==a)return null;var l=kt;return l=ci(e,e===ie?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(X0(e,l,r),m_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?p_.bind(null,e):null)}function g_(e,r){if(jc())return null;X0(e,r,!0)}function uS(){TS(function(){(Yt&6)!==0?Me(Do,lS):d_()})}function im(){if(Gr===0){var e=Oa;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),Gr=e}return Gr}function y_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ya(""+e)}function __(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function cS(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=y_((f[Pe]||null).action),v=l.submitter;v&&(r=(r=v[Pe]||null)?y_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var w=new Ti("action","action",null,l,f);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gr!==0){var O=v?__(f,v):new FormData(f);wd(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(w.preventDefault(),O=v?__(f,v):new FormData(f),wd(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var rm=0;rm<zf.length;rm++){var sm=zf[rm],hS=sm.toLowerCase(),fS=sm[0].toUpperCase()+sm.slice(1);Jn(hS,"on"+fS)}Jn(Kg,"onAnimationEnd"),Jn(Xg,"onAnimationIteration"),Jn(Zg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Nw,"onTransitionRun"),Jn(Cw,"onTransitionStart"),Jn(Iw,"onTransitionCancel"),Jn(Jg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function v_(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var w=l[v],O=w.instance,q=w.currentTarget;if(w=w.listener,O!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=q;try{d(f)}catch(X){nc(X)}f.currentTarget=null,d=O}else for(v=0;v<l.length;v++){if(w=l[v],O=w.instance,q=w.currentTarget,w=w.listener,O!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=q;try{d(f)}catch(X){nc(X)}f.currentTarget=null,d=O}}}}function Vt(e,r){var a=r[fa];a===void 0&&(a=r[fa]=new Set);var l=e+"__bubble";a.has(l)||(E_(r,e,2,!1),a.add(l))}function am(e,r,a){var l=0;r&&(l|=4),E_(a,e,l,r)}var qc="_reactListening"+Math.random().toString(36).slice(2);function om(e){if(!e[qc]){e[qc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(dS.has(a)||am(a,!1,e),am(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[qc]||(r[qc]=!0,am("selectionchange",!1,r))}}function E_(e,r,a,l){switch(K_(r)){case 2:var f=BS;break;case 8:f=qS;break;default:f=bm}a=f.bind(null,r,a,e),f=void 0,!Ns||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function lm(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===f)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;w!==null;){if(v=mi(w),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=d=v;continue t}w=w.parentNode}}l=l.return}xr(function(){var q=d,X=In(a),nt=[];t:{var F=Wg.get(e);if(F!==void 0){var $=Ti,pt=e;switch(e){case"keypress":if(Is(a)===0)break t;case"keydown":case"keyup":$=Wu;break;case"focusin":pt="focus",$=Os;break;case"focusout":pt="blur",$=Os;break;case"beforeblur":case"afterblur":$=Os;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case Kg:case Xg:case Zg:$=Qu;break;case Jg:$=A;break;case"scroll":case"scrollend":$=Yo;break;case"wheel":$=Y;break;case"copy":case"cut":case"paste":$=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Fi;break;case"toggle":case"beforetoggle":$=It}var Tt=(r&4)!==0,ee=!Tt&&(e==="scroll"||e==="scrollend"),j=Tt?F!==null?F+"Capture":null:F;Tt=[];for(var k=q,B;k!==null;){var tt=k;if(B=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||B===null||j===null||(tt=$n(k,j),tt!=null&&Tt.push(Sl(k,tt,B))),ee)break;k=k.return}0<Tt.length&&(F=new $(F,pt,null,a,X),nt.push({event:F,listeners:Tt}))}}if((r&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",F&&a!==Fo&&(pt=a.relatedTarget||a.fromElement)&&(mi(pt)||pt[fi]))break t;if(($||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,$?(pt=a.relatedTarget||a.toElement,$=q,pt=pt?mi(pt):null,pt!==null&&(ee=u(pt),Tt=pt.tag,pt!==ee||Tt!==5&&Tt!==27&&Tt!==6)&&(pt=null)):($=null,pt=q),$!==pt)){if(Tt=$o,tt="onMouseLeave",j="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Fi,tt="onPointerLeave",j="onPointerEnter",k="pointer"),ee=$==null?F:yn($),B=pt==null?F:yn(pt),F=new Tt(tt,k+"leave",$,a,X),F.target=ee,F.relatedTarget=B,tt=null,mi(X)===q&&(Tt=new Tt(j,k+"enter",pt,a,X),Tt.target=B,Tt.relatedTarget=ee,tt=Tt),ee=tt,$&&pt)e:{for(Tt=mS,j=$,k=pt,B=0,tt=j;tt;tt=Tt(tt))B++;tt=0;for(var _t=k;_t;_t=Tt(_t))tt++;for(;0<B-tt;)j=Tt(j),B--;for(;0<tt-B;)k=Tt(k),tt--;for(;B--;){if(j===k||k!==null&&j===k.alternate){Tt=j;break e}j=Tt(j),k=Tt(k)}Tt=null}else Tt=null;$!==null&&T_(nt,F,$,Tt,!1),pt!==null&&ee!==null&&T_(nt,ee,pt,Tt,!0)}}t:{if(F=q?yn(q):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var Ft=Ug;else if(Lg(F))if(jg)Ft=Aw;else{Ft=ww;var gt=bw}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&ga(q.elementType)&&(Ft=Ug):Ft=Sw;if(Ft&&(Ft=Ft(e,q))){Pg(nt,Ft,a,X);break t}gt&&gt(e,F,q),e==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Bo(F,"number",F.value)}switch(gt=q?yn(q):window,e){case"focusin":(Lg(gt)||gt.contentEditable==="true")&&(Sa=gt,Pf=q,Wo=null);break;case"focusout":Wo=Pf=Sa=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Yg(nt,a,X);break;case"selectionchange":if(Rw)break;case"keydown":case"keyup":Yg(nt,a,X)}var Ot;if(Qt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else wa?Ms(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Si&&a.locale!=="ko"&&(wa||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&wa&&(Ot=Qo()):(Ei=X,Go="value"in Ei?Ei.value:Ei.textContent,wa=!0)),gt=Hc(q,Lt),0<gt.length&&(Lt=new wi(Lt,e,null,a,X),nt.push({event:Lt,listeners:gt}),Ot?Lt.data=Ot:(Ot=ba(a),Ot!==null&&(Lt.data=Ot)))),(Ot=On?_w(e,a):vw(e,a))&&(Lt=Hc(q,"onBeforeInput"),0<Lt.length&&(gt=new wi("onBeforeInput","beforeinput",null,a,X),nt.push({event:gt,listeners:Lt}),gt.data=Ot)),cS(nt,e,q,a,X)}v_(nt,r)})}function Sl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Hc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=$n(e,a),f!=null&&l.unshift(Sl(e,f,d)),f=$n(e,r),f!=null&&l.push(Sl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function mS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function T_(e,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var w=a,O=w.alternate,q=w.stateNode;if(w=w.tag,O!==null&&O===l)break;w!==5&&w!==26&&w!==27||q===null||(O=q,f?(q=$n(a,d),q!=null&&v.unshift(Sl(a,q,O))):f||(q=$n(a,d),q!=null&&v.push(Sl(a,q,O)))),a=a.return}v.length!==0&&e.push({event:r,listeners:v})}var pS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function b_(e){return(typeof e=="string"?e:""+e).replace(pS,`
`).replace(gS,"")}function w_(e,r){return r=b_(r),b_(e)===r}function te(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||on(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&on(e,""+l);break;case"className":_n(e,"class",l);break;case"tabIndex":_n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,a,l);break;case"style":Ho(e,l,d);break;case"data":if(r!=="object"){_n(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ya(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&te(e,r,"name",f.name,f,null),te(e,r,"formEncType",f.formEncType,f,null),te(e,r,"formMethod",f.formMethod,f,null),te(e,r,"formTarget",f.formTarget,f,null)):(te(e,r,"encType",f.encType,f,null),te(e,r,"method",f.method,f,null),te(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ya(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ya(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ma(e,"popover",l);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ma(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hu.get(a)||a,ma(e,a,l))}}function um(e,r,a,l,f,d){switch(a){case"style":Ho(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?on(e,l):(typeof l=="number"||typeof l=="bigint")&&on(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[Pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ma(e,a,l)}}}function Qe(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(e,r,d,v,a,null)}}f&&te(e,r,"srcSet",a.srcSet,a,null),l&&te(e,r,"src",a.src,a,null);return;case"input":Vt("invalid",e);var w=d=v=f=null,O=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":v=X;break;case"checked":O=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:te(e,r,l,X,a,null)}}zu(e,d,w,O,q,v,f,!1);return;case"select":Vt("invalid",e),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:te(e,r,f,w,a,null)}r=d,a=v,e.multiple=!!l,r!=null?br(e,!!l,r,!1):a!=null&&br(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:te(e,r,v,w,a,null)}wr(e,l,f,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,r,O,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<wl.length;l++)Vt(wl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(e,r,q,l,a,null)}return;default:if(ga(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&um(e,r,X,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&te(e,r,w,l,a,null))}function yS(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,w=null,O=null,q=null,X=null;for($ in a){var nt=a[$];if(a.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":O=nt;default:l.hasOwnProperty($)||te(e,r,$,null,l,nt)}}for(var F in l){var $=l[F];if(nt=a[F],l.hasOwnProperty(F)&&($!=null||nt!=null))switch(F){case"type":d=$;break;case"name":f=$;break;case"checked":q=$;break;case"defaultChecked":X=$;break;case"value":v=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==nt&&te(e,r,F,$,l,nt)}}pa(e,v,w,O,q,X,d,f);return;case"select":$=v=w=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":$=O;default:l.hasOwnProperty(d)||te(e,r,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==O&&te(e,r,f,d,l,O)}r=w,a=v,l=$,F!=null?br(e,!!a,F,!1):!!l!=!!a&&(r!=null?br(e,!!a,r,!0):br(e,!!a,a?[]:"",!1));return;case"textarea":$=F=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:te(e,r,w,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":F=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&te(e,r,v,f,l,d)}Bu(e,F,$);return;case"option":for(var pt in a)if(F=a[pt],a.hasOwnProperty(pt)&&F!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:te(e,r,pt,null,l,F)}for(O in l)if(F=l[O],$=a[O],l.hasOwnProperty(O)&&F!==$&&(F!=null||$!=null))switch(O){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:te(e,r,O,F,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)F=a[Tt],a.hasOwnProperty(Tt)&&F!=null&&!l.hasOwnProperty(Tt)&&te(e,r,Tt,null,l,F);for(q in l)if(F=l[q],$=a[q],l.hasOwnProperty(q)&&F!==$&&(F!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:te(e,r,q,F,l,$)}return;default:if(ga(r)){for(var ee in a)F=a[ee],a.hasOwnProperty(ee)&&F!==void 0&&!l.hasOwnProperty(ee)&&um(e,r,ee,void 0,l,F);for(X in l)F=l[X],$=a[X],!l.hasOwnProperty(X)||F===$||F===void 0&&$===void 0||um(e,r,X,F,l,$);return}}for(var j in a)F=a[j],a.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&te(e,r,j,null,l,F);for(nt in l)F=l[nt],$=a[nt],!l.hasOwnProperty(nt)||F===$||F==null&&$==null||te(e,r,nt,F,l,$)}function S_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _S(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,w=f.duration;if(d&&w&&S_(v)){for(v=0,w=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],q=O.startTime;if(q>w)break;var X=O.transferSize,nt=O.initiatorType;X&&S_(nt)&&(O=O.responseEnd,v+=X*(O<w?1:(w-q)/(O-q)))}if(--l,r+=8*(d+v)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cm=null,hm=null;function Fc(e){return e.nodeType===9?e:e.ownerDocument}function A_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function fm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var dm=null;function vS(){var e=window.event;return e&&e.type==="popstate"?e===dm?!1:(dm=e,!0):(dm=null,!1)}var R_=typeof setTimeout=="function"?setTimeout:void 0,ES=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,TS=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(e){return N_.resolve(null).then(e).catch(bS)}:R_;function bS(e){setTimeout(function(){throw e})}function Qr(e){return e==="head"}function C_(e,r){var a=r,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),Za(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var v=d.nextSibling,w=d.nodeName;d[di]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Al(e.ownerDocument.body);a=f}while(a);Za(r)}function I_(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function mm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mm(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wS(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[di])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function SS(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function D_(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=jn(e.nextSibling),e===null))return null;return e}function pm(e){return e.data==="$?"||e.data==="$~"}function gm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function AS(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var ym=null;function O_(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return jn(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function M_(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function V_(e,r,a){switch(r=Fc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Al(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);da(e)}var zn=new Map,k_=new Set;function Gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sr=G.d;G.d={f:xS,r:RS,D:NS,C:CS,L:IS,m:DS,X:MS,S:OS,M:VS};function xS(){var e=sr.f(),r=Lc();return e||r}function RS(e){var r=Cn(e);r!==null&&r.tag===5&&r.type==="form"?Jy(r):sr.r(e)}var $a=typeof document>"u"?null:document;function L_(e,r,a){var l=$a;if(l&&typeof r=="string"&&r){var f=an(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),k_.has(f)||(k_.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Qe(r,"link",e),Se(r),l.head.appendChild(r)))}}function NS(e){sr.D(e),L_("dns-prefetch",e,null)}function CS(e,r){sr.C(e,r),L_("preconnect",e,r)}function IS(e,r,a){sr.L(e,r,a);var l=$a;if(l&&e&&r){var f='link[rel="preload"][as="'+an(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+an(a.imageSizes)+'"]')):f+='[href="'+an(e)+'"]';var d=f;switch(r){case"style":d=Ka(e);break;case"script":d=Xa(e)}zn.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),zn.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(xl(d))||r==="script"&&l.querySelector(Rl(d))||(r=l.createElement("link"),Qe(r,"link",e),Se(r),l.head.appendChild(r)))}}function DS(e,r){sr.m(e,r);var a=$a;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(e)}if(!zn.has(d)&&(e=T({rel:"modulepreload",href:e},r),zn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),Qe(l,"link",e),Se(l),a.head.appendChild(l)}}}function OS(e,r,a){sr.S(e,r,a);var l=$a;if(l&&e){var f=pi(l).hoistableStyles,d=Ka(e);r=r||"default";var v=f.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(xl(d)))w.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=zn.get(d))&&_m(e,a);var O=v=l.createElement("link");Se(O),Qe(O,"link",e),O._p=new Promise(function(q,X){O.onload=q,O.onerror=X}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Qc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:w},f.set(d,v)}}}function MS(e,r){sr.X(e,r);var a=$a;if(a&&e){var l=pi(a).hoistableScripts,f=Xa(e),d=l.get(f);d||(d=a.querySelector(Rl(f)),d||(e=T({src:e,async:!0},r),(r=zn.get(f))&&vm(e,r),d=a.createElement("script"),Se(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function VS(e,r){sr.M(e,r);var a=$a;if(a&&e){var l=pi(a).hoistableScripts,f=Xa(e),d=l.get(f);d||(d=a.querySelector(Rl(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=zn.get(f))&&vm(e,r),d=a.createElement("script"),Se(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function P_(e,r,a,l){var f=(f=St.current)?Gc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ka(a.href),a=pi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ka(a.href);var d=pi(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(xl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),d||kS(f,e,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xa(a),a=pi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ka(e){return'href="'+an(e)+'"'}function xl(e){return'link[rel="stylesheet"]['+e+"]"}function U_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function kS(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Qe(r,"link",a),Se(r),e.head.appendChild(r))}function Xa(e){return'[src="'+an(e)+'"]'}function Rl(e){return"script[async]"+e}function j_(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return r.instance=l,Se(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Se(l),Qe(l,"style",f),Qc(l,a.precedence,e),r.instance=l;case"stylesheet":f=Ka(a.href);var d=e.querySelector(xl(f));if(d)return r.state.loading|=4,r.instance=d,Se(d),d;l=U_(a),(f=zn.get(f))&&_m(l,f),d=(e.ownerDocument||e).createElement("link"),Se(d);var v=d;return v._p=new Promise(function(w,O){v.onload=w,v.onerror=O}),Qe(d,"link",l),r.state.loading|=4,Qc(d,a.precedence,e),r.instance=d;case"script":return d=Xa(a.src),(f=e.querySelector(Rl(d)))?(r.instance=f,Se(f),f):(l=a,(f=zn.get(d))&&(l=T({},a),vm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Se(f),Qe(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Qc(l,a.precedence,e));return r.instance}function Qc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===r)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function _m(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function vm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Yc=null;function z_(e,r,a){if(Yc===null){var l=new Map,f=Yc=new Map;f.set(a,l)}else f=Yc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[di]||d[we]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=e+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function B_(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function LS(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function q_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function PS(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ka(l.href),d=r.querySelector(xl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=$c.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,Se(d);return}d=r.ownerDocument||r,l=U_(l),(f=zn.get(f))&&_m(l,f),d=d.createElement("link"),Se(d);var v=d;v._p=new Promise(function(w,O){v.onload=w,v.onerror=O}),Qe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=$c.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var Em=0;function US(e,r){return e.stylesheets&&e.count===0&&Xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&Em===0&&(Em=62500*_S());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Em?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function $c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kc=null;function Xc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kc=new Map,r.forEach(jS,e),Kc=null,$c.call(e))}function jS(e,r){if(!(r.state.loading&4)){var a=Kc.get(e);if(a)var l=a.get(null);else{a=new Map,Kc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=$c.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var Nl={$$typeof:et,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function zS(e,r,a,l,f,d,v,w,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function H_(e,r,a,l,f,d,v,w,O,q,X,nt){return e=new zS(e,r,a,v,O,q,X,nt,w),r=1,d===!0&&(r|=24),d=En(3,null,null,r),e.current=d,d.stateNode=e,r=Wf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},id(d),e}function F_(e){return e?(e=Ra,e):Ra}function G_(e,r,a,l,f,d){f=F_(f),l.context===null?l.context=f:l.pendingContext=f,l=kr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Lr(e,l,r),a!==null&&(fn(a,e,r),al(a,e,r))}function Q_(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Tm(e,r){Q_(e,r),(e=e.alternate)&&Q_(e,r)}function Y_(e){if(e.tag===13||e.tag===31){var r=Ls(e,67108864);r!==null&&fn(r,e,67108864),Tm(e,67108864)}}function $_(e){if(e.tag===13||e.tag===31){var r=An();r=Ss(r);var a=Ls(e,r);a!==null&&fn(a,e,r),Tm(e,r)}}var Zc=!0;function BS(e,r,a,l){var f=P.T;P.T=null;var d=G.p;try{G.p=2,bm(e,r,a,l)}finally{G.p=d,P.T=f}}function qS(e,r,a,l){var f=P.T;P.T=null;var d=G.p;try{G.p=8,bm(e,r,a,l)}finally{G.p=d,P.T=f}}function bm(e,r,a,l){if(Zc){var f=wm(l);if(f===null)lm(e,r,l,Jc,a),X_(e,l);else if(FS(f,e,r,a,l))l.stopPropagation();else if(X_(e,l),r&4&&-1<HS.indexOf(e)){for(;f!==null;){var d=Cn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ui(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var O=1<<31-me(v);w.entanglements[1]|=O,v&=~O}Ni(d),(Yt&6)===0&&(Vc=nn()+500,bl(0))}}break;case 31:case 13:w=Ls(d,2),w!==null&&fn(w,d,2),Lc(),Tm(d,2)}if(d=wm(l),d===null&&lm(e,r,l,Jc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else lm(e,r,l,null,a)}}function wm(e){return e=In(e),Sm(e)}var Jc=null;function Sm(e){if(Jc=null,e=mi(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=c(r),e!==null)return e;e=null}else if(a===31){if(e=m(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Jc=e,null}function K_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Do:return 2;case Oo:return 8;case Er:case If:return 32;case Iu:return 268435456;default:return 32}default:return 32}}var Am=!1,Yr=null,$r=null,Kr=null,Cl=new Map,Il=new Map,Xr=[],HS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X_(e,r){switch(e){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(r.pointerId)}}function Dl(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Cn(r),r!==null&&Y_(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function FS(e,r,a,l,f){switch(r){case"focusin":return Yr=Dl(Yr,e,r,a,l,f),!0;case"dragenter":return $r=Dl($r,e,r,a,l,f),!0;case"mouseover":return Kr=Dl(Kr,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Cl.set(d,Dl(Cl.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Il.set(d,Dl(Il.get(d)||null,e,r,a,l,f)),!0}return!1}function Z_(e){var r=mi(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){e.blockedOn=r,Gn(e.priority,function(){$_(a)});return}}else if(r===31){if(r=m(a),r!==null){e.blockedOn=r,Gn(e.priority,function(){$_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=wm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Fo=l,a.target.dispatchEvent(l),Fo=null}else return r=Cn(a),r!==null&&Y_(r),e.blockedOn=a,!1;r.shift()}return!0}function J_(e,r,a){Wc(e)&&a.delete(r)}function GS(){Am=!1,Yr!==null&&Wc(Yr)&&(Yr=null),$r!==null&&Wc($r)&&($r=null),Kr!==null&&Wc(Kr)&&(Kr=null),Cl.forEach(J_),Il.forEach(J_)}function th(e,r){e.blockedOn===r&&(e.blockedOn=null,Am||(Am=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,GS)))}var eh=null;function W_(e){eh!==e&&(eh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){eh===e&&(eh=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(Sm(l||a)===null)continue;break}var d=Cn(a);d!==null&&(e.splice(r,3),r-=3,wd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Za(e){function r(O){return th(O,e)}Yr!==null&&th(Yr,e),$r!==null&&th($r,e),Kr!==null&&th(Kr,e),Cl.forEach(r),Il.forEach(r);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)Z_(a),a.blockedOn===null&&Xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Pe]||null;if(typeof d=="function")v||W_(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Pe]||null)w=v.formAction;else if(Sm(f)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),W_(a)}}}function tv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function xm(e){this._internalRoot=e}nh.prototype.render=xm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=An();G_(a,l,e,r,null,null)},nh.prototype.unmount=xm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;G_(e.current,2,null,e,null,null),Lc(),r[fi]=null}};function nh(e){this._internalRoot=e}nh.prototype.unstable_scheduleHydration=function(e){if(e){var r=Lu();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Xr.length&&r!==0&&r<Xr[a].priority;a++);Xr.splice(a,0,e),a===0&&Z_(e)}};var ev=t.version;if(ev!=="19.2.1")throw Error(s(527,ev,"19.2.1"));G.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(r),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var QS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Hn=ih.inject(QS),Be=ih}catch{}}return Ml.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=l0,d=u0,v=c0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=H_(e,1,!1,null,null,a,l,null,f,d,v,tv),e[fi]=r.current,om(e),new xm(r)},Ml.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=l0,v=u0,w=c0,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=H_(e,1,!0,r,a??null,l,f,O,d,v,w,tv),r.context=F_(null),a=r.current,l=An(),l=Ss(l),f=kr(l),f.callback=null,Lr(a,f,l),a=l,r.current.lanes=a,bs(r,a),Ni(r),e[fi]=r.current,om(e),new nh(r)},Ml.version="19.2.1",Ml}var hv;function iA(){if(hv)return Cm.exports;hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Cm.exports=nA(),Cm.exports}var rA=iA();const sA=()=>{};var fv={};const dT=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},aA=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],c=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,M=g&63;p||(M=64,c||(S=64)),s.push(n[_],n[T],n[S],n[M])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(dT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):aA(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new oA;const S=u<<2|m>>4;if(s.push(S),g!==64){const M=m<<4&240|g>>2;if(s.push(M),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class oA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lA=function(i){const t=dT(i);return mT.encodeByteArray(t,!0)},Ih=function(i){return lA(i).replace(/\./g,"")},pT=function(i){try{return mT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function uA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cA=()=>uA().__FIREBASE_DEFAULTS__,hA=()=>{if(typeof process>"u"||typeof fv>"u")return;const i=fv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},fA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&pT(i[1]);return t&&JSON.parse(t)},rf=()=>{try{return sA()||cA()||hA()||fA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},gT=i=>rf()?.emulatorHosts?.[i],dA=i=>{const t=gT(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},yT=()=>rf()?.config,_T=i=>rf()?.[`_${i}`];class mA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function To(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vT(i){return(await fetch(i,{credentials:"include"})).ok}function pA(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ih(JSON.stringify(n)),Ih(JSON.stringify(c)),""].join(".")}const Yl={};function gA(){const i={prod:[],emulator:[]};for(const t of Object.keys(Yl))Yl[t]?i.emulator.push(t):i.prod.push(t);return i}function yA(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let dv=!1;function ET(i,t){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Yl[i]===t||Yl[i]||dv)return;Yl[i]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=gA().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{dv=!0,c()},S}function _(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=yA(s),M=n("text"),U=document.getElementById(M)||document.createElement("span"),H=n("learnmore"),K=document.getElementById(H)||document.createElement("a"),lt=n("preprendIcon"),W=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const et=S.element;m(et),_(K,H);const ut=g();p(W,lt),et.append(W,U,K,ut),document.body.appendChild(et)}u?(U.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _A(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function vA(){const i=rf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function bA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wA(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function SA(){return!vA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AA(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const RA="FirebaseError";class pr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=RA,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?NA(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new pr(o,m,s)}}function NA(i,t){return i.replace(CA,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const CA=/\{\$([^}]+)}/g;function IA(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ea(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],c=t[o];if(mv(u)&&mv(c)){if(!ea(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function mv(i){return i!==null&&typeof i=="object"}function yu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ul(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function jl(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function DA(i,t){const n=new OA(i,t);return n.subscribe.bind(n)}class OA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");MA(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Mm),o.error===void 0&&(o.error=Mm),o.complete===void 0&&(o.complete=Mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MA(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Mm(){}function Ke(i){return i&&i._delegate?i._delegate:i}class na{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ks="[DEFAULT]";class VA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new mA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LA(t))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ks){return this.instances.has(t)}getOptions(t=Ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ks){return this.component?this.component.multipleInstances?t:Ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kA(i){return i===Ks?void 0:i}function LA(i){return i.instantiationMode==="EAGER"}class PA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new VA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pt||(Pt={}));const UA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},jA=Pt.INFO,zA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},BA=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=zA[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pp{constructor(t){this.name=t,this._logLevel=jA,this._logHandler=BA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const qA=(i,t)=>t.some(n=>i instanceof n);let pv,gv;function HA(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,Jm=new WeakMap,bT=new WeakMap,Vm=new WeakMap,Up=new WeakMap;function GA(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(ss(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&TT.set(n,i)}).catch(()=>{}),Up.set(t,i),t}function QA(i){if(Jm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Jm.set(i,t)}let Wm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Jm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||bT.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function YA(i){Wm=i(Wm)}function $A(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(km(this),t,...n);return bT.set(s,t.sort?t.sort():[t]),ss(s)}:FA().includes(i)?function(...t){return i.apply(km(this),t),ss(TT.get(this))}:function(...t){return ss(i.apply(km(this),t))}}function KA(i){return typeof i=="function"?$A(i):(i instanceof IDBTransaction&&QA(i),qA(i,HA())?new Proxy(i,Wm):i)}function ss(i){if(i instanceof IDBRequest)return GA(i);if(Vm.has(i))return Vm.get(i);const t=KA(i);return t!==i&&(Vm.set(i,t),Up.set(t,i)),t}const km=i=>Up.get(i);function XA(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),m=ss(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ss(c.result),p.oldVersion,p.newVersion,ss(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ZA=["get","getKey","getAll","getAllKeys","count"],JA=["put","add","delete","clear"],Lm=new Map;function yv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Lm.get(t))return Lm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=JA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ZA.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Lm.set(t,u),u}YA(i=>({...i,get:(t,n,s)=>yv(t,n)||i.get(t,n,s),has:(t,n)=>!!yv(t,n)||i.has(t,n)}));class WA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tx(i){return i.getComponent()?.type==="VERSION"}const tp="@firebase/app",_v="0.14.6";const cr=new Pp("@firebase/app"),ex="@firebase/app-compat",nx="@firebase/analytics-compat",ix="@firebase/analytics",rx="@firebase/app-check-compat",sx="@firebase/app-check",ax="@firebase/auth",ox="@firebase/auth-compat",lx="@firebase/database",ux="@firebase/data-connect",cx="@firebase/database-compat",hx="@firebase/functions",fx="@firebase/functions-compat",dx="@firebase/installations",mx="@firebase/installations-compat",px="@firebase/messaging",gx="@firebase/messaging-compat",yx="@firebase/performance",_x="@firebase/performance-compat",vx="@firebase/remote-config",Ex="@firebase/remote-config-compat",Tx="@firebase/storage",bx="@firebase/storage-compat",wx="@firebase/firestore",Sx="@firebase/ai",Ax="@firebase/firestore-compat",xx="firebase",Rx="12.6.0";const ep="[DEFAULT]",Nx={[tp]:"fire-core",[ex]:"fire-core-compat",[ix]:"fire-analytics",[nx]:"fire-analytics-compat",[sx]:"fire-app-check",[rx]:"fire-app-check-compat",[ax]:"fire-auth",[ox]:"fire-auth-compat",[lx]:"fire-rtdb",[ux]:"fire-data-connect",[cx]:"fire-rtdb-compat",[hx]:"fire-fn",[fx]:"fire-fn-compat",[dx]:"fire-iid",[mx]:"fire-iid-compat",[px]:"fire-fcm",[gx]:"fire-fcm-compat",[yx]:"fire-perf",[_x]:"fire-perf-compat",[vx]:"fire-rc",[Ex]:"fire-rc-compat",[Tx]:"fire-gcs",[bx]:"fire-gcs-compat",[wx]:"fire-fst",[Ax]:"fire-fst-compat",[Sx]:"fire-vertex","fire-js":"fire-js",[xx]:"fire-js-all"};const Dh=new Map,Cx=new Map,np=new Map;function vv(i,t){try{i.container.addComponent(t)}catch(n){cr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function uo(i){const t=i.name;if(np.has(t))return cr.debug(`There were multiple attempts to register component ${t}.`),!1;np.set(t,i);for(const n of Dh.values())vv(n,i);for(const n of Cx.values())vv(n,i);return!0}function jp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function Bn(i){return i==null?!1:i.settings!==void 0}const Ix={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new gu("app","Firebase",Ix);class Dx{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}const bo=Rx;function wT(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:ep,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(n||(n=yT()),!n)throw as.create("no-options");const u=Dh.get(o);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const c=new PA(o);for(const p of np.values())c.addComponent(p);const m=new Dx(n,s,c);return Dh.set(o,m),m}function ST(i=ep){const t=Dh.get(i);if(!t&&i===ep&&yT())return wT();if(!t)throw as.create("no-app",{appName:i});return t}function os(i,t,n){let s=Nx[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cr.warn(c.join(" "));return}uo(new na(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Ox="firebase-heartbeat-database",Mx=1,tu="firebase-heartbeat-store";let Pm=null;function AT(){return Pm||(Pm=XA(Ox,Mx,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(i=>{throw as.create("idb-open",{originalErrorMessage:i.message})})),Pm}async function Vx(i){try{const n=(await AT()).transaction(tu),s=await n.objectStore(tu).get(xT(i));return await n.done,s}catch(t){if(t instanceof pr)cr.warn(t.message);else{const n=as.create("idb-get",{originalErrorMessage:t?.message});cr.warn(n.message)}}}async function Ev(i,t){try{const s=(await AT()).transaction(tu,"readwrite");await s.objectStore(tu).put(t,xT(i)),await s.done}catch(n){if(n instanceof pr)cr.warn(n.message);else{const s=as.create("idb-set",{originalErrorMessage:n?.message});cr.warn(s.message)}}}function xT(i){return`${i.name}!${i.options.appId}`}const kx=1024,Lx=30;class Px{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Lx){const o=zx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){cr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Tv(),{heartbeatsToSend:n,unsentEntries:s}=Ux(this._heartbeatsCache.heartbeats),o=Ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return cr.warn(t),""}}}function Tv(){return new Date().toISOString().substring(0,10)}function Ux(i,t=kx){const n=[];let s=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),bv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),bv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class jx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AA()?xA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Vx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function bv(i){return Ih(JSON.stringify({version:2,heartbeats:i})).length}function zx(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}function Bx(i){uo(new na("platform-logger",t=>new WA(t),"PRIVATE")),uo(new na("heartbeat",t=>new Px(t),"PRIVATE")),os(tp,_v,i),os(tp,_v,"esm2020"),os("fire-js","")}Bx("");var qx="firebase",Hx="12.6.0";os(qx,Hx,"app");function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fx=RT,NT=new gu("auth","Firebase",RT());const Oh=new Pp("@firebase/auth");function Gx(i,...t){Oh.logLevel<=Pt.WARN&&Oh.warn(`Auth (${bo}): ${i}`,...t)}function gh(i,...t){Oh.logLevel<=Pt.ERROR&&Oh.error(`Auth (${bo}): ${i}`,...t)}function ai(i,...t){throw zp(i,...t)}function Ii(i,...t){return zp(i,...t)}function CT(i,t,n){const s={...Fx(),[t]:n};return new gu("auth","Firebase",s).create(t,{appName:i.name})}function ur(i){return CT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return NT.create(i,...t)}function bt(i,t,...n){if(!i)throw zp(t,...n)}function or(i){const t="INTERNAL ASSERTION FAILED: "+i;throw gh(t),new Error(t)}function hr(i,t){i||or(t)}function ip(){return typeof self<"u"&&self.location?.href||""}function Qx(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}function Yx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qx()||TA()||"connection"in navigator)?navigator.onLine:!0}function $x(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class _u{constructor(t,n){this.shortDelay=t,this.longDelay=n,hr(n>t,"Short delay should be less than long delay!"),this.isMobile=_A()||bA()}get(){return Yx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bp(i,t){hr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class IT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Xx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zx=new _u(3e4,6e4);function gr(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function yr(i,t,n,s,o={}){return DT(i,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const m=yu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return EA()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&To(i.emulatorConfig.host)&&(g.credentials="include"),IT.fetch()(await OT(i,i.config.apiHost,n,m),g)})}async function DT(i,t,n){i._canInitEmulator=!1;const s={...Kx,...t};try{const o=new Wx(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw rh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw rh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw rh(i,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw CT(i,_,g);ai(i,_)}}catch(o){if(o instanceof pr)throw o;ai(i,"network-request-failed",{message:String(o)})}}async function vu(i,t,n,s,o={}){const u=await yr(i,t,n,s,o);return"mfaPendingCredential"in u&&ai(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function OT(i,t,n,s){const o=`${t}${n}?${s}`,u=i,c=u.config.emulator?Bp(i.config,o):`${i.config.apiScheme}://${o}`;return Xx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function Jx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),Zx.get())})}}function rh(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ii(i,t,s);return o.customData._tokenResponse=n,o}function Sv(i){return i!==void 0&&i.enterprise!==void 0}class t2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Jx(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e2(i,t){return yr(i,"GET","/v2/recaptchaConfig",gr(i,t))}async function n2(i,t){return yr(i,"POST","/v1/accounts:delete",t)}async function Mh(i,t){return yr(i,"POST","/v1/accounts:lookup",t)}function $l(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function i2(i,t=!1){const n=Ke(i),s=await n.getIdToken(t),o=qp(s);bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:$l(Um(o.auth_time)),issuedAtTime:$l(Um(o.iat)),expirationTime:$l(Um(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Um(i){return Number(i)*1e3}function qp(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=pT(n);return o?JSON.parse(o):(gh("Failed to decode base64 JWT payload"),null)}catch(o){return gh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Av(i){const t=qp(i);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function eu(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof pr&&r2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function r2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class s2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Vh(i){const t=i.auth,n=await i.getIdToken(),s=await eu(i,Mh(t,{idToken:n}));bt(s?.users.length,t,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?MT(o.providerUserInfo):[],c=o2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function a2(i){const t=Ke(i);await Vh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function o2(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function MT(i){return i.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function l2(i,t){const n=await DT(i,{},async()=>{const s=yu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await OT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&To(i.emulatorConfig.host)&&(p.credentials="include"),IT.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u2(i,t){return yr(i,"POST","/v2/accounts:revokeToken",gr(i,t))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Av(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const n=Av(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await l2(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new io;return s&&(bt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(bt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(bt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return or("not implemented")}}function Jr(i,t){bt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new s2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await eu(this,this.stsTokenManager.getToken(this.auth,t));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return i2(this,t)}reload(){return a2(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(ur(this.auth));const t=await this.getIdToken();return await eu(this,n2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:M,providerData:U,stsTokenManager:H}=n;bt(T&&H,t,"internal-error");const K=io.fromJSON(this.name,H);bt(typeof T=="string",t,"internal-error"),Jr(s,t.name),Jr(o,t.name),bt(typeof S=="boolean",t,"internal-error"),bt(typeof M=="boolean",t,"internal-error"),Jr(u,t.name),Jr(c,t.name),Jr(m,t.name),Jr(p,t.name),Jr(g,t.name),Jr(_,t.name);const lt=new ni({uid:T,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:M,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:K,createdAt:g,lastLoginAt:_});return U&&Array.isArray(U)&&(lt.providerData=U.map(W=>({...W}))),p&&(lt._redirectEventId=p),lt}static async _fromIdTokenResponse(t,n,s=!1){const o=new io;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Vh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?MT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new io;m.updateFromIdToken(s);const p=new ni({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const xv=new Map;function lr(i){hr(i instanceof Function,"Expected a class definition");let t=xv.get(i);return t?(hr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,xv.set(i,t),t)}class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}VT.type="NONE";const Rv=VT;function yh(i,t,n){return`firebase:${i}:${t}:${n}`}class ro{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=yh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Mh(this.auth,{idToken:t}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ro(lr(Rv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||lr(Rv);const c=yh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const S=await Mh(t,{idToken:_}).catch(()=>{});if(!S)break;T=await ni._fromGetAccountInfoResponse(t,S,_)}else T=ni._fromJSON(t,_);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ro(u,t,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new ro(u,t,s))}}function Nv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(UT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zT(t))return"Blackberry";if(BT(t))return"Webos";if(LT(t))return"Safari";if((t.includes("chrome/")||PT(t))&&!t.includes("edge/"))return"Chrome";if(jT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function kT(i=en()){return/firefox\//i.test(i)}function LT(i=en()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PT(i=en()){return/crios\//i.test(i)}function UT(i=en()){return/iemobile/i.test(i)}function jT(i=en()){return/android/i.test(i)}function zT(i=en()){return/blackberry/i.test(i)}function BT(i=en()){return/webos/i.test(i)}function Hp(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function c2(i=en()){return Hp(i)&&!!window.navigator?.standalone}function h2(){return wA()&&document.documentMode===10}function qT(i=en()){return Hp(i)||jT(i)||BT(i)||zT(i)||/windows phone/i.test(i)||UT(i)}function HT(i,t=[]){let n;switch(i){case"Browser":n=Nv(en());break;case"Worker":n=`${Nv(en())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${s}`}class f2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function d2(i,t={}){return yr(i,"GET","/v2/passwordPolicy",gr(i,t))}const m2=6;class p2{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??m2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class g2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cv(this),this.idTokenSubscription=new Cv(this),this.beforeStateQueue=new f2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Mh(this,{idToken:t}),s=await ni._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Vh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$x()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(ur(this));const n=t?Ke(t):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await d2(this),n=new p2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new gu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await u2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&lr(t)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Gx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function gs(i){return Ke(i)}class Cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=DA(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y2(i){sf=i}function FT(i){return sf.loadJS(i)}function _2(){return sf.recaptchaEnterpriseScript}function v2(){return sf.gapiScript}function E2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class T2{constructor(){this.enterprise=new b2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class b2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const w2="recaptcha-enterprise",GT="NO_RECAPTCHA";class S2{constructor(t){this.type=w2,this.auth=gs(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{e2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new t2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;Sv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{c(g)}).catch(()=>{c(GT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new T2().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(m=>{if(!n&&Sv(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_2();p.length!==0&&(p+=m),FT(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function Iv(i,t,n,s=!1,o=!1){const u=new S2(i);let c;if(o)c=GT;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function kh(i,t,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Iv(i,t,n,n==="getOobCode");return s(i,u)}else return s(i,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Iv(i,t,n,n==="getOobCode");return s(i,c)}else return Promise.reject(u)})}function A2(i,t){const n=jp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,t??{}))return o;ai(o,"already-initialized")}return n.initialize({options:t})}function x2(i,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(lr);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function R2(i,t,n){const s=gs(i);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=QT(t),{host:c,port:m}=N2(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(ea(g,s.config.emulator)&&ea(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,To(c)?(vT(`${u}//${c}${p}`),ET("Auth",!0)):C2()}function QT(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function N2(i){const t=QT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Dv(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:Dv(c)}}}function Dv(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function C2(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Fp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(t){return or("not implemented")}_linkToIdToken(t,n){return or("not implemented")}_getReauthenticationResolver(t){return or("not implemented")}}async function I2(i,t){return yr(i,"POST","/v1/accounts:signUp",t)}async function D2(i,t){return vu(i,"POST","/v1/accounts:signInWithPassword",gr(i,t))}async function O2(i,t){return yr(i,"POST","/v1/accounts:sendOobCode",gr(i,t))}async function M2(i,t){return O2(i,t)}async function V2(i,t){return vu(i,"POST","/v1/accounts:signInWithEmailLink",gr(i,t))}async function k2(i,t){return vu(i,"POST","/v1/accounts:signInWithEmailLink",gr(i,t))}class nu extends Fp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new nu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new nu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kh(t,n,"signInWithPassword",D2);case"emailLink":return V2(t,{email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kh(t,s,"signUpPassword",I2);case"emailLink":return k2(t,{idToken:n,email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function so(i,t){return vu(i,"POST","/v1/accounts:signInWithIdp",gr(i,t))}const L2="http://localhost";class ia extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new ia(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return so(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,so(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,so(t,n)}buildRequest(){const t={requestUri:L2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=yu(n)}return t}}function P2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function U2(i){const t=Ul(jl(i)).link,n=t?Ul(jl(t)).deep_link_id:null,s=Ul(jl(i)).deep_link_id;return(s?Ul(jl(s)).link:null)||s||n||t||i}class Gp{constructor(t){const n=Ul(jl(t)),s=n.apiKey??null,o=n.oobCode??null,u=P2(n.mode??null);bt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=U2(t);try{return new Gp(n)}catch{return null}}}class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(t,n){return nu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Gp.parseLink(n);return bt(s,"argument-error"),nu._fromEmailAndCode(t,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class YT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Eu extends YT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ts extends Eu{constructor(){super("facebook.com")}static credential(t){return ia._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";class es extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ia._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";class ns extends Eu{constructor(){super("github.com")}static credential(t){return ia._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ns.credential(t.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";class is extends Eu{constructor(){super("twitter.com")}static credential(t,n){return ia._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return is.credential(n,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";async function j2(i,t){return vu(i,"POST","/v1/accounts:signUp",gr(i,t))}class ra{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ni._fromIdTokenResponse(t,s,o),c=Ov(s);return new ra({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Ov(s);return new ra({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Ov(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Lh extends pr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Lh(t,n,s,o)}}function $T(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(i,u,t,s):u})}async function z2(i,t,n=!1){const s=await eu(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return ra._forOperation(i,"link",s)}async function B2(i,t,n=!1){const{auth:s}=i;if(Bn(s.app))return Promise.reject(ur(s));const o="reauthenticate";try{const u=await eu(i,$T(s,o,t,i),n);bt(u.idToken,s,"internal-error");const c=qp(u.idToken);bt(c,s,"internal-error");const{sub:m}=c;return bt(i.uid===m,s,"user-mismatch"),ra._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(s,"user-mismatch"),u}}async function KT(i,t,n=!1){if(Bn(i.app))return Promise.reject(ur(i));const s="signIn",o=await $T(i,s,t),u=await ra._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function q2(i,t){return KT(gs(i),t)}async function XT(i){const t=gs(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function H2(i,t,n){const s=gs(i);await kh(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",M2)}async function F2(i,t,n){if(Bn(i.app))return Promise.reject(ur(i));const s=gs(i),c=await kh(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&XT(i),p}),m=await ra._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function G2(i,t,n){return Bn(i.app)?Promise.reject(ur(i)):q2(Ke(i),wo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&XT(i),s})}function Q2(i,t,n,s){return Ke(i).onIdTokenChanged(t,n,s)}function Y2(i,t,n){return Ke(i).beforeAuthStateChanged(t,n)}function $2(i,t,n,s){return Ke(i).onAuthStateChanged(t,n,s)}function K2(i){return Ke(i).signOut()}const Ph="__sak";class ZT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const X2=1e3,Z2=10;class JT extends ZT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);h2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Z2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},X2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}JT.type="LOCAL";const J2=JT;class WT extends ZT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}WT.type="SESSION";const tb=WT;function W2(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class af{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new af(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await W2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];function Qp(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}class tR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Qp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Di(){return window}function eR(i){Di().location.href=i}function eb(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function nR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iR(){return navigator?.serviceWorker?.controller||null}function rR(){return eb()?self:null}const nb="firebaseLocalStorageDb",sR=1,Uh="firebaseLocalStorage",ib="fbase_key";class Tu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(i,t){return i.transaction([Uh],t?"readwrite":"readonly").objectStore(Uh)}function aR(){const i=indexedDB.deleteDatabase(nb);return new Tu(i).toPromise()}function sp(){const i=indexedDB.open(nb,sR);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Uh,{keyPath:ib})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Uh)?t(s):(s.close(),await aR(),t(await sp()))})})}async function Mv(i,t,n){const s=of(i,!0).put({[ib]:t,value:n});return new Tu(s).toPromise()}async function oR(i,t){const n=of(i,!1).get(t),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function Vv(i,t){const n=of(i,!0).delete(t);return new Tu(n).toPromise()}const lR=800,uR=3;class rb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>uR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(rR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nR(),!this.activeServiceWorker)return;this.sender=new tR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sp();return await Mv(t,Ph,"1"),await Vv(t,Ph),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Mv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>oR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=of(o,!1).getAll();return new Tu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rb.type="LOCAL";const cR=rb;new _u(3e4,6e4);function hR(i,t){return t?lr(t):(bt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Yp extends Fp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return so(t,this._buildIdpRequest())}_linkToIdToken(t,n){return so(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return so(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function fR(i){return KT(i.auth,new Yp(i),i.bypassAuthState)}function dR(i){const{auth:t,user:n}=i;return bt(n,t,"internal-error"),B2(n,new Yp(i),i.bypassAuthState)}async function mR(i){const{auth:t,user:n}=i;return bt(n,t,"internal-error"),z2(n,new Yp(i),i.bypassAuthState)}class sb{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fR;case"linkViaPopup":case"linkViaRedirect":return mR;case"reauthViaPopup":case"reauthViaRedirect":return dR;default:ai(this.auth,"internal-error")}}resolve(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pR=new _u(2e3,1e4);class no extends sb{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const t=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pR.get())};t()}}no.currentPopupAction=null;const gR="pendingRedirect",_h=new Map;class yR extends sb{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=_h.get(this.auth._key());if(!t){try{const s=await _R(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}_h.set(this.auth._key(),t)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _R(i,t){const n=TR(t),s=ER(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function vR(i,t){_h.set(i._key(),t)}function ER(i){return lr(i._redirectPersistence)}function TR(i){return yh(gR,i.config.apiKey,i.name)}async function bR(i,t,n=!1){if(Bn(i.app))return Promise.reject(ur(i));const s=gs(i),o=hR(s,t),c=await new yR(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const wR=600*1e3;class SR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!AR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!ab(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wR&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(t))}saveEventToCache(t){this.cachedEventUids.add(kv(t)),this.lastProcessedEventTime=Date.now()}}function kv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function ab({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function AR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ab(i);default:return!1}}async function xR(i,t={}){return yr(i,"GET","/v1/projects",t)}const RR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NR=/^https?/;async function CR(i){if(i.config.emulator)return;const{authorizedDomains:t}=await xR(i);for(const n of t)try{if(IR(n))return}catch{}ai(i,"unauthorized-domain")}function IR(i){const t=ip(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!NR.test(n))return!1;if(RR.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const DR=new _u(3e4,6e4);function Lv(){const i=Di().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function OR(i){return new Promise((t,n)=>{function s(){Lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lv(),n(Ii(i,"network-request-failed"))},timeout:DR.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)s();else{const o=E2("iframefcb");return Di()[o]=()=>{gapi.load?s():n(Ii(i,"network-request-failed"))},FT(`${v2()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw vh=null,t})}let vh=null;function MR(i){return vh=vh||OR(i),vh}const VR=new _u(5e3,15e3),kR="__/auth/iframe",LR="emulator/auth/iframe",PR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jR(i){const t=i.config;bt(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Bp(t,LR):`https://${i.config.authDomain}/${kR}`,s={apiKey:t.apiKey,appName:i.name,v:bo},o=UR.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${yu(s).slice(1)}`}async function zR(i){const t=await MR(i),n=Di().gapi;return bt(n,i,"internal-error"),t.open({where:document.body,url:jR(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Ii(i,"network-request-failed"),m=Di().setTimeout(()=>{u(c)},VR.get());function p(){Di().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const BR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qR=500,HR=600,FR="_blank",GR="http://localhost";class Pv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QR(i,t,n,s=qR,o=HR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...BR,width:s.toString(),height:o.toString(),top:u,left:c},g=en().toLowerCase();n&&(m=PT(g)?FR:n),kT(g)&&(t=t||GR,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[M,U])=>`${S}${M}=${U},`,"");if(c2(g)&&m!=="_self")return YR(t||"",m),new Pv(null);const T=window.open(t||"",m,_);bt(T,i,"popup-blocked");try{T.focus()}catch{}return new Pv(T)}function YR(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const $R="__/auth/handler",KR="emulator/auth/handler",XR=encodeURIComponent("fac");async function Uv(i,t,n,s,o,u){bt(i.config.authDomain,i,"auth-domain-config-required"),bt(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:bo,eventId:o};if(t instanceof YT){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",IA(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(t instanceof Eu){const _=t.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${XR}=${encodeURIComponent(p)}`:"";return`${ZR(i)}?${yu(m).slice(1)}${g}`}function ZR({config:i}){return i.emulator?Bp(i,KR):`https://${i.authDomain}/${$R}`}const jm="webStorageSupport";class JR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tb,this._completeRedirectFn=bR,this._overrideRedirectResult=vR}async _openPopup(t,n,s,o){hr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Uv(t,n,s,ip(),o);return QR(t,u,Qp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Uv(t,n,s,ip(),o);return eR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await zR(t),s=new SR(t);return n.register("authEvent",o=>(bt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(jm,{type:jm},o=>{const u=o?.[0]?.[jm];u!==void 0&&n(!!u),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return qT()||LT()||Hp()}}const WR=JR;var jv="@firebase/auth",zv="1.11.1";class tN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nN(i){uo(new na("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(i)},g=new g2(s,o,u,p);return x2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),uo(new na("auth-internal",t=>{const n=gs(t.getProvider("auth").getImmediate());return(s=>new tN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(jv,zv,eN(i)),os(jv,zv,"esm2020")}const iN=300,rN=_T("authIdTokenMaxAge")||iN;let Bv=null;const sN=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rN)return;const o=n?.token;Bv!==o&&(Bv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aN(i=ST()){const t=jp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=A2(i,{popupRedirectResolver:WR,persistence:[cR,J2,tb]}),s=_T("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=sN(u.toString());Y2(n,c,()=>c(n.currentUser)),Q2(n,m=>c(m))}}const o=gT("auth");return o&&R2(n,`http://${o}`),n}function oN(){return document.getElementsByTagName("head")?.[0]??document}y2({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",oN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nN("Browser");var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ls,ob;(function(){var i;function t(R,x){function C(){}C.prototype=x.prototype,R.F=x.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(N,D,L){for(var I=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)I[zt-2]=arguments[zt];return x.prototype[D].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,C){C||(C=0);const N=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)N[D]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(D=0;D<16;++D)N[D]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=R.g[0],C=R.g[1],D=R.g[2];let L=R.g[3],I;I=x+(L^C&(D^L))+N[0]+3614090360&4294967295,x=C+(I<<7&4294967295|I>>>25),I=L+(D^x&(C^D))+N[1]+3905402710&4294967295,L=x+(I<<12&4294967295|I>>>20),I=D+(C^L&(x^C))+N[2]+606105819&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(x^D&(L^x))+N[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(L^C&(D^L))+N[4]+4118548399&4294967295,x=C+(I<<7&4294967295|I>>>25),I=L+(D^x&(C^D))+N[5]+1200080426&4294967295,L=x+(I<<12&4294967295|I>>>20),I=D+(C^L&(x^C))+N[6]+2821735955&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(x^D&(L^x))+N[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(L^C&(D^L))+N[8]+1770035416&4294967295,x=C+(I<<7&4294967295|I>>>25),I=L+(D^x&(C^D))+N[9]+2336552879&4294967295,L=x+(I<<12&4294967295|I>>>20),I=D+(C^L&(x^C))+N[10]+4294925233&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(x^D&(L^x))+N[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(L^C&(D^L))+N[12]+1804603682&4294967295,x=C+(I<<7&4294967295|I>>>25),I=L+(D^x&(C^D))+N[13]+4254626195&4294967295,L=x+(I<<12&4294967295|I>>>20),I=D+(C^L&(x^C))+N[14]+2792965006&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(x^D&(L^x))+N[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=x+(D^L&(C^D))+N[1]+4129170786&4294967295,x=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(x^C))+N[6]+3225465664&4294967295,L=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(L^x))+N[11]+643717713&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^x&(D^L))+N[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(D^L&(C^D))+N[5]+3593408605&4294967295,x=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(x^C))+N[10]+38016083&4294967295,L=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(L^x))+N[15]+3634488961&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^x&(D^L))+N[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(D^L&(C^D))+N[9]+568446438&4294967295,x=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(x^C))+N[14]+3275163606&4294967295,L=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(L^x))+N[3]+4107603335&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^x&(D^L))+N[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(D^L&(C^D))+N[13]+2850285829&4294967295,x=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(x^C))+N[2]+4243563512&4294967295,L=x+(I<<9&4294967295|I>>>23),I=D+(x^C&(L^x))+N[7]+1735328473&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^x&(D^L))+N[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=x+(C^D^L)+N[5]+4294588738&4294967295,x=C+(I<<4&4294967295|I>>>28),I=L+(x^C^D)+N[8]+2272392833&4294967295,L=x+(I<<11&4294967295|I>>>21),I=D+(L^x^C)+N[11]+1839030562&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^x)+N[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(C^D^L)+N[1]+2763975236&4294967295,x=C+(I<<4&4294967295|I>>>28),I=L+(x^C^D)+N[4]+1272893353&4294967295,L=x+(I<<11&4294967295|I>>>21),I=D+(L^x^C)+N[7]+4139469664&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^x)+N[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(C^D^L)+N[13]+681279174&4294967295,x=C+(I<<4&4294967295|I>>>28),I=L+(x^C^D)+N[0]+3936430074&4294967295,L=x+(I<<11&4294967295|I>>>21),I=D+(L^x^C)+N[3]+3572445317&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^x)+N[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(C^D^L)+N[9]+3654602809&4294967295,x=C+(I<<4&4294967295|I>>>28),I=L+(x^C^D)+N[12]+3873151461&4294967295,L=x+(I<<11&4294967295|I>>>21),I=D+(L^x^C)+N[15]+530742520&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^x)+N[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=x+(D^(C|~L))+N[0]+4096336452&4294967295,x=C+(I<<6&4294967295|I>>>26),I=L+(C^(x|~D))+N[7]+1126891415&4294967295,L=x+(I<<10&4294967295|I>>>22),I=D+(x^(L|~C))+N[14]+2878612391&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~x))+N[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=x+(D^(C|~L))+N[12]+1700485571&4294967295,x=C+(I<<6&4294967295|I>>>26),I=L+(C^(x|~D))+N[3]+2399980690&4294967295,L=x+(I<<10&4294967295|I>>>22),I=D+(x^(L|~C))+N[10]+4293915773&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~x))+N[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=x+(D^(C|~L))+N[8]+1873313359&4294967295,x=C+(I<<6&4294967295|I>>>26),I=L+(C^(x|~D))+N[15]+4264355552&4294967295,L=x+(I<<10&4294967295|I>>>22),I=D+(x^(L|~C))+N[6]+2734768916&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~x))+N[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=x+(D^(C|~L))+N[4]+4149444226&4294967295,x=C+(I<<6&4294967295|I>>>26),I=L+(C^(x|~D))+N[11]+3174756917&4294967295,L=x+(I<<10&4294967295|I>>>22),I=D+(x^(L|~C))+N[2]+718787259&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~x))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,x){x===void 0&&(x=R.length);const C=x-this.blockSize,N=this.C;let D=this.h,L=0;for(;L<x;){if(D==0)for(;L<=C;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<x;)if(N[D++]=R.charCodeAt(L++),D==this.blockSize){o(this,N),D=0;break}}else for(;L<x;)if(N[D++]=R[L++],D==this.blockSize){o(this,N),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)R[x++]=this.g[C]>>>N&255;return R};function u(R,x){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=x(R)}function c(R,x){this.h=x;const C=[];let N=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;N&&L==x||(C[D]=L,N=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(x){return new c([x|0],x<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return K(g(-R));const x=[];let C=1;for(let N=0;R>=C;N++)x[N]=R/C|0,C*=4294967296;return new c(x,0)}function _(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return K(_(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(x,8));let N=T;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const I=parseInt(R.substring(L,L+D),x);D<8?(D=g(Math.pow(x,D)),N=N.j(D).add(g(I))):(N=N.j(C),N=N.add(g(I)))}return N}var T=p(0),S=p(1),M=p(16777216);i=c.prototype,i.m=function(){if(H(this))return-K(this).m();let R=0,x=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);R+=(N>=0?N:4294967296+N)*x,x*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(U(this))return"0";if(H(this))return"-"+K(this).toString(R);const x=g(Math.pow(R,6));var C=this;let N="";for(;;){const D=ut(C,x).g;C=lt(C,D.j(x));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,U(C))return L+N;for(;L.length<6;)L="0"+L;N=L+N}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function U(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function H(R){return R.h==-1}i.l=function(R){return R=lt(this,R),H(R)?-1:U(R)?0:1};function K(R){const x=R.g.length,C=[];for(let N=0;N<x;N++)C[N]=~R.g[N];return new c(C,~R.h).add(S)}i.abs=function(){return H(this)?K(this):this},i.add=function(R){const x=Math.max(this.g.length,R.g.length),C=[];let N=0;for(let D=0;D<=x;D++){let L=N+(this.i(D)&65535)+(R.i(D)&65535),I=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);N=I>>>16,L&=65535,I&=65535,C[D]=I<<16|L}return new c(C,C[C.length-1]&-2147483648?-1:0)};function lt(R,x){return R.add(K(x))}i.j=function(R){if(U(this)||U(R))return T;if(H(this))return H(R)?K(this).j(K(R)):K(K(this).j(R));if(H(R))return K(this.j(K(R)));if(this.l(M)<0&&R.l(M)<0)return g(this.m()*R.m());const x=this.g.length+R.g.length,C=[];for(var N=0;N<2*x;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let D=0;D<R.g.length;D++){const L=this.i(N)>>>16,I=this.i(N)&65535,zt=R.i(D)>>>16,J=R.i(D)&65535;C[2*N+2*D]+=I*J,W(C,2*N+2*D),C[2*N+2*D+1]+=L*J,W(C,2*N+2*D+1),C[2*N+2*D+1]+=I*zt,W(C,2*N+2*D+1),C[2*N+2*D+2]+=L*zt,W(C,2*N+2*D+2)}for(R=0;R<x;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=x;R<2*x;R++)C[R]=0;return new c(C,0)};function W(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function et(R,x){this.g=R,this.h=x}function ut(R,x){if(U(x))throw Error("division by zero");if(U(R))return new et(T,T);if(H(R))return x=ut(K(R),x),new et(K(x.g),K(x.h));if(H(x))return x=ut(R,K(x)),new et(K(x.g),x.h);if(R.g.length>30){if(H(R)||H(x))throw Error("slowDivide_ only works with positive integers.");for(var C=S,N=x;N.l(R)<=0;)C=Q(C),N=Q(N);var D=it(C,1),L=it(N,1);for(N=it(N,2),C=it(C,2);!U(N);){var I=L.add(N);I.l(R)<=0&&(D=D.add(C),L=I),N=it(N,1),C=it(C,1)}return x=lt(R,D.j(x)),new et(D,x)}for(D=T;R.l(x)>=0;){for(C=Math.max(1,Math.floor(R.m()/x.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),L=g(C),I=L.j(x);H(I)||I.l(R)>0;)C-=N,L=g(C),I=L.j(x);U(L)&&(L=S),D=D.add(L),R=lt(R,I)}return new et(D,R)}i.B=function(R){return ut(this,R).h},i.and=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<x;N++)C[N]=this.i(N)&R.i(N);return new c(C,this.h&R.h)},i.or=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<x;N++)C[N]=this.i(N)|R.i(N);return new c(C,this.h|R.h)},i.xor=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let N=0;N<x;N++)C[N]=this.i(N)^R.i(N);return new c(C,this.h^R.h)};function Q(R){const x=R.g.length+1,C=[];for(let N=0;N<x;N++)C[N]=R.i(N)<<1|R.i(N-1)>>>31;return new c(C,R.h)}function it(R,x){const C=x>>5;x%=32;const N=R.g.length-C,D=[];for(let L=0;L<N;L++)D[L]=x>0?R.i(L+C)>>>x|R.i(L+C+1)<<32-x:R.i(L+C);return new c(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ob=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,ls=c}).apply(typeof qv<"u"?qv:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lb,zl,ub,Eh,ap,cb,hb,fb;(function(){var i,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)t:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var z=h[A];if(!(z in E))break t;E=E[z]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,z,Y){for(var ht=Array(arguments.length-2),It=2;It<arguments.length;It++)ht[It-2]=arguments[It];return y.prototype[z].apply(A,ht)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function M(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function U(h,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=h.length||0;const Y=z.length||0;h.length=E+Y;for(let ht=0;ht<Y;ht++)h[E+ht]=z[ht]}else h.push(z)}}class H{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(h){c.setTimeout(()=>{throw h},0)}function lt(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,E){const A=et.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var et=new H(()=>new ut,h=>h.reset());class ut{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,it=!1,R=new W,x=()=>{const h=Promise.resolve(void 0);Q=()=>{h.then(C)}};function C(){for(var h;h=lt();){try{h.h.call(h.g)}catch(E){K(E)}var y=et;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}it=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function zt(h,y){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(zt,D),zt.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&zt.Z.h.call(this)},zt.prototype.h=function(){zt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),P=0;function G(h,y,E,A,z){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=z,this.key=++P,this.da=this.fa=!1}function rt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function at(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function dt(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function V(h){const y={};for(const E in h)y[E]=h[E];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(h,y){let E,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(E in A)h[E]=A[E];for(let Y=0;Y<Z.length;Y++)E=Z[Y],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,y,E,A,z){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const ht=St(h,y,A,z);return ht>-1?(y=h[ht],E||(y.fa=!1)):(y=new G(y,this.src,Y,!!A,z),y.fa=E,h.push(y)),y};function vt(h,y){const E=y.type;if(E in h.g){var A=h.g[E],z=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(A,z,1),Y&&(rt(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function St(h,y,E,A){for(let z=0;z<h.length;++z){const Y=h[z];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==A)return z}return-1}var At="closure_lm_"+(Math.random()*1e6|0),ue={};function ne(h,y,E,A,z){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)ne(h,y[Y],E,A,z);return null}return E=Io(E),h&&h[J]?h.J(y,E,m(A)?!!A.capture:!1,z):zi(h,y,E,!1,A,z)}function zi(h,y,E,A,z,Y){if(!y)throw Error("Invalid event type");const ht=m(z)?!!z.capture:!!z;let It=vs(h);if(It||(h[At]=It=new ft(h)),E=It.add(y,E,A,ht,Y),E.proxy)return E;if(A=Ht(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)L||(z=ht),z===void 0&&(z=!1),h.addEventListener(y.toString(),A,z);else if(h.attachEvent)h.attachEvent(Ee(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ht(){function h(E){return y.call(h.src,h.listener,E)}const y=No;return h}function gn(h,y,E,A,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)gn(h,y[Y],E,A,z);else A=m(A)?!!A.capture:!!A,E=Io(E),h&&h[J]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],E=St(y,E,A,z),E>-1&&(rt(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=vs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=St(y,E,A,z)),(E=h>-1?y[h]:null)&&_r(E))}function _r(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[J])vt(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(Ee(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=vs(y))?(vt(E,h),E.h==0&&(E.src=null,y[At]=null)):rt(h)}}}function Ee(h){return h in ue?ue[h]:ue[h]="on"+h}function No(h,y){if(h.da)h=!0;else{y=new zt(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&_r(h),h=E.call(A,y)}return h}function vs(h){return h=h[At],h instanceof ft?h:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(h){return typeof h=="function"?h:(h[Co]||(h[Co]=function(y){return h.handleEvent(y)}),h[Co])}function Te(){N.call(this),this.i=new ft(this),this.M=this,this.G=null}T(Te,N),Te.prototype[J]=!0,Te.prototype.removeEventListener=function(h,y,E,A){gn(this,h,y,E,A)};function Me(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new D(y,h);else if(y instanceof D)y.target=y.target||h;else{var z=y;y=new D(A,h),ct(y,z)}z=!0;let Y,ht;if(E)for(ht=E.length-1;ht>=0;ht--)Y=y.g=E[ht],z=vr(Y,A,!0,y)&&z;if(Y=y.g=h,z=vr(Y,A,!0,y)&&z,z=vr(Y,A,!1,y)&&z,E)for(ht=0;ht<E.length;ht++)Y=y.g=E[ht],z=vr(Y,A,!1,y)&&z}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)rt(E[A]);delete h.g[y],h.h--}}this.G=null},Te.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},Te.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function vr(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Y=0;Y<y.length;++Y){const ht=y[Y];if(ht&&!ht.da&&ht.capture==E){const It=ht.listener,pe=ht.ha||ht.src;ht.fa&&vt(h.i,ht),z=It.call(pe,A)!==!1&&z}}return z&&!A.defaultPrevented}function Cf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Cu(h){h.g=Cf(()=>{h.g=null,h.i&&(h.i=!1,Cu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class nn extends N{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(h){N.call(this),this.h=h,this.g={}}T(Es,N);var Do=[];function Oo(h){at(h.g,function(y,E){this.g.hasOwnProperty(E)&&_r(y)},h),h.g={}}Es.prototype.N=function(){Es.Z.N.call(this),Oo(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=c.JSON.stringify,If=c.JSON.parse,Iu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Du(){}function Ou(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){D.call(this,"d")}T(Be,D);function Nn(){D.call(this,"c")}T(Nn,D);var me={},Mu=null;function ha(){return Mu=Mu||new Te}me.Ia="serverreachability";function Vu(h){D.call(this,me.Ia,h)}T(Vu,D);function li(h){const y=ha();Me(y,new Vu(y))}me.STAT_EVENT="statevent";function Ts(h,y){D.call(this,me.STAT_EVENT,h),this.stat=y}T(Ts,D);function be(h){const y=ha();Me(y,new Ts(y,h))}me.Ja="timingevent";function ui(h,y){D.call(this,me.Ja,h),this.size=y}T(ui,D);function ci(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Df(h,y,E,A,z,Y){h.info(function(){if(h.g)if(Y){var ht="",It=Y.split("&");for(let Qt=0;Qt<It.length;Qt++){var pe=It[Qt].split("=");if(pe.length>1){const oe=pe[0];pe=pe[1];const On=oe.split("_");ht=On.length>=2&&On[1]=="type"?ht+(oe+"="+pe+"&"):ht+(oe+"=redacted&")}}}else ht=null;else ht=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+E+`
`+ht})}function ku(h,y,E,A,z,Y,ht){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+E+`
`+Y+" "+ht})}function hi(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Of(h,E)+(A?" "+A:"")})}function bs(h,y){h.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function Of(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ht=1;ht<A.length;ht++)A[ht]=""}}}}return Er(Y)}catch{return y}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function Ss(){}T(Ss,Du),Ss.prototype.g=function(){return new XMLHttpRequest},Vo=new Ss;function Bi(h){return encodeURIComponent(String(h))}function Lu(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Gn(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var we={},Pe={};function fi(h,y,E){h.M=1,h.A=As(Ae(y)),h.u=E,h.R=!0,fa(h,null)}function fa(h,y){h.F=Date.now(),di(h),h.B=Ae(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),ga(E.i,"t",A),h.C=0,E=h.j.L,h.h=new Qn,h.g=Zu(h.j,E?y:null,!h.u),h.P>0&&(h.O=new nn(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(Do[0]=z.toString()),z=Do);for(let Y=0;Y<z.length;Y++){const ht=ne(E,z[Y],A||y.handleEvent,!1,y.h||y);if(!ht)break;y.g[ht.key]=ht}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),li(),Df(h.i,h.v,h.B,h.l,h.S,h.u)}Gn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Kn(h)==3?y.j():this.Y(h)},Gn.prototype.Y=function(h){try{if(h==this.g)t:{const It=Kn(this.g),pe=this.g.ya(),Qt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||It!=4||pe==7||(pe==8||Qt<=0?li(3):li(2)),mi(this);var y=this.g.ca();this.X=y;var E=Mf(this);if(this.o=y==200,ku(this.i,this.v,this.B,this.l,this.S,It,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var Y=A;break e}}Y=null}if(h=Y)hi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,h);else{this.o=!1,this.m=3,be(12),yn(this),Cn(this);break t}}if(this.R){h=!0;let oe;for(;!this.K&&this.C<E.length;)if(oe=Uu(this,E),oe==Pe){It==4&&(this.m=4,be(14),h=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==we){this.m=4,be(15),hi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else hi(this.i,this.l,oe,null),pi(this,oe);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||E.length!=0||this.h.h||(this.m=1,be(16),h=!1),this.o=this.o&&h,!h)hi(this.i,this.l,E,"[Invalid Chunked Response]"),yn(this),Cn(this);else if(E.length>0&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.aa&&!ht.P&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ko(ht),ht.P=!0,be(11))}}else hi(this.i,this.l,E,null),pi(this,E);It==4&&yn(this),this.o&&!this.K&&(It==4?Yu(this.j,this):(this.o=!1,di(this)))}else Hi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),yn(this),Cn(this)}}}catch{}finally{}};function Mf(h){if(!Pu(h))return h.g.la();const y=qe(h.g);if(y==="")return"";let E="";const A=y.length,z=Kn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return yn(h),Cn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<A;Y++)h.h.h=!0,E+=h.h.i.decode(y[Y],{stream:!(z&&Y==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Pu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Uu(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?Pe:(E=Number(y.substring(E,A)),isNaN(E)?we:(A+=1,A+E>y.length?Pe:(y=y.slice(A,A+E),h.C=A+E,y)))}Gn.prototype.cancel=function(){this.K=!0,yn(this)};function di(h){h.T=Date.now()+h.H,da(h,h.H)}function da(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ci(g(h.aa,h),y)}function mi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Gn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(bs(this.i,this.B),this.M!=2&&(li(),be(17)),yn(this),this.m=2,Cn(this)):da(this,this.T-h)};function Cn(h){h.j.I==0||h.K||Yu(h.j,h)}function yn(h){mi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Oo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function pi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||yi(E.h,h))){if(!h.L&&yi(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ta(E),Nr(E);else break t;Os(E),be(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ci(g(E.Va,E),6e3));gi(E.h)<=1&&E.ta&&(E.ta=void 0)}else wi(E,11)}else if((h.L||E.g==h)&&Ta(E),!I(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let Qt=z[y];const oe=Qt[0];if(!(oe<=E.K))if(E.K=oe,Qt=Qt[1],E.I==2)if(Qt[0]=="c"){E.M=Qt[1],E.ba=Qt[2];const On=Qt[3];On!=null&&(E.ka=On,E.j.info("VER="+E.ka));const Si=Qt[4];Si!=null&&(E.za=Si,E.j.info("SVER="+E.za));const Xn=Qt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Zn=h.g;if(Zn){const Ms=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var Y=A.h;Y.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Po(Y,Y.h),Y.h=null))}if(A.G){const ba=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(A.wa=ba,Kt(A.J,A.G,ba))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ht=h;if(A.na=Xu(A,A.L?A.ba:null,A.W),ht.L){Uo(A.h,ht);var It=ht,pe=A.O;pe&&(It.H=pe),It.D&&(mi(It),di(It)),A.g=ht}else Gu(A);E.i.length>0&&bi(E)}else Qt[0]!="stop"&&Qt[0]!="close"||wi(E,7);else E.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?wi(E,7):Yo(E):Qt[0]!="noop"&&E.l&&E.l.qa(Qt),E.A=0)}}li(4)}catch{}}var Se=class{constructor(h,y){this.g=h,this.map=y}};function ko(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function gi(h){return h.h?1:h.g?h.g.size:0}function yi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Po(h,y){h.g?h.g.add(y):h.h=y}function Uo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ko.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function jo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return M(h.i)}var ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let z,Y=null;A>=0?(z=h[E].substring(0,A),Y=h[E].substring(A+1)):z=h[E],y(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function _n(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof _n?(this.l=h.l,Ue(this,h.j),this.o=h.o,this.g=h.g,Tr(this,h.u),this.h=h.h,zo(this,Hu(h.i)),this.m=h.m):h&&(y=String(h).match(ju))?(this.l=!1,Ue(this,y[1]||"",!0),this.o=_i(y[2]||""),this.g=_i(y[3]||"",!0),Tr(this,y[4]),this.h=_i(y[5]||"",!0),zo(this,y[6]||"",!0),this.m=_i(y[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}_n.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(xs(y,pa,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(xs(y,pa,!0),"@"),h.push(Bi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(xs(E,E.charAt(0)=="/"?Bo:zu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",xs(E,Bu)),h.join("")},_n.prototype.resolve=function(h){const y=Ae(this);let E=!!h.j;E?Ue(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)Tr(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let ht=0;ht<z.length;){const It=z[ht++];It=="."?A&&ht==z.length&&Y.push(""):It==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&ht==z.length&&Y.push("")):(Y.push(It),A=!0)}A=Y.join("/")}else A=z}return E?y.h=A:E=h.i.toString()!=="",E?zo(y,Hu(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Ae(h){return new _n(h)}function Ue(h,y,E){h.j=E?_i(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Tr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function zo(h,y,E){y instanceof wr?(h.i=y,ya(h.i,h.l)):(E||(y=xs(y,br)),h.i=new wr(y,h.l))}function Kt(h,y,E){h.i.set(y,E)}function As(h){return Kt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function _i(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xs(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,an),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function an(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var pa=/[#\/\?@]/g,zu=/[#\?:]/g,Bo=/[#\?]/g,br=/[#\?@]/g,Bu=/#/g;function wr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function on(h){h.g||(h.g=new Map,h.h=0,h.i&&ma(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=wr.prototype,i.add=function(h,y){on(this),this.i=null,h=Sr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function qu(h,y){on(h),y=Sr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function qo(h,y){return on(h),y=Sr(h,y),h.g.has(y)}i.forEach=function(h,y){on(this),this.g.forEach(function(E,A){E.forEach(function(z){h.call(y,z,A,this)},this)},this)};function Ho(h,y){on(h);let E=[];if(typeof y=="string")qo(h,y)&&(E=E.concat(h.g.get(Sr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return on(this),this.i=null,h=Sr(this,h),qo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=Ho(this,h),h.length>0?String(h[0]):y):y};function ga(h,y,E){qu(h,y),E.length>0&&(h.i=null,h.g.set(Sr(h,y),M(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const z=Bi(E);E=Ho(this,E);for(let Y=0;Y<E.length;Y++){let ht=z;E[Y]!==""&&(ht+="="+Bi(E[Y])),h.push(ht)}}return this.i=h.join("&")};function Hu(h){const y=new wr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Sr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ya(h,y){y&&!h.j&&(on(h),h.i=null,h.g.forEach(function(E,A){const z=A.toLowerCase();A!=z&&(qu(this,A),ga(this,z,E))},h)),h.j=y}function Yn(h,y){const E=new Fn;if(c.Image){const A=new Image;A.onload=_(In,E,"TestLoadImage: loaded",!0,y,A),A.onerror=_(In,E,"TestLoadImage: error",!1,y,A),A.onabort=_(In,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(In,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function Fo(h,y){const E=new Fn,A=new AbortController,z=setTimeout(()=>{A.abort(),In(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?In(E,"TestPingServer: ok",!0,y):In(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),In(E,"TestPingServer: error",!1,y)})}function In(h,y,E,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(E)}catch{}}function Ar(){this.g=new Iu}function vi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(vi,Du),vi.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(h,y){Te.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Rs,Te),i=Rs.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,$n(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?xr(this):$n(this),this.readyState==3&&_a(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,xr(this))},i.Na=function(h){this.g&&(this.response=h,xr(this))},i.ga=function(){this.g&&xr(this)};function xr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,$n(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function $n(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Dn(h){let y="";return at(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Ns(h,y,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=Dn(E),typeof h=="string"?E!=null&&Bi(E):Kt(h,y,E))}function Jt(h){Te.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Jt,Te);var Ei=/^https?$/i,Go=["POST","PUT"];i=Jt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Cs(this,Y);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)E.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Go,y,void 0)>=0)||A||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ht]of E)this.g.setRequestHeader(Y,ht);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Cs(this,Y)}};function Cs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Qo(h),qi(h)}function Qo(h){h.A||(h.A=!0,Me(h,"complete"),Me(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Me(this,"complete"),Me(this,"abort"),qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),Jt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Is(this):this.Xa())},i.Xa=function(){Is(this)};function Is(h){if(h.h&&typeof u<"u"){if(h.v&&Kn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Me(h,"readystatechange"),Kn(h)==4){h.h=!1;try{const Y=h.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var A;if(A=Y===0){let ht=String(h.D).match(ju)[1]||null;!ht&&c.self&&c.self.location&&(ht=c.self.location.protocol.slice(0,-1)),A=!Ei.test(ht?ht.toLowerCase():"")}E=A}if(E)Me(h,"complete"),Me(h,"success");else{h.o=6;try{var z=Kn(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",Qo(h)}}finally{qi(h)}}}}function qi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Me(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Kn(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),If(y)}};function qe(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(h){const y={};h=(h.g&&Kn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(I(h[A]))continue;var E=Lu(h[A]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[z]||[];y[z]=Y,Y.push(E)}dt(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Rr(h){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,h),this.Za=Ti("retryDelaySeedMs",1e4,h),this.Ta=Ti("forwardChannelMaxRetries",2,h),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(h&&h.concurrentRequestLimit),this.Ba=new Ar,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Rr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,A){be(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Xu(this,null,this.W),bi(this)};function Yo(h){if(va(h),h.I==3){var y=h.V++,E=Ae(h.J);if(Kt(E,"SID",h.M),Kt(E,"RID",y),Kt(E,"TYPE","terminate"),Ds(h,E),y=new Gn(h,h.j,y),y.M=2,y.A=As(Ae(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Zu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),di(y)}Ku(h)}function Nr(h){h.g&&(Ko(h),h.g.cancel(),h.g=null)}function va(h){Nr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ta(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function bi(h){if(!Lo(h.h)&&!h.m){h.m=!0;var y=h.Ea;Q||x(),it||(Q(),it=!0),R.add(y,h),h.D=0}}function Ea(h,y){return gi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ci(g(h.Ea,h,y),$u(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new Gn(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=V(Y),ct(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=Fu(this,z,y),E=Ae(this.J),Kt(E,"RID",h),Kt(E,"CVER",22),this.G&&Kt(E,"X-HTTP-Session-Id",this.G),Ds(this,E),Y&&(this.R?y="headers="+Bi(Dn(Y))+"&"+y:this.u&&Ns(E,this.u,Y)),Po(this.h,z),this.Ra&&Kt(E,"TYPE","init"),this.S?(Kt(E,"$req",y),Kt(E,"SID","null"),z.U=!0,fi(z,E,null)):fi(z,E,y),this.I=2}}else this.I==3&&(h?$o(this,h):this.i.length==0||Lo(this.h)||$o(this))};function $o(h,y){var E;y?E=y.l:E=h.V++;const A=Ae(h.J);Kt(A,"SID",h.M),Kt(A,"RID",E),Kt(A,"AID",h.K),Ds(h,A),h.u&&h.o&&Ns(A,h.u,h.o),E=new Gn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Fu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Po(h.h,E),fi(E,A,y)}function Ds(h,y){h.H&&at(h.H,function(E,A){Kt(y,A,E)}),h.l&&at({},function(E,A){Kt(y,A,E)})}function Fu(h,y,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;t:{var z=h.i;let It=-1;for(;;){const pe=["count="+E];It==-1?E>0?(It=z[0].g,pe.push("ofs="+It)):It=0:pe.push("ofs="+It);let Qt=!0;for(let oe=0;oe<E;oe++){var Y=z[oe].g;const On=z[oe].map;if(Y-=It,Y<0)It=Math.max(0,z[oe].g-100),Qt=!1;else try{Y="req"+Y+"_"||"";try{var ht=On instanceof Map?On:Object.entries(On);for(const[Si,Xn]of ht){let Zn=Xn;m(Xn)&&(Zn=Er(Xn)),pe.push(Y+Si+"="+encodeURIComponent(Zn))}}catch(Si){throw pe.push(Y+"type="+encodeURIComponent("_badmap")),Si}}catch{A&&A(On)}}if(Qt){ht=pe.join("&");break t}}ht=void 0}return h=h.i.splice(0,E),y.G=h,ht}function Gu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;Q||x(),it||(Q(),it=!0),R.add(y,h),h.A=0}}function Os(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ci(g(h.Da,h),$u(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ci(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Nr(this),Qu(this))};function Ko(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Qu(h){h.g=new Gn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ae(h.na);Kt(y,"RID","rpc"),Kt(y,"SID",h.M),Kt(y,"AID",h.K),Kt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Kt(y,"TO",h.ia),Kt(y,"TYPE","xmlhttp"),Ds(h,y),h.u&&h.o&&Ns(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=As(Ae(y)),E.u=null,E.R=!0,fa(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Nr(this),Os(this),be(19))};function Ta(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Yu(h,y){var E=null;if(h.g==y){Ta(h),Ko(h),h.g=null;var A=2}else if(yi(h.h,y))E=y.G,Uo(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;A=ha(),Me(A,new ui(A,E)),bi(h)}else Gu(h);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&Ea(h,y)||A==2&&Os(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),z){case 1:wi(h,5);break;case 4:wi(h,10);break;case 3:wi(h,6);break;default:wi(h,2)}}}function $u(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function wi(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),A=h.Ua;const z=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ue(A,"https"),As(A),z?Yn(A.toString(),E):Fo(A.toString(),E)}else be(2);h.I=0,h.l&&h.l.pa(y),Ku(h),va(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Ku(h){if(h.I=0,h.ja=[],h.l){const y=jo(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ja,y),U(h.ja,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.oa()}}function Xu(h,y,E){var A=E instanceof _n?Ae(E):new _n(E);if(A.g!="")y&&(A.g=y+"."+A.g),Tr(A,A.u);else{var z=c.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Y=new _n(null);A&&Ue(Y,A),y&&(Y.g=y),z&&Tr(Y,z),E&&(Y.h=E),A=Y}return E=h.G,y=h.wa,E&&y&&Kt(A,E,y),Kt(A,"VER",h.ka),Ds(h,A),A}function Zu(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Jt(new vi({ab:E})):new Jt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}i=Ju.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Cr(){}Cr.prototype.g=function(h,y){return new rn(h,y)};function rn(h,y){Te.call(this),this.g=new Rr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Fi(this)}T(rn,Te),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Yo(this.g)},rn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Er(h),h=E);y.i.push(new Se(y.Ya++,h)),y.I==3&&bi(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,rn.Z.N.call(this)};function Wu(h){Be.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Wu,Be);function tc(){Nn.call(this),this.status=1}T(tc,Nn);function Fi(h){this.g=h}T(Fi,Ju),Fi.prototype.ra=function(){Me(this.g,"a")},Fi.prototype.qa=function(h){Me(this.g,new Wu(h))},Fi.prototype.pa=function(h){Me(this.g,new tc)},Fi.prototype.oa=function(){Me(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,fb=function(){return new Cr},hb=function(){return ha()},cb=me,ap={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,Eh=ws,Mo.COMPLETE="complete",ub=Mo,Ou.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,zl=Ou,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,lb=Jt}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const Hv="@firebase/firestore",Fv="4.9.2";class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let So="12.3.0";const sa=new Pp("@firebase/firestore");function Ja(){return sa.logLevel}function mt(i,...t){if(sa.logLevel<=Pt.DEBUG){const n=t.map($p);sa.debug(`Firestore (${So}): ${i}`,...n)}}function fr(i,...t){if(sa.logLevel<=Pt.ERROR){const n=t.map($p);sa.error(`Firestore (${So}): ${i}`,...n)}}function co(i,...t){if(sa.logLevel<=Pt.WARN){const n=t.map($p);sa.warn(`Firestore (${So}): ${i}`,...n)}}function $p(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function wt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,db(i,s,n)}function db(i,t,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function $t(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||db(t,o,s)}function Ct(i,t){return i}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends pr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class us{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class mb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(We.UNAUTHENTICATED)))}shutdown(){}}class uN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cN{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new us;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new us,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new us)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new mb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class hN{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fN{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new hN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0,3512);const s=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mN(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Kp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=mN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ut(i,t){return i<t?-1:i>t?1:0}function op(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return zm(o)===zm(u)?Ut(o,u):zm(o)?1:-1}return Ut(i.length,t.length)}const pN=55296,gN=57343;function zm(i){const t=i.charCodeAt(0);return t>=pN&&t<=gN}function ho(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}const Qv="__name__";class Ci{constructor(t,n,s){n===void 0?n=0:n>t.length&&wt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&wt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ci.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ut(t.length,n.length)}static compareSegments(t,n){const s=Ci.isNumericId(t),o=Ci.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ci.extractNumericId(t).compare(Ci.extractNumericId(n)):op(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ls.fromString(t.substring(4,t.length-2))}}class ce extends Ci{construct(t,n,s){return new ce(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ce(n)}static emptyPath(){return new ce([])}}const yN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ci{construct(t,n,s){return new $e(t,n,s)}static isValidIdentifier(t){return yN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qv}static keyField(){return new $e([Qv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new yt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new yt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new yt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new yt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(ce.fromString(t))}static fromName(t){return new Et(ce.fromString(t).popFirst(5))}static empty(){return new Et(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new ce(t.slice()))}}function _N(i,t,n){if(!n)throw new yt(ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function vN(i,t,n,s){if(t===!0&&s===!0)throw new yt(ot.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Yv(i){if(!Et.isDocumentKey(i))throw new yt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function pb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Xp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":wt(12329,{type:typeof i})}function ri(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new yt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(i);throw new yt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}function De(i,t){const n={typeString:i};return t&&(n.value=t),n}function bu(i,t){if(!pb(i))throw new yt(ot.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new yt(ot.INVALID_ARGUMENT,n);return!0}const $v=-62135596800,Kv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Kv);return new ae(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new yt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<$v)throw new yt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(bu(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-$v;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:De("string",ae._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new ae(0,0))}static max(){return new Rt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function EN(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(s===1e9?new ae(n+1,0):new ae(n,s));return new cs(o,Et.empty(),t)}function TN(i){return new cs(i.readTime,i.key,iu)}class cs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(Rt.min(),Et.empty(),iu)}static max(){return new cs(Rt.max(),Et.empty(),iu)}}function bN(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=Et.comparator(i.documentKey,t.documentKey),n!==0?n:Ut(i.largestBatchId,t.largestBatchId))}const wN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ao(i){if(i.code!==ot.FAILED_PRECONDITION||i.message!==wN)throw i;mt("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new st(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof st?n:st.resolve(n)}catch(n){return st.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):st.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):st.reject(n)}static resolve(t){return new st(((n,s)=>{n(t)}))}static reject(t){return new st(((n,s)=>{s(t)}))}static waitFor(t){return new st(((n,s)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(t){let n=st.resolve(!1);for(const s of t)n=n.next((o=>o?st.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new st(((s,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((_=>{c[g]=_,++m,m===u&&s(c)}),(_=>o(_)))}}))}static doWhile(t,n){return new st(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function AN(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(i){return i.name==="IndexedDbTransactionError"}class lf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lf.ce=-1;const Zp=-1;function uf(i){return i==null}function jh(i){return i===0&&1/i==-1/0}function xN(i){return typeof i=="number"&&Number.isInteger(i)&&!jh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const gb="";function RN(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=Xv(t)),t=NN(i.get(n),t);return Xv(t)}function NN(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case gb:n+="";break;default:n+=u}}return n}function Xv(i){return i+gb+""}function Zv(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function ys(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function yb(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class he{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ah(this.root,t,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ah(this.root,t,this.comparator,!0)}}class ah{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ye.RED,this.left=o??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ye(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ye.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(t){return new Jv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Le(this.comparator);return n.data=t,n}}class Jv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new xn([])}unionWith(t){let n=new Le($e.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new xn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ho(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class _b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _b("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const CN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(i){if($t(!!i,39018),typeof i=="string"){let t=0;const n=CN.exec(i);if($t(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(i.seconds),nanos:_e(i.nanos)}}function _e(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function fs(i){return typeof i=="string"?Xe.fromBase64String(i):Xe.fromUint8Array(i)}const vb="server_timestamp",Eb="__type__",Tb="__previous_value__",bb="__local_write_time__";function Jp(i){return(i?.mapValue?.fields||{})[Eb]?.stringValue===vb}function cf(i){const t=i.mapValue.fields[Tb];return Jp(t)?cf(t):t}function ru(i){const t=hs(i.mapValue.fields[bb].timestampValue);return new ae(t.seconds,t.nanos)}class IN{constructor(t,n,s,o,u,c,m,p,g,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const zh="(default)";class su{constructor(t,n){this.projectId=t,this.database=n||zh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===zh}isEqual(t){return t instanceof su&&t.projectId===this.projectId&&t.database===this.database}}const wb="__type__",DN="__max__",oh={mapValue:{}},Sb="__vector__",Bh="value";function ds(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Jp(i)?4:MN(i)?9007199254740991:ON(i)?10:11:wt(28295,{value:i})}function Pi(i,t){if(i===t)return!0;const n=ds(i);if(n!==ds(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return ru(i).isEqual(ru(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=hs(o.timestampValue),m=hs(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=_e(o.doubleValue),m=_e(u.doubleValue);return c===m?jh(c)===jh(m):isNaN(c)&&isNaN(m)}return!1})(i,t);case 9:return ho(i.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Zv(c)!==Zv(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Pi(c[p],m[p])))return!1;return!0})(i,t);default:return wt(52216,{left:i})}}function au(i,t){return(i.values||[]).find((n=>Pi(n,t)))!==void 0}function fo(i,t){if(i===t)return 0;const n=ds(i),s=ds(t);if(n!==s)return Ut(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=_e(u.integerValue||u.doubleValue),p=_e(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return Wv(i.timestampValue,t.timestampValue);case 4:return Wv(ru(i),ru(t));case 5:return op(i.stringValue,t.stringValue);case 6:return(function(u,c){const m=fs(u),p=fs(c);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Ut(m[g],p[g]);if(_!==0)return _}return Ut(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Ut(_e(u.latitude),_e(c.latitude));return m!==0?m:Ut(_e(u.longitude),_e(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return tE(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[Bh]?.arrayValue,_=p[Bh]?.arrayValue,T=Ut(g?.values?.length||0,_?.values?.length||0);return T!==0?T:tE(g,_)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===oh.mapValue&&c===oh.mapValue)return 0;if(u===oh.mapValue)return 1;if(c===oh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const S=op(p[T],_[T]);if(S!==0)return S;const M=fo(m[p[T]],g[_[T]]);if(M!==0)return M}return Ut(p.length,_.length)})(i.mapValue,t.mapValue);default:throw wt(23264,{he:n})}}function Wv(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Ut(i,t);const n=hs(i),s=hs(t),o=Ut(n.seconds,s.seconds);return o!==0?o:Ut(n.nanos,s.nanos)}function tE(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=fo(n[o],s[o]);if(u)return u}return Ut(n.length,s.length)}function mo(i){return lp(i)}function lp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return fs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Et.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=lp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${lp(n.fields[c])}`;return o+"}"})(i.mapValue):wt(61005,{value:i})}function Th(i){switch(ds(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=cf(i);return t?16+Th(t):16;case 5:return 2*i.stringValue.length;case 6:return fs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Th(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((u,c)=>{o+=u.length+Th(c)})),o})(i.mapValue);default:throw wt(13486,{value:i})}}function up(i){return!!i&&"integerValue"in i}function Wp(i){return!!i&&"arrayValue"in i}function eE(i){return!!i&&"nullValue"in i}function nE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function bh(i){return!!i&&"mapValue"in i}function ON(i){return(i?.mapValue?.fields||{})[wb]?.stringValue===Sb}function Kl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return ys(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Kl(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Kl(i.arrayValue.values[n]);return t}return{...i}}function MN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===DN}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!bh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kl(n)}setAll(t){let n=$e.emptyPath(),s={},o=[];t.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=Kl(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ys(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new mn(Kl(this.value))}}function Ab(i){const t=[];return ys(i.fields,((n,s)=>{const o=new $e([n]);if(bh(s)){const u=Ab(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new xn(t)}class tn{constructor(t,n,s,o,u,c,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new tn(t,0,Rt.min(),Rt.min(),Rt.min(),mn.empty(),0)}static newFoundDocument(t,n,s,o){return new tn(t,1,n,Rt.min(),s,o,0)}static newNoDocument(t,n){return new tn(t,2,n,Rt.min(),Rt.min(),mn.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,Rt.min(),Rt.min(),mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qh{constructor(t,n){this.position=t,this.inclusive=n}}function iE(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?s=Et.comparator(Et.fromName(c.referenceValue),n.key):s=fo(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function rE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Pi(i.position[n],t.position[n]))return!1;return!0}class Hh{constructor(t,n="asc"){this.field=t,this.dir=n}}function VN(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class xb{}class ke extends xb{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new LN(t,n,s):n==="array-contains"?new jN(t,s):n==="in"?new zN(t,s):n==="not-in"?new BN(t,s):n==="array-contains-any"?new qN(t,s):new ke(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new PN(t,s):new UN(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends xb{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ui(t,n)}matches(t){return Rb(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Rb(i){return i.op==="and"}function Nb(i){return kN(i)&&Rb(i)}function kN(i){for(const t of i.filters)if(t instanceof Ui)return!1;return!0}function cp(i){if(i instanceof ke)return i.field.canonicalString()+i.op.toString()+mo(i.value);if(Nb(i))return i.filters.map((t=>cp(t))).join(",");{const t=i.filters.map((n=>cp(n))).join(",");return`${i.op}(${t})`}}function Cb(i,t){return i instanceof ke?(function(s,o){return o instanceof ke&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)})(i,t):i instanceof Ui?(function(s,o){return o instanceof Ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&Cb(c,o.filters[m])),!0):!1})(i,t):void wt(19439)}function Ib(i){return i instanceof ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(i):i instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(Ib).join(" ,")+"}"})(i):"Filter"}class LN extends ke{constructor(t,n,s){super(t,n,s),this.key=Et.fromName(s.referenceValue)}matches(t){const n=Et.comparator(t.key,this.key);return this.matchesComparison(n)}}class PN extends ke{constructor(t,n){super(t,"in",n),this.keys=Db("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class UN extends ke{constructor(t,n){super(t,"not-in",n),this.keys=Db("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Db(i,t){return(t.arrayValue?.values||[]).map((n=>Et.fromName(n.referenceValue)))}class jN extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Wp(n)&&au(n.arrayValue,this.value)}}class zN extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class BN extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class qN extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}class HN{constructor(t,n=null,s=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function sE(i,t=null,n=[],s=[],o=null,u=null,c=null){return new HN(i,t,n,s,o,u,c)}function tg(i){const t=Ct(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>cp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),uf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>mo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>mo(s))).join(",")),t.Te=n}return t.Te}function eg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!VN(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Cb(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!rE(i.startAt,t.startAt)&&rE(i.endAt,t.endAt)}function hp(i){return Et.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class hf{constructor(t,n=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FN(i,t,n,s,o,u,c,m){return new hf(i,t,n,s,o,u,c,m)}function ff(i){return new hf(i)}function aE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function GN(i){return i.collectionGroup!==null}function Xl(i){const t=Ct(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Le($e.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Hh(u,s))})),n.has($e.keyField().canonicalString())||t.Ie.push(new Hh($e.keyField(),s))}return t.Ie}function Oi(i){const t=Ct(i);return t.Ee||(t.Ee=QN(t,Xl(i))),t.Ee}function QN(i,t){if(i.limitType==="F")return sE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Hh(o.field,u)}));const n=i.endAt?new qh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new qh(i.startAt.position,i.startAt.inclusive):null;return sE(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function fp(i,t,n){return new hf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function df(i,t){return eg(Oi(i),Oi(t))&&i.limitType===t.limitType}function Ob(i){return`${tg(Oi(i))}|lt:${i.limitType}`}function Wa(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Ib(o))).join(", ")}]`),uf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${s})`})(Oi(i))}; limitType=${i.limitType})`}function mf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Et.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of Xl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=iE(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,Xl(s),o)||s.endAt&&!(function(c,m,p){const g=iE(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,Xl(s),o))})(i,t)}function YN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Mb(i){return(t,n)=>{let s=!1;for(const o of Xl(i)){const u=$N(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function $N(i,t,n){const s=i.field.isKeyField()?Et.comparator(t.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?fo(p,g):wt(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:i.dir})}}class ua{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ys(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return yb(this.inner)}size(){return this.innerSize}}const KN=new he(Et.comparator);function dr(){return KN}const Vb=new he(Et.comparator);function Bl(...i){let t=Vb;for(const n of i)t=t.insert(n.key,n);return t}function kb(i){let t=Vb;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Zs(){return Zl()}function Lb(){return Zl()}function Zl(){return new ua((i=>i.toString()),((i,t)=>i.isEqual(t)))}const XN=new he(Et.comparator),ZN=new Le(Et.comparator);function jt(...i){let t=ZN;for(const n of i)t=t.add(n);return t}const JN=new Le(Ut);function WN(){return JN}function ng(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(t)?"-0":t}}function Pb(i){return{integerValue:""+i}}function tC(i,t){return xN(t)?Pb(t):ng(i,t)}class pf{constructor(){this._=void 0}}function eC(i,t,n){return i instanceof ou?(function(o,u){const c={fields:{[Eb]:{stringValue:vb},[bb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jp(u)&&(u=cf(u)),u&&(c.fields[Tb]=u),{mapValue:c}})(n,t):i instanceof lu?jb(i,t):i instanceof uu?zb(i,t):(function(o,u){const c=Ub(o,u),m=oE(c)+oE(o.Ae);return up(c)&&up(o.Ae)?Pb(m):ng(o.serializer,m)})(i,t)}function nC(i,t,n){return i instanceof lu?jb(i,t):i instanceof uu?zb(i,t):n}function Ub(i,t){return i instanceof Fh?(function(s){return up(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class ou extends pf{}class lu extends pf{constructor(t){super(),this.elements=t}}function jb(i,t){const n=Bb(t);for(const s of i.elements)n.some((o=>Pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class uu extends pf{constructor(t){super(),this.elements=t}}function zb(i,t){let n=Bb(t);for(const s of i.elements)n=n.filter((o=>!Pi(o,s)));return{arrayValue:{values:n}}}class Fh extends pf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function oE(i){return _e(i.integerValue||i.doubleValue)}function Bb(i){return Wp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class iC{constructor(t,n){this.field=t,this.transform=n}}function rC(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof lu&&o instanceof lu||s instanceof uu&&o instanceof uu?ho(s.elements,o.elements,Pi):s instanceof Fh&&o instanceof Fh?Pi(s.Ae,o.Ae):s instanceof ou&&o instanceof ou})(i.transform,t.transform)}class sC{constructor(t,n){this.version=t,this.transformResults=n}}class si{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new si}static exists(t){return new si(void 0,t)}static updateTime(t){return new si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class gf{}function qb(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new ig(i.key,si.none()):new wu(i.key,i.data,si.none());{const n=i.data,s=mn.empty();let o=new Le($e.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new _s(i.key,s,new xn(o.toArray()),si.none())}}function aC(i,t,n){i instanceof wu?(function(o,u,c){const m=o.value.clone(),p=uE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,n):i instanceof _s?(function(o,u,c){if(!wh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=uE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Hb(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Jl(i,t,n,s){return i instanceof wu?(function(u,c,m,p){if(!wh(u.precondition,c))return m;const g=u.value.clone(),_=cE(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof _s?(function(u,c,m,p){if(!wh(u.precondition,c))return m;const g=cE(u.fieldTransforms,p,c),_=c.data;return _.setAll(Hb(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,n,s):(function(u,c,m){return wh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,t,n)}function oC(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=Ub(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function lE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,((u,c)=>rC(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class wu extends gf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends gf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Hb(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function uE(i,t,n){const s=new Map;$t(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,m=t.data.field(u.field);s.set(u.field,nC(c,m,n[o]))}return s}function cE(i,t,n){const s=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);s.set(o.field,eC(u,c,t))}return s}class ig extends gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lC extends gf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&aC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Lb();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=qb(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),jt())}isEqual(t){return this.batchId===t.batchId&&ho(this.mutations,t.mutations,((n,s)=>lE(n,s)))&&ho(this.baseMutations,t.baseMutations,((n,s)=>lE(n,s)))}}class rg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){$t(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return XN})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new rg(t,n,s,o)}}class cC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ie,qt;function fC(i){switch(i){case ot.OK:return wt(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return wt(15467,{code:i})}}function Fb(i){if(i===void 0)return fr("GRPC error has no .code"),ot.UNKNOWN;switch(i){case Ie.OK:return ot.OK;case Ie.CANCELLED:return ot.CANCELLED;case Ie.UNKNOWN:return ot.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return ot.INTERNAL;case Ie.UNAVAILABLE:return ot.UNAVAILABLE;case Ie.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case Ie.NOT_FOUND:return ot.NOT_FOUND;case Ie.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case Ie.ABORTED:return ot.ABORTED;case Ie.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case Ie.DATA_LOSS:return ot.DATA_LOSS;default:return wt(39323,{code:i})}}(qt=Ie||(Ie={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function dC(){return new TextEncoder}const mC=new ls([4294967295,4294967295],0);function hE(i){const t=dC().encode(i),n=new ob;return n.update(t),new Uint8Array(n.digest())}function fE(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ls([n,s],0),new ls([o,u],0)]}class sg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ls.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(ls.fromNumber(s)));return o.compare(mC)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=hE(t),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new sg(u,o,n);return s.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const n=hE(t),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Su.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new yf(Rt.min(),o,new he(Ut),dr(),jt())}}class Su{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Su(s,n,jt(),jt(),jt())}}class Sh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class Gb{constructor(t,n){this.targetId=t,this.Ce=n}}class Qb{constructor(t,n,s=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class dE{constructor(){this.ve=0,this.Fe=mE(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),n=jt(),s=jt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:wt(38017,{changeType:u})}})),new Su(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=mE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pC{constructor(t){this.Ge=t,this.ze=new Map,this.je=dr(),this.Je=lh(),this.He=lh(),this.Ye=new he(Ut)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:wt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(hp(u))if(s===0){const c=new Et(u.path);this.et(n,c,tn.newNoDocument(c,Rt.min()))}else $t(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=fs(s).toUint8Array()}catch(p){if(p instanceof _b)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new sg(c,o,u)}catch(p){return co(p instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&hp(m.target)){const p=new Et(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,tn.newNoDocument(p,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=jt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new yf(t,n,this.Ye,this.je,s);return this.je=dr(),this.Je=lh(),this.He=lh(),this.Ye=new he(Ut),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new dE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Le(Ut),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Le(Ut),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new dE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function lh(){return new he(Et.comparator)}function mE(){return new he(Et.comparator)}const gC={asc:"ASCENDING",desc:"DESCENDING"},yC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class vC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function dp(i,t){return i.useProto3Json||uf(t)?t:{value:t}}function Gh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function EC(i,t){return Gh(i,t.toTimestamp())}function Mi(i){return $t(!!i,49232),Rt.fromTimestamp((function(n){const s=hs(n);return new ae(s.seconds,s.nanos)})(i))}function ag(i,t){return mp(i,t).canonicalString()}function mp(i,t){const n=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function $b(i){const t=ce.fromString(i);return $t(Wb(t),10190,{key:t.toString()}),t}function pp(i,t){return ag(i.databaseId,t.path)}function Bm(i,t){const n=$b(t);if(n.get(1)!==i.databaseId.projectId)throw new yt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new yt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Et(Xb(n))}function Kb(i,t){return ag(i.databaseId,t)}function TC(i){const t=$b(i);return t.length===4?ce.emptyPath():Xb(t)}function gp(i){return new ce(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Xb(i){return $t(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function pE(i,t,n){return{name:pp(i,t),fields:n.value.mapValue.fields}}function bC(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?($t(_===void 0||typeof _=="string",58123),Xe.fromBase64String(_||"")):($t(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Xe.fromUint8Array(_||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?ot.UNKNOWN:Fb(g.code);return new yt(_,g.message||"")})(c);n=new Qb(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Bm(i,s.document.name),u=Mi(s.document.updateTime),c=s.document.createTime?Mi(s.document.createTime):Rt.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,c,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new Sh(g,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Bm(i,s.document),u=s.readTime?Mi(s.readTime):Rt.min(),c=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Sh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Bm(i,s.document),u=s.removedTargetIds||[];n=new Sh([],u,o,null)}else{if(!("filter"in t))return wt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new hC(o,u),m=s.targetId;n=new Gb(m,c)}}return n}function wC(i,t){let n;if(t instanceof wu)n={update:pE(i,t.key,t.value)};else if(t instanceof ig)n={delete:pp(i,t.key)};else if(t instanceof _s)n={update:pE(i,t.key,t.data),updateMask:OC(t.fieldMask)};else{if(!(t instanceof lC))return wt(16599,{Vt:t.type});n={verify:pp(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof ou)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof lu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Fh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw wt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:EC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt(27497)})(i,t.precondition)),n}function SC(i,t){return i&&i.length>0?($t(t!==void 0,14353),i.map((n=>(function(o,u){let c=o.updateTime?Mi(o.updateTime):Mi(u);return c.isEqual(Rt.min())&&(c=Mi(u)),new sC(c,o.transformResults||[])})(n,t)))):[]}function AC(i,t){return{documents:[Kb(i,t.path)]}}function xC(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Kb(i,o);const u=(function(g){if(g.length!==0)return Jb(Ui.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:to(S.field),direction:CC(S.dir)}})(_)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const m=dp(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function RC(i){let t=TC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$t(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];n.where&&(u=(function(T){const S=Zb(T);return S instanceof Ui&&Nb(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((S=>(function(U){return new Hh(eo(U.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,uf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,M=T.values||[];return new qh(M,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,M=T.values||[];return new qh(M,S)})(n.endAt)),FN(t,o,c,u,m,"F",p,g)}function NC(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Zb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eo(n.unaryFilter.field);return ke.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=eo(n.unaryFilter.field);return ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(i):i.fieldFilter!==void 0?(function(n){return ke.create(eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((s=>Zb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(n.compositeFilter.op))})(i):wt(30097,{filter:i})}function CC(i){return gC[i]}function IC(i){return yC[i]}function DC(i){return _C[i]}function to(i){return{fieldPath:i.canonicalString()}}function eo(i){return $e.fromServerFormat(i.fieldPath)}function Jb(i){return i instanceof ke?(function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(eE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(eE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:IC(n.op),value:n.value}}})(i):i instanceof Ui?(function(n){const s=n.getFilters().map((o=>Jb(o)));return s.length===1?s[0]:{compositeFilter:{op:DC(n.op),filters:s}}})(i):wt(54877,{filter:i})}function OC(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Wb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class rs{constructor(t,n,s,o,u=Rt.min(),c=Rt.min(),m=Xe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new rs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class MC{constructor(t){this.yt=t}}function VC(i){const t=RC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?fp(t,t.limit,"L"):t}class kC{constructor(){this.Cn=new LC}addToCollectionParentIndex(t,n){return this.Cn.add(n),st.resolve()}getCollectionParents(t,n){return st.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return st.resolve()}deleteFieldIndex(t,n){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,n){return st.resolve()}getDocumentsMatchingTarget(t,n){return st.resolve(null)}getIndexType(t,n){return st.resolve(0)}getFieldIndexes(t,n){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,n){return st.resolve(cs.min())}getMinOffsetFromCollectionGroup(t,n){return st.resolve(cs.min())}updateCollectionGroup(t,n,s){return st.resolve()}updateIndexEntries(t,n){return st.resolve()}}class LC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Le(ce.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Le(ce.comparator)).toArray()}}const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t1=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(t1,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class po{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}const yE="LruGarbageCollector",PC=1048576;function _E([i,t],[n,s]){const o=Ut(i,n);return o===0?Ut(t,s):o}class UC{constructor(t){this.Ir=t,this.buffer=new Le(_E),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_E(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){mt(yE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?mt(yE,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Vr(3e5)}))}}class zC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return st.resolve(lf.ce);const s=new UC(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(gE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,c,m,p,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),Ja()<=Pt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function BC(i,t){return new zC(i,t)}class qC{constructor(){this.changes=new ua((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?st.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class HC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class FC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Jl(s.mutation,o,xn.empty(),ae.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=jt()){const o=Zs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let c=Bl();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=Zs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,jt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(t,n,s,o){let u=dr();const c=Zl(),m=(function(){return Zl()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof _s)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Jl(_.mutation,g,_.mutation.getFieldMask(),ae.now())):c.set(g.key,xn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>m.set(g,new HC(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Zl();let o=new he(((c,m)=>c-m)),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||xn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||jt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=Lb();_.forEach((S=>{if(!u.has(S)){const M=qb(n.get(S),s.get(S));M!==null&&T.set(S,M),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return st.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(c){return Et.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):GN(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):st.resolve(Zs());let m=iu,p=u;return c.next((g=>st.forEach(g,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?st.resolve():this.remoteDocumentCache.getEntry(t,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,jt()))).next((_=>({batchId:m,changes:kb(_)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Et(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let c=Bl();return this.indexManager.getCollectionParents(t,u).next((m=>st.forEach(m,(p=>{const g=(function(T,S){return new hf(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((_=>{_.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,tn.newInvalidDocument(_)))}));let m=Bl();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&Jl(_.mutation,g,xn.empty(),ae.now()),mf(n,g)&&(m=m.insert(p,g))})),m}))}}class GC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return st.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),st.resolve()}getNamedQuery(t,n){return st.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:VC(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),st.resolve()}}class QC{constructor(){this.overlays=new he(Et.comparator),this.qr=new Map}getOverlay(t,n){return st.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Zs();return st.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),st.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),st.resolve()}getOverlaysForCollection(t,n,s){const o=Zs(),u=n.length+1,c=new Et(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return st.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new he(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Zs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return st.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new cC(n,s));let u=this.qr.get(n);u===void 0&&(u=jt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class YC{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,st.resolve()}}class og{constructor(){this.Qr=new Le(ze.$r),this.Ur=new Le(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new ze(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new ze(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new Et(new ce([])),s=new ze(n,t),o=new ze(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Et(new ce([])),s=new ze(n,t),o=new ze(n,t+1);let u=jt();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new ze(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Et.comparator(t.key,n.key)||Ut(t.Yr,n.Yr)}static Kr(t,n){return Ut(t.Yr,n.Yr)||Et.comparator(t.key,n.key)}}class $C{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Le(ze.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new uC(u,n,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new ze(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,n){return st.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?Zp:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ze(n,0),o=new ze(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Le(Ut);return n.forEach((o=>{const u=new ze(o,0),c=new ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{s=s.add(m.Yr)}))})),st.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Et.isDocumentKey(u)||(u=u.child(""));const c=new ze(new Et(u),0);let m=new Le(Ut);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),st.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){$t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return st.forEach(n.mutations,(o=>{const u=new ze(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new ze(n,0),o=this.Zr.firstAfterOrEqual(s);return st.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class KC{constructor(t){this.ri=t,this.docs=(function(){return new he(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return st.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let s=dr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),st.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=dr();const c=n.path,m=new Et(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||bN(TN(_),s)<=0||(o.has(_.key)||mf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(t,n,s,o){wt(9500)}ii(t,n){return st.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new XC(this)}getSize(t){return st.resolve(this.size)}}class XC extends qC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),st.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class ZC{constructor(t){this.persistence=t,this.si=new ua((n=>tg(n)),eg),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new og,this.targetCount=0,this.ai=po.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),st.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new po(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,st.resolve()}updateTargetData(t,n){return this.Pr(n),st.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),st.waitFor(u).next((()=>o))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return st.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),st.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),st.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),st.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return st.resolve(s)}containsKey(t,n){return st.resolve(this._i.containsKey(n))}}class e1{constructor(t,n){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new YC,this.referenceDelegate=t(this),this.Pi=new ZC(this),this.indexManager=new kC,this.remoteDocumentCache=(function(o){return new KC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new MC(n),this.Ii=new GC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new QC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new $C(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){mt("MemoryPersistence","Starting transaction:",t);const o=new JC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return st.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class JC extends SN{constructor(t){super(),this.currentSequenceNumber=t}}class lg{constructor(t){this.persistence=t,this.Ri=new og,this.Vi=null}static mi(t){return new lg(t)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),st.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),st.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(s=>{const o=Et.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Rt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return st.or([()=>st.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Qh{constructor(t,n){this.persistence=t,this.pi=new ua((s=>RN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=BC(this,n)}static mi(t,n){return new Qh(t,n)}Ei(){}di(t){return st.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return st.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?st.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((m=>{m||(s++,u.removeEntry(c,Rt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),st.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),st.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),st.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Th(t.data.value)),n}br(t,n,s){return st.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return st.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ug{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=jt(),o=jt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ug(t,n.fromCache,s,o)}}class WC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class tI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SA()?8:AN(en())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new WC;return this.Ss(t,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,c,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Ja()<=Pt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(Ja()<=Pt.DEBUG&&mt("QueryEngine","Query:",Wa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ja()<=Pt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(n))):st.resolve())}ys(t,n){if(aE(n))return st.resolve(null);let s=Oi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=fp(n,null,"F"),s=Oi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=jt(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(t,fp(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return aE(n)||o.isEqual(Rt.min())?st.resolve(null):this.ps.getDocuments(t,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?st.resolve(null):(Ja()<=Pt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.vs(t,c,n,EN(o,iu)).next((m=>m)))}))}Ds(t,n){let s=new Le(Mb(t));return n.forEach(((o,u)=>{mf(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Ja()<=Pt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ps.getDocumentsMatchingQuery(t,n,cs.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const cg="LocalStore",eI=3e8;class nI{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new he(Ut),this.xs=new ua((u=>tg(u)),eg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new FC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function iI(i,t,n,s){return new nI(i,t,n,s)}async function n1(i,t){const n=Ct(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=jt();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function rI(i,t){const n=Ct(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const T=g.batch,S=T.keys();let M=st.resolve();return S.forEach((U=>{M=M.next((()=>_.getEntry(p,U))).next((H=>{const K=g.docVersions.get(U);$t(K!==null,48541),H.version.compareTo(K)<0&&(T.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),_.addEntry(H)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=jt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function i1(i){const t=Ct(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function sI(i,t){const n=Ct(i),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((_,T)=>{const S=o.get(T);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,T))));let M=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?M=M.withResumeToken(Xe.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,s)),o=o.insert(T,M),(function(H,K,lt){return H.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=eI?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(S,M,_)&&m.push(n.Pi.updateTargetData(u,M))}));let p=dr(),g=jt();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(aI(u,c,t.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(Rt.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(_)}return st.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function aI(i,t,n){let s=jt(),o=jt();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let c=dr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):mt(cg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function oI(i,t){const n=Ct(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Zp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function lI(i,t){const n=Ct(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,st.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new rs(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function yp(i,t,n){const s=Ct(i),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!xo(c))throw c;mt(cg,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function vE(i,t,n){const s=Ct(i);let o=Rt.min(),u=jt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=Ct(p),S=T.xs.get(_);return S!==void 0?st.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,_)})(s,c,Oi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?o:Rt.min(),n?u:jt()))).next((m=>(uI(s,YN(t),m),{documents:m,Qs:u})))))}function uI(i,t,n){let s=i.Os.get(t)||Rt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(t,s)}class EE{constructor(){this.activeTargetIds=WN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cI{constructor(){this.Mo=new EE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new EE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hI{Oo(t){}shutdown(){}}const TE="ConnectivityMonitor";class bE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(TE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){mt(TE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uh=null;function _p(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}const qm="RestConnection",fI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===zh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const c=_p(),m=this.zo(t,n.toUriEncodedString());mt(qm,`Sending RPC '${t}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=To(g);return this.Jo(t,m,p,s,_).then((T=>(mt(qm,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw co(qm,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,c){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=fI[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class mI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class pI extends dI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const c=_p();return new Promise(((m,p)=>{const g=new lb;g.setWithCredentials(!0),g.listenOnce(ub.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Eh.NO_ERROR:const T=g.getResponseJson();mt(Je,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case Eh.TIMEOUT:mt(Je,`RPC '${t}' ${c} timed out`),p(new yt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const S=g.getStatus();if(mt(Je,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const U=M?.error;if(U&&U.status&&U.message){const H=(function(lt){const W=lt.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(W)>=0?W:ot.UNKNOWN})(U.status);p(new yt(H,U.message))}else p(new yt(ot.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new yt(ot.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{mt(Je,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(o);mt(Je,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(t,n,s){const o=_p(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=fb(),m=hb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");mt(Je,`Creating RPC '${t}' stream ${o}: ${_}`,p);const T=c.createWebChannel(_,p);this.I_(T);let S=!1,M=!1;const U=new mI({Yo:K=>{M?mt(Je,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(S||(mt(Je,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),mt(Je,`RPC '${t}' stream ${o} sending:`,K),T.send(K))},Zo:()=>T.close()}),H=(K,lt,W)=>{K.listen(lt,(et=>{try{W(et)}catch(ut){setTimeout((()=>{throw ut}),0)}}))};return H(T,zl.EventType.OPEN,(()=>{M||(mt(Je,`RPC '${t}' stream ${o} transport opened.`),U.o_())})),H(T,zl.EventType.CLOSE,(()=>{M||(M=!0,mt(Je,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(T))})),H(T,zl.EventType.ERROR,(K=>{M||(M=!0,co(Je,`RPC '${t}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),U.a_(new yt(ot.UNAVAILABLE,"The operation could not be completed")))})),H(T,zl.EventType.MESSAGE,(K=>{if(!M){const lt=K.data[0];$t(!!lt,16349);const W=lt,et=W?.error||W[0]?.error;if(et){mt(Je,`RPC '${t}' stream ${o} received error:`,et);const ut=et.status;let Q=(function(x){const C=Ie[x];if(C!==void 0)return Fb(C)})(ut),it=et.message;Q===void 0&&(Q=ot.INTERNAL,it="Unknown error status: "+ut+" with message "+et.message),M=!0,U.a_(new yt(Q,it)),T.close()}else mt(Je,`RPC '${t}' stream ${o} received:`,lt),U.u_(lt)}})),H(m,cb.STAT_EVENT,(K=>{K.stat===ap.PROXY?mt(Je,`RPC '${t}' stream ${o} detected buffering proxy`):K.stat===ap.NOPROXY&&mt(Je,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Hm(){return typeof document<"u"?document:null}function _f(i){return new vC(i,!0)}class r1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const wE="PersistentStream";class s1{constructor(t,n,s,o,u,c,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new r1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ot.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new yt(ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(wE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(mt(wE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gI extends s1{constructor(t,n,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=bC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Rt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?Mi(c.readTime):Rt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=gp(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=hp(p)?{documents:AC(u,p)}:{query:xC(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Yb(u,c.resumeToken);const g=dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Rt.min())>0){m.readTime=Gh(u,c.snapshotVersion.toTimestamp());const g=dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=NC(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=gp(this.serializer),n.removeTarget=t,this.q_(n)}}class yI extends s1{constructor(t,n,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=SC(t.writeResults,t.commitTime),s=Mi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=gp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>wC(this.serializer,s)))};this.q_(n)}}class _I{}class vI extends _I{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new yt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,mp(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(ot.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,mp(n,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(ot.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class EI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class TI{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{ca(this)&&(mt(aa,"Restarting streams for network reachability change."),await(async function(p){const g=Ct(p);g.Ea.add(4),await Au(g),g.Ra.set("Unknown"),g.Ea.delete(4),await vf(g)})(this))}))})),this.Ra=new EI(s,o)}}async function vf(i){if(ca(i))for(const t of i.da)await t(!0)}async function Au(i){for(const t of i.da)await t(!1)}function a1(i,t){const n=Ct(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),mg(n)?dg(n):Ro(n).O_()&&fg(n,t))}function hg(i,t){const n=Ct(i),s=Ro(n);n.Ia.delete(t),s.O_()&&o1(n,t),n.Ia.size===0&&(s.O_()?s.L_():ca(n)&&n.Ra.set("Unknown"))}function fg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ro(i).Y_(t)}function o1(i,t){i.Va.Ue(t),Ro(i).Z_(t)}function dg(i){i.Va=new pC({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Ro(i).start(),i.Ra.ua()}function mg(i){return ca(i)&&!Ro(i).x_()&&i.Ia.size>0}function ca(i){return Ct(i).Ea.size===0}function l1(i){i.Va=void 0}async function bI(i){i.Ra.set("Online")}async function wI(i){i.Ia.forEach(((t,n)=>{fg(i,t)}))}async function SI(i,t){l1(i),mg(i)?(i.Ra.ha(t),dg(i)):i.Ra.set("Unknown")}async function AI(i,t,n){if(i.Ra.set("Online"),t instanceof Qb&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(s){mt(aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Yh(i,s)}else if(t instanceof Sh?i.Va.Ze(t):t instanceof Gb?i.Va.st(t):i.Va.tt(t),!n.isEqual(Rt.min()))try{const s=await i1(i.localStore);n.compareTo(s)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Xe.EMPTY_BYTE_STRING,_.snapshotVersion)),o1(u,p);const T=new rs(_.target,p,g,_.sequenceNumber);fg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){mt(aa,"Failed to raise snapshot:",s),await Yh(i,s)}}async function Yh(i,t,n){if(!xo(t))throw t;i.Ea.add(1),await Au(i),i.Ra.set("Offline"),n||(n=()=>i1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{mt(aa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await vf(i)}))}function u1(i,t){return t().catch((n=>Yh(i,n,t)))}async function Ef(i){const t=Ct(i),n=ms(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zp;for(;xI(t);)try{const o=await oI(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,RI(t,o)}catch(o){await Yh(t,o)}c1(t)&&h1(t)}function xI(i){return ca(i)&&i.Ta.length<10}function RI(i,t){i.Ta.push(t);const n=ms(i);n.O_()&&n.X_&&n.ea(t.mutations)}function c1(i){return ca(i)&&!ms(i).x_()&&i.Ta.length>0}function h1(i){ms(i).start()}async function NI(i){ms(i).ra()}async function CI(i){const t=ms(i);for(const n of i.Ta)t.ea(n.mutations)}async function II(i,t,n){const s=i.Ta.shift(),o=rg.from(s,t,n);await u1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Ef(i)}async function DI(i,t){t&&ms(i).X_&&await(async function(s,o){if((function(c){return fC(c)&&c!==ot.ABORTED})(o.code)){const u=s.Ta.shift();ms(s).B_(),await u1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ef(s)}})(i,t),c1(i)&&h1(i)}async function SE(i,t){const n=Ct(i);n.asyncQueue.verifyOperationInProgress(),mt(aa,"RemoteStore received new credentials");const s=ca(n);n.Ea.add(3),await Au(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await vf(n)}async function OI(i,t){const n=Ct(i);t?(n.Ea.delete(2),await vf(n)):t||(n.Ea.add(2),await Au(n),n.Ra.set("Unknown"))}function Ro(i){return i.ma||(i.ma=(function(n,s,o){const u=Ct(n);return u.sa(),new gI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:bI.bind(null,i),t_:wI.bind(null,i),r_:SI.bind(null,i),H_:AI.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),mg(i)?dg(i):i.Ra.set("Unknown")):(await i.ma.stop(),l1(i))}))),i.ma}function ms(i){return i.fa||(i.fa=(function(n,s,o){const u=Ct(n);return u.sa(),new yI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:NI.bind(null,i),r_:DI.bind(null,i),ta:CI.bind(null,i),na:II.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Ef(i)):(await i.fa.stop(),i.Ta.length>0&&(mt(aa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class pg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const c=Date.now()+s,m=new pg(t,n,c,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(i,t){if(fr("AsyncQueue",`${t}: ${i}`),xo(i))return new yt(ot.UNAVAILABLE,`${t}: ${i}`);throw i}class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Et.comparator(n.key,s.key):(n,s)=>Et.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ao;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class AE{constructor(){this.ga=new he(Et.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):wt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class go{constructor(t,n,s,o,u,c,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new go(t,n,ao.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&df(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class MI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class VI{constructor(){this.queries=xE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ct(n),u=o.queries;o.queries=xE(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new yt(ot.ABORTED,"Firestore shutting down"))}}function xE(){return new ua((i=>Ob(i)),df)}async function f1(i,t){const n=Ct(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new MI,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=gg(c,`Initialization of query '${Wa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&yg(n)}async function d1(i,t){const n=Ct(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kI(i,t){const n=Ct(i);let s=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&yg(n)}function LI(i,t,n){const s=Ct(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function yg(i){i.Ca.forEach((t=>{t.next()}))}var vp,RE;(RE=vp||(vp={})).Ma="default",RE.Cache="cache";class m1{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new go(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=go.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vp.Cache}}class p1{constructor(t){this.key=t}}class g1{constructor(t){this.key=t}}class PI{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=Mb(t),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new AE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,T)=>{const S=o.get(_),M=mf(this.query,T)?T:null,U=!!S&&this.mutatedKeys.has(S.key),H=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let K=!1;S&&M?S.data.isEqual(M.data)?U!==H&&(s.track({type:3,doc:M}),K=!0):this.su(S,M)||(s.track({type:2,doc:M}),K=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!S&&M?(s.track({type:0,doc:M}),K=!0):S&&!M&&(s.track({type:1,doc:S}),K=!0,(p||g)&&(m=!0)),K&&(M?(c=c.add(M),u=H?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,T)=>(function(M,U){const H=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Rt:K})}};return H(M)-H(U)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new go(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new g1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new p1(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=jt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _g="SyncEngine";class UI{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class jI{constructor(t){this.key=t,this.hu=!1}}class zI{constructor(t,n,s,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ua((m=>Ob(m)),df),this.Iu=new Map,this.Eu=new Set,this.du=new he(Et.comparator),this.Au=new Map,this.Ru=new og,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BI(i,t,n=!0){const s=b1(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await y1(s,t,n,!0),o}async function qI(i,t){const n=b1(i);await y1(n,t,!0,!1)}async function y1(i,t,n,s){const o=await lI(i.localStore,Oi(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await HI(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&a1(i.remoteStore,o),m}async function HI(i,t,n,s,o){i.pu=(T,S,M)=>(async function(H,K,lt,W){let et=K.view.ru(lt);et.Cs&&(et=await vE(H.localStore,K.query,!1).then((({documents:R})=>K.view.ru(R,et))));const ut=W&&W.targetChanges.get(K.targetId),Q=W&&W.targetMismatches.get(K.targetId)!=null,it=K.view.applyChanges(et,H.isPrimaryClient,ut,Q);return CE(H,K.targetId,it.au),it.snapshot})(i,T,S,M);const u=await vE(i.localStore,t,!0),c=new PI(t,u.Qs),m=c.ru(u.documents),p=Su.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);CE(i,n,g.au);const _=new UI(t,n,c);return i.Tu.set(t,_),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),g.snapshot}async function FI(i,t,n){const s=Ct(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!df(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await yp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hg(s.remoteStore,o.targetId),Ep(s,o.targetId)})).catch(Ao)):(Ep(s,o.targetId),await yp(s.localStore,o.targetId,!0))}async function GI(i,t){const n=Ct(i),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hg(n.remoteStore,s.targetId))}async function QI(i,t,n){const s=WI(i);try{const o=await(function(c,m){const p=Ct(c),g=ae.now(),_=m.reduce(((M,U)=>M.add(U.key)),jt());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let U=dr(),H=jt();return p.Ns.getEntries(M,_).next((K=>{U=K,U.forEach(((lt,W)=>{W.isValidDocument()||(H=H.add(lt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,U))).next((K=>{T=K;const lt=[];for(const W of m){const et=oC(W,T.get(W.key).overlayedDocument);et!=null&&lt.push(new _s(W.key,et,Ab(et.value.mapValue),si.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,lt,m)})).next((K=>{S=K;const lt=K.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(M,K.batchId,lt)}))})).then((()=>({batchId:S.batchId,changes:kb(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new he(Ut)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await xu(s,o.changes),await Ef(s.remoteStore)}catch(o){const u=gg(o,"Failed to persist write");n.reject(u)}}async function _1(i,t){const n=Ct(i);try{const s=await sI(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?$t(c.hu,14607):o.removedDocuments.size>0&&($t(c.hu,42227),c.hu=!1))})),await xu(n,s,t)}catch(s){await Ao(s)}}function NE(i,t,n){const s=Ct(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ct(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,T)=>{for(const S of T.Sa)S.va(m)&&(g=!0)})),g&&yg(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function YI(i,t,n){const s=Ct(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new he(Et.comparator);c=c.insert(u,tn.newNoDocument(u,Rt.min()));const m=jt().add(u),p=new yf(Rt.min(),new Map,new he(Ut),c,m);await _1(s,p),s.du=s.du.remove(u),s.Au.delete(t),vg(s)}else await yp(s.localStore,t,!1).then((()=>Ep(s,t,n))).catch(Ao)}async function $I(i,t){const n=Ct(i),s=t.batch.batchId;try{const o=await rI(n.localStore,t);E1(n,s,null),v1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xu(n,o)}catch(o){await Ao(o)}}async function KI(i,t,n){const s=Ct(i);try{const o=await(function(c,m){const p=Ct(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>($t(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,t);E1(s,t,n),v1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await xu(s,o)}catch(o){await Ao(o)}}function v1(i,t){(i.mu.get(t)||[]).forEach((n=>{n.resolve()})),i.mu.delete(t)}function E1(i,t,n){const s=Ct(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Ep(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||T1(i,s)}))}function T1(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(hg(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),vg(i))}function CE(i,t,n){for(const s of n)s instanceof p1?(i.Ru.addReference(s.key,t),XI(i,s)):s instanceof g1?(mt(_g,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||T1(i,s.key)):wt(19791,{wu:s})}function XI(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(mt(_g,"New document in limbo: "+n),i.Eu.add(s),vg(i))}function vg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new Et(ce.fromString(t)),s=i.fu.next();i.Au.set(s,new jI(n)),i.du=i.du.insert(n,s),a1(i.remoteStore,new rs(Oi(ff(n.path)),s,"TargetPurposeLimboResolution",lf.ce))}}async function xu(i,t,n){const s=Ct(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=ug.As(p.targetId,g);u.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=Ct(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>st.forEach(g,(S=>st.forEach(S.Es,(M=>_.persistence.referenceDelegate.addReference(T,S.targetId,M))).next((()=>st.forEach(S.ds,(M=>_.persistence.referenceDelegate.removeReference(T,S.targetId,M)))))))))}catch(T){if(!xo(T))throw T;mt(cg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const M=_.Ms.get(S),U=M.snapshotVersion,H=M.withLastLimboFreeSnapshotVersion(U);_.Ms=_.Ms.insert(S,H)}}})(s.localStore,u))}async function ZI(i,t){const n=Ct(i);if(!n.currentUser.isEqual(t)){mt(_g,"User change. New user:",t.toKey());const s=await n1(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new yt(ot.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await xu(n,s.Ls)}}function JI(i,t){const n=Ct(i),s=n.Au.get(t);if(s&&s.hu)return jt().add(s.key);{let o=jt();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function b1(i){const t=Ct(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=_1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=JI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YI.bind(null,t),t.Pu.H_=kI.bind(null,t.eventManager),t.Pu.yu=LI.bind(null,t.eventManager),t}function WI(i){const t=Ct(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$I.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KI.bind(null,t),t}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_f(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return iI(this.persistence,new tI,t.initialUser,this.serializer)}Cu(t){return new e1(lg.mi,this.serializer)}Du(t){return new cI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class tD extends $h{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){$t(this.persistence.referenceDelegate instanceof Qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new e1((s=>Qh.mi(s,n)),this.serializer)}}class Tp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>NE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZI.bind(null,this.syncEngine),await OI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new VI})()}createDatastore(t){const n=_f(t.databaseInfo.databaseId),s=(function(u){return new pI(u)})(t.databaseInfo);return(function(u,c,m,p){return new vI(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,c,m){return new TI(s,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>NE(this.syncEngine,n,0)),(function(){return bE.v()?new bE:new hI})())}createSyncEngine(t,n){return(function(o,u,c,m,p,g,_){const T=new zI(o,u,c,m,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ct(n);mt(aa,"RemoteStore shutting down."),s.Ea.add(5),await Au(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tp.provider={build:()=>new Tp};class w1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ps="FirestoreClient";class eD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{mt(ps,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(mt(ps,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=gg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Fm(i,t){i.asyncQueue.verifyOperationInProgress(),mt(ps,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await n1(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function IE(i,t){i.asyncQueue.verifyOperationInProgress();const n=await nD(i);mt(ps,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>SE(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>SE(t.remoteStore,o))),i._onlineComponents=t}async function nD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){mt(ps,"Using user provided OfflineComponentProvider");try{await Fm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Fm(i,new $h)}}else mt(ps,"Using default OfflineComponentProvider"),await Fm(i,new tD(void 0));return i._offlineComponents}async function S1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(mt(ps,"Using user provided OnlineComponentProvider"),await IE(i,i._uninitializedComponentsProvider._online)):(mt(ps,"Using default OnlineComponentProvider"),await IE(i,new Tp))),i._onlineComponents}function iD(i){return S1(i).then((t=>t.syncEngine))}async function bp(i){const t=await S1(i),n=t.eventManager;return n.onListen=BI.bind(null,t.syncEngine),n.onUnlisten=FI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=qI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=GI.bind(null,t.syncEngine),n}function rD(i,t,n={}){const s=new us;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const _=new w1({next:S=>{_.Nu(),c.enqueueAndForget((()=>d1(u,T)));const M=S.docs.has(m);!M&&S.fromCache?g.reject(new yt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&p&&p.source==="server"?g.reject(new yt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new m1(ff(m.path),_,{includeMetadataChanges:!0,qa:!0});return f1(u,T)})(await bp(i),i.asyncQueue,t,n,s))),s.promise}function A1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const DE=new Map;const x1="firestore.googleapis.com",OE=!0;class ME{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x1,this.ssl=OE}else this.host=t.host,this.ssl=t.ssl??OE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=t1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PC)throw new yt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eg{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new lN;switch(s.type){case"firstParty":return new fN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=DE.get(n);s&&(mt("ComponentProvider","Removing Datastore"),DE.delete(n),s.terminate())})(this),Promise.resolve()}}function sD(i,t,n,s={}){i=ri(i,Eg);const o=To(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${n}`;o&&(vT(`https://${m}`),ET("Firestore",!0)),u.host!==x1&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ea(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=We.MOCK_USER;else{g=pA(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new yt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new We(T)}i._authCredentials=new uN(new mb(g,_))}}class Tf{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Tf(this.firestore,t,this._query)}}class Oe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(bu(n,Oe._jsonSchema))return new Oe(t,s||null,new Et(ce.fromString(n.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:De("string",Oe._jsonSchemaVersion),referencePath:De("string")};class cu extends Tf{constructor(t,n,s){super(t,n,ff(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new Et(t))}withConverter(t){return new cu(this.firestore,t,this._path)}}function yo(i,t,...n){if(i=Ke(i),arguments.length===1&&(t=Kp.newId()),_N("doc","path",t),i instanceof Eg){const s=ce.fromString(t,...n);return Yv(s),new Oe(i,null,new Et(s))}{if(!(i instanceof Oe||i instanceof cu))throw new yt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ce.fromString(t,...n));return Yv(s),new Oe(i.firestore,i instanceof cu?i.converter:null,new Et(s))}}const VE="AsyncQueue";class kE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new r1(this,"async_queue_retry"),this._c=()=>{const s=Hm();s&&mt(VE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!xo(t))throw t;mt(VE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",LE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=pg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&wt(47125,{Pc:LE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function LE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}function PE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class oa extends Eg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new kE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kE(t),this._firestoreClient=void 0,await t}}}function aD(i,t){const n=typeof i=="object"?i:ST(),s=typeof i=="string"?i:zh,o=jp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=dA("firestore");u&&sD(o,...u)}return o}function Tg(i){if(i._terminated)throw new yt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||oD(i),i._firestoreClient}function oD(i){const t=i._freezeSettings(),n=(function(o,u,c,m){return new IN(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,A1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new eD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Xe.fromBase64String(t))}catch(n){throw new yt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(bu(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:De("string",qn._jsonSchemaVersion),bytes:De("string")};class bf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new yt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wf{constructor(t){this._methodName=t}}class Vi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new yt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(bu(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:De("string",Vi._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class ki{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(bu(t,ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ki(t.vectorValues);throw new yt(ot.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:De("string",ki._jsonSchemaVersion),vectorValues:De("object")};const lD=/^__.*__$/;class uD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new _s(t,this.data,this.fieldMask,n,this.fieldTransforms):new wu(t,this.data,n,this.fieldTransforms)}}class R1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new _s(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function N1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:i})}}class bg{constructor(t,n,s,o,u,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new bg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Kh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(N1(this.Ac)&&lD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class cD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||_f(t)}Cc(t,n,s,o=!1){return new bg({Ac:t,methodName:n,Dc:s,path:$e.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C1(i){const t=i._freezeSettings(),n=_f(i._databaseId);return new cD(i._databaseId,!!t.ignoreUndefinedProperties,n)}function hD(i,t,n,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,t,n,o);Sg("Data must be an object, but it was:",c,s);const m=I1(s,c);let p,g;if(u.merge)p=new xn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=wp(t,T,n);if(!c.contains(S))throw new yt(ot.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);O1(_,S)||_.push(S)}p=new xn(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new uD(new mn(m),p,g)}class Sf extends wf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Sf}}class wg extends wf{_toFieldTransform(t){return new iC(t.path,new ou)}isEqual(t){return t instanceof wg}}function fD(i,t,n,s){const o=i.Cc(1,t,n);Sg("Data must be an object, but it was:",o,s);const u=[],c=mn.empty();ys(s,((p,g)=>{const _=Ag(t,p,n);g=Ke(g);const T=o.yc(_);if(g instanceof Sf)u.push(_);else{const S=Af(g,T);S!=null&&(u.push(_),c.set(_,S))}}));const m=new xn(u);return new R1(c,m,o.fieldTransforms)}function dD(i,t,n,s,o,u){const c=i.Cc(1,t,n),m=[wp(t,s,n)],p=[o];if(u.length%2!=0)throw new yt(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(wp(t,u[S])),p.push(u[S+1]);const g=[],_=mn.empty();for(let S=m.length-1;S>=0;--S)if(!O1(g,m[S])){const M=m[S];let U=p[S];U=Ke(U);const H=c.yc(M);if(U instanceof Sf)g.push(M);else{const K=Af(U,H);K!=null&&(g.push(M),_.set(M,K))}}const T=new xn(g);return new R1(_,T,c.fieldTransforms)}function Af(i,t){if(D1(i=Ke(i)))return Sg("Unsupported field value:",t,i),I1(i,t);if(i instanceof wf)return(function(s,o){if(!N1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=Af(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Ke(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ae.fromDate(s);return{timestampValue:Gh(o.serializer,u)}}if(s instanceof ae){const u=new ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gh(o.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:Yb(o.serializer,s._byteString)};if(s instanceof Oe){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ki)return(function(c,m){return{mapValue:{fields:{[wb]:{stringValue:Sb},[Bh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return ng(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Xp(s)}`)})(i,t)}function I1(i,t){const n={};return yb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ys(i,((s,o)=>{const u=Af(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function D1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ae||i instanceof Vi||i instanceof qn||i instanceof Oe||i instanceof wf||i instanceof ki)}function Sg(i,t,n){if(!D1(n)||!pb(n)){const s=Xp(n);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function wp(i,t,n){if((t=Ke(t))instanceof bf)return t._internalPath;if(typeof t=="string")return Ag(i,t);throw Kh("Field path arguments must be of type string or ",i,!1,void 0,n)}const mD=new RegExp("[~\\*/\\[\\]]");function Ag(i,t,n){if(t.search(mD)>=0)throw Kh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new bf(...t.split("."))._internalPath}catch{throw Kh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Kh(i,t,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new yt(ot.INVALID_ARGUMENT,m+i+p)}function O1(i,t){return i.some((n=>n.isEqual(t)))}class M1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(V1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pD extends M1{data(){return super.data()}}function V1(i,t){return typeof t=="string"?Ag(i,t):t instanceof bf?t._internalPath:t._delegate._internalPath}function gD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new yt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yD{convertValue(t,n="none"){switch(ds(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ys(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Bh].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new ki(n)}convertGeoPoint(t){return new Vi(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=cf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ru(t));default:return null}}convertTimestamp(t){const n=hs(t);return new ae(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ce.fromString(t);$t(Wb(s),9688,{name:t});const o=new su(s.get(1),s.get(3)),u=new Et(s.popFirst(5));return o.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function _D(i,t,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(t,n):i.toFirestore(t):t,s}class Hl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ws extends M1{constructor(t,n,s,o,u,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(V1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ot.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:De("string",Ws._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Ah extends Ws{data(t={}){return super.data(t)}}class oo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Ah(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new yt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:vD(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(ot.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=oo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function vD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:i})}}function xg(i){i=ri(i,Oe);const t=ri(i.firestore,oa);return rD(Tg(t),i._key).then((n=>P1(t,i,n)))}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:De("string",oo._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class k1 extends yD{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,n)}}function L1(i,t,n){i=ri(i,Oe);const s=ri(i.firestore,oa),o=_D(i.converter,t,n);return Rg(s,[hD(C1(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,si.none())])}function ED(i,t,n,...s){i=ri(i,Oe);const o=ri(i.firestore,oa),u=C1(o);let c;return c=typeof(t=Ke(t))=="string"||t instanceof bf?dD(u,"updateDoc",i._key,t,n,s):fD(u,"updateDoc",i._key,t),Rg(o,[c.toMutation(i._key,si.exists(!0))])}function TD(i){return Rg(ri(i.firestore,oa),[new ig(i._key,si.none())])}function bD(i,...t){i=Ke(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||PE(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PE(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,c,m;if(i instanceof Oe)c=ri(i.firestore,oa),m=ff(i._key.path),u={next:p=>{t[s]&&t[s](P1(c,i,p))},error:t[s+1],complete:t[s+2]};else{const p=ri(i,Tf);c=ri(p.firestore,oa),m=p._query;const g=new k1(c);u={next:_=>{t[s]&&t[s](new oo(c,g,p,_))},error:t[s+1],complete:t[s+2]},gD(i._query)}return(function(g,_,T,S){const M=new w1(S),U=new m1(_,M,T);return g.asyncQueue.enqueueAndForget((async()=>f1(await bp(g),U))),()=>{M.Nu(),g.asyncQueue.enqueueAndForget((async()=>d1(await bp(g),U)))}})(Tg(c),m,o,u)}function Rg(i,t){return(function(s,o){const u=new us;return s.asyncQueue.enqueueAndForget((async()=>QI(await iD(s),o,u))),u.promise})(Tg(i),t)}function P1(i,t,n){const s=n.docs.get(t._key),o=new k1(i);return new Ws(i,o,t._key,s,new Hl(n.hasPendingWrites,n.fromCache),t.converter)}function U1(){return new wg("serverTimestamp")}(function(t,n=!0){(function(o){So=o})(bo),uo(new na("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new oa(new cN(s.getProvider("auth-internal")),new dN(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new yt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),os(Hv,Fv,t),os(Hv,Fv,"esm2020")})();const wD={apiKey:"AIzaSyDJLZ07IsSV0efiWNzZDvSDltscm7yFMGc",authDomain:"flowmetrics-a7669.firebaseapp.com",projectId:"flowmetrics-a7669",storageBucket:"flowmetrics-a7669.appspot.com",messagingSenderId:"13206232192",appId:"1:13206232192:web:97d4b158974350ed5ada65"},j1=wT(wD),Vl=aN(j1),_o=aD(j1),z1=xt.createContext(null);function SD({children:i}){const[t,n]=xt.useState(null),[s,o]=xt.useState(!0);xt.useEffect(()=>{const g=$2(Vl,_=>{n(_??null),o(!1)});return()=>g()},[]);async function u(g,_){await G2(Vl,g,_)}async function c(g,_){return await F2(Vl,g,_)}async function m(){await K2(Vl),n(null)}async function p(g){await H2(Vl,g)}return b.jsx(z1.Provider,{value:{user:t,authLoading:s,signInWithEmail:u,signUpWithEmail:c,signOut:m,resetPassword:p},children:i})}function AD(){const i=xt.useContext(z1);if(!i)throw new Error("useFirebaseAuth must be used inside FirebaseAuthProvider");return i}async function xD(i){if(!i)return null;const t=yo(_o,"workspaces",i),n=await xg(t);return n.exists()?n.data().state??null:null}async function RD(i,t){if(!i)return;const n=yo(_o,"workspaces",i);await L1(n,{state:t,updatedAt:U1()},{merge:!0})}const Wl=["","","","","","","","","",""];function ND(i=""){let t=0;for(let n=0;n<i.length;n++)t=(t<<5)-t+i.charCodeAt(n),t|=0;return Math.abs(t)}function B1(i,t="Budgeteer"){if(!i)return t;const n=i.trim();return n&&n.replace(/[^a-zA-Z0-9_\- ]+/g,"").slice(0,32)||t}function CD(i){const t=i?.email?.split("@")[0]??"",n=B1(t,"Budgeteer"),s=i?.uid||i?.email||n||String(Date.now()),o=ND(s)%Wl.length;return{username:n,avatarEmoji:Wl[o]}}async function ID(i){const t=i?.uid;if(!t)return null;const n=yo(_o,"users",t),s=await xg(n);if(s.exists())return s.data();const o=CD(i);return await L1(n,{...o,createdAt:U1()},{merge:!0}),o}async function DD(i,{username:t,avatarEmoji:n}={}){if(!i)throw new Error("Missing uid");const s={};typeof t=="string"&&(s.username=B1(t)),typeof n=="string"&&(s.avatarEmoji=n);const o=yo(_o,"users",i);return await ED(o,s),(await xg(o)).data()}function OD({label:i,active:t,onClick:n}){return b.jsx("button",{onClick:n,className:`px-3 py-1 rounded-full border text-xs transition
      ${t?"border-cyan-400 bg-cyan-500/10 text-cyan-200":"border-slate-600/60 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200"}`,children:i})}const Sp=[{key:"dark",label:"Cyber Dark",description:"Charcoal with neon cyan highlights",shellClass:"bg-[#05060A] text-slate-100",headerClass:"border-[#1f2937] bg-[#05060F]/90",pillClass:"border-slate-600/70 bg-black/20 hover:bg-black/40",previewGradient:"from-[#020617] via-[#05060f] to-[#020617]"},{key:"light",label:"Soft Light",description:"Warm whites with slate ink",shellClass:"bg-slate-50 text-slate-900",headerClass:"border-slate-200 bg-white/80",pillClass:"border-slate-300 bg-white/70 hover:bg-slate-100",previewGradient:"from-white via-slate-100 to-slate-200"},{key:"midnight",label:"Midnight Pulse",description:"Indigo mist with electric purple",shellClass:"bg-[#070718] text-indigo-100",headerClass:"border-[#191d3a] bg-gradient-to-r from-[#0f1032cc] to-[#1b0d3fcc]",pillClass:"border-indigo-600/50 bg-indigo-900/40 hover:bg-indigo-900/70",previewGradient:"from-[#0b1433] via-[#25124f] to-[#3b0f49]"},{key:"aurora",label:"Aurora Mist",description:"Deep teal with aurora glow",shellClass:"bg-gradient-to-br from-[#041b1f] via-[#082831] to-[#041b1f] text-emerald-50",headerClass:"border-emerald-900/40 bg-[#051f25]/90",pillClass:"border-emerald-500/40 bg-emerald-900/40 hover:bg-emerald-900/70",previewGradient:"from-[#052528] via-[#0b4b4f] to-[#0f766e]"},{key:"crimson",label:"Crimson Bloom",description:"Deep burgundy with neon rose edges",shellClass:"bg-gradient-to-br from-[#19070a] via-[#2b0d12] to-[#19070a] text-rose-50",headerClass:"border-rose-900/40 bg-[#2b0d12]/90",pillClass:"border-rose-500/50 bg-rose-900/40 hover:bg-rose-900/70",previewGradient:"from-[#300911] via-[#5b0a1c] to-[#be123c]"}];function q1(i){return Sp.find(t=>t.key===i)||Sp[0]}function MD({option:i,active:t,onSelect:n}){return b.jsxs("button",{type:"button",onClick:()=>n(i.key),className:`w-full text-left rounded-xl border px-3 py-2 transition ${t?"border-cyan-400 bg-cyan-500/10":"border-white/10 hover:border-cyan-400/60"}`,children:[b.jsx("div",{className:`h-10 rounded-lg bg-gradient-to-r ${i.previewGradient} mb-2`}),b.jsx("p",{className:"text-sm font-semibold text-white",children:i.label}),b.jsx("p",{className:"text-[11px] text-slate-300",children:i.description})]})}function VD({value:i,onChange:t,variant:n="default",onAfterSelect:s=()=>{}}){const[o,u]=xt.useState(!1),c=xt.useMemo(()=>q1(i),[i]),m=n==="menu";function p(T){t?.(T),u(!1),s?.()}const g=m?"w-full text-left px-3 py-2 text-slate-200 hover:bg-slate-800/80 rounded-md transition":`px-2 py-1 rounded border transition ${c.pillClass}`,_=`absolute ${m?"left-0":"right-0"} ${m?"mt-1":"mt-2"} w-64 rounded-2xl border border-white/15 bg-[#05060F]/95 p-3 shadow-xl backdrop-blur z-50 transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`;return b.jsxs("div",{className:`relative text-xs ${m?"w-full":""}`,children:[b.jsxs("button",{type:"button",onClick:()=>u(T=>!T),className:g,children:["Theme: ",c.label]}),b.jsx("div",{className:_,children:b.jsx("div",{className:"space-y-2",children:Sp.map(T=>b.jsx(MD,{option:T,active:T.key===c.key,onSelect:p},T.key))})})]})}function kD({customizeMode:i,setCustomizeMode:t,onReset:n,onSignOut:s,themeValue:o,onChangeTheme:u=()=>{}}){const[c,m]=xt.useState(!1);return b.jsxs("div",{className:"relative",children:[b.jsx("button",{type:"button",className:"flex items-center justify-center w-9 h-9 rounded-full border border-slate-600/70 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200 transition",onClick:()=>m(p=>!p),children:b.jsxs("span",{className:"relative flex flex-col justify-between w-4 h-3",children:[b.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${c?"translate-y-[5px] rotate-45":""}`}),b.jsx("span",{className:`h-[2px] rounded-full bg-current transition-opacity duration-200 ${c?"opacity-0":"opacity-100"}`}),b.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${c?"-translate-y-[5px] -rotate-45":""}`})]})}),b.jsxs("div",{className:`absolute right-0 mt-2 w-52 bg-[#0B0C14] border border-slate-700/70 rounded-lg shadow-lg z-50 text-xs origin-top-right transform transition-all duration-150 ${c?"opacity-100 scale-100 translate-y-0 pointer-events-auto":"opacity-0 scale-95 -translate-y-1 pointer-events-none"}`,children:[b.jsx("div",{className:"px-2 py-2 border-b border-slate-800/70",children:b.jsx(VD,{value:o,onChange:u,variant:"menu",onAfterSelect:()=>m(!1)})}),b.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:()=>{t(p=>!p),m(!1)},children:i?"Finish Customizing":"Customize Layout"}),b.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-rose-300",onClick:()=>{m(!1),n()},children:"Reset Data"}),b.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:async()=>{m(!1);try{await s()}catch(p){console.error("Sign out failed:",p)}},children:"Sign Out"})]})]})}function LD({onSignIn:i,onSignUp:t,onResetPassword:n,loading:s}){const[o,u]=ve.useState("signin"),[c,m]=ve.useState(""),[p,g]=ve.useState(""),[_,T]=ve.useState(null),[S,M]=ve.useState(null),[U,H]=ve.useState(!1),[K,lt]=ve.useState(!1);async function W(){if(T(null),M(null),!c){T("Please enter your email first, then click 'Forgot password?'.");return}if(n){lt(!0);try{await n(c),M("If an account exists with that email, a reset link has been sent. Check your inbox.")}catch(ut){T(ut.message||"Failed to start password reset.")}finally{lt(!1)}}}async function et(ut){ut.preventDefault(),T(null),M(null),H(!0);try{if(o==="signin")await i(c,p);else{const Q=await t(c,p),it=Q?.user||null,R=Q?.session||null;M(it&&!R?"Account created! Check your email and click the confirmation link.":"Account created!")}}catch(Q){T(Q.message||"Something went wrong.")}finally{H(!1)}}return s?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-200",children:b.jsx("div",{className:"text-sm text-slate-400",children:"Checking session..."})}):b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-100 px-4",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-2xl border border-white/10 bg-black/30 p-8 shadow-[0_20px_50px_rgba(8,8,12,0.8)]",children:[b.jsxs("div",{className:"space-y-2 text-center",children:[b.jsx("p",{className:"text-xs tracking-[0.4em] uppercase text-cyan-300",children:"Budget Center"}),b.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Access portal"}),b.jsx("p",{className:"text-sm text-slate-400",children:o==="signin"?"Sign in to load your encrypted budgets.":"Create an account to sync your budgets and goals across devices."})]}),b.jsxs("div",{className:"grid grid-cols-2 rounded-full bg-white/5 p-1 text-sm",children:[b.jsx("button",{type:"button",onClick:()=>u("signin"),className:`rounded-full py-2 font-medium transition ${o==="signin"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Sign in"}),b.jsx("button",{type:"button",onClick:()=>u("signup"),className:`rounded-full py-2 font-medium transition ${o==="signup"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Create account"})]}),_&&b.jsx("div",{className:"rounded border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-100",children:_}),S&&b.jsx("div",{className:"rounded border border-emerald-400/60 bg-emerald-400/10 px-3 py-2 text-sm text-emerald-100",children:S}),b.jsxs("form",{onSubmit:et,className:"space-y-4",children:[b.jsxs("label",{className:"block text-sm",children:[b.jsx("span",{className:"text-slate-300",children:"Email"}),b.jsx("input",{type:"email",required:!0,value:c,onChange:ut=>m(ut.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"you@email.com",autoComplete:"email"})]}),b.jsxs("label",{className:"block text-sm",children:[b.jsx("span",{className:"text-slate-300",children:"Password"}),b.jsx("input",{type:"password",required:!0,minLength:6,value:p,onChange:ut=>g(ut.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"",autoComplete:o==="signin"?"current-password":"new-password"})]}),b.jsx("button",{type:"submit",disabled:U,className:"w-full rounded-lg bg-cyan-500 py-2 text-sm font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:U?"Please wait...":o==="signin"?"Sign in":"Create account"})]}),b.jsx("div",{className:"text-center text-sm text-slate-400",children:b.jsx("button",{type:"button",className:"font-medium text-cyan-300 hover:text-cyan-200 disabled:opacity-60",onClick:W,disabled:K,children:K?"Sending reset link...":"Forgot password?"})})]})})}function PD({message:i,variant:t="info",actionLabel:n,onAction:s,onClose:o}){const u=t==="success";return b.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-xs sm:max-w-sm",children:b.jsxs("div",{className:`toast-enter flex items-start gap-3 rounded-xl border px-4 py-3 text-xs shadow-xl bg-[#05060F]/95 backdrop-blur
        ${u?"border-emerald-400/80 text-emerald-100":"border-cyan-400/80 text-cyan-100"}`,children:[b.jsx("div",{className:"mt-[2px] text-lg",children:u?"":""}),b.jsxs("div",{className:"flex-1 space-y-1",children:[b.jsx("p",{className:"leading-snug",children:i}),n&&s&&b.jsxs("button",{onClick:s,className:"inline-flex items-center gap-1 text-[0.7rem] mt-1 px-2 py-1 rounded-full border border-cyan-400/70 text-cyan-100 hover:bg-cyan-500/10 hover:border-cyan-300 transition",children:[b.jsx("span",{children:n}),b.jsx("span",{className:"text-[0.75rem]",children:""})]})]}),o&&b.jsx("button",{className:"ml-1 text-[0.7rem] text-slate-500 hover:text-slate-200",onClick:o,children:""})]})})}function UD({emoji:i,active:t,onSelect:n}){return b.jsx("button",{type:"button",onClick:()=>n(i),className:`w-9 h-9 text-lg rounded-full border transition flex items-center justify-center
      ${t?"border-cyan-400/80 bg-cyan-500/10":"border-slate-600/60 bg-black/30 hover:border-cyan-400/40"}`,children:i})}function jD({profile:i,email:t,loading:n,onUpdateProfile:s}){const[o,u]=xt.useState(!1),[c,m]=xt.useState(i?.username??""),[p,g]=xt.useState(i?.avatar_emoji??Wl[0]),[_,T]=xt.useState(!1);xt.useEffect(()=>{m(i?.username??""),g(i?.avatar_emoji??Wl[0])},[i?.username,i?.avatar_emoji]);async function S(H){if(H.preventDefault(),!s)return;T(!0);const K=await s({username:c,avatar_emoji:p});T(!1),K&&u(!1)}const M=i?.avatar_emoji??"",U=i?.username||"Budgeteer";return b.jsxs("div",{className:"relative",children:[b.jsxs("button",{type:"button",onClick:()=>u(H=>!H),className:"flex items-center gap-2 rounded-full border border-slate-600/70 bg-black/20 px-2 py-1 text-left hover:border-cyan-400/60 transition",children:[b.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-cyan-500/10 text-lg",children:M}),b.jsxs("span",{className:"flex flex-col leading-tight text-xs text-slate-300",children:[b.jsx("span",{className:"text-cyan-200",children:U}),b.jsx("span",{className:"text-[10px] text-slate-500",children:n?"Syncing...":"Profile"})]})]}),b.jsxs("form",{className:`absolute right-0 mt-2 w-64 rounded-xl border border-slate-700/70 bg-[#05060F] p-4 text-xs shadow-xl transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,onSubmit:S,children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("p",{className:"text-[11px] text-slate-400",children:t?`Signed in as ${t}`:"Signed in"}),b.jsxs("label",{className:"block",children:[b.jsx("span",{className:"text-slate-300",children:"Display name"}),b.jsx("input",{type:"text",value:c,onChange:H=>m(H.target.value),placeholder:"Budgeteer",className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-xs text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none"})]})]}),b.jsxs("div",{className:"mt-3",children:[b.jsx("p",{className:"mb-2 text-slate-300",children:"Avatar"}),b.jsx("div",{className:"grid grid-cols-5 gap-2",children:Wl.map(H=>b.jsx(UD,{emoji:H,active:p===H,onSelect:g},H))})]}),b.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[b.jsx("button",{type:"button",className:"text-[11px] text-slate-500 hover:text-slate-200",onClick:()=>u(!1),children:"Cancel"}),b.jsx("button",{type:"submit",disabled:_,className:"rounded-full bg-cyan-500 px-3 py-1 text-[11px] font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:_?"Saving...":"Save changes"})]})]})]})}function ii({title:i,children:t}){return b.jsxs("section",{className:"card-surface border rounded-xl p-4",children:[i&&b.jsx("h2",{className:"text-xs font-semibold tracking-[0.25em] text-slate-400 mb-3 uppercase",children:i}),t]})}function Ng({value:i=0}){const t=Math.max(0,Math.min(100,Number.isNaN(i)?0:i));return b.jsx("div",{className:"progress-bar",children:b.jsx("div",{className:"progress-bar-filled",style:{width:`${t}%`},children:t>2&&b.jsx("div",{className:"progress-shine shine"})})})}function zD(i){switch(i){case"sunset":return"bg-gradient-to-br from-orange-500/70 via-pink-500/60 to-rose-500/60 border-rose-400/60";case"forest":return"bg-gradient-to-br from-emerald-900/70 via-emerald-800/60 to-emerald-700/60 border-emerald-400/60";case"midnight":return"bg-gradient-to-br from-indigo-900/70 via-purple-900/60 to-indigo-900/70 border-indigo-400/60";case"cyber":default:return"bg-[#090a11] border-slate-800"}}function BD({goal:i,onClick:t}){const n=Number(i?.saved??i?.current??0),s=Number(i?.target??0),o=Number(i?.monthlyPlan??0),u=i?.icon||i?.emoji||"",c=i?.name||"Untitled Goal",m=s>0?Math.min(100,n/s*100):0,p=zD(i?.theme);return b.jsxs("button",{onClick:t,className:`text-left rounded-xl p-3 hover:border-cyan-400/70 hover:shadow-[0_0_18px_rgba(34,211,238,0.35)] transition ${p}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-lg",children:u}),b.jsx("span",{className:"text-sm font-medium text-slate-100",children:c})]}),b.jsxs("span",{className:"text-[0.7rem] text-slate-400",children:["Plan: $",o.toFixed(0),"/mo"]})]}),b.jsxs("div",{className:"text-xs text-slate-400 mb-1",children:["$",n.toFixed(0)," / $",s.toFixed(0)]}),b.jsx(Ng,{value:m})]})}const qD="modulepreload",HD=function(i){return"/budget-app/"+i},UE={},FD=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),m=c?.nonce||c?.getAttribute("nonce");o=p(n.map(g=>{if(g=HD(g),g in UE)return;UE[g]=!0;const _=g.endsWith(".css"),T=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":qD,_||(S.as="script"),S.crossOrigin="",S.href=g,m&&S.setAttribute("nonce",m),document.head.appendChild(S),_)return new Promise((M,U)=>{S.addEventListener("load",M),S.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},GD=[{key:"chase",label:"Chase"},{key:"capitalone",label:"Capital One"},{key:"wellsfargo",label:"Wells Fargo"},{key:"americanexpress",label:"Amex"},{key:"discover",label:"Discover"},{key:"navyfederal",label:"Navy Federal"},{key:"mountainamerica",label:"Mountain America"},{key:"bankofamerica",label:"Bank of America"},{key:"usbank",label:"US Bank"},{key:"pnc",label:"PNC"}];function QD(i=""){return i.toLowerCase().replace(/[^a-z0-9]/g,"")}function jE(i="",t=""){const n=QD((t||"")+" "+i.slice(0,4e3));for(const s of GD)if(n.includes(s.key))return s.label;return null}function hu(i){const t=[];let n="",s=!1;for(let o=0;o<i.length;o++){const u=i[o];if(u==='"'){s=!s;continue}u===","&&!s?(t.push(n),n=""):n+=u}return t.push(n),t}function xh(i){if(i==null)return NaN;let t=String(i).trim();t=t.replace(/"/g,"");let n=!1;if(t.startsWith("(")&&t.endsWith(")")&&(n=!0,t=t.slice(1,-1)),t=t.replace(/[$,]/g,""),t==="")return NaN;const s=Number(t);return Number.isNaN(s)?NaN:n?-s:s}function H1(i,t){const n=(i||"").toLowerCase();return t>0?n.includes("payroll")||n.includes("direct deposit")?"Income  Paycheck":n.includes("refund")||n.includes("rebate")?"Income  Refund":"Income  Other":n.includes("uber")||n.includes("lyft")||n.includes("taxi")?"Transport  Rideshare":n.includes("shell")||n.includes("chevron")||n.includes("exxon")||n.includes("gas")||n.includes("fuel")?"Transport  Gas":n.includes("walmart")||n.includes("costco")||n.includes("grocery")||n.includes("smith")||n.includes("kroger")?"Groceries":n.includes("starbucks")||n.includes("coffee")||n.includes("mcdonald")||n.includes("taco bell")||n.includes("restaurant")||n.includes("cafe")?"Food & Dining":n.includes("netflix")||n.includes("spotify")||n.includes("hulu")||n.includes("disney")||n.includes("subscription")||n.includes("prime")?"Subscriptions":n.includes("rent")||n.includes("landlord")||n.includes("mortgage")?"Housing  Rent/Mortgage":n.includes("power")||n.includes("electric")||n.includes("water")||n.includes("utility")||n.includes("utilities")?"Utilities":n.includes("gym")||n.includes("fitness")?"Health & Fitness":n.includes("insurance")||n.includes("geico")||n.includes("allstate")?"Insurance":n.includes("amazon")||n.includes("target")||n.includes("best buy")||n.includes("shop")?"Shopping":"Other"}const kl={date:["date","transaction date","posted date","posting date","trans date"],description:["description","details","memo","payee","transaction description","narrative"],debit:["debit","withdrawal","outflow","money out","charge"],credit:["credit","deposit","inflow","money in","payment","credit amount"],amount:["amount","amt","transaction amount","value"]};function YD(i){return hu(i).map(n=>n.trim()).map(n=>{let s=n.toLowerCase().replace(/"/g,"");return s=s.replace(/\s+/g," ").trim(),s})}function Ll(i,t){return i.findIndex(n=>t.includes(n))}function F1(i){if(!i)return"";let t=String(i).trim().replace(/"/g,"");if(!t)return"";let n=t.match(/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/);if(n){const[,o,u,c]=n;return`${o}-${u.padStart(2,"0")}-${c.padStart(2,"0")}`}if(n=t.match(/^(\d{4})(\d{2})(\d{2})$/),n){const[,o,u,c]=n;return`${o}-${u}-${c}`}if(n=t.match(/^(\d{1,2})[\/.-](\d{1,2})[\/.-](\d{2,4})$/),n){let[,o,u,c]=n,m=c.length===2?Number(c)>=70?`19${c}`:`20${c}`:c;const p=Number(o),g=Number(u);let _,T;return p>12&&g<=12?(T=p,_=g):(_=p,T=g),`${m}-${String(_).padStart(2,"0")}-${String(T).padStart(2,"0")}`}if(n=t.match(/^(\d{1,2})\s+([A-Za-z]{3,})\s+(\d{2,4})$/),n){const[,o,u,c]=n,m=c.length===2?`20${c}`:c,g=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(u.toLowerCase().slice(0,3));if(g>=0){const _=String(g+1).padStart(2,"0"),T=String(o).padStart(2,"0");return`${m}-${_}-${T}`}}if(n=t.match(/^([A-Za-z]{3,})\s+(\d{1,2}),?\s+(\d{2,4})$/),n){const[,o,u,c]=n,m=c.length===2?`20${c}`:c,g=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(o.toLowerCase().slice(0,3));if(g>=0){const _=String(g+1).padStart(2,"0"),T=String(u).padStart(2,"0");return`${m}-${_}-${T}`}}const s=new Date(t);return Number.isNaN(s.getTime())?t:s.toISOString().slice(0,10)}function $D(i){const t=i.split(/\r?\n/).find(o=>o.trim().length>0)||"";if(!t)return[];const n=hu(t).map(o=>o.trim().replace(/^"|"$/g,""));return n.some(o=>/[a-zA-Z]/.test(o))?n.map((o,u)=>o||`Column ${u+1}`):n.map((o,u)=>`Column ${u+1}`)}function KD(i){const t=i.split(/\r?\n/).filter(S=>S.trim()!=="");if(t.length===0)return[];let n=YD(t[0]),s=1;function o(S){const M=Ll(S,kl.date),U=Ll(S,kl.description),H=Ll(S,kl.amount),K=Ll(S,kl.debit),lt=Ll(S,kl.credit);return{dateIndex:M,descIndex:U,amountIndex:H,debitIndex:K,creditIndex:lt}}let{dateIndex:u,descIndex:c,amountIndex:m,debitIndex:p,creditIndex:g}=o(n);if(u<0&&c<0&&m<0&&p<0&&g<0){const S=hu(t[0]).map(U=>U.trim());n=S.map((U,H)=>H===0?"date":H===1?"description":H===2||H===S.length-1?"amount":`col${H+1}`),s=0,{dateIndex:u,descIndex:c,amountIndex:m,debitIndex:p,creditIndex:g}=o(n)}const T=[];for(let S=s;S<t.length;S++){const M=t[S],U=hu(M).map(ut=>ut.trim());if(U.length===0||U.every(ut=>ut===""))continue;const H=u>=0?U[u]:"",K=F1(H),lt=c>=0?U[c]:"";let W=NaN;if(m>=0)W=xh(U[m]);else if(p>=0||g>=0){const ut=p>=0?xh(U[p]):0;W=(g>=0?xh(U[g]):0)-ut}if(!K&&!lt&&Number.isNaN(W)||typeof W!="number"||Number.isNaN(W))continue;const et=H1(lt,W);T.push({date:K,description:lt,amount:W,category:et})}return T}function XD(i,{dateIndex:t=null,descIndex:n=null,amountIndex:s=null}={}){const o=i.split(/\r?\n/).filter(c=>c.trim()!=="");if(o.length===0)return[];const u=[];for(let c=1;c<o.length;c++){const m=o[c],p=hu(m).map(U=>U.trim());if(p.length===0||p.every(U=>U===""))continue;const g=t!=null&&t>=0?p[t]:"",_=F1(g),T=n!=null&&n>=0?p[n]:"";let S=NaN;if(s!=null&&s>=0&&(S=xh(p[s])),!_&&!T&&Number.isNaN(S)||typeof S!="number"||Number.isNaN(S))continue;const M=H1(T,S);u.push({date:_,description:T,amount:S,category:M})}return u}function ZD(i){return new Promise((t,n)=>{const s=new FileReader;s.onload=o=>t(String(o.target?.result||"")),s.onerror=()=>n(new Error("Failed to read file")),s.readAsText(i)})}function ch(i){i.preventDefault(),i.stopPropagation()}function JD(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`f-${Date.now()}-${Math.random().toString(16).slice(2)}`}function WD(i){return(i?.name||"").toLowerCase().endsWith(".pdf")||i?.type==="application/pdf"?"pdf":"csv"}function tO(i){return{id:JD(),file:i,name:i?.name||"unknown",kind:WD(i),detectedBank:"",rawText:"",columns:[],mapping:{date:"",description:"",amount:""},previewRows:[],status:"pending",error:"",importedCount:0,createdAt:Date.now()}}function eO({onTransactionsParsed:i=()=>{}}){const[t,n]=ve.useState([]),[s,o]=ve.useState(null),[u,c]=ve.useState(!1),m=ve.useMemo(()=>t.find(Q=>Q.id===s)||null,[t,s]),p=t.filter(Q=>Q.status==="imported").length,g=t.filter(Q=>Q.status==="ready").length,_=t.filter(Q=>Q.status==="error").length;function T(Q=[]){const it=Array.from(Q||[]).filter(Boolean);if(!it.length)return;const R=it.map(tO);n(x=>{const C=new Set(x.map(D=>`${D.name}::${D.file?.size}::${D.file?.lastModified}`)),N=R.filter(D=>{const L=`${D.name}::${D.file?.size}::${D.file?.lastModified}`;return C.has(L)?!1:(C.add(L),!0)});return[...x,...N]}),o(x=>x||R[0].id)}async function S(Q){n(R=>R.map(x=>x.id===Q?{...x,status:"parsing",error:""}:x));const it=t.find(R=>R.id===Q);if(it)try{if(it.kind==="pdf"){const{parsePdfTransactions:D}=await FD(async()=>{const{parsePdfTransactions:P}=await import("./pdf-B3l7j7gB.js");return{parsePdfTransactions:P}},[]),{text:L,rows:I}=await D(it.file),zt=jE(L,it.name||""),J=Array.isArray(I)?I:[];n(P=>P.map(G=>G.id!==Q?G:J.length?{...G,rawText:L||"",detectedBank:zt||"",previewRows:J,columns:[],status:"ready",error:""}:{...G,rawText:L||"",detectedBank:zt||"",previewRows:[],columns:[],status:"error",error:"We couldn't detect any transactions in that PDF. Try a different export or use CSV."}));return}const R=await ZD(it.file),x=jE(R,it.name||""),C=KD(R),N=$D(R);n(D=>D.map(L=>L.id!==Q?L:C.length?{...L,rawText:R,detectedBank:x||"",columns:N,previewRows:C,status:"ready",error:""}:{...L,rawText:R,detectedBank:x||"",columns:N,previewRows:[],status:"needsMapping",error:"We couldn't automatically detect the right columns. Use the mapping controls and click Re-parse."}))}catch(R){console.error("Parse error:",R),n(x=>x.map(C=>C.id===Q?{...C,status:"error",error:C.kind==="pdf"?"We couldn't read this PDF. Try downloading it as a CSV or a different PDF format.":"We couldn't understand this CSV. Try a different export format."}:C))}}ve.useEffect(()=>{const Q=t.find(R=>R.status==="pending");if(!Q)return;const it=setTimeout(()=>S(Q.id),0);return()=>clearTimeout(it)},[t]);function M(Q,it){m&&n(R=>R.map(x=>x.id===m.id?{...x,mapping:{...x.mapping,[Q]:it}}:x))}function U(){if(!m?.rawText)return;const Q={dateIndex:m.mapping.date===""?null:Number.parseInt(m.mapping.date,10),descIndex:m.mapping.description===""?null:Number.parseInt(m.mapping.description,10),amountIndex:m.mapping.amount===""?null:Number.parseInt(m.mapping.amount,10)},it=XD(m.rawText,Q);if(!it.length){n(R=>R.map(x=>x.id===m.id?{...x,previewRows:[],status:"needsMapping",error:"No rows were parsed with that mapping. Try different columns or reset to auto-detect."}:x));return}n(R=>R.map(x=>x.id===m.id?{...x,previewRows:it,status:"ready",error:""}:x))}function H(Q){const it=t.find(R=>R.id===Q);if(it&&it.status==="ready"){n(R=>R.map(x=>x.id===Q?{...x,status:"importing"}:x));try{i(it.previewRows,it.rawText),n(R=>R.map(x=>x.id===Q?{...x,status:"imported",importedCount:it.previewRows.length,error:""}:x))}catch(R){console.error("Import error:",R),n(x=>x.map(C=>C.id===Q?{...C,status:"error",error:R?.message||"Import failed."}:C))}}}async function K(){const Q=t.filter(it=>it.status==="ready");for(const it of Q)await new Promise(R=>setTimeout(R,0)),H(it.id)}function lt(Q){if(n(it=>it.filter(R=>R.id!==Q)),s===Q){const it=t.filter(R=>R.id!==Q);o(it[0]?.id||null)}}function W(){n([]),o(null),c(!1)}const et=Math.min(10,m?.previewRows?.length||0),ut=(m?.previewRows||[]).reduce((Q,it)=>Q+(typeof it.amount=="number"?it.amount:0),0);return b.jsxs("div",{className:`space-y-2 text-xs rounded-xl border p-3 transition ${u?"border-cyan-400/70 bg-cyan-500/5":"border-slate-800 bg-slate-950/30"}`,onDragEnter:Q=>{ch(Q),c(!0)},onDragOver:Q=>{ch(Q),c(!0)},onDragLeave:Q=>{ch(Q),c(!1)},onDrop:Q=>{ch(Q),c(!1),T(Q.dataTransfer?.files||[])},children:[b.jsxs("p",{className:"text-slate-400",children:["Upload"," ",b.jsx("span",{className:"text-cyan-300 font-semibold",children:".csv"})," or"," ",b.jsx("span",{className:"text-cyan-300 font-semibold",children:".pdf"})," bank statements. You can drop multiple files here. Click a file to preview/match columns before importing."]}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md border border-cyan-400/70 text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 cursor-pointer transition",children:[b.jsx("span",{children:"Choose file(s)"}),b.jsx("input",{type:"file",accept:".csv,.pdf,text/csv,application/pdf,text/plain",multiple:!0,className:"hidden",onChange:Q=>{T(Q.target.files||[]),Q.target.value=""}})]}),t.length>0&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{type:"button",onClick:K,disabled:g===0,className:"px-3 py-1.5 rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:["Import all ready (",g,")"]}),b.jsx("button",{type:"button",onClick:W,className:"px-3 py-1.5 rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Clear"}),b.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["Imported"," ",b.jsx("span",{className:"text-slate-200 font-mono",children:p}),"/",b.jsx("span",{className:"text-slate-200 font-mono",children:t.length}),_?b.jsxs("span",{className:"ml-2 text-rose-400",children:["(",_," error",_===1?"":"s",")"]}):null]})]})]}),t.length>0&&b.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:t.slice().sort((Q,it)=>Q.createdAt-it.createdAt).map(Q=>{const it=Q.id===s,R=Q.status==="imported"?"text-emerald-300":Q.status==="ready"?"text-cyan-300":Q.status==="error"?"text-rose-400":Q.status==="needsMapping"?"text-amber-300":"text-slate-400";return b.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-md border text-[0.7rem] whitespace-nowrap ${it?"border-cyan-400/70 bg-cyan-500/10 text-cyan-200":"border-slate-700 text-slate-300 hover:border-slate-500"}`,children:[b.jsxs("button",{type:"button",onClick:()=>o(Q.id),children:[Q.name,b.jsxs("span",{className:`ml-2 ${R}`,children:[" ",Q.status]})]}),b.jsx("button",{type:"button",className:"ml-1 text-slate-500 hover:text-slate-200",title:"Remove",onClick:()=>lt(Q.id),children:""})]},Q.id)})}),m&&b.jsxs("div",{className:"mt-1 space-y-2",children:[b.jsxs("div",{className:"rounded-md border border-slate-800 bg-black/20 p-2 text-[0.7rem] text-slate-400",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-slate-200 font-semibold",children:m.name})," ",b.jsxs("span",{className:"text-slate-500",children:["(",m.kind.toUpperCase(),")"]})]}),b.jsxs("div",{className:"text-slate-500",children:["Rows:"," ",b.jsx("span",{className:"text-slate-200 font-mono",children:m.previewRows?.length||0}),m.detectedBank?b.jsxs(b.Fragment,{children:[" "," Bank:"," ",b.jsx("span",{className:"text-cyan-300 font-semibold",children:m.detectedBank})]}):null]})]}),m.error?b.jsx("div",{className:"mt-1 text-rose-400",children:m.error}):null]}),m.kind==="csv"&&m.rawText&&m.columns.length>0&&b.jsxs("div",{className:"border border-slate-700 rounded-md p-2 space-y-2",children:[b.jsx("p",{className:"text-[0.7rem] text-slate-400",children:"If dates/amounts look wrong, override the mapping:"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:["date","description","amount"].map(Q=>b.jsxs("label",{className:"flex flex-col gap-1 text-[0.7rem]",children:[b.jsx("span",{className:"uppercase tracking-[0.16em] text-slate-500",children:Q}),b.jsxs("select",{className:"bg-[#05060F] border border-slate-700 rounded px-2 py-1 text-slate-200",value:m.mapping?.[Q]??"",onChange:it=>M(Q,it.target.value),children:[b.jsx("option",{value:"",children:"Auto detect"}),m.columns.map((it,R)=>b.jsxs("option",{value:R,children:[it," (column ",R+1,")"]},R))]})]},Q))}),b.jsx("button",{type:"button",onClick:U,className:"mt-1 px-3 py-1.5 text-[0.7rem] rounded-md border border-cyan-400/70 text-cyan-100 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"Re-parse with mapping"}),m.status==="needsMapping"?b.jsx("p",{className:"text-[0.7rem] text-amber-300",children:"This file needs mapping before it can be imported."}):null]}),m.previewRows?.length>0&&b.jsxs("div",{className:"border border-slate-700 rounded-md p-2 space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between text-[0.7rem] text-slate-400",children:[b.jsxs("span",{children:["Previewing ",et," of ",m.previewRows.length," rows"]}),b.jsxs("span",{children:["Net amount:"," ",b.jsxs("span",{className:ut<0?"text-rose-300":"text-emerald-300",children:[ut<0?"-":"","$",Math.abs(ut).toFixed(2)]})]})]}),b.jsx("div",{className:"max-h-40 overflow-auto text-[0.7rem]",children:b.jsxs("table",{className:"w-full text-left border-collapse",children:[b.jsx("thead",{className:"sticky top-0 bg-[#05060F]",children:b.jsxs("tr",{className:"border-b border-slate-700",children:[b.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Date"}),b.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Description"}),b.jsx("th",{className:"py-1 text-right font-semibold text-slate-300",children:"Amount"})]})}),b.jsx("tbody",{children:m.previewRows.slice(0,et).map((Q,it)=>b.jsxs("tr",{className:"border-b border-slate-800/60",children:[b.jsx("td",{className:"py-1 pr-2 text-slate-200",children:Q.date}),b.jsx("td",{className:"py-1 pr-2 text-slate-300",children:Q.description}),b.jsxs("td",{className:`py-1 text-right ${Q.amount<0?"text-rose-300":"text-emerald-300"}`,children:[Q.amount<0?"-":"","$",Math.abs(Q.amount).toFixed(2)]})]},it))})]})}),b.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[b.jsx("button",{type:"button",onClick:()=>H(m.id),disabled:m.status!=="ready",className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:"Import this file"}),b.jsx("button",{type:"button",onClick:()=>S(m.id),className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Re-parse"})]})]}),m.previewRows?.length===0&&m.status==="ready"?b.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"No rows to preview. If this seems wrong, try re-parsing or mapping."}):null]}),b.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"Tip: Most banks let you export recent transactions as CSV from their website."})]})}function hh({label:i,value:t,accent:n}){return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.22em] text-slate-500",children:i}),b.jsxs("span",{className:`text-base font-semibold ${n}`,children:["$",t.toFixed(2)]})]})}const nO=["monthOverview","accountSnapshot","goals","csvImport"];function iO({month:i="",income:t=0,fixed:n=0,variable:s=0,leftover:o=0,goals:u=[],transactions:c=[],accounts:m=[],currentAccountId:p,onChangeCurrentAccount:g=()=>{},onOpenGoal:_=()=>{},onCreateGoal:T=()=>{},onCsvImported:S=()=>{},currentAccountBalance:M=0,totalBalance:U=0,sectionsOrder:H}){const K=Number(t)||0,lt=Number(n)||0,W=Number(s)||0,et=Number(o)||0,ut=K>0?(K-et)/K*100:0,Q=H&&H.length?H:nO,it=Array.isArray(c)&&c.length>0,[R,x]=ve.useState(!1);return ve.useEffect(()=>{x(!1)},[c]),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:i}),b.jsx("span",{className:"text-xs text-slate-400",children:"Overview of this month's money flow"})]}),Q.map(C=>{switch(C){case"monthOverview":return b.jsxs(ii,{title:"MONTH OVERVIEW",children:[b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[b.jsx(hh,{label:"Income",value:K,accent:"text-emerald-300"}),b.jsx(hh,{label:"Fixed",value:lt,accent:"text-rose-300"}),b.jsx(hh,{label:"Variable",value:W,accent:"text-amber-300"}),b.jsx(hh,{label:"Leftover",value:et,accent:"text-cyan-300"})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Allocation this month"}),b.jsx(Ng,{value:ut})]})]},"monthOverview");case"accountSnapshot":return b.jsxs(ii,{title:"ACCOUNT SNAPSHOT",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Current account"}),b.jsx("select",{className:"mt-1 bg-[#05060F] border border-slate-700 rounded-md px-2 py-1 text-[0.75rem] text-slate-100",value:p,onChange:N=>g(N.target.value),children:(m||[]).map(N=>b.jsx("option",{value:N.id,children:N.name},N.id))})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Balance"}),b.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",M.toFixed(2)]}),b.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["of $",U.toFixed(2)," total"]})]})]}),b.jsx("hr",{className:"my-3 border-slate-800"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.2em] text-slate-500",children:"All accounts"}),b.jsxs("div",{className:"mt-1 text-xl font-semibold text-emerald-300",children:["$",U.toFixed(2)]}),b.jsx("p",{className:"mt-1 text-[0.7rem] text-slate-500",children:"Total estimated cash across all linked accounts."})]})]},"accountSnapshot");case"goals":return b.jsxs("div",{className:"space-y-3",children:[b.jsx("h2",{className:"text-xs tracking-[0.25em] text-slate-400 uppercase",children:"Goals"}),b.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:u.map(N=>b.jsx(BD,{goal:N,onClick:()=>_(N.id)},N.id))}),b.jsx("button",{type:"button",onClick:T,className:"mt-1 px-4 py-2 rounded-lg border border-cyan-400/70 text-xs text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"+ Add Goal"})]},"goals");case"csvImport":return b.jsxs(ii,{title:"BANK STATEMENT IMPORT (CSV)",children:[b.jsx(eO,{onTransactionsParsed:(N,D)=>{x(!1),S(N,D)}}),it&&b.jsxs("div",{className:"mt-4 space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Current account transactions"}),b.jsx("button",{type:"button",className:"text-[0.7rem] px-2 py-1 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 transition",onClick:()=>x(N=>!N),children:R?"Hide":"Show"})]}),R&&b.jsx("div",{className:"max-h-64 overflow-auto border border-slate-800 rounded-lg",children:b.jsxs("table",{className:"w-full text-xs text-left",children:[b.jsx("thead",{className:"bg-slate-900 text-slate-300",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-2 py-1",children:"Date"}),b.jsx("th",{className:"px-2 py-1",children:"Description"}),b.jsx("th",{className:"px-2 py-1",children:"Category"}),b.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-800",children:c.map((N,D)=>b.jsxs("tr",{className:"hover:bg-slate-900/70",children:[b.jsx("td",{className:"px-2 py-1 text-slate-300",children:N.date||"-"}),b.jsx("td",{className:"px-2 py-1 text-slate-200",children:N.description||"-"}),b.jsx("td",{className:"px-2 py-1 text-slate-300",children:N.category||"Other"}),b.jsx("td",{className:`px-2 py-1 text-right ${typeof N.amount=="number"&&N.amount<0?"text-rose-300":"text-emerald-300"}`,children:typeof N.amount!="number"||Number.isNaN(N.amount)?"-":`$${N.amount.toFixed(2)}`})]},D))})]})})]})]},"csvImport");default:return null}})]})}function zE(i){return i.reduce((t,n)=>t+n.amount,0)}function rO(i){return(Array.isArray(i?.transactions)?i.transactions:[]).reduce((n,s)=>n+(typeof s.amount=="number"?s.amount:0),0)}function Gm(i){return(i||[]).map(t=>({...t,startingBalance:typeof t.startingBalance=="number"?t.startingBalance:0}))}function sO({accounts:i=[],currentAccountId:t,onChangeCurrentAccount:n=()=>{},onCreateAccount:s=()=>{},onDeleteAccount:o=()=>{},onSetAccountBalance:u=()=>{},onRenameAccount:c=()=>{}}){const m=Array.isArray(i)&&i.length>0,[p,g]=xt.useState([]),_=T=>{g(S=>S.includes(T)?S.filter(M=>M!==T):[...S,T])};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("header",{className:"flex items-center justify-between",children:[b.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:"Accounts"}),b.jsx("button",{type:"button",onClick:s,className:"px-2 py-1 rounded-md bg-emerald-500 hover:bg-emerald-400 text-xs font-medium text-slate-900",children:"+ New account"})]}),b.jsxs(ii,{title:"ALL ACCOUNTS",children:[!m&&b.jsx("p",{className:"text-xs text-slate-400",children:"No accounts yet. Create one to start tracking balances."}),m&&b.jsx("div",{className:"space-y-2",children:i.map(T=>{const S=Array.isArray(T.transactions)?T.transactions.length:0,M=rO(T),U=(typeof T.startingBalance=="number"?T.startingBalance:0)+M,H=Array.isArray(T.transactions)?T.transactions.slice().filter(W=>W&&typeof W=="object").sort((W,et)=>{const ut=Date.parse(W.date),Q=Date.parse(et.date),it=Number.isFinite(ut),R=Number.isFinite(Q);return!it&&!R?0:it?R?Q-ut:-1:1}):[],K=H.length>0,lt=p.includes(T.id);return b.jsxs("div",{className:`space-y-2 rounded-md px-3 py-2 text-xs ${T.id===t?"bg-slate-800/70 border border-cyan-400/50":"bg-slate-900/60 border border-slate-700/70"}`,children:[b.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("input",{className:"bg-transparent text-slate-100 font-medium text-xs w-full focus:outline-none",value:T.name,onChange:W=>c(T.id,W.target.value)}),b.jsxs("p",{className:"text-[11px] text-slate-400",children:["Type: ",T.type||"checking"]}),b.jsxs("p",{className:"text-[11px] text-slate-400",children:["Transactions:"," ",b.jsx("span",{className:"text-slate-200",children:S}),"  Net:"," ",b.jsxs("span",{className:U>=0?"text-emerald-300":"text-rose-300",children:["$",U.toFixed(2)]})]})]}),b.jsxs("div",{className:"flex flex-col items-end",children:[b.jsx("label",{className:"text-[11px] text-slate-400",children:"Starting balance"}),b.jsx("input",{type:"number",className:"w-24 bg-slate-900/80 border border-slate-700 rounded px-1 py-0.5 text-right text-xs font-mono text-slate-100 focus:outline-none focus:ring-1 focus:ring-cyan-400",value:T.startingBalance??0,onChange:W=>u(T.id,parseFloat(W.target.value||"0"))})]}),b.jsxs("div",{className:"flex flex-col items-end gap-1",children:[b.jsx("button",{type:"button",onClick:()=>{n(T.id),_(T.id)},className:"px-2 py-0.5 rounded text-[11px] border border-slate-500 hover:border-cyan-400",children:lt?"Hide":"View"}),b.jsx("button",{type:"button",onClick:()=>o(T.id),className:"px-2 py-0.5 rounded text-[11px] text-red-300 hover:bg-red-500/10",children:"Delete"})]})]}),b.jsxs("div",{className:"border-t border-slate-800/70 pt-2",children:[!K&&b.jsx("p",{className:"mt-1 text-[0.65rem] text-slate-500",children:"No transactions imported yet."}),lt&&K&&b.jsx("div",{className:"mt-2 max-h-72 overflow-auto rounded-md border border-slate-800/50",children:b.jsxs("table",{className:"w-full text-[0.7rem] text-left",children:[b.jsx("thead",{className:"bg-slate-900 text-slate-300 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-2 py-1",children:"Date"}),b.jsx("th",{className:"px-2 py-1",children:"Description"}),b.jsx("th",{className:"px-2 py-1",children:"Category"}),b.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-800/70",children:H.map((W,et)=>{const ut=Number(W.amount),Q=Number.isFinite(ut)?`$${ut.toFixed(2)}`:"-";return b.jsxs("tr",{children:[b.jsx("td",{className:"px-2 py-1 text-slate-300",children:W.date||"-"}),b.jsx("td",{className:"px-2 py-1 text-slate-200",children:W.description||"Transaction"}),b.jsx("td",{className:"px-2 py-1 text-slate-400",children:W.category||"Other"}),b.jsx("td",{className:`px-2 py-1 text-right ${ut<0?"text-rose-300":"text-emerald-300"}`,children:Q})]},W.id||`${T.id}-full-${et}`)})})]})})]})]},T.id)})})]})]})}function aO({month:i,budget:t,totals:n,onBudgetChange:s}){const o=Number(t?.income??0),u=Array.isArray(t?.fixed)?t.fixed:[],c=Array.isArray(t?.variable)?t.variable:[];function m(){const _=window.prompt("Monthly income amount:",o.toString());if(_===null)return;const T=Number(_);if(!Number.isFinite(T)){window.alert("Enter a valid number for income.");return}s({...t,income:T})}function p(_){const T=window.prompt(`New ${_} item name:`);if(!T)return;const S=window.prompt(`Amount for "${T}" (numbers only):`),M=Number(S);if(!Number.isFinite(M)){window.alert("That didn't look like a valid number.");return}const U={id:`budget-${_}-${Date.now()}`,label:T,amount:M},K=[..._==="fixed"?u:c,U],lt={...t,[_]:K};s(lt)}function g(_,T){if(!window.confirm("Delete this item?"))return;const M=(_==="fixed"?u:c).filter((H,K)=>K!==T),U={...t,[_]:M};s(U)}return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("h1",{className:"text-lg font-semibold text-slate-100",children:[i," Budget"]}),b.jsx("span",{className:"text-xs text-slate-400",children:"Income  Expenses  Goals"})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[b.jsxs(ii,{title:"INCOME",children:[b.jsxs("div",{className:"text-3xl font-semibold text-emerald-300",children:["$",o.toFixed(2)]}),b.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Total take-home income for the active month."}),b.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-emerald-400/70 text-emerald-200 bg-emerald-500/10 hover:bg-emerald-500/20 transition",onClick:m,children:"Edit Income"})]}),b.jsxs(ii,{title:"FIXED EXPENSES",children:[b.jsx(BE,{items:u,total:n.fixedTotal,onDelete:_=>g("fixed",_)}),b.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-rose-400/70 text-rose-200 bg-rose-500/10 hover:bg-rose-500/20 transition",onClick:()=>p("fixed"),children:"+ Add Fixed Expense"})]}),b.jsxs(ii,{title:"VARIABLE SPENDING",children:[b.jsx(BE,{items:c,total:n.variableTotal,onDelete:_=>g("variable",_)}),b.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-amber-400/70 text-amber-200 bg-amber-500/10 hover:bg-amber-500/20 transition",onClick:()=>p("variable"),children:"+ Add Variable Expense"})]}),b.jsxs(ii,{title:"REMAINING FOR GOALS",children:[b.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",n.leftover.toFixed(2)]}),b.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"This is what's left after income minus all listed expenses."})]})]})]})}function BE({items:i=[],total:t=0,onDelete:n}){return b.jsxs("div",{className:"space-y-2 text-sm",children:[i.length===0&&b.jsx("p",{className:"text-xs text-slate-500",children:"No items yet."}),i.map((s,o)=>{const u=Number(s?.amount??0),c=s?.label||s?.name||`Item ${o+1}`;return b.jsxs("div",{className:"flex items-center justify-between text-slate-200 gap-2",children:[b.jsxs("div",{className:"flex-1 flex justify-between",children:[b.jsx("span",{children:c}),b.jsxs("span",{className:"text-slate-300",children:["$",u.toFixed(2)]})]}),n&&b.jsx("button",{className:"text-[0.65rem] text-slate-500 hover:text-rose-400",onClick:()=>n(o),children:""})]},(s?.id||c)+o)}),b.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-700 flex items-center justify-between text-xs",children:[b.jsx("span",{className:"uppercase tracking-[0.18em] text-slate-500",children:"Total"}),b.jsxs("span",{className:"text-slate-100",children:["$",t.toFixed(2)]})]})]})}const oO=[{value:"auto",label:"Auto (detect)"},{value:"income",label:"Income"},{value:"expense",label:"Expense"},{value:"transfer",label:"Transfer"},{value:"ignore",label:"Ignore"}],lO={income:"Income",expense:"Expense",transfer:"Transfer",ignore:"Ignored",unknown:"Unknown"};function uO({transactions:i=[],accountName:t="",onUpdateTransaction:n=()=>{},onDeleteTransaction:s=()=>{},typeHints:o=[],filterText:u="",onChangeFilterText:c=()=>{}}){const m=Array.isArray(i)&&i.length>0,[p,g]=xt.useState({query:"",minAmount:"",maxAmount:""}),[_,T]=xt.useState("date"),[S,M]=xt.useState("desc");xt.useEffect(()=>{const et=(u||"").trim();et&&g(ut=>({...ut,query:et}))},[u]);const U=et=>ut=>{const Q=ut.target.value;g(it=>({...it,[et]:Q})),et==="query"&&c(Q)},H=()=>{g({query:"",minAmount:"",maxAmount:""}),c("")},K=p.query||p.minAmount||p.maxAmount,lt=()=>{M(et=>et==="asc"?"desc":"asc")},W=xt.useMemo(()=>m?[...i.map((it,R)=>({tx:it,index:R})).filter(({tx:it})=>{const R=p.query.trim().toLowerCase(),x=Number(it.amount);if(R&&![it.description||"",it.category||""].join(" ").toLowerCase().includes(R))return!1;if(p.minAmount!==""){const C=Number(p.minAmount);if(!Number.isNaN(C)&&!Number.isNaN(x)&&x<C)return!1}if(p.maxAmount!==""){const C=Number(p.maxAmount);if(!Number.isNaN(C)&&!Number.isNaN(x)&&x>C)return!1}return!0})].sort((it,R)=>{const x=it.tx,C=R.tx,N=S==="asc"?1:-1;if(_==="amount"){const I=Number(x.amount)||0,zt=Number(C.amount)||0;return(I-zt)*N}if(_==="description"||_==="category"){const I=(x[_]||"").toLowerCase(),zt=(C[_]||"").toLowerCase();return I.localeCompare(zt)*N}const D=Date.parse(x.date)||0,L=Date.parse(C.date)||0;return(D-L)*N}):[],[i,p,_,S,m]);return b.jsxs("div",{className:"space-y-4 w-full",children:[b.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:"Transactions"}),b.jsx("span",{className:"text-xs text-slate-400",children:"Imported from your bank CSV files"}),b.jsxs("p",{className:"text-[0.65rem] text-slate-500",children:["Currently viewing:"," ",b.jsx("span",{className:"font-semibold text-cyan-200",children:t||"None"})]}),!!u.trim()&&b.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-lg border border-cyan-500/40 bg-cyan-500/10 px-2 py-1 text-[0.65rem] text-cyan-200",children:[b.jsx("span",{className:"font-mono",children:"Report filter:"}),b.jsx("span",{className:"text-slate-100",children:u}),b.jsx("button",{type:"button",onClick:()=>H(),className:"ml-1 rounded border border-cyan-500/40 px-2 py-[2px] text-[0.65rem] hover:bg-cyan-500/10",children:"Clear"})]})]}),m&&b.jsxs("span",{className:"text-[0.65rem] text-slate-500",children:["Showing ",W.length," of ",i.length]})]}),b.jsxs(ii,{title:"ALL TRANSACTIONS",children:[!m&&b.jsx("p",{className:"text-xs text-slate-400",children:"No transactions yet. Import a CSV on the Dashboard to see them here."}),m&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"mb-3 flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[b.jsxs("div",{className:"flex flex-col gap-1 w-full md:w-auto",children:[b.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Search"}),b.jsx("input",{type:"text",value:p.query,onChange:U("query"),placeholder:"Search description or category...",className:"h-8 w-full md:w-64 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]}),b.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-end md:justify-end",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Min Amount"}),b.jsx("input",{type:"number",value:p.minAmount,onChange:U("minAmount"),className:"h-8 w-24 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]}),b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Max Amount"}),b.jsx("input",{type:"number",value:p.maxAmount,onChange:U("maxAmount"),className:"h-8 w-24 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]})]}),b.jsx("button",{type:"button",onClick:H,disabled:!K,className:"h-8 px-3 rounded-md border text-[0.7rem] font-medium transition border-slate-600 text-slate-200 hover:border-cyan-400 hover:text-cyan-200 disabled:opacity-40 disabled:cursor-not-allowed",children:"Clear filters"})]})]}),b.jsx("div",{className:"mb-3 flex flex-col sm:flex-row sm:items-center sm:justify-end gap-2 text-[0.7rem]",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"uppercase tracking-[0.18em] text-slate-500",children:"Sort by"}),b.jsxs("select",{value:_,onChange:et=>T(et.target.value),className:"h-8 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500",children:[b.jsx("option",{value:"date",children:"Date"}),b.jsx("option",{value:"amount",children:"Amount"}),b.jsx("option",{value:"description",children:"Description"}),b.jsx("option",{value:"category",children:"Category"})]}),b.jsx("button",{type:"button",onClick:lt,className:"h-8 px-3 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 hover:text-cyan-200 transition",children:S==="asc"?"Asc ":"Desc "})]})})]}),m&&W.length===0&&b.jsx("p",{className:"text-xs text-slate-400",children:"No transactions match your current filters."}),m&&W.length>0&&b.jsx("div",{className:"w-full overflow-x-auto",children:b.jsx("div",{className:"min-w-[760px] max-h-[65vh] overflow-y-auto border border-slate-800 rounded-lg",children:b.jsxs("table",{className:"w-full text-[0.7rem] sm:text-xs text-left",children:[b.jsx("thead",{className:"bg-slate-900 text-slate-300 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-2 py-1",children:"Date"}),b.jsx("th",{className:"px-2 py-1",children:"Description"}),b.jsx("th",{className:"px-2 py-1",children:"Category"}),b.jsx("th",{className:"px-2 py-1",children:"Type"}),b.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"}),b.jsx("th",{className:"px-2 py-1 text-right",children:"Actions"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-800",children:W.map(({tx:et,index:ut})=>b.jsxs("tr",{className:"hover:bg-slate-900/70",children:[b.jsx("td",{className:"px-2 py-1 text-slate-300 whitespace-nowrap",children:et.date||"-"}),b.jsx("td",{className:"px-2 py-1 text-slate-200",children:b.jsx("input",{className:"w-full bg-transparent border-b border-slate-700 focus:outline-none focus:border-cyan-400 text-[0.7rem] sm:text-xs",value:et.description||"",onChange:Q=>n(ut,{description:Q.target.value})})}),b.jsx("td",{className:"px-2 py-1 text-slate-300",children:b.jsx("input",{className:"w-full bg-transparent border-b border-slate-700 focus:outline-none focus:border-cyan-400 text-[0.7rem] sm:text-xs",value:et.category||"",onChange:Q=>n(ut,{category:Q.target.value})})}),b.jsx("td",{className:"px-2 py-1 text-slate-300",children:b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("select",{className:"w-full bg-slate-900/40 rounded-md border border-slate-700 px-2 py-1 text-[0.65rem] focus:outline-none focus:border-cyan-400",value:et.flowType||"auto",onChange:Q=>{const it=Q.target.value;n(ut,{flowType:it==="auto"?void 0:it})},children:oO.map(Q=>b.jsx("option",{value:Q.value,children:Q.label},Q.value))}),b.jsxs("span",{className:"text-[0.6rem] text-slate-500",children:["Detected: ",lO[o[ut]]||"Unknown"]})]})}),b.jsx("td",{className:`px-2 py-1 text-right whitespace-nowrap ${et.amount<0?"text-rose-300":"text-emerald-300"}`,children:isNaN(et.amount)?"-":`$${et.amount.toFixed(2)}`}),b.jsx("td",{className:"px-2 py-1 text-right",children:b.jsx("button",{className:"text-[0.7rem] px-2 py-1 rounded-md border border-rose-500/60 text-rose-300 hover:bg-rose-400/10",onClick:()=>{window.confirm("Delete this transaction from this account?")&&s(ut)},children:"Delete"})})]},ut))})]})})})]})]})}function cO({onEdit:i,onDelete:t,onDuplicate:n,onExport:s}){const[o,u]=xt.useState(!1);function c(){u(!1),t?.()}return b.jsxs("div",{className:"relative",children:[b.jsx("button",{type:"button",className:"rounded-full border border-slate-600/70 px-3 py-1 text-xs text-slate-300 hover:border-cyan-400/60",onClick:()=>u(m=>!m),children:"Manage goal "}),b.jsxs("div",{className:`absolute right-0 mt-2 w-40 rounded-xl border border-slate-700/70 bg-[#05060F] text-xs shadow-lg transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,children:[b.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),i?.()},children:"Edit goal"}),b.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),n?.()},children:"Duplicate goal"}),b.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),s?.()},children:"Export progress"}),b.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-rose-300 hover:bg-slate-800/70",onClick:()=>{window.confirm("Delete this goal?")&&c()},children:"Delete goal"})]})]})}function hO({goal:i,onEditGoal:t=()=>{},onDeleteGoal:n=()=>{},onDuplicateGoal:s=()=>{},onExportGoal:o=()=>{},onAddContributionRequest:u=()=>{}}){const c=Number(i?.saved??i?.current??0),m=Number(i?.target??0),p=Number(i?.monthlyPlan??0),g=i?.icon||i?.emoji||"",_=i?.name||"Untitled Goal",T=m>0?Math.min(100,c/m*100):0;return b.jsxs("div",{className:"space-y-5",children:[b.jsxs("header",{className:"flex items-center justify-between gap-3",children:[b.jsx("div",{className:"space-y-1",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-2xl",children:g}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:_}),b.jsx("p",{className:"text-xs text-slate-400",children:"Personalized goal view  future: themed backgrounds & animations."})]})]})}),b.jsx(cO,{onEdit:()=>t(i?.id),onDelete:()=>{i?.id&&n(i.id)},onDuplicate:()=>s(i?.id),onExport:()=>o(i?.id)})]}),b.jsx(ii,{title:"PROGRESS",children:b.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[b.jsxs("span",{className:"text-slate-200",children:["$",c.toFixed(2)," / $",m.toFixed(2)]}),b.jsx(Ng,{value:T}),b.jsxs("span",{className:"text-xs text-slate-400",children:[T.toFixed(1),"% complete"]})]})}),b.jsxs(ii,{title:"PLAN",children:[b.jsxs("p",{className:"text-sm text-slate-200",children:["Recommended monthly contribution:",b.jsxs("span",{className:"ml-1 text-cyan-300 font-semibold",children:["$",p.toFixed(2)]})]}),b.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Later we'll calculate this based on your income, expenses and due date."}),b.jsx("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:b.jsx("button",{className:"px-3 py-1.5 text-xs rounded-md border border-pink-400/70 text-pink-200 bg-pink-500/10 hover:bg-pink-500/20 transition",onClick:()=>u(i?.id),children:"Add Contribution"})})]})]})}var fO={value:()=>{}};function G1(){for(var i=0,t=arguments.length,n={},s;i<t;++i){if(!(s=arguments[i]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Rh(n)}function Rh(i){this._=i}function dO(i,t){return i.trim().split(/^|\s+/).map(function(n){var s="",o=n.indexOf(".");if(o>=0&&(s=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Rh.prototype=G1.prototype={constructor:Rh,on:function(i,t){var n=this._,s=dO(i+"",n),o,u=-1,c=s.length;if(arguments.length<2){for(;++u<c;)if((o=(i=s[u]).type)&&(o=mO(n[o],i.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<c;)if(o=(i=s[u]).type)n[o]=qE(n[o],i.name,t);else if(t==null)for(o in n)n[o]=qE(n[o],i.name,null);return this},copy:function(){var i={},t=this._;for(var n in t)i[n]=t[n].slice();return new Rh(i)},call:function(i,t){if((o=arguments.length-2)>0)for(var n=new Array(o),s=0,o,u;s<o;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(u=this._[i],s=0,o=u.length;s<o;++s)u[s].value.apply(t,n)},apply:function(i,t,n){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var s=this._[i],o=0,u=s.length;o<u;++o)s[o].value.apply(t,n)}};function mO(i,t){for(var n=0,s=i.length,o;n<s;++n)if((o=i[n]).name===t)return o.value}function qE(i,t,n){for(var s=0,o=i.length;s<o;++s)if(i[s].name===t){i[s]=fO,i=i.slice(0,s).concat(i.slice(s+1));break}return n!=null&&i.push({name:t,value:n}),i}var Ap="http://www.w3.org/1999/xhtml";const HE={svg:"http://www.w3.org/2000/svg",xhtml:Ap,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xf(i){var t=i+="",n=t.indexOf(":");return n>=0&&(t=i.slice(0,n))!=="xmlns"&&(i=i.slice(n+1)),HE.hasOwnProperty(t)?{space:HE[t],local:i}:i}function pO(i){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ap&&t.documentElement.namespaceURI===Ap?t.createElement(i):t.createElementNS(n,i)}}function gO(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function Q1(i){var t=xf(i);return(t.local?gO:pO)(t)}function yO(){}function Cg(i){return i==null?yO:function(){return this.querySelector(i)}}function _O(i){typeof i!="function"&&(i=Cg(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],c=u.length,m=s[o]=new Array(c),p,g,_=0;_<c;++_)(p=u[_])&&(g=i.call(p,p.__data__,_,u))&&("__data__"in p&&(g.__data__=p.__data__),m[_]=g);return new Rn(s,this._parents)}function vO(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function EO(){return[]}function Y1(i){return i==null?EO:function(){return this.querySelectorAll(i)}}function TO(i){return function(){return vO(i.apply(this,arguments))}}function bO(i){typeof i=="function"?i=TO(i):i=Y1(i);for(var t=this._groups,n=t.length,s=[],o=[],u=0;u<n;++u)for(var c=t[u],m=c.length,p,g=0;g<m;++g)(p=c[g])&&(s.push(i.call(p,p.__data__,g,c)),o.push(p));return new Rn(s,o)}function $1(i){return function(){return this.matches(i)}}function K1(i){return function(t){return t.matches(i)}}var wO=Array.prototype.find;function SO(i){return function(){return wO.call(this.children,i)}}function AO(){return this.firstElementChild}function xO(i){return this.select(i==null?AO:SO(typeof i=="function"?i:K1(i)))}var RO=Array.prototype.filter;function NO(){return Array.from(this.children)}function CO(i){return function(){return RO.call(this.children,i)}}function IO(i){return this.selectAll(i==null?NO:CO(typeof i=="function"?i:K1(i)))}function DO(i){typeof i!="function"&&(i=$1(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],c=u.length,m=s[o]=[],p,g=0;g<c;++g)(p=u[g])&&i.call(p,p.__data__,g,u)&&m.push(p);return new Rn(s,this._parents)}function X1(i){return new Array(i.length)}function OO(){return new Rn(this._enter||this._groups.map(X1),this._parents)}function Xh(i,t){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=t}Xh.prototype={constructor:Xh,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,t){return this._parent.insertBefore(i,t)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function MO(i){return function(){return i}}function VO(i,t,n,s,o,u){for(var c=0,m,p=t.length,g=u.length;c<g;++c)(m=t[c])?(m.__data__=u[c],s[c]=m):n[c]=new Xh(i,u[c]);for(;c<p;++c)(m=t[c])&&(o[c]=m)}function kO(i,t,n,s,o,u,c){var m,p,g=new Map,_=t.length,T=u.length,S=new Array(_),M;for(m=0;m<_;++m)(p=t[m])&&(S[m]=M=c.call(p,p.__data__,m,t)+"",g.has(M)?o[m]=p:g.set(M,p));for(m=0;m<T;++m)M=c.call(i,u[m],m,u)+"",(p=g.get(M))?(s[m]=p,p.__data__=u[m],g.delete(M)):n[m]=new Xh(i,u[m]);for(m=0;m<_;++m)(p=t[m])&&g.get(S[m])===p&&(o[m]=p)}function LO(i){return i.__data__}function PO(i,t){if(!arguments.length)return Array.from(this,LO);var n=t?kO:VO,s=this._parents,o=this._groups;typeof i!="function"&&(i=MO(i));for(var u=o.length,c=new Array(u),m=new Array(u),p=new Array(u),g=0;g<u;++g){var _=s[g],T=o[g],S=T.length,M=UO(i.call(_,_&&_.__data__,g,s)),U=M.length,H=m[g]=new Array(U),K=c[g]=new Array(U),lt=p[g]=new Array(S);n(_,T,H,K,lt,M,t);for(var W=0,et=0,ut,Q;W<U;++W)if(ut=H[W]){for(W>=et&&(et=W+1);!(Q=K[et])&&++et<U;);ut._next=Q||null}}return c=new Rn(c,s),c._enter=m,c._exit=p,c}function UO(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function jO(){return new Rn(this._exit||this._groups.map(X1),this._parents)}function zO(i,t,n){var s=this.enter(),o=this,u=this.exit();return typeof i=="function"?(s=i(s),s&&(s=s.selection())):s=s.append(i+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?u.remove():n(u),s&&o?s.merge(o).order():o}function BO(i){for(var t=i.selection?i.selection():i,n=this._groups,s=t._groups,o=n.length,u=s.length,c=Math.min(o,u),m=new Array(o),p=0;p<c;++p)for(var g=n[p],_=s[p],T=g.length,S=m[p]=new Array(T),M,U=0;U<T;++U)(M=g[U]||_[U])&&(S[U]=M);for(;p<o;++p)m[p]=n[p];return new Rn(m,this._parents)}function qO(){for(var i=this._groups,t=-1,n=i.length;++t<n;)for(var s=i[t],o=s.length-1,u=s[o],c;--o>=0;)(c=s[o])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function HO(i){i||(i=FO);function t(T,S){return T&&S?i(T.__data__,S.__data__):!T-!S}for(var n=this._groups,s=n.length,o=new Array(s),u=0;u<s;++u){for(var c=n[u],m=c.length,p=o[u]=new Array(m),g,_=0;_<m;++_)(g=c[_])&&(p[_]=g);p.sort(t)}return new Rn(o,this._parents).order()}function FO(i,t){return i<t?-1:i>t?1:i>=t?0:NaN}function GO(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function QO(){return Array.from(this)}function YO(){for(var i=this._groups,t=0,n=i.length;t<n;++t)for(var s=i[t],o=0,u=s.length;o<u;++o){var c=s[o];if(c)return c}return null}function $O(){let i=0;for(const t of this)++i;return i}function KO(){return!this.node()}function XO(i){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var o=t[n],u=0,c=o.length,m;u<c;++u)(m=o[u])&&i.call(m,m.__data__,u,o);return this}function ZO(i){return function(){this.removeAttribute(i)}}function JO(i){return function(){this.removeAttributeNS(i.space,i.local)}}function WO(i,t){return function(){this.setAttribute(i,t)}}function t4(i,t){return function(){this.setAttributeNS(i.space,i.local,t)}}function e4(i,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(i):this.setAttribute(i,n)}}function n4(i,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,n)}}function i4(i,t){var n=xf(i);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?JO:ZO:typeof t=="function"?n.local?n4:e4:n.local?t4:WO)(n,t))}function Z1(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function r4(i){return function(){this.style.removeProperty(i)}}function s4(i,t,n){return function(){this.style.setProperty(i,t,n)}}function a4(i,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(i):this.style.setProperty(i,s,n)}}function o4(i,t,n){return arguments.length>1?this.each((t==null?r4:typeof t=="function"?a4:s4)(i,t,n??"")):vo(this.node(),i)}function vo(i,t){return i.style.getPropertyValue(t)||Z1(i).getComputedStyle(i,null).getPropertyValue(t)}function l4(i){return function(){delete this[i]}}function u4(i,t){return function(){this[i]=t}}function c4(i,t){return function(){var n=t.apply(this,arguments);n==null?delete this[i]:this[i]=n}}function h4(i,t){return arguments.length>1?this.each((t==null?l4:typeof t=="function"?c4:u4)(i,t)):this.node()[i]}function J1(i){return i.trim().split(/^|\s+/)}function Ig(i){return i.classList||new W1(i)}function W1(i){this._node=i,this._names=J1(i.getAttribute("class")||"")}W1.prototype={add:function(i){var t=this._names.indexOf(i);t<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var t=this._names.indexOf(i);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function tw(i,t){for(var n=Ig(i),s=-1,o=t.length;++s<o;)n.add(t[s])}function ew(i,t){for(var n=Ig(i),s=-1,o=t.length;++s<o;)n.remove(t[s])}function f4(i){return function(){tw(this,i)}}function d4(i){return function(){ew(this,i)}}function m4(i,t){return function(){(t.apply(this,arguments)?tw:ew)(this,i)}}function p4(i,t){var n=J1(i+"");if(arguments.length<2){for(var s=Ig(this.node()),o=-1,u=n.length;++o<u;)if(!s.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?m4:t?f4:d4)(n,t))}function g4(){this.textContent=""}function y4(i){return function(){this.textContent=i}}function _4(i){return function(){var t=i.apply(this,arguments);this.textContent=t??""}}function v4(i){return arguments.length?this.each(i==null?g4:(typeof i=="function"?_4:y4)(i)):this.node().textContent}function E4(){this.innerHTML=""}function T4(i){return function(){this.innerHTML=i}}function b4(i){return function(){var t=i.apply(this,arguments);this.innerHTML=t??""}}function w4(i){return arguments.length?this.each(i==null?E4:(typeof i=="function"?b4:T4)(i)):this.node().innerHTML}function S4(){this.nextSibling&&this.parentNode.appendChild(this)}function A4(){return this.each(S4)}function x4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function R4(){return this.each(x4)}function N4(i){var t=typeof i=="function"?i:Q1(i);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function C4(){return null}function I4(i,t){var n=typeof i=="function"?i:Q1(i),s=t==null?C4:typeof t=="function"?t:Cg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function D4(){var i=this.parentNode;i&&i.removeChild(this)}function O4(){return this.each(D4)}function M4(){var i=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function V4(){var i=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function k4(i){return this.select(i?V4:M4)}function L4(i){return arguments.length?this.property("__data__",i):this.node().__data__}function P4(i){return function(t){i.call(this,t,this.__data__)}}function U4(i){return i.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function j4(i){return function(){var t=this.__on;if(t){for(var n=0,s=-1,o=t.length,u;n<o;++n)u=t[n],(!i.type||u.type===i.type)&&u.name===i.name?this.removeEventListener(u.type,u.listener,u.options):t[++s]=u;++s?t.length=s:delete this.__on}}}function z4(i,t,n){return function(){var s=this.__on,o,u=P4(t);if(s){for(var c=0,m=s.length;c<m;++c)if((o=s[c]).type===i.type&&o.name===i.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=n),o.value=t;return}}this.addEventListener(i.type,u,n),o={type:i.type,name:i.name,value:t,listener:u,options:n},s?s.push(o):this.__on=[o]}}function B4(i,t,n){var s=U4(i+""),o,u=s.length,c;if(arguments.length<2){var m=this.node().__on;if(m){for(var p=0,g=m.length,_;p<g;++p)for(o=0,_=m[p];o<u;++o)if((c=s[o]).type===_.type&&c.name===_.name)return _.value}return}for(m=t?z4:j4,o=0;o<u;++o)this.each(m(s[o],t,n));return this}function nw(i,t,n){var s=Z1(i),o=s.CustomEvent;typeof o=="function"?o=new o(t,n):(o=s.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),i.dispatchEvent(o)}function q4(i,t){return function(){return nw(this,i,t)}}function H4(i,t){return function(){return nw(this,i,t.apply(this,arguments))}}function F4(i,t){return this.each((typeof t=="function"?H4:q4)(i,t))}function*G4(){for(var i=this._groups,t=0,n=i.length;t<n;++t)for(var s=i[t],o=0,u=s.length,c;o<u;++o)(c=s[o])&&(yield c)}var iw=[null];function Rn(i,t){this._groups=i,this._parents=t}function Ru(){return new Rn([[document.documentElement]],iw)}function Q4(){return this}Rn.prototype=Ru.prototype={constructor:Rn,select:_O,selectAll:bO,selectChild:xO,selectChildren:IO,filter:DO,data:PO,enter:OO,exit:jO,join:zO,merge:BO,selection:Q4,order:qO,sort:HO,call:GO,nodes:QO,node:YO,size:$O,empty:KO,each:XO,attr:i4,style:o4,property:h4,classed:p4,text:v4,html:w4,raise:A4,lower:R4,append:N4,insert:I4,remove:O4,clone:k4,datum:L4,on:B4,dispatch:F4,[Symbol.iterator]:G4};function Y4(i){return typeof i=="string"?new Rn([[document.querySelector(i)]],[document.documentElement]):new Rn([[i]],iw)}function Dg(i,t,n){i.prototype=t.prototype=n,n.constructor=i}function rw(i,t){var n=Object.create(i.prototype);for(var s in t)n[s]=t[s];return n}function Nu(){}var fu=.7,Zh=1/fu,lo="\\s*([+-]?\\d+)\\s*",du="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$4=/^#([0-9a-f]{3,8})$/,K4=new RegExp(`^rgb\\(${lo},${lo},${lo}\\)$`),X4=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),Z4=new RegExp(`^rgba\\(${lo},${lo},${lo},${du}\\)$`),J4=new RegExp(`^rgba\\(${Li},${Li},${Li},${du}\\)$`),W4=new RegExp(`^hsl\\(${du},${Li},${Li}\\)$`),tM=new RegExp(`^hsla\\(${du},${Li},${Li},${du}\\)$`),FE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dg(Nu,mu,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:GE,formatHex:GE,formatHex8:eM,formatHsl:nM,formatRgb:QE,toString:QE});function GE(){return this.rgb().formatHex()}function eM(){return this.rgb().formatHex8()}function nM(){return sw(this).formatHsl()}function QE(){return this.rgb().formatRgb()}function mu(i){var t,n;return i=(i+"").trim().toLowerCase(),(t=$4.exec(i))?(n=t[1].length,t=parseInt(t[1],16),n===6?YE(t):n===3?new pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?fh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?fh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=K4.exec(i))?new pn(t[1],t[2],t[3],1):(t=X4.exec(i))?new pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Z4.exec(i))?fh(t[1],t[2],t[3],t[4]):(t=J4.exec(i))?fh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=W4.exec(i))?XE(t[1],t[2]/100,t[3]/100,1):(t=tM.exec(i))?XE(t[1],t[2]/100,t[3]/100,t[4]):FE.hasOwnProperty(i)?YE(FE[i]):i==="transparent"?new pn(NaN,NaN,NaN,0):null}function YE(i){return new pn(i>>16&255,i>>8&255,i&255,1)}function fh(i,t,n,s){return s<=0&&(i=t=n=NaN),new pn(i,t,n,s)}function iM(i){return i instanceof Nu||(i=mu(i)),i?(i=i.rgb(),new pn(i.r,i.g,i.b,i.opacity)):new pn}function xp(i,t,n,s){return arguments.length===1?iM(i):new pn(i,t,n,s??1)}function pn(i,t,n,s){this.r=+i,this.g=+t,this.b=+n,this.opacity=+s}Dg(pn,xp,rw(Nu,{brighter(i){return i=i==null?Zh:Math.pow(Zh,i),new pn(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?fu:Math.pow(fu,i),new pn(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new pn(ta(this.r),ta(this.g),ta(this.b),Jh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$E,formatHex:$E,formatHex8:rM,formatRgb:KE,toString:KE}));function $E(){return`#${Js(this.r)}${Js(this.g)}${Js(this.b)}`}function rM(){return`#${Js(this.r)}${Js(this.g)}${Js(this.b)}${Js((isNaN(this.opacity)?1:this.opacity)*255)}`}function KE(){const i=Jh(this.opacity);return`${i===1?"rgb(":"rgba("}${ta(this.r)}, ${ta(this.g)}, ${ta(this.b)}${i===1?")":`, ${i})`}`}function Jh(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function ta(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function Js(i){return i=ta(i),(i<16?"0":"")+i.toString(16)}function XE(i,t,n,s){return s<=0?i=t=n=NaN:n<=0||n>=1?i=t=NaN:t<=0&&(i=NaN),new ei(i,t,n,s)}function sw(i){if(i instanceof ei)return new ei(i.h,i.s,i.l,i.opacity);if(i instanceof Nu||(i=mu(i)),!i)return new ei;if(i instanceof ei)return i;i=i.rgb();var t=i.r/255,n=i.g/255,s=i.b/255,o=Math.min(t,n,s),u=Math.max(t,n,s),c=NaN,m=u-o,p=(u+o)/2;return m?(t===u?c=(n-s)/m+(n<s)*6:n===u?c=(s-t)/m+2:c=(t-n)/m+4,m/=p<.5?u+o:2-u-o,c*=60):m=p>0&&p<1?0:c,new ei(c,m,p,i.opacity)}function sM(i,t,n,s){return arguments.length===1?sw(i):new ei(i,t,n,s??1)}function ei(i,t,n,s){this.h=+i,this.s=+t,this.l=+n,this.opacity=+s}Dg(ei,sM,rw(Nu,{brighter(i){return i=i==null?Zh:Math.pow(Zh,i),new ei(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?fu:Math.pow(fu,i),new ei(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,t=isNaN(i)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,o=2*n-s;return new pn(Qm(i>=240?i-240:i+120,o,s),Qm(i,o,s),Qm(i<120?i+240:i-120,o,s),this.opacity)},clamp(){return new ei(ZE(this.h),dh(this.s),dh(this.l),Jh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=Jh(this.opacity);return`${i===1?"hsl(":"hsla("}${ZE(this.h)}, ${dh(this.s)*100}%, ${dh(this.l)*100}%${i===1?")":`, ${i})`}`}}));function ZE(i){return i=(i||0)%360,i<0?i+360:i}function dh(i){return Math.max(0,Math.min(1,i||0))}function Qm(i,t,n){return(i<60?t+(n-t)*i/60:i<180?n:i<240?t+(n-t)*(240-i)/60:t)*255}const aw=i=>()=>i;function aM(i,t){return function(n){return i+n*t}}function oM(i,t,n){return i=Math.pow(i,n),t=Math.pow(t,n)-i,n=1/n,function(s){return Math.pow(i+s*t,n)}}function lM(i){return(i=+i)==1?ow:function(t,n){return n-t?oM(t,n,i):aw(isNaN(t)?n:t)}}function ow(i,t){var n=t-i;return n?aM(i,n):aw(isNaN(i)?t:i)}const JE=(function i(t){var n=lM(t);function s(o,u){var c=n((o=xp(o)).r,(u=xp(u)).r),m=n(o.g,u.g),p=n(o.b,u.b),g=ow(o.opacity,u.opacity);return function(_){return o.r=c(_),o.g=m(_),o.b=p(_),o.opacity=g(_),o+""}}return s.gamma=i,s})(1);function Wr(i,t){return i=+i,t=+t,function(n){return i*(1-n)+t*n}}var Rp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ym=new RegExp(Rp.source,"g");function uM(i){return function(){return i}}function cM(i){return function(t){return i(t)+""}}function hM(i,t){var n=Rp.lastIndex=Ym.lastIndex=0,s,o,u,c=-1,m=[],p=[];for(i=i+"",t=t+"";(s=Rp.exec(i))&&(o=Ym.exec(t));)(u=o.index)>n&&(u=t.slice(n,u),m[c]?m[c]+=u:m[++c]=u),(s=s[0])===(o=o[0])?m[c]?m[c]+=o:m[++c]=o:(m[++c]=null,p.push({i:c,x:Wr(s,o)})),n=Ym.lastIndex;return n<t.length&&(u=t.slice(n),m[c]?m[c]+=u:m[++c]=u),m.length<2?p[0]?cM(p[0].x):uM(t):(t=p.length,function(g){for(var _=0,T;_<t;++_)m[(T=p[_]).i]=T.x(g);return m.join("")})}var WE=180/Math.PI,Np={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lw(i,t,n,s,o,u){var c,m,p;return(c=Math.sqrt(i*i+t*t))&&(i/=c,t/=c),(p=i*n+t*s)&&(n-=i*p,s-=t*p),(m=Math.sqrt(n*n+s*s))&&(n/=m,s/=m,p/=m),i*s<t*n&&(i=-i,t=-t,p=-p,c=-c),{translateX:o,translateY:u,rotate:Math.atan2(t,i)*WE,skewX:Math.atan(p)*WE,scaleX:c,scaleY:m}}var mh;function fM(i){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return t.isIdentity?Np:lw(t.a,t.b,t.c,t.d,t.e,t.f)}function dM(i){return i==null||(mh||(mh=document.createElementNS("http://www.w3.org/2000/svg","g")),mh.setAttribute("transform",i),!(i=mh.transform.baseVal.consolidate()))?Np:(i=i.matrix,lw(i.a,i.b,i.c,i.d,i.e,i.f))}function uw(i,t,n,s){function o(g){return g.length?g.pop()+" ":""}function u(g,_,T,S,M,U){if(g!==T||_!==S){var H=M.push("translate(",null,t,null,n);U.push({i:H-4,x:Wr(g,T)},{i:H-2,x:Wr(_,S)})}else(T||S)&&M.push("translate("+T+t+S+n)}function c(g,_,T,S){g!==_?(g-_>180?_+=360:_-g>180&&(g+=360),S.push({i:T.push(o(T)+"rotate(",null,s)-2,x:Wr(g,_)})):_&&T.push(o(T)+"rotate("+_+s)}function m(g,_,T,S){g!==_?S.push({i:T.push(o(T)+"skewX(",null,s)-2,x:Wr(g,_)}):_&&T.push(o(T)+"skewX("+_+s)}function p(g,_,T,S,M,U){if(g!==T||_!==S){var H=M.push(o(M)+"scale(",null,",",null,")");U.push({i:H-4,x:Wr(g,T)},{i:H-2,x:Wr(_,S)})}else(T!==1||S!==1)&&M.push(o(M)+"scale("+T+","+S+")")}return function(g,_){var T=[],S=[];return g=i(g),_=i(_),u(g.translateX,g.translateY,_.translateX,_.translateY,T,S),c(g.rotate,_.rotate,T,S),m(g.skewX,_.skewX,T,S),p(g.scaleX,g.scaleY,_.scaleX,_.scaleY,T,S),g=_=null,function(M){for(var U=-1,H=S.length,K;++U<H;)T[(K=S[U]).i]=K.x(M);return T.join("")}}}var mM=uw(fM,"px, ","px)","deg)"),pM=uw(dM,", ",")",")"),Eo=0,Fl=0,Pl=0,cw=1e3,Wh,Gl,tf=0,la=0,Rf=0,pu=typeof performance=="object"&&performance.now?performance:Date,hw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function Og(){return la||(hw(gM),la=pu.now()+Rf)}function gM(){la=0}function ef(){this._call=this._time=this._next=null}ef.prototype=fw.prototype={constructor:ef,restart:function(i,t,n){if(typeof i!="function")throw new TypeError("callback is not a function");n=(n==null?Og():+n)+(t==null?0:+t),!this._next&&Gl!==this&&(Gl?Gl._next=this:Wh=this,Gl=this),this._call=i,this._time=n,Cp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Cp())}};function fw(i,t,n){var s=new ef;return s.restart(i,t,n),s}function yM(){Og(),++Eo;for(var i=Wh,t;i;)(t=la-i._time)>=0&&i._call.call(void 0,t),i=i._next;--Eo}function tT(){la=(tf=pu.now())+Rf,Eo=Fl=0;try{yM()}finally{Eo=0,vM(),la=0}}function _M(){var i=pu.now(),t=i-tf;t>cw&&(Rf-=t,tf=i)}function vM(){for(var i,t=Wh,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),i=t,t=t._next):(n=t._next,t._next=null,t=i?i._next=n:Wh=n);Gl=i,Cp(s)}function Cp(i){if(!Eo){Fl&&(Fl=clearTimeout(Fl));var t=i-la;t>24?(i<1/0&&(Fl=setTimeout(tT,i-pu.now()-Rf)),Pl&&(Pl=clearInterval(Pl))):(Pl||(tf=pu.now(),Pl=setInterval(_M,cw)),Eo=1,hw(tT))}}function eT(i,t,n){var s=new ef;return t=t==null?0:+t,s.restart(o=>{s.stop(),i(o+t)},t,n),s}var EM=G1("start","end","cancel","interrupt"),TM=[],dw=0,nT=1,Ip=2,Nh=3,iT=4,Dp=5,Ch=6;function Nf(i,t,n,s,o,u){var c=i.__transition;if(!c)i.__transition={};else if(n in c)return;bM(i,n,{name:t,index:s,group:o,on:EM,tween:TM,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:dw})}function Mg(i,t){var n=oi(i,t);if(n.state>dw)throw new Error("too late; already scheduled");return n}function ji(i,t){var n=oi(i,t);if(n.state>Nh)throw new Error("too late; already running");return n}function oi(i,t){var n=i.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function bM(i,t,n){var s=i.__transition,o;s[t]=n,n.timer=fw(u,0,n.time);function u(g){n.state=nT,n.timer.restart(c,n.delay,n.time),n.delay<=g&&c(g-n.delay)}function c(g){var _,T,S,M;if(n.state!==nT)return p();for(_ in s)if(M=s[_],M.name===n.name){if(M.state===Nh)return eT(c);M.state===iT?(M.state=Ch,M.timer.stop(),M.on.call("interrupt",i,i.__data__,M.index,M.group),delete s[_]):+_<t&&(M.state=Ch,M.timer.stop(),M.on.call("cancel",i,i.__data__,M.index,M.group),delete s[_])}if(eT(function(){n.state===Nh&&(n.state=iT,n.timer.restart(m,n.delay,n.time),m(g))}),n.state=Ip,n.on.call("start",i,i.__data__,n.index,n.group),n.state===Ip){for(n.state=Nh,o=new Array(S=n.tween.length),_=0,T=-1;_<S;++_)(M=n.tween[_].value.call(i,i.__data__,n.index,n.group))&&(o[++T]=M);o.length=T+1}}function m(g){for(var _=g<n.duration?n.ease.call(null,g/n.duration):(n.timer.restart(p),n.state=Dp,1),T=-1,S=o.length;++T<S;)o[T].call(i,_);n.state===Dp&&(n.on.call("end",i,i.__data__,n.index,n.group),p())}function p(){n.state=Ch,n.timer.stop(),delete s[t];for(var g in s)return;delete i.__transition}}function wM(i,t){var n=i.__transition,s,o,u=!0,c;if(n){t=t==null?null:t+"";for(c in n){if((s=n[c]).name!==t){u=!1;continue}o=s.state>Ip&&s.state<Dp,s.state=Ch,s.timer.stop(),s.on.call(o?"interrupt":"cancel",i,i.__data__,s.index,s.group),delete n[c]}u&&delete i.__transition}}function SM(i){return this.each(function(){wM(this,i)})}function AM(i,t){var n,s;return function(){var o=ji(this,i),u=o.tween;if(u!==n){s=n=u;for(var c=0,m=s.length;c<m;++c)if(s[c].name===t){s=s.slice(),s.splice(c,1);break}}o.tween=s}}function xM(i,t,n){var s,o;if(typeof n!="function")throw new Error;return function(){var u=ji(this,i),c=u.tween;if(c!==s){o=(s=c).slice();for(var m={name:t,value:n},p=0,g=o.length;p<g;++p)if(o[p].name===t){o[p]=m;break}p===g&&o.push(m)}u.tween=o}}function RM(i,t){var n=this._id;if(i+="",arguments.length<2){for(var s=oi(this.node(),n).tween,o=0,u=s.length,c;o<u;++o)if((c=s[o]).name===i)return c.value;return null}return this.each((t==null?AM:xM)(n,i,t))}function Vg(i,t,n){var s=i._id;return i.each(function(){var o=ji(this,s);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return oi(o,s).value[t]}}function mw(i,t){var n;return(typeof t=="number"?Wr:t instanceof mu?JE:(n=mu(t))?(t=n,JE):hM)(i,t)}function NM(i){return function(){this.removeAttribute(i)}}function CM(i){return function(){this.removeAttributeNS(i.space,i.local)}}function IM(i,t,n){var s,o=n+"",u;return function(){var c=this.getAttribute(i);return c===o?null:c===s?u:u=t(s=c,n)}}function DM(i,t,n){var s,o=n+"",u;return function(){var c=this.getAttributeNS(i.space,i.local);return c===o?null:c===s?u:u=t(s=c,n)}}function OM(i,t,n){var s,o,u;return function(){var c,m=n(this),p;return m==null?void this.removeAttribute(i):(c=this.getAttribute(i),p=m+"",c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,m)))}}function MM(i,t,n){var s,o,u;return function(){var c,m=n(this),p;return m==null?void this.removeAttributeNS(i.space,i.local):(c=this.getAttributeNS(i.space,i.local),p=m+"",c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,m)))}}function VM(i,t){var n=xf(i),s=n==="transform"?pM:mw;return this.attrTween(i,typeof t=="function"?(n.local?MM:OM)(n,s,Vg(this,"attr."+i,t)):t==null?(n.local?CM:NM)(n):(n.local?DM:IM)(n,s,t))}function kM(i,t){return function(n){this.setAttribute(i,t.call(this,n))}}function LM(i,t){return function(n){this.setAttributeNS(i.space,i.local,t.call(this,n))}}function PM(i,t){var n,s;function o(){var u=t.apply(this,arguments);return u!==s&&(n=(s=u)&&LM(i,u)),n}return o._value=t,o}function UM(i,t){var n,s;function o(){var u=t.apply(this,arguments);return u!==s&&(n=(s=u)&&kM(i,u)),n}return o._value=t,o}function jM(i,t){var n="attr."+i;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=xf(i);return this.tween(n,(s.local?PM:UM)(s,t))}function zM(i,t){return function(){Mg(this,i).delay=+t.apply(this,arguments)}}function BM(i,t){return t=+t,function(){Mg(this,i).delay=t}}function qM(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?zM:BM)(t,i)):oi(this.node(),t).delay}function HM(i,t){return function(){ji(this,i).duration=+t.apply(this,arguments)}}function FM(i,t){return t=+t,function(){ji(this,i).duration=t}}function GM(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?HM:FM)(t,i)):oi(this.node(),t).duration}function QM(i,t){if(typeof t!="function")throw new Error;return function(){ji(this,i).ease=t}}function YM(i){var t=this._id;return arguments.length?this.each(QM(t,i)):oi(this.node(),t).ease}function $M(i,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ji(this,i).ease=n}}function KM(i){if(typeof i!="function")throw new Error;return this.each($M(this._id,i))}function XM(i){typeof i!="function"&&(i=$1(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],c=u.length,m=s[o]=[],p,g=0;g<c;++g)(p=u[g])&&i.call(p,p.__data__,g,u)&&m.push(p);return new mr(s,this._parents,this._name,this._id)}function ZM(i){if(i._id!==this._id)throw new Error;for(var t=this._groups,n=i._groups,s=t.length,o=n.length,u=Math.min(s,o),c=new Array(s),m=0;m<u;++m)for(var p=t[m],g=n[m],_=p.length,T=c[m]=new Array(_),S,M=0;M<_;++M)(S=p[M]||g[M])&&(T[M]=S);for(;m<s;++m)c[m]=t[m];return new mr(c,this._parents,this._name,this._id)}function JM(i){return(i+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function WM(i,t,n){var s,o,u=JM(t)?Mg:ji;return function(){var c=u(this,i),m=c.on;m!==s&&(o=(s=m).copy()).on(t,n),c.on=o}}function t3(i,t){var n=this._id;return arguments.length<2?oi(this.node(),n).on.on(i):this.each(WM(n,i,t))}function e3(i){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==i)return;t&&t.removeChild(this)}}function n3(){return this.on("end.remove",e3(this._id))}function i3(i){var t=this._name,n=this._id;typeof i!="function"&&(i=Cg(i));for(var s=this._groups,o=s.length,u=new Array(o),c=0;c<o;++c)for(var m=s[c],p=m.length,g=u[c]=new Array(p),_,T,S=0;S<p;++S)(_=m[S])&&(T=i.call(_,_.__data__,S,m))&&("__data__"in _&&(T.__data__=_.__data__),g[S]=T,Nf(g[S],t,n,S,g,oi(_,n)));return new mr(u,this._parents,t,n)}function r3(i){var t=this._name,n=this._id;typeof i!="function"&&(i=Y1(i));for(var s=this._groups,o=s.length,u=[],c=[],m=0;m<o;++m)for(var p=s[m],g=p.length,_,T=0;T<g;++T)if(_=p[T]){for(var S=i.call(_,_.__data__,T,p),M,U=oi(_,n),H=0,K=S.length;H<K;++H)(M=S[H])&&Nf(M,t,n,H,S,U);u.push(S),c.push(_)}return new mr(u,c,t,n)}var s3=Ru.prototype.constructor;function a3(){return new s3(this._groups,this._parents)}function o3(i,t){var n,s,o;return function(){var u=vo(this,i),c=(this.style.removeProperty(i),vo(this,i));return u===c?null:u===n&&c===s?o:o=t(n=u,s=c)}}function pw(i){return function(){this.style.removeProperty(i)}}function l3(i,t,n){var s,o=n+"",u;return function(){var c=vo(this,i);return c===o?null:c===s?u:u=t(s=c,n)}}function u3(i,t,n){var s,o,u;return function(){var c=vo(this,i),m=n(this),p=m+"";return m==null&&(p=m=(this.style.removeProperty(i),vo(this,i))),c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,m))}}function c3(i,t){var n,s,o,u="style."+t,c="end."+u,m;return function(){var p=ji(this,i),g=p.on,_=p.value[u]==null?m||(m=pw(t)):void 0;(g!==n||o!==_)&&(s=(n=g).copy()).on(c,o=_),p.on=s}}function h3(i,t,n){var s=(i+="")=="transform"?mM:mw;return t==null?this.styleTween(i,o3(i,s)).on("end.style."+i,pw(i)):typeof t=="function"?this.styleTween(i,u3(i,s,Vg(this,"style."+i,t))).each(c3(this._id,i)):this.styleTween(i,l3(i,s,t),n).on("end.style."+i,null)}function f3(i,t,n){return function(s){this.style.setProperty(i,t.call(this,s),n)}}function d3(i,t,n){var s,o;function u(){var c=t.apply(this,arguments);return c!==o&&(s=(o=c)&&f3(i,c,n)),s}return u._value=t,u}function m3(i,t,n){var s="style."+(i+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,d3(i,t,n??""))}function p3(i){return function(){this.textContent=i}}function g3(i){return function(){var t=i(this);this.textContent=t??""}}function y3(i){return this.tween("text",typeof i=="function"?g3(Vg(this,"text",i)):p3(i==null?"":i+""))}function _3(i){return function(t){this.textContent=i.call(this,t)}}function v3(i){var t,n;function s(){var o=i.apply(this,arguments);return o!==n&&(t=(n=o)&&_3(o)),t}return s._value=i,s}function E3(i){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(i==null)return this.tween(t,null);if(typeof i!="function")throw new Error;return this.tween(t,v3(i))}function T3(){for(var i=this._name,t=this._id,n=gw(),s=this._groups,o=s.length,u=0;u<o;++u)for(var c=s[u],m=c.length,p,g=0;g<m;++g)if(p=c[g]){var _=oi(p,t);Nf(p,i,n,g,c,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new mr(s,this._parents,i,n)}function b3(){var i,t,n=this,s=n._id,o=n.size();return new Promise(function(u,c){var m={value:c},p={value:function(){--o===0&&u()}};n.each(function(){var g=ji(this,s),_=g.on;_!==i&&(t=(i=_).copy(),t._.cancel.push(m),t._.interrupt.push(m),t._.end.push(p)),g.on=t}),o===0&&u()})}var w3=0;function mr(i,t,n,s){this._groups=i,this._parents=t,this._name=n,this._id=s}function gw(){return++w3}var ar=Ru.prototype;mr.prototype={constructor:mr,select:i3,selectAll:r3,selectChild:ar.selectChild,selectChildren:ar.selectChildren,filter:XM,merge:ZM,selection:a3,transition:T3,call:ar.call,nodes:ar.nodes,node:ar.node,size:ar.size,empty:ar.empty,each:ar.each,on:t3,attr:VM,attrTween:jM,style:h3,styleTween:m3,text:y3,textTween:E3,remove:n3,tween:RM,delay:qM,duration:GM,ease:YM,easeVarying:KM,end:b3,[Symbol.iterator]:ar[Symbol.iterator]};function S3(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var A3={time:null,delay:0,duration:250,ease:S3};function x3(i,t){for(var n;!(n=i.__transition)||!(n=n[t]);)if(!(i=i.parentNode))throw new Error(`transition ${t} not found`);return n}function R3(i){var t,n;i instanceof mr?(t=i._id,i=i._name):(t=gw(),(n=A3).time=Og(),i=i==null?null:i+"");for(var s=this._groups,o=s.length,u=0;u<o;++u)for(var c=s[u],m=c.length,p,g=0;g<m;++g)(p=c[g])&&Nf(p,i,t,g,c,n||x3(p,t));return new mr(s,this._parents,i,t)}Ru.prototype.interrupt=SM;Ru.prototype.transition=R3;function Ql(i,t,n){this.k=i,this.x=t,this.y=n}Ql.prototype={constructor:Ql,scale:function(i){return i===1?this:new Ql(this.k*i,this.x,this.y)},translate:function(i,t){return i===0&t===0?this:new Ql(this.k,this.x+this.k*i,this.y+this.k*t)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ql.prototype;function rT(i,t){let n;if(t===void 0)for(const s of i)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);else{let s=-1;for(let o of i)(o=t(o,++s,i))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function N3(i,t){let n;if(t===void 0)for(const s of i)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);else{let s=-1;for(let o of i)(o=t(o,++s,i))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function $m(i,t){let n=0;if(t===void 0)for(let s of i)(s=+s)&&(n+=s);else{let s=-1;for(let o of i)(o=+t(o,++s,i))&&(n+=o)}return n}function C3(i,t){return i.sourceLinks.length?i.depth:t-1}function ph(i){return function(){return i}}function sT(i,t){return nf(i.source,t.source)||i.index-t.index}function aT(i,t){return nf(i.target,t.target)||i.index-t.index}function nf(i,t){return i.y0-t.y0}function Km(i){return i.value}function I3(i){return i.index}function D3(i){return i.nodes}function O3(i){return i.links}function oT(i,t){const n=i.get(t);if(!n)throw new Error("missing: "+t);return n}function lT({nodes:i}){for(const t of i){let n=t.y0,s=n;for(const o of t.sourceLinks)o.y0=n+o.width/2,n+=o.width;for(const o of t.targetLinks)o.y1=s+o.width/2,s+=o.width}}function M3(){let i=0,t=0,n=1,s=1,o=24,u=8,c,m=I3,p=C3,g,_,T=D3,S=O3,M=6;function U(){const J={nodes:T.apply(null,arguments),links:S.apply(null,arguments)};return H(J),K(J),lt(J),W(J),Q(J),lT(J),J}U.update=function(J){return lT(J),J},U.nodeId=function(J){return arguments.length?(m=typeof J=="function"?J:ph(J),U):m},U.nodeAlign=function(J){return arguments.length?(p=typeof J=="function"?J:ph(J),U):p},U.nodeSort=function(J){return arguments.length?(g=J,U):g},U.nodeWidth=function(J){return arguments.length?(o=+J,U):o},U.nodePadding=function(J){return arguments.length?(u=c=+J,U):u},U.nodes=function(J){return arguments.length?(T=typeof J=="function"?J:ph(J),U):T},U.links=function(J){return arguments.length?(S=typeof J=="function"?J:ph(J),U):S},U.linkSort=function(J){return arguments.length?(_=J,U):_},U.size=function(J){return arguments.length?(i=t=0,n=+J[0],s=+J[1],U):[n-i,s-t]},U.extent=function(J){return arguments.length?(i=+J[0][0],n=+J[1][0],t=+J[0][1],s=+J[1][1],U):[[i,t],[n,s]]},U.iterations=function(J){return arguments.length?(M=+J,U):M};function H({nodes:J,links:P}){for(const[rt,at]of J.entries())at.index=rt,at.sourceLinks=[],at.targetLinks=[];const G=new Map(J.map((rt,at)=>[m(rt,at,J),rt]));for(const[rt,at]of P.entries()){at.index=rt;let{source:dt,target:V}=at;typeof dt!="object"&&(dt=at.source=oT(G,dt)),typeof V!="object"&&(V=at.target=oT(G,V)),dt.sourceLinks.push(at),V.targetLinks.push(at)}if(_!=null)for(const{sourceLinks:rt,targetLinks:at}of J)rt.sort(_),at.sort(_)}function K({nodes:J}){for(const P of J)P.value=P.fixedValue===void 0?Math.max($m(P.sourceLinks,Km),$m(P.targetLinks,Km)):P.fixedValue}function lt({nodes:J}){const P=J.length;let G=new Set(J),rt=new Set,at=0;for(;G.size;){for(const dt of G){dt.depth=at;for(const{target:V}of dt.sourceLinks)rt.add(V)}if(++at>P)throw new Error("circular link");G=rt,rt=new Set}}function W({nodes:J}){const P=J.length;let G=new Set(J),rt=new Set,at=0;for(;G.size;){for(const dt of G){dt.height=at;for(const{source:V}of dt.targetLinks)rt.add(V)}if(++at>P)throw new Error("circular link");G=rt,rt=new Set}}function et({nodes:J}){const P=rT(J,at=>at.depth)+1,G=(n-i-o)/(P-1),rt=new Array(P);for(const at of J){const dt=Math.max(0,Math.min(P-1,Math.floor(p.call(null,at,P))));at.layer=dt,at.x0=i+dt*G,at.x1=at.x0+o,rt[dt]?rt[dt].push(at):rt[dt]=[at]}if(g)for(const at of rt)at.sort(g);return rt}function ut(J){const P=N3(J,G=>(s-t-(G.length-1)*c)/$m(G,Km));for(const G of J){let rt=t;for(const at of G){at.y0=rt,at.y1=rt+at.value*P,rt=at.y1+c;for(const dt of at.sourceLinks)dt.width=dt.value*P}rt=(s-rt+c)/(G.length+1);for(let at=0;at<G.length;++at){const dt=G[at];dt.y0+=rt*(at+1),dt.y1+=rt*(at+1)}L(G)}}function Q(J){const P=et(J);c=Math.min(u,(s-t)/(rT(P,G=>G.length)-1)),ut(P);for(let G=0;G<M;++G){const rt=Math.pow(.99,G),at=Math.max(1-rt,(G+1)/M);R(P,rt,at),it(P,rt,at)}}function it(J,P,G){for(let rt=1,at=J.length;rt<at;++rt){const dt=J[rt];for(const V of dt){let Z=0,ct=0;for(const{source:vt,value:St}of V.targetLinks){let At=St*(V.layer-vt.layer);Z+=I(vt,V)*At,ct+=At}if(!(ct>0))continue;let ft=(Z/ct-V.y0)*P;V.y0+=ft,V.y1+=ft,D(V)}g===void 0&&dt.sort(nf),x(dt,G)}}function R(J,P,G){for(let rt=J.length,at=rt-2;at>=0;--at){const dt=J[at];for(const V of dt){let Z=0,ct=0;for(const{target:vt,value:St}of V.sourceLinks){let At=St*(vt.layer-V.layer);Z+=zt(V,vt)*At,ct+=At}if(!(ct>0))continue;let ft=(Z/ct-V.y0)*P;V.y0+=ft,V.y1+=ft,D(V)}g===void 0&&dt.sort(nf),x(dt,G)}}function x(J,P){const G=J.length>>1,rt=J[G];N(J,rt.y0-c,G-1,P),C(J,rt.y1+c,G+1,P),N(J,s,J.length-1,P),C(J,t,0,P)}function C(J,P,G,rt){for(;G<J.length;++G){const at=J[G],dt=(P-at.y0)*rt;dt>1e-6&&(at.y0+=dt,at.y1+=dt),P=at.y1+c}}function N(J,P,G,rt){for(;G>=0;--G){const at=J[G],dt=(at.y1-P)*rt;dt>1e-6&&(at.y0-=dt,at.y1-=dt),P=at.y0-c}}function D({sourceLinks:J,targetLinks:P}){if(_===void 0){for(const{source:{sourceLinks:G}}of P)G.sort(aT);for(const{target:{targetLinks:G}}of J)G.sort(sT)}}function L(J){if(_===void 0)for(const{sourceLinks:P,targetLinks:G}of J)P.sort(aT),G.sort(sT)}function I(J,P){let G=J.y0-(J.sourceLinks.length-1)*c/2;for(const{target:rt,width:at}of J.sourceLinks){if(rt===P)break;G+=at+c}for(const{source:rt,width:at}of P.targetLinks){if(rt===J)break;G-=at}return G}function zt(J,P){let G=P.y0-(P.targetLinks.length-1)*c/2;for(const{source:rt,width:at}of P.targetLinks){if(rt===J)break;G+=at+c}for(const{target:rt,width:at}of J.sourceLinks){if(rt===P)break;G-=at}return G}return U}var Op=Math.PI,Mp=2*Op,Xs=1e-6,V3=Mp-Xs;function Vp(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function yw(){return new Vp}Vp.prototype=yw.prototype={constructor:Vp,moveTo:function(i,t){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(i,t){this._+="L"+(this._x1=+i)+","+(this._y1=+t)},quadraticCurveTo:function(i,t,n,s){this._+="Q"+ +i+","+ +t+","+(this._x1=+n)+","+(this._y1=+s)},bezierCurveTo:function(i,t,n,s,o,u){this._+="C"+ +i+","+ +t+","+ +n+","+ +s+","+(this._x1=+o)+","+(this._y1=+u)},arcTo:function(i,t,n,s,o){i=+i,t=+t,n=+n,s=+s,o=+o;var u=this._x1,c=this._y1,m=n-i,p=s-t,g=u-i,_=c-t,T=g*g+_*_;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=i)+","+(this._y1=t);else if(T>Xs)if(!(Math.abs(_*m-p*g)>Xs)||!o)this._+="L"+(this._x1=i)+","+(this._y1=t);else{var S=n-u,M=s-c,U=m*m+p*p,H=S*S+M*M,K=Math.sqrt(U),lt=Math.sqrt(T),W=o*Math.tan((Op-Math.acos((U+T-H)/(2*K*lt)))/2),et=W/lt,ut=W/K;Math.abs(et-1)>Xs&&(this._+="L"+(i+et*g)+","+(t+et*_)),this._+="A"+o+","+o+",0,0,"+ +(_*S>g*M)+","+(this._x1=i+ut*m)+","+(this._y1=t+ut*p)}},arc:function(i,t,n,s,o,u){i=+i,t=+t,n=+n,u=!!u;var c=n*Math.cos(s),m=n*Math.sin(s),p=i+c,g=t+m,_=1^u,T=u?s-o:o-s;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+p+","+g:(Math.abs(this._x1-p)>Xs||Math.abs(this._y1-g)>Xs)&&(this._+="L"+p+","+g),n&&(T<0&&(T=T%Mp+Mp),T>V3?this._+="A"+n+","+n+",0,1,"+_+","+(i-c)+","+(t-m)+"A"+n+","+n+",0,1,"+_+","+(this._x1=p)+","+(this._y1=g):T>Xs&&(this._+="A"+n+","+n+",0,"+ +(T>=Op)+","+_+","+(this._x1=i+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(i,t,n,s){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +s+"h"+-n+"Z"},toString:function(){return this._}};function uT(i){return function(){return i}}function k3(i){return i[0]}function L3(i){return i[1]}var P3=Array.prototype.slice;function U3(i){return i.source}function j3(i){return i.target}function z3(i){var t=U3,n=j3,s=k3,o=L3,u=null;function c(){var m,p=P3.call(arguments),g=t.apply(this,p),_=n.apply(this,p);if(u||(u=m=yw()),i(u,+s.apply(this,(p[0]=g,p)),+o.apply(this,p),+s.apply(this,(p[0]=_,p)),+o.apply(this,p)),m)return u=null,m+""||null}return c.source=function(m){return arguments.length?(t=m,c):t},c.target=function(m){return arguments.length?(n=m,c):n},c.x=function(m){return arguments.length?(s=typeof m=="function"?m:uT(+m),c):s},c.y=function(m){return arguments.length?(o=typeof m=="function"?m:uT(+m),c):o},c.context=function(m){return arguments.length?(u=m??null,c):u},c}function B3(i,t,n,s,o){i.moveTo(t,n),i.bezierCurveTo(t=(t+s)/2,n,t,o,s,o)}function q3(){return z3(B3)}function H3(i){return[i.source.x1,i.y0]}function F3(i){return[i.target.x0,i.y1]}function G3(){return q3().source(H3).target(F3)}function Q3({data:i,height:t=560,nodeWidth:n=16,nodePadding:s=18,onNodeClick:o}){const u=ve.useRef(null);return ve.useEffect(()=>{const c=u.current;if(!c)return;c.innerHTML="";const m=Math.max(700,c.clientWidth||0),p=Y4(c).append("svg").attr("width",m).attr("height",t).attr("viewBox",`0 0 ${m} ${t}`),g=H=>{p.append("text").attr("x",16).attr("y",28).attr("fill","#e2e8f0").attr("font-size",12).text(H)},_={Income:"#22c55e",Fixed:"#f97316",Essential:"#3b82f6",Variable:"#a855f7",Transfers:"#eab308",Leftover:"#10b981"},T=Number(i?.meta?.incomeTotal||0),S=H=>T>0?H/T*100:0,M=H=>`$${Number(H||0).toFixed(2)}`;let U=requestAnimationFrame(()=>{try{const H=Array.isArray(i?.nodes)?i.nodes:[],K=Array.isArray(i?.links)?i.links:[];if(!H.length||!K.length){g("No report data yet  import transactions to see cash flow.");return}const lt=new Set(H.map(N=>N?.name).filter(Boolean));for(const N of K)typeof N?.source=="string"&&lt.add(N.source),typeof N?.target=="string"&&lt.add(N.target);const W=[...lt],et=new Map(W.map((N,D)=>[N,D])),ut=W.map(N=>({name:N})),Q=K.map(N=>{const D=typeof N.source=="string"?et.get(N.source):N.source,L=typeof N.target=="string"?et.get(N.target):N.target,I=Number(N.value||0);return typeof D!="number"||typeof L!="number"||!Number.isFinite(I)||I<=0?null:{source:D,target:L,value:I}}).filter(Boolean);if(!Q.length){g("Report links are empty after validation.");return}const R=M3().nodeWidth(n).nodePadding(s).extent([[12,12],[m-12,t-12]])({nodes:ut.map(N=>({...N})),links:Q.map(N=>({...N}))});p.append("g").attr("fill","none").attr("stroke-opacity",.35).selectAll("path").data(R.links).join("path").attr("d",G3()).attr("stroke",N=>{const D=R.nodes[N.source.index]?.name;return _[D]||"#94a3b8"}).attr("stroke-width",N=>Math.max(1,N.width)).append("title").text(N=>{const D=Number(N.value||0),L=R.nodes[N.source.index]?.name,I=R.nodes[N.target.index]?.name;return`${L}  ${I}
${M(D)} (${S(D).toFixed(1)}% of income)`});const C=p.append("g").selectAll("g").data(R.nodes).join("g");C.append("rect").attr("x",N=>N.x0).attr("y",N=>N.y0).attr("height",N=>Math.max(1,N.y1-N.y0)).attr("width",N=>N.x1-N.x0).attr("rx",6).attr("fill",N=>_[N.name]||"#64748b").attr("opacity",.9).style("cursor",typeof o=="function"?"pointer":"default").on("click",(N,D)=>{typeof o=="function"&&o(D.name,D)}).append("title").text(N=>{const D=Number(N.value||0);return`${N.name}
${M(D)} (${S(D).toFixed(1)}% of income)`}),C.append("text").attr("x",N=>N.x0<m/2?N.x1+8:N.x0-8).attr("y",N=>(N.y0+N.y1)/2).attr("dy","0.35em").attr("text-anchor",N=>N.x0<m/2?"start":"end").attr("font-size",12).attr("fill","#e2e8f0").text(N=>N.name)}catch(H){console.error("FlowSankey render error:",H),g(`Sankey render error: ${H?.message||String(H)}`)}});return()=>cancelAnimationFrame(U)},[i,t,n,s,o]),b.jsx("div",{ref:u,style:{width:"100%"}})}const Xm={topNPerBucket:10,maxRows:2e4,includeTransfers:!0,preset:"Detailed"};function Y3(i){return!i||typeof i!="string"||i.length<7?null:i.slice(0,7)}function Zm(i){const t=Number(i);return Number.isFinite(t)?t:0}function $3(i=""){let t=String(i).trim().toLowerCase();return t=t.replace(/\s+/g," "),t}function K3(i=""){let t=String(i).trim();return t=t.replace(/[*#]{3,}\w{2,}$/g,"").trim(),t=t.replace(/\b(?:\d{3,}|x{3,}\d+)\b/gi,"").trim(),t=t.replace(/\s+/g," "),t.length>28&&(t=t.slice(0,26)+""),t||"Uncategorized"}const X3=["rent","mortgage","apts","apt","apartment","lease","property management","hoa","insurance","internet","phone","utilities","loan","payment"],Z3=["amazon prime","prime membership","netflix","hulu","spotify","youtube premium","rocket money","membership","subscription","icloud","google one","dropbox"],J3=["grocery","costco","walmart","gas","fuel","medical","pharmacy","power","water"],W3=["transfer","zelle","venmo","cash app","withdrawal","deposit"];function tV(i=""){const t=i.toLowerCase();return W3.some(n=>t.includes(n))?"Transfers":X3.some(n=>t.includes(n))?"Fixed":Z3.some(n=>t.includes(n))?"Subscriptions":J3.some(n=>t.includes(n))?"Essential":"Variable"}function eV(i,t){const n=[];for(const s of i.entries())n.push(s),n.sort((o,u)=>u[1]-o[1]),n.length>t&&(n.length=t);return n}function nV({accounts:i=[],monthKey:t,topNPerBucket:n=10,maxRows:s=2e4,includeTransfers:o=!0}){const u=(i||[]).flatMap(W=>W.transactions||[]),c=t?u.filter(W=>Y3(W.date)===t):u,m=c.length>s?c.slice(-s):c,p=m.reduce((W,et)=>W+(Zm(et.amount)>0?Zm(et.amount):0),0),g=new Map,_=new Map;for(const W of m){const et=Zm(W.amount);if(!(et<0))continue;const ut=$3(W.description||""),Q=K3(W.description||""),it=tV(ut);if(!o&&it==="Transfers")continue;const R=Math.abs(et);g.set(it,(g.get(it)||0)+R),_.has(it)||_.set(it,new Map);const x=_.get(it);x.set(Q,(x.get(Q)||0)+R)}if(p<=0&&g.size===0)return{nodes:[],links:[],meta:{incomeTotal:0}};const T=o?["Fixed","Subscriptions","Essential","Variable","Transfers"]:["Fixed","Subscriptions","Essential","Variable"],S=[{name:"Income"},...T.map(W=>({name:W}))],M=[];for(const W of T){const et=g.get(W)||0;et>0&&M.push({source:"Income",target:W,value:et})}for(const W of T){const et=_.get(W);if(et)for(const[ut,Q]of eV(et,n))S.push({name:ut}),M.push({source:W,target:ut,value:Q})}const U=T.reduce((W,et)=>et==="Transfers"?W:W+(g.get(et)||0),0),H=Math.max(0,p-U);H>0&&(S.push({name:"Leftover"}),M.push({source:"Income",target:"Leftover",value:H}));const K=new Set,lt=[];for(const W of S)K.has(W.name)||(K.add(W.name),lt.push(W));return{nodes:lt,links:M,meta:{incomeTotal:p,totalIncome:p,spentTotal:U,totalSpent:U,transfersTotal:g.get("Transfers")||0,leftover:H}}}const cT="budgetApp_reportSettings_v1",iV={Minimal:{topNPerBucket:5,maxRows:1e4,includeTransfers:!1,preset:"Minimal"},Detailed:{topNPerBucket:12,maxRows:6e4,includeTransfers:!0,preset:"Detailed"},Audit:{topNPerBucket:30,maxRows:2e5,includeTransfers:!0,preset:"Audit"}};function hT(i,t,n,s){const o=Number(i);return Number.isFinite(o)?Math.max(t,Math.min(n,Math.trunc(o))):s}function rV({accounts:i=[],monthKey:t,onMerchantPick:n}){const[s,o]=ve.useState("overview"),[u,c]=ve.useState({nodes:[],links:[],meta:{incomeTotal:0}}),[m,p]=ve.useState(()=>{try{const _=localStorage.getItem(cT),T=_?JSON.parse(_):null;return{...Xm,...T||{}}}catch{return{...Xm}}});ve.useEffect(()=>{const _=setTimeout(()=>{c(nV({accounts:i,monthKey:t,topNPerBucket:m.topNPerBucket,maxRows:m.maxRows,includeTransfers:m.includeTransfers}))},0);return()=>clearTimeout(_)},[i,t,m.topNPerBucket,m.maxRows,m.includeTransfers]),ve.useEffect(()=>{const _=setTimeout(()=>{try{localStorage.setItem(cT,JSON.stringify(m))}catch{}},300);return()=>clearTimeout(_)},[m]);function g(_){const T=iV[_];T&&p(S=>({...S,...T,preset:_}))}return b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"flex items-center justify-between gap-3",children:b.jsxs("div",{className:"inline-flex rounded-xl border border-slate-800 bg-slate-950/40 p-1",children:[b.jsx("button",{onClick:()=>o("overview"),className:`px-3 py-1.5 text-sm rounded-lg ${s==="overview"?"bg-slate-900 text-slate-100":"text-slate-300 hover:text-slate-100"}`,children:"Overview"}),b.jsx("button",{onClick:()=>o("settings"),className:`px-3 py-1.5 text-sm rounded-lg ${s==="settings"?"bg-slate-900 text-slate-100":"text-slate-300 hover:text-slate-100"}`,children:"Settings"})]})}),s==="overview"&&b.jsx("div",{className:"rounded-2xl border border-slate-800 bg-slate-950/40 p-3",children:b.jsx("div",{className:"min-h-[560px]",children:b.jsx(Q3,{data:u,height:560,onNodeClick:_=>{!["Income","Fixed","Subscriptions","Essential","Variable","Transfers","Leftover"].includes(_)&&typeof n=="function"&&n(_)}})})}),s==="settings"&&b.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-950/40 p-4 space-y-5",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"text-sm font-medium text-slate-100",children:"Presets"}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[["Minimal","Detailed","Audit"].map(_=>b.jsx("button",{onClick:()=>g(_),className:"text-sm px-3 py-2 rounded-md border border-slate-800 bg-slate-900 hover:bg-slate-800 text-slate-100",children:_},_)),b.jsx("button",{onClick:()=>p({...Xm,preset:"Custom"}),className:"text-sm px-3 py-2 rounded-md border border-slate-800 bg-slate-900 hover:bg-slate-800 text-slate-100",children:"Reset"})]})]}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-slate-100 text-sm font-medium",children:"Top merchants per bucket"}),b.jsx("input",{type:"number",min:1,max:50,value:m.topNPerBucket,onChange:_=>p(T=>({...T,topNPerBucket:hT(_.target.value,1,50,10),preset:"Custom"})),className:"w-full bg-slate-900 border border-slate-800 rounded-md px-3 py-2 text-slate-100"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-slate-100 text-sm font-medium",children:"Max rows to process"}),b.jsx("input",{type:"number",min:1e3,max:2e5,step:1e3,value:m.maxRows,onChange:_=>p(T=>({...T,maxRows:hT(_.target.value,1e3,2e5,2e4),preset:"Custom"})),className:"w-full bg-slate-900 border border-slate-800 rounded-md px-3 py-2 text-slate-100"})]}),b.jsxs("div",{className:"flex items-center justify-between gap-4 md:col-span-2",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-slate-100 text-sm font-medium",children:"Include Transfers"}),b.jsx("p",{className:"text-slate-400 text-xs",children:"Show/hide Transfers bucket in the chart."})]}),b.jsx("input",{type:"checkbox",checked:!!m.includeTransfers,onChange:_=>p(T=>({...T,includeTransfers:_.target.checked,preset:"Custom"})),className:"h-5 w-5"})]})]})]})]})}const kg="budgetAppState_v1";function sV(){if(typeof window>"u")return null;try{const i=window.localStorage.getItem(kg);return i?JSON.parse(i):null}catch(i){return console.error("Failed to load stored state",i),null}}function aV(i){if(!(typeof window>"u"))try{window.localStorage.setItem(kg,JSON.stringify(i))}catch(t){console.error("Failed to save state",t)}}function oV(i){if(!i)return null;if(i.accounts&&Array.isArray(i.accounts))return i;const t={id:"main",name:"Main Account",type:"checking",transactions:Array.isArray(i.transactions)?i.transactions:[]};return{...i,accounts:[t],currentAccountId:i.currentAccountId||"main"}}const kp=[{key:"dashboard",label:"Dashboard"},{key:"balances",label:"Accounts"},{key:"budget",label:"Budget"},{key:"transactions",label:"Transactions"},{key:"goalDetail",label:"Goals"},{key:"reports",label:"Reports"}],lV=Object.fromEntries(kp.map(i=>[i.key,i.label])),fT=["monthOverview","accountSnapshot","goals","csvImport"];function uV(){const i=new Date;return`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`}function cV(){const{user:i,authLoading:t,signInWithEmail:n,signUpWithEmail:s,signOut:o,resetPassword:u}=AD(),c=i?.uid||null,m=xt.useRef(!1),p=xt.useRef(null),g=xt.useRef(null);g.current===null&&(g.current=oV(sV()));const _=g.current,[T,S]=xt.useState(_?.theme||"dark"),[M,U]=xt.useState(_?.budgetsByMonth||{}),[H,K]=xt.useState(_?.activeMonth||uV()),[lt,W]=xt.useState(_?.goals||[]),[et,ut]=xt.useState(Gm(_?.accounts||[])),[Q,it]=xt.useState(_?.currentAccountId||"main"),[R,x]=xt.useState(_?.navOrder||kp.map(Ht=>Ht.key));xt.useEffect(()=>{(!Array.isArray(R)||R.length===0)&&x(kp.map(Ht=>Ht.key))},[R]);const[C,N]=xt.useState(_?.homePage||"dashboard"),[D,L]=xt.useState(_?.dashboardSectionsOrder||fT),[I,zt]=xt.useState(C),[J,P]=xt.useState(_?.selectedGoalId||null),[G,rt]=xt.useState(_?.txFilter||""),[at,dt]=xt.useState(null),[V,Z]=xt.useState(null),[ct,ft]=xt.useState(null),[vt,St]=xt.useState(!1),At=M[H]||{month:H,income:0},ue=xt.useMemo(()=>{const Ht=zE(At.fixed||[]),gn=zE(At.variable||[]);return{fixed:Ht,variable:gn,leftover:At.income-Ht-gn}},[At]),ne=xt.useMemo(()=>q1(T),[T]);xt.useEffect(()=>{i?.uid&&(St(!0),ID(i).then(ft).finally(()=>St(!1)))},[i?.uid]),xt.useEffect(()=>{if(!c)return;const Ht=yo(_o,"workspaces",c),gn=bD(Ht,_r=>{const Ee=_r.data()?.state;Ee&&(m.current=!0,U(Ee.budgetsByMonth||{}),K(Ee.activeMonth||H),W(Ee.goals||[]),ut(Gm(Ee.accounts||[])),it(Ee.currentAccountId||"main"),x(Ee.navOrder||R),L(Ee.dashboardSectionsOrder||fT),S(Ee.theme||"dark"))});return()=>gn()},[c]),xt.useEffect(()=>{c&&xD(c).then(Ht=>{Ht&&(m.current=!0,U(Ht.budgetsByMonth||{}),K(Ht.activeMonth||H),W(Ht.goals||[]),ut(Gm(Ht.accounts||[])))})},[c]),xt.useEffect(()=>{const Ht={budgetsByMonth:M,activeMonth:H,goals:lt,accounts:et,currentAccountId:Q,navOrder:R,homePage:C,dashboardSectionsOrder:D,theme:T,txFilter:G};if(aV(Ht),!!c){if(m.current){m.current=!1;return}clearTimeout(p.current),p.current=setTimeout(()=>{RD(c,Ht).then(()=>Z(new Date().toLocaleTimeString()))},600)}},[c,M,H,lt,et,Q,R,C,D,T,G]);async function zi(){window.confirm("Reset all data?")&&(c&&await TD(yo(_o,"workspaces",c)),localStorage.removeItem(kg),window.location.reload())}return i?b.jsxs("div",{className:`app-shell ${ne.shellClass}`,children:[b.jsx("header",{className:ne.headerClass,children:b.jsxs("div",{className:"content flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{children:"BUDGET CENTER"}),R.map(Ht=>b.jsx(OD,{label:lV[Ht],active:I===Ht,onClick:()=>zt(Ht)},Ht))]}),b.jsx(jD,{profile:ct,email:i.email,loading:vt,onUpdateProfile:Ht=>DD(i.uid,Ht).then(ft)}),b.jsx(kD,{onReset:zi,onSignOut:o,themeValue:T,onChangeTheme:S})]})}),b.jsxs("main",{className:"content",children:[I==="dashboard"&&b.jsx(iO,{month:H,income:At.income,fixed:ue.fixed,variable:ue.variable,leftover:ue.leftover,goals:lt,accounts:et,currentAccountId:Q,onChangeCurrentAccount:it}),I==="balances"&&b.jsx(sO,{accounts:et,currentAccountId:Q,onChangeCurrentAccount:it,onAccountsChange:ut}),I==="budget"&&b.jsx(aO,{month:H,budget:At,budgetsByMonth:M,onBudgetsByMonthChange:U}),I==="transactions"&&b.jsx(uO,{accounts:et,currentAccountId:Q,transactions:At.transactions||[],filter:G,onFilterChange:rt,onUpdateBudget:Ht=>U(gn=>({...gn,[H]:Ht}))}),I==="goalDetail"&&b.jsx(hO,{goals:lt,selectedGoalId:J,onSelectGoal:P,onGoalsChange:W}),I==="reports"&&b.jsx(rV,{budgetsByMonth:M,accounts:et,goals:lt,theme:T})]}),at&&b.jsx(PD,{...at,onClose:()=>dt(null)})]}):b.jsx(LD,{loading:t,onSignIn:n,onSignUp:s,onResetPassword:u})}rA.createRoot(document.getElementById("root")).render(b.jsx(xt.StrictMode,{children:b.jsx(SD,{children:b.jsx(cV,{})})}));export{xh as a,H1 as c,F1 as p};
//# sourceMappingURL=index-BVXzwBaV.js.map
