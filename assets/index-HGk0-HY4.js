function Jv(i,a){for(var s=0;s<a.length;s++){const l=a[s];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in i)){const c=Object.getOwnPropertyDescriptor(l,u);c&&Object.defineProperty(i,u,c.get?c:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function og(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function ri(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var a=i.default;if(typeof a=="function"){var s=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};s.prototype=a.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var u=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:function(){return i[l]}})}),s}var _c={exports:{}},$r={};var c0;function Fv(){if(c0)return $r;c0=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(l,u,c){var h=null;if(c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),"key"in u){c={};for(var m in u)m!=="key"&&(c[m]=u[m])}else c=u;return u=c.ref,{$$typeof:i,type:l,key:h,ref:u!==void 0?u:null,props:c}}return $r.Fragment=a,$r.jsx=s,$r.jsxs=s,$r}var d0;function Zv(){return d0||(d0=1,_c.exports=Fv()),_c.exports}var f=Zv(),xc={exports:{}},ve={};var h0;function Wv(){if(h0)return ve;h0=1;var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,N={};function D(A,V,X){this.props=A,this.context=V,this.refs=N,this.updater=X||S}D.prototype.isReactComponent={},D.prototype.setState=function(A,V){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,V,"setState")},D.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function L(){}L.prototype=D.prototype;function U(A,V,X){this.props=A,this.context=V,this.refs=N,this.updater=X||S}var I=U.prototype=new L;I.constructor=U,T(I,D.prototype),I.isPureReactComponent=!0;var F=Array.isArray;function Q(){}var K={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function pe(A,V,X){var J=X.ref;return{$$typeof:i,type:A,key:V,ref:J!==void 0?J:null,props:X}}function ce(A,V){return pe(A.type,V,A.props)}function be(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function de(A){var V={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(X){return V[X]})}var Ce=/\/+/g;function Oe(A,V){return typeof A=="object"&&A!==null&&A.key!=null?de(""+A.key):V.toString(36)}function ie(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Q,Q):(A.status="pending",A.then(function(V){A.status==="pending"&&(A.status="fulfilled",A.value=V)},function(V){A.status==="pending"&&(A.status="rejected",A.reason=V)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function z(A,V,X,J,ge){var ye=typeof A;(ye==="undefined"||ye==="boolean")&&(A=null);var P=!1;if(A===null)P=!0;else switch(ye){case"bigint":case"string":case"number":P=!0;break;case"object":switch(A.$$typeof){case i:case a:P=!0;break;case b:return P=A._init,z(P(A._payload),V,X,J,ge)}}if(P)return ge=ge(A),P=J===""?"."+Oe(A,0):J,F(ge)?(X="",P!=null&&(X=P.replace(Ce,"$&/")+"/"),z(ge,V,X,"",function(Xe){return Xe})):ge!=null&&(be(ge)&&(ge=ce(ge,X+(ge.key==null||A&&A.key===ge.key?"":(""+ge.key).replace(Ce,"$&/")+"/")+P)),V.push(ge)),1;P=0;var ne=J===""?".":J+":";if(F(A))for(var me=0;me<A.length;me++)J=A[me],ye=ne+Oe(J,me),P+=z(J,V,X,ye,ge);else if(me=w(A),typeof me=="function")for(A=me.call(A),me=0;!(J=A.next()).done;)J=J.value,ye=ne+Oe(J,me++),P+=z(J,V,X,ye,ge);else if(ye==="object"){if(typeof A.then=="function")return z(ie(A),V,X,J,ge);throw V=String(A),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return P}function G(A,V,X){if(A==null)return A;var J=[],ge=0;return z(A,J,"","",function(ye){return V.call(X,ye,ge++)}),J}function te(A){if(A._status===-1){var V=A._result;V=V(),V.then(function(X){(A._status===0||A._status===-1)&&(A._status=1,A._result=X)},function(X){(A._status===0||A._status===-1)&&(A._status=2,A._result=X)}),A._status===-1&&(A._status=0,A._result=V)}if(A._status===1)return A._result.default;throw A._result}var Ae=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Ne={map:G,forEach:function(A,V,X){G(A,function(){V.apply(this,arguments)},X)},count:function(A){var V=0;return G(A,function(){V++}),V},toArray:function(A){return G(A,function(V){return V})||[]},only:function(A){if(!be(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ve.Activity=v,ve.Children=Ne,ve.Component=D,ve.Fragment=s,ve.Profiler=u,ve.PureComponent=U,ve.StrictMode=l,ve.Suspense=p,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ve.__COMPILER_RUNTIME={__proto__:null,c:function(A){return K.H.useMemoCache(A)}},ve.cache=function(A){return function(){return A.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(A,V,X){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var J=T({},A.props),ge=A.key;if(V!=null)for(ye in V.key!==void 0&&(ge=""+V.key),V)!Z.call(V,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&V.ref===void 0||(J[ye]=V[ye]);var ye=arguments.length-2;if(ye===1)J.children=X;else if(1<ye){for(var P=Array(ye),ne=0;ne<ye;ne++)P[ne]=arguments[ne+2];J.children=P}return pe(A.type,ge,J)},ve.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},ve.createElement=function(A,V,X){var J,ge={},ye=null;if(V!=null)for(J in V.key!==void 0&&(ye=""+V.key),V)Z.call(V,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ge[J]=V[J]);var P=arguments.length-2;if(P===1)ge.children=X;else if(1<P){for(var ne=Array(P),me=0;me<P;me++)ne[me]=arguments[me+2];ge.children=ne}if(A&&A.defaultProps)for(J in P=A.defaultProps,P)ge[J]===void 0&&(ge[J]=P[J]);return pe(A,ye,ge)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(A){return{$$typeof:m,render:A}},ve.isValidElement=be,ve.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:te}},ve.memo=function(A,V){return{$$typeof:y,type:A,compare:V===void 0?null:V}},ve.startTransition=function(A){var V=K.T,X={};K.T=X;try{var J=A(),ge=K.S;ge!==null&&ge(X,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Q,Ae)}catch(ye){Ae(ye)}finally{V!==null&&X.types!==null&&(V.types=X.types),K.T=V}},ve.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ve.use=function(A){return K.H.use(A)},ve.useActionState=function(A,V,X){return K.H.useActionState(A,V,X)},ve.useCallback=function(A,V){return K.H.useCallback(A,V)},ve.useContext=function(A){return K.H.useContext(A)},ve.useDebugValue=function(){},ve.useDeferredValue=function(A,V){return K.H.useDeferredValue(A,V)},ve.useEffect=function(A,V){return K.H.useEffect(A,V)},ve.useEffectEvent=function(A){return K.H.useEffectEvent(A)},ve.useId=function(){return K.H.useId()},ve.useImperativeHandle=function(A,V,X){return K.H.useImperativeHandle(A,V,X)},ve.useInsertionEffect=function(A,V){return K.H.useInsertionEffect(A,V)},ve.useLayoutEffect=function(A,V){return K.H.useLayoutEffect(A,V)},ve.useMemo=function(A,V){return K.H.useMemo(A,V)},ve.useOptimistic=function(A,V){return K.H.useOptimistic(A,V)},ve.useReducer=function(A,V,X){return K.H.useReducer(A,V,X)},ve.useRef=function(A){return K.H.useRef(A)},ve.useState=function(A){return K.H.useState(A)},ve.useSyncExternalStore=function(A,V,X){return K.H.useSyncExternalStore(A,V,X)},ve.useTransition=function(){return K.H.useTransition()},ve.version="19.2.1",ve}var f0;function rd(){return f0||(f0=1,xc.exports=Wv()),xc.exports}var re=rd();const Me=og(re);var wc={exports:{}},qr={},Sc={exports:{}},Ec={};var m0;function eb(){return m0||(m0=1,(function(i){function a(z,G){var te=z.length;z.push(G);e:for(;0<te;){var Ae=te-1>>>1,Ne=z[Ae];if(0<u(Ne,G))z[Ae]=G,z[te]=Ne,te=Ae;else break e}}function s(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var G=z[0],te=z.pop();if(te!==G){z[0]=te;e:for(var Ae=0,Ne=z.length,A=Ne>>>1;Ae<A;){var V=2*(Ae+1)-1,X=z[V],J=V+1,ge=z[J];if(0>u(X,te))J<Ne&&0>u(ge,X)?(z[Ae]=ge,z[J]=te,Ae=J):(z[Ae]=X,z[V]=te,Ae=V);else if(J<Ne&&0>u(ge,te))z[Ae]=ge,z[J]=te,Ae=J;else break e}}return G}function u(z,G){var te=z.sortIndex-G.sortIndex;return te!==0?te:z.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],y=[],b=1,v=null,x=3,w=!1,S=!1,T=!1,N=!1,D=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function I(z){for(var G=s(y);G!==null;){if(G.callback===null)l(y);else if(G.startTime<=z)l(y),G.sortIndex=G.expirationTime,a(p,G);else break;G=s(y)}}function F(z){if(T=!1,I(z),!S)if(s(p)!==null)S=!0,Q||(Q=!0,de());else{var G=s(y);G!==null&&ie(F,G.startTime-z)}}var Q=!1,K=-1,Z=5,pe=-1;function ce(){return N?!0:!(i.unstable_now()-pe<Z)}function be(){if(N=!1,Q){var z=i.unstable_now();pe=z;var G=!0;try{e:{S=!1,T&&(T=!1,L(K),K=-1),w=!0;var te=x;try{t:{for(I(z),v=s(p);v!==null&&!(v.expirationTime>z&&ce());){var Ae=v.callback;if(typeof Ae=="function"){v.callback=null,x=v.priorityLevel;var Ne=Ae(v.expirationTime<=z);if(z=i.unstable_now(),typeof Ne=="function"){v.callback=Ne,I(z),G=!0;break t}v===s(p)&&l(p),I(z)}else l(p);v=s(p)}if(v!==null)G=!0;else{var A=s(y);A!==null&&ie(F,A.startTime-z),G=!1}}break e}finally{v=null,x=te,w=!1}G=void 0}}finally{G?de():Q=!1}}}var de;if(typeof U=="function")de=function(){U(be)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Oe=Ce.port2;Ce.port1.onmessage=be,de=function(){Oe.postMessage(null)}}else de=function(){D(be,0)};function ie(z,G){K=D(function(){z(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(z){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var te=x;x=G;try{return z()}finally{x=te}},i.unstable_requestPaint=function(){N=!0},i.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=x;x=z;try{return G()}finally{x=te}},i.unstable_scheduleCallback=function(z,G,te){var Ae=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ae+te:Ae):te=Ae,z){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=te+Ne,z={id:b++,callback:G,priorityLevel:z,startTime:te,expirationTime:Ne,sortIndex:-1},te>Ae?(z.sortIndex=te,a(y,z),s(p)===null&&z===s(y)&&(T?(L(K),K=-1):T=!0,ie(F,te-Ae))):(z.sortIndex=Ne,a(p,z),S||w||(S=!0,Q||(Q=!0,de()))),z},i.unstable_shouldYield=ce,i.unstable_wrapCallback=function(z){var G=x;return function(){var te=x;x=G;try{return z.apply(this,arguments)}finally{x=te}}}})(Ec)),Ec}var g0;function tb(){return g0||(g0=1,Sc.exports=eb()),Sc.exports}var Tc={exports:{}},xt={};var p0;function nb(){if(p0)return xt;p0=1;var i=rd();function a(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(p,y,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:p,containerInfo:y,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,xt.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return c(p,y,null,b)},xt.flushSync=function(p){var y=h.T,b=l.p;try{if(h.T=null,l.p=2,p)return p()}finally{h.T=y,l.p=b,l.d.f()}},xt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(p,y))},xt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},xt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,v=m(b,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,w=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?l.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):b==="script"&&l.d.X(p,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},xt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);l.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(p)},xt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,v=m(b,y.crossOrigin);l.d.L(p,b,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},xt.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=m(y.as,y.crossOrigin);l.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(p)},xt.requestFormReset=function(p){l.d.r(p)},xt.unstable_batchedUpdates=function(p,y){return p(y)},xt.useFormState=function(p,y,b){return h.H.useFormState(p,y,b)},xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},xt.version="19.2.1",xt}var y0;function ab(){if(y0)return Tc.exports;y0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),Tc.exports=nb(),Tc.exports}var v0;function sb(){if(v0)return qr;v0=1;var i=tb(),a=rd(),s=ab();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var d=o.alternate;if(d===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===n)return p(o),e;if(d===r)return p(o),t;d=d.sibling}throw Error(l(188))}if(n.return!==r.return)n=o,r=d;else{for(var g=!1,_=o.child;_;){if(_===n){g=!0,n=o,r=d;break}if(_===r){g=!0,r=o,n=d;break}_=_.sibling}if(!g){for(_=d.child;_;){if(_===n){g=!0,n=d,r=o;break}if(_===r){g=!0,r=d,n=o;break}_=_.sibling}if(!g)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=be&&e[be]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Symbol.for("react.client.reference");function Oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case D:return"Profiler";case N:return"StrictMode";case F:return"Suspense";case Q:return"SuspenseList";case pe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case U:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:Oe(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return Oe(e(t))}catch{}}return null}var ie=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ae=[],Ne=-1;function A(e){return{current:e}}function V(e){0>Ne||(e.current=Ae[Ne],Ae[Ne]=null,Ne--)}function X(e,t){Ne++,Ae[Ne]=e.current,e.current=t}var J=A(null),ge=A(null),ye=A(null),P=A(null);function ne(e,t){switch(X(ye,t),X(ge,e),X(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Dm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Dm(t),e=Um(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(J),X(J,e)}function me(){V(J),V(ge),V(ye)}function Xe(e){e.memoizedState!==null&&X(P,e);var t=J.current,n=Um(t,e.type);t!==n&&(X(ge,e),X(J,n))}function yt(e){ge.current===e&&(V(J),V(ge)),P.current===e&&(V(P),Mr._currentValue=te)}var Tt,Qe;function Ye(e){if(Tt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tt=t&&t[1]||"",Qe=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+e+Qe}var vt=!1;function an(e,t){if(!e||vt)return"";vt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(B){var k=B}Reflect.construct(e,[],H)}else{try{H.call()}catch(B){k=B}e.call(H.prototype)}}else{try{throw Error()}catch(B){k=B}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),g=d[0],_=d[1];if(g&&_){var E=g.split(`
`),R=_.split(`
`);for(o=r=0;r<E.length&&!E[r].includes("DetermineComponentFrameRoot");)r++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(r===E.length||o===R.length)for(r=E.length-1,o=R.length-1;1<=r&&0<=o&&E[r]!==R[o];)o--;for(;1<=r&&0<=o;r--,o--)if(E[r]!==R[o]){if(r!==1||o!==1)do if(r--,o--,0>o||E[r]!==R[o]){var $=`
`+E[r].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=r&&0<=o);break}}}finally{vt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ye(n):""}function jt(e,t){switch(e.tag){case 26:case 27:case 5:return Ye(e.type);case 16:return Ye("Lazy");case 13:return e.child!==t&&t!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return an(e.type,!1);case 11:return an(e.type.render,!1);case 1:return an(e.type,!0);case 31:return Ye("Activity");default:return""}}function hn(e){try{var t="",n=null;do t+=jt(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Kt=Object.prototype.hasOwnProperty,fa=i.unstable_scheduleCallback,Ya=i.unstable_cancelCallback,oi=i.unstable_shouldYield,ao=i.unstable_requestPaint,bt=i.unstable_now,Ps=i.unstable_getCurrentPriorityLevel,Xs=i.unstable_ImmediatePriority,ui=i.unstable_UserBlockingPriority,ma=i.unstable_NormalPriority,so=i.unstable_LowPriority,ci=i.unstable_IdlePriority,ro=i.log,io=i.unstable_setDisableYieldValue,ga=null,St=null;function sn(e){if(typeof ro=="function"&&io(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(ga,e)}catch{}}var _t=Math.clz32?Math.clz32:di,lo=Math.log,oo=Math.LN2;function di(e){return e>>>=0,e===0?32:31-(lo(e)/oo|0)|0}var Ka=256,pa=262144,Pa=4194304;function vn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xa(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~d,r!==0?o=vn(r):(g&=_,g!==0?o=vn(g):n||(n=_&~e,n!==0&&(o=vn(n))))):(_=r&~d,_!==0?o=vn(_):g!==0?o=vn(g):n||(n=r&~e,n!==0&&(o=vn(n)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:o}function ya(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function uo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(){var e=Pa;return Pa<<=1,(Pa&62914560)===0&&(Pa=4194304),e}function Qs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function va(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function M(e,t,n,r,o,d){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var _=e.entanglements,E=e.expirationTimes,R=e.hiddenUpdates;for(n=g&~n;0<n;){var $=31-_t(n),H=1<<$;_[$]=0,E[$]=-1;var k=R[$];if(k!==null)for(R[$]=null,$=0;$<k.length;$++){var B=k[$];B!==null&&(B.lane&=-536870913)}n&=~H}r!==0&&Y(e,r,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function Y(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_t(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_t(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function le(e,t){var n=t&-t;return n=(n&42)!==0?1:Re(n),(n&(e.suspendedLanes|t))!==0?0:n}function Re(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ba(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:a0(e.type))}function fi(e,t){var n=G.p;try{return G.p=e,t()}finally{G.p=n}}var qn=Math.random().toString(36).slice(2),ut="__reactFiber$"+qn,At="__reactProps$"+qn,Qa="__reactContainer$"+qn,co="__reactEvents$"+qn,$p="__reactListeners$"+qn,qp="__reactHandles$"+qn,bd="__reactResources$"+qn,Js="__reactMarker$"+qn;function ho(e){delete e[ut],delete e[At],delete e[co],delete e[$p],delete e[qp]}function Ja(e){var t=e[ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qa]||n[ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hm(e);e!==null;){if(n=e[ut])return n;e=Hm(e)}return t}e=n,n=e.parentNode}return null}function Fa(e){if(e=e[ut]||e[Qa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Fs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Za(e){var t=e[bd];return t||(t=e[bd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[Js]=!0}var _d=new Set,xd={};function _a(e,t){Wa(e,t),Wa(e+"Capture",t)}function Wa(e,t){for(xd[e]=t,e=0;e<t.length;e++)_d.add(t[e])}var Hp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wd={},Sd={};function Gp(e){return Kt.call(Sd,e)?!0:Kt.call(wd,e)?!1:Hp.test(e)?Sd[e]=!0:(wd[e]=!0,!1)}function mi(e,t,n){if(Gp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function gi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function bn(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ed(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vp(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){n=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(g){n=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fo(e){if(!e._valueTracker){var t=Ed(e)?"checked":"value";e._valueTracker=Vp(e,t,""+e[t])}}function Td(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ed(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ip=/[\n"\\]/g;function Xt(e){return e.replace(Ip,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mo(e,t,n,r,o,d,g,_){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Pt(t)):e.value!==""+Pt(t)&&(e.value=""+Pt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?go(e,g,Pt(t)):n!=null?go(e,g,Pt(n)):r!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Pt(_):e.removeAttribute("name")}function jd(e,t,n,r,o,d,g,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){fo(e);return}n=n!=null?""+Pt(n):"",t=t!=null?""+Pt(t):n,_||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),fo(e)}function go(e,t,n){t==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function es(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ad(e,t,n){if(t!=null&&(t=""+Pt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Pt(n):""}function Nd(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(l(92));if(ie(r)){if(1<r.length)throw Error(l(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Pt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),fo(e)}function ts(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Od(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||Yp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Cd(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Od(e,o,r)}else for(var d in t)t.hasOwnProperty(d)&&Od(e,d,t[d])}function po(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(e){return Pp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var yo=null;function vo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ns=null,as=null;function Rd(e){var t=Fa(e);if(t&&(e=t.stateNode)){var n=e[At]||null;e:switch(e=t.stateNode,t.type){case"input":if(mo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Xt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[At]||null;if(!o)throw Error(l(90));mo(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Td(r)}break e;case"textarea":Ad(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&es(e,!!n.multiple,t,!1)}}}var bo=!1;function kd(e,t,n){if(bo)return e(t,n);bo=!0;try{var r=e(t);return r}finally{if(bo=!1,(ns!==null||as!==null)&&(sl(),ns&&(t=ns,e=as,as=ns=null,Rd(t),e)))for(t=0;t<e.length;t++)Rd(e[t])}}function Zs(e,t){var n=e.stateNode;if(n===null)return null;var r=n[At]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_o=!1;if(xn)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){_o=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{_o=!1}var Hn=null,xo=null,vi=null;function Dd(){if(vi)return vi;var e,t=xo,n=t.length,r,o="value"in Hn?Hn.value:Hn.textContent,d=o.length;for(e=0;e<n&&t[e]===o[e];e++);var g=n-e;for(r=1;r<=g&&t[n-r]===o[d-r];r++);return vi=o.slice(e,1<r?1-r:void 0)}function bi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _i(){return!0}function Ud(){return!1}function Nt(e){function t(n,r,o,d,g){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(n=e[_],this[_]=n?n(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?_i:Ud,this.isPropagationStopped=Ud,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),t}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Nt(xa),er=v({},xa,{view:0,detail:0}),Xp=Nt(er),wo,So,tr,wi=v({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tr&&(tr&&e.type==="mousemove"?(wo=e.screenX-tr.screenX,So=e.screenY-tr.screenY):So=wo=0,tr=e),wo)},movementY:function(e){return"movementY"in e?e.movementY:So}}),Md=Nt(wi),Qp=v({},wi,{dataTransfer:0}),Jp=Nt(Qp),Fp=v({},er,{relatedTarget:0}),Eo=Nt(Fp),Zp=v({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),Wp=Nt(Zp),ey=v({},xa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ty=Nt(ey),ny=v({},xa,{data:0}),zd=Nt(ny),ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ry={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ry[e])?!!t[e]:!1}function To(){return iy}var ly=v({},er,{key:function(e){if(e.key){var t=ay[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oy=Nt(ly),uy=v({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=Nt(uy),cy=v({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),dy=Nt(cy),hy=v({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),fy=Nt(hy),my=v({},wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gy=Nt(my),py=v({},xa,{newState:0,oldState:0}),yy=Nt(py),vy=[9,13,27,32],jo=xn&&"CompositionEvent"in window,nr=null;xn&&"documentMode"in document&&(nr=document.documentMode);var by=xn&&"TextEvent"in window&&!nr,Ld=xn&&(!jo||nr&&8<nr&&11>=nr),$d=" ",qd=!1;function Hd(e,t){switch(e){case"keyup":return vy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function _y(e,t){switch(e){case"compositionend":return Gd(t);case"keypress":return t.which!==32?null:(qd=!0,$d);case"textInput":return e=t.data,e===$d&&qd?null:e;default:return null}}function xy(e,t){if(ss)return e==="compositionend"||!jo&&Hd(e,t)?(e=Dd(),vi=xo=Hn=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ld&&t.locale!=="ko"?null:t.data;default:return null}}var wy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wy[e.type]:t==="textarea"}function Id(e,t,n,r){ns?as?as.push(r):as=[r]:ns=r,t=dl(t,"onChange"),0<t.length&&(n=new xi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ar=null,sr=null;function Sy(e){Am(e,0)}function Si(e){var t=Fs(e);if(Td(t))return e}function Yd(e,t){if(e==="change")return t}var Kd=!1;if(xn){var Ao;if(xn){var No="oninput"in document;if(!No){var Pd=document.createElement("div");Pd.setAttribute("oninput","return;"),No=typeof Pd.oninput=="function"}Ao=No}else Ao=!1;Kd=Ao&&(!document.documentMode||9<document.documentMode)}function Xd(){ar&&(ar.detachEvent("onpropertychange",Qd),sr=ar=null)}function Qd(e){if(e.propertyName==="value"&&Si(sr)){var t=[];Id(t,sr,e,vo(e)),kd(Sy,t)}}function Ey(e,t,n){e==="focusin"?(Xd(),ar=t,sr=n,ar.attachEvent("onpropertychange",Qd)):e==="focusout"&&Xd()}function Ty(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Si(sr)}function jy(e,t){if(e==="click")return Si(t)}function Ay(e,t){if(e==="input"||e==="change")return Si(t)}function Ny(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Ny;function rr(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Kt.call(t,o)||!Bt(e[o],t[o]))return!1}return!0}function Jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fd(e,t){var n=Jd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jd(n)}}function Zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=pi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pi(e.document)}return t}function Oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Oy=xn&&"documentMode"in document&&11>=document.documentMode,rs=null,Co=null,ir=null,Ro=!1;function eh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ro||rs==null||rs!==pi(r)||(r=rs,"selectionStart"in r&&Oo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ir&&rr(ir,r)||(ir=r,r=dl(Co,"onSelect"),0<r.length&&(t=new xi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rs)))}function wa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var is={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},ko={},th={};xn&&(th=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function Sa(e){if(ko[e])return ko[e];if(!is[e])return e;var t=is[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in th)return ko[e]=t[n];return e}var nh=Sa("animationend"),ah=Sa("animationiteration"),sh=Sa("animationstart"),Cy=Sa("transitionrun"),Ry=Sa("transitionstart"),ky=Sa("transitioncancel"),rh=Sa("transitionend"),ih=new Map,Do="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Do.push("scrollEnd");function rn(e,t){ih.set(e,t),_a(t,[e])}var Ei=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qt=[],ls=0,Uo=0;function Ti(){for(var e=ls,t=Uo=ls=0;t<e;){var n=Qt[t];Qt[t++]=null;var r=Qt[t];Qt[t++]=null;var o=Qt[t];Qt[t++]=null;var d=Qt[t];if(Qt[t++]=null,r!==null&&o!==null){var g=r.pending;g===null?o.next=o:(o.next=g.next,g.next=o),r.pending=o}d!==0&&lh(n,o,d)}}function ji(e,t,n,r){Qt[ls++]=e,Qt[ls++]=t,Qt[ls++]=n,Qt[ls++]=r,Uo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Mo(e,t,n,r){return ji(e,t,n,r),Ai(e)}function Ea(e,t){return ji(e,null,null,t),Ai(e)}function lh(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var o=!1,d=e.return;d!==null;)d.childLanes|=n,r=d.alternate,r!==null&&(r.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-_t(n),e=d.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=n|536870912),d):null}function Ai(e){if(50<Nr)throw Nr=0,Iu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var os={};function Dy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,n,r){return new Dy(e,t,n,r)}function zo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wn(e,t){var n=e.alternate;return n===null?(n=Lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function oh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ni(e,t,n,r,o,d){var g=0;if(r=e,typeof e=="function")zo(e)&&(g=1);else if(typeof e=="string")g=Lv(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pe:return e=Lt(31,n,t,o),e.elementType=pe,e.lanes=d,e;case T:return Ta(n.children,o,d,t);case N:g=8,o|=24;break;case D:return e=Lt(12,n,t,o|2),e.elementType=D,e.lanes=d,e;case F:return e=Lt(13,n,t,o),e.elementType=F,e.lanes=d,e;case Q:return e=Lt(19,n,t,o),e.elementType=Q,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:g=10;break e;case L:g=9;break e;case I:g=11;break e;case K:g=14;break e;case Z:g=16,r=null;break e}g=29,n=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=Lt(g,n,t,o),t.elementType=e,t.type=r,t.lanes=d,t}function Ta(e,t,n,r){return e=Lt(7,e,r,t),e.lanes=n,e}function Bo(e,t,n){return e=Lt(6,e,null,t),e.lanes=n,e}function uh(e){var t=Lt(18,null,null,0);return t.stateNode=e,t}function Lo(e,t,n){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ch=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var n=ch.get(e);return n!==void 0?n:(t={value:e,source:t,stack:hn(t)},ch.set(e,t),t)}return{value:e,source:t,stack:hn(t)}}var us=[],cs=0,Oi=null,lr=0,Ft=[],Zt=0,Gn=null,fn=1,mn="";function Sn(e,t){us[cs++]=lr,us[cs++]=Oi,Oi=e,lr=t}function dh(e,t,n){Ft[Zt++]=fn,Ft[Zt++]=mn,Ft[Zt++]=Gn,Gn=e;var r=fn;e=mn;var o=32-_t(r)-1;r&=~(1<<o),n+=1;var d=32-_t(t)+o;if(30<d){var g=o-o%5;d=(r&(1<<g)-1).toString(32),r>>=g,o-=g,fn=1<<32-_t(t)+o|n<<o|r,mn=d+e}else fn=1<<d|n<<o|r,mn=e}function $o(e){e.return!==null&&(Sn(e,1),dh(e,1,0))}function qo(e){for(;e===Oi;)Oi=us[--cs],us[cs]=null,lr=us[--cs],us[cs]=null;for(;e===Gn;)Gn=Ft[--Zt],Ft[Zt]=null,mn=Ft[--Zt],Ft[Zt]=null,fn=Ft[--Zt],Ft[Zt]=null}function hh(e,t){Ft[Zt++]=fn,Ft[Zt++]=mn,Ft[Zt++]=Gn,fn=t.id,mn=t.overflow,Gn=e}var ct=null,Ve=null,je=!1,Vn=null,Wt=!1,Ho=Error(l(519));function In(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw or(Jt(t,e)),Ho}function fh(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ut]=e,t[At]=r,n){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(n=0;n<Cr.length;n++)Se(Cr[n],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),jd(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Nd(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Rm(t.textContent,n)?(r.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),r.onScroll!=null&&Se("scroll",t),r.onScrollEnd!=null&&Se("scrollend",t),r.onClick!=null&&(t.onclick=_n),t=!0):t=!1,t||In(e,!0)}function mh(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:ct=ct.return}}function ds(e){if(e!==ct)return!1;if(!je)return mh(e),je=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||rc(e.type,e.memoizedProps)),n=!n),n&&Ve&&In(e),mh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ve=qm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ve=qm(e)}else t===27?(t=Ve,sa(e.type)?(e=cc,cc=null,Ve=e):Ve=t):Ve=ct?tn(e.stateNode.nextSibling):null;return!0}function ja(){Ve=ct=null,je=!1}function Go(){var e=Vn;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),Vn=null),e}function or(e){Vn===null?Vn=[e]:Vn.push(e)}var Vo=A(null),Aa=null,En=null;function Yn(e,t,n){X(Vo,t._currentValue),t._currentValue=n}function Tn(e){e._currentValue=Vo.current,V(Vo)}function Io(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yo(e,t,n,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var g=o.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=o;for(var E=0;E<t.length;E++)if(_.context===t[E]){d.lanes|=n,_=d.alternate,_!==null&&(_.lanes|=n),Io(d.return,n,e),r||(g=null);break e}d=_.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(l(341));g.lanes|=n,d=g.alternate,d!==null&&(d.lanes|=n),Io(g,n,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function hs(e,t,n,r){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var _=o.type;Bt(o.pendingProps.value,g.value)||(e!==null?e.push(_):e=[_])}}else if(o===P.current){if(g=o.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Mr):e=[Mr])}o=o.return}e!==null&&Yo(t,e,n,r),t.flags|=262144}function Ci(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Na(e){Aa=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return gh(Aa,e)}function Ri(e,t){return Aa===null&&Na(e),gh(e,t)}function gh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},En===null){if(e===null)throw Error(l(308));En=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else En=En.next=t;return n}var Uy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},My=i.unstable_scheduleCallback,zy=i.unstable_NormalPriority,et={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ko(){return{controller:new Uy,data:new Map,refCount:0}}function ur(e){e.refCount--,e.refCount===0&&My(zy,function(){e.controller.abort()})}var cr=null,Po=0,fs=0,ms=null;function By(e,t){if(cr===null){var n=cr=[];Po=0,fs=Ju(),ms={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Po++,t.then(ph,ph),t}function ph(){if(--Po===0&&cr!==null){ms!==null&&(ms.status="fulfilled");var e=cr;cr=null,fs=0,ms=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ly(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),r}var yh=z.S;z.S=function(e,t){tm=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&By(e,t),yh!==null&&yh(e,t)};var Oa=A(null);function Xo(){var e=Oa.current;return e!==null?e:He.pooledCache}function ki(e,t){t===null?X(Oa,Oa.current):X(Oa,t.pool)}function vh(){var e=Xo();return e===null?null:{parent:et._currentValue,pool:e}}var gs=Error(l(460)),Qo=Error(l(474)),Di=Error(l(542)),Ui={then:function(){}};function bh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _h(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(_n,_n),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wh(e),e;default:if(typeof t.status=="string")t.then(_n,_n);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wh(e),e}throw Ra=t,gs}}function Ca(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ra=n,gs):n}}var Ra=null;function xh(){if(Ra===null)throw Error(l(459));var e=Ra;return Ra=null,e}function wh(e){if(e===gs||e===Di)throw Error(l(483))}var ps=null,dr=0;function Mi(e){var t=dr;return dr+=1,ps===null&&(ps=[]),_h(ps,e,t)}function hr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function zi(e,t){throw t.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sh(e){function t(O,j){if(e){var C=O.deletions;C===null?(O.deletions=[j],O.flags|=16):C.push(j)}}function n(O,j){if(!e)return null;for(;j!==null;)t(O,j),j=j.sibling;return null}function r(O){for(var j=new Map;O!==null;)O.key!==null?j.set(O.key,O):j.set(O.index,O),O=O.sibling;return j}function o(O,j){return O=wn(O,j),O.index=0,O.sibling=null,O}function d(O,j,C){return O.index=C,e?(C=O.alternate,C!==null?(C=C.index,C<j?(O.flags|=67108866,j):C):(O.flags|=67108866,j)):(O.flags|=1048576,j)}function g(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function _(O,j,C,q){return j===null||j.tag!==6?(j=Bo(C,O.mode,q),j.return=O,j):(j=o(j,C),j.return=O,j)}function E(O,j,C,q){var ue=C.type;return ue===T?$(O,j,C.props.children,q,C.key):j!==null&&(j.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Z&&Ca(ue)===j.type)?(j=o(j,C.props),hr(j,C),j.return=O,j):(j=Ni(C.type,C.key,C.props,null,O.mode,q),hr(j,C),j.return=O,j)}function R(O,j,C,q){return j===null||j.tag!==4||j.stateNode.containerInfo!==C.containerInfo||j.stateNode.implementation!==C.implementation?(j=Lo(C,O.mode,q),j.return=O,j):(j=o(j,C.children||[]),j.return=O,j)}function $(O,j,C,q,ue){return j===null||j.tag!==7?(j=Ta(C,O.mode,q,ue),j.return=O,j):(j=o(j,C),j.return=O,j)}function H(O,j,C){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Bo(""+j,O.mode,C),j.return=O,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return C=Ni(j.type,j.key,j.props,null,O.mode,C),hr(C,j),C.return=O,C;case S:return j=Lo(j,O.mode,C),j.return=O,j;case Z:return j=Ca(j),H(O,j,C)}if(ie(j)||de(j))return j=Ta(j,O.mode,C,null),j.return=O,j;if(typeof j.then=="function")return H(O,Mi(j),C);if(j.$$typeof===U)return H(O,Ri(O,j),C);zi(O,j)}return null}function k(O,j,C,q){var ue=j!==null?j.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ue!==null?null:_(O,j,""+C,q);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case w:return C.key===ue?E(O,j,C,q):null;case S:return C.key===ue?R(O,j,C,q):null;case Z:return C=Ca(C),k(O,j,C,q)}if(ie(C)||de(C))return ue!==null?null:$(O,j,C,q,null);if(typeof C.then=="function")return k(O,j,Mi(C),q);if(C.$$typeof===U)return k(O,j,Ri(O,C),q);zi(O,C)}return null}function B(O,j,C,q,ue){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return O=O.get(C)||null,_(j,O,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return O=O.get(q.key===null?C:q.key)||null,E(j,O,q,ue);case S:return O=O.get(q.key===null?C:q.key)||null,R(j,O,q,ue);case Z:return q=Ca(q),B(O,j,C,q,ue)}if(ie(q)||de(q))return O=O.get(C)||null,$(j,O,q,ue,null);if(typeof q.then=="function")return B(O,j,C,Mi(q),ue);if(q.$$typeof===U)return B(O,j,C,Ri(j,q),ue);zi(j,q)}return null}function ee(O,j,C,q){for(var ue=null,ke=null,ae=j,xe=j=0,Te=null;ae!==null&&xe<C.length;xe++){ae.index>xe?(Te=ae,ae=null):Te=ae.sibling;var De=k(O,ae,C[xe],q);if(De===null){ae===null&&(ae=Te);break}e&&ae&&De.alternate===null&&t(O,ae),j=d(De,j,xe),ke===null?ue=De:ke.sibling=De,ke=De,ae=Te}if(xe===C.length)return n(O,ae),je&&Sn(O,xe),ue;if(ae===null){for(;xe<C.length;xe++)ae=H(O,C[xe],q),ae!==null&&(j=d(ae,j,xe),ke===null?ue=ae:ke.sibling=ae,ke=ae);return je&&Sn(O,xe),ue}for(ae=r(ae);xe<C.length;xe++)Te=B(ae,O,xe,C[xe],q),Te!==null&&(e&&Te.alternate!==null&&ae.delete(Te.key===null?xe:Te.key),j=d(Te,j,xe),ke===null?ue=Te:ke.sibling=Te,ke=Te);return e&&ae.forEach(function(ua){return t(O,ua)}),je&&Sn(O,xe),ue}function he(O,j,C,q){if(C==null)throw Error(l(151));for(var ue=null,ke=null,ae=j,xe=j=0,Te=null,De=C.next();ae!==null&&!De.done;xe++,De=C.next()){ae.index>xe?(Te=ae,ae=null):Te=ae.sibling;var ua=k(O,ae,De.value,q);if(ua===null){ae===null&&(ae=Te);break}e&&ae&&ua.alternate===null&&t(O,ae),j=d(ua,j,xe),ke===null?ue=ua:ke.sibling=ua,ke=ua,ae=Te}if(De.done)return n(O,ae),je&&Sn(O,xe),ue;if(ae===null){for(;!De.done;xe++,De=C.next())De=H(O,De.value,q),De!==null&&(j=d(De,j,xe),ke===null?ue=De:ke.sibling=De,ke=De);return je&&Sn(O,xe),ue}for(ae=r(ae);!De.done;xe++,De=C.next())De=B(ae,O,xe,De.value,q),De!==null&&(e&&De.alternate!==null&&ae.delete(De.key===null?xe:De.key),j=d(De,j,xe),ke===null?ue=De:ke.sibling=De,ke=De);return e&&ae.forEach(function(Qv){return t(O,Qv)}),je&&Sn(O,xe),ue}function qe(O,j,C,q){if(typeof C=="object"&&C!==null&&C.type===T&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case w:e:{for(var ue=C.key;j!==null;){if(j.key===ue){if(ue=C.type,ue===T){if(j.tag===7){n(O,j.sibling),q=o(j,C.props.children),q.return=O,O=q;break e}}else if(j.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Z&&Ca(ue)===j.type){n(O,j.sibling),q=o(j,C.props),hr(q,C),q.return=O,O=q;break e}n(O,j);break}else t(O,j);j=j.sibling}C.type===T?(q=Ta(C.props.children,O.mode,q,C.key),q.return=O,O=q):(q=Ni(C.type,C.key,C.props,null,O.mode,q),hr(q,C),q.return=O,O=q)}return g(O);case S:e:{for(ue=C.key;j!==null;){if(j.key===ue)if(j.tag===4&&j.stateNode.containerInfo===C.containerInfo&&j.stateNode.implementation===C.implementation){n(O,j.sibling),q=o(j,C.children||[]),q.return=O,O=q;break e}else{n(O,j);break}else t(O,j);j=j.sibling}q=Lo(C,O.mode,q),q.return=O,O=q}return g(O);case Z:return C=Ca(C),qe(O,j,C,q)}if(ie(C))return ee(O,j,C,q);if(de(C)){if(ue=de(C),typeof ue!="function")throw Error(l(150));return C=ue.call(C),he(O,j,C,q)}if(typeof C.then=="function")return qe(O,j,Mi(C),q);if(C.$$typeof===U)return qe(O,j,Ri(O,C),q);zi(O,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,j!==null&&j.tag===6?(n(O,j.sibling),q=o(j,C),q.return=O,O=q):(n(O,j),q=Bo(C,O.mode,q),q.return=O,O=q),g(O)):n(O,j)}return function(O,j,C,q){try{dr=0;var ue=qe(O,j,C,q);return ps=null,ue}catch(ae){if(ae===gs||ae===Di)throw ae;var ke=Lt(29,ae,null,O.mode);return ke.lanes=q,ke.return=O,ke}finally{}}}var ka=Sh(!0),Eh=Sh(!1),Kn=!1;function Jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ue&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Ai(e),lh(e,null,n),t}return ji(e,r,t,n),Ai(e)}function fr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,oe(e,n)}}function Zo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?o=d=g:d=d.next=g,n=n.next}while(n!==null);d===null?o=d=t:d=d.next=t}else o=d=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Wo=!1;function mr(){if(Wo){var e=ms;if(e!==null)throw e}}function gr(e,t,n,r){Wo=!1;var o=e.updateQueue;Kn=!1;var d=o.firstBaseUpdate,g=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var E=_,R=E.next;E.next=null,g===null?d=R:g.next=R,g=E;var $=e.alternate;$!==null&&($=$.updateQueue,_=$.lastBaseUpdate,_!==g&&(_===null?$.firstBaseUpdate=R:_.next=R,$.lastBaseUpdate=E))}if(d!==null){var H=o.baseState;g=0,$=R=E=null,_=d;do{var k=_.lane&-536870913,B=k!==_.lane;if(B?(Ee&k)===k:(r&k)===k){k!==0&&k===fs&&(Wo=!0),$!==null&&($=$.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ee=e,he=_;k=t;var qe=n;switch(he.tag){case 1:if(ee=he.payload,typeof ee=="function"){H=ee.call(qe,H,k);break e}H=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=he.payload,k=typeof ee=="function"?ee.call(qe,H,k):ee,k==null)break e;H=v({},H,k);break e;case 2:Kn=!0}}k=_.callback,k!==null&&(e.flags|=64,B&&(e.flags|=8192),B=o.callbacks,B===null?o.callbacks=[k]:B.push(k))}else B={lane:k,tag:_.tag,payload:_.payload,callback:_.callback,next:null},$===null?(R=$=B,E=H):$=$.next=B,g|=k;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;B=_,_=B.next,B.next=null,o.lastBaseUpdate=B,o.shared.pending=null}}while(!0);$===null&&(E=H),o.baseState=E,o.firstBaseUpdate=R,o.lastBaseUpdate=$,d===null&&(o.shared.lanes=0),Wn|=g,e.lanes=g,e.memoizedState=H}}function Th(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function jh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Th(n[e],t)}var ys=A(null),Bi=A(0);function Ah(e,t){e=Un,X(Bi,e),X(ys,t),Un=e|t.baseLanes}function eu(){X(Bi,Un),X(ys,ys.current)}function tu(){Un=Bi.current,V(ys),V(Bi)}var $t=A(null),en=null;function Qn(e){var t=e.alternate;X(Ze,Ze.current&1),X($t,e),en===null&&(t===null||ys.current!==null||t.memoizedState!==null)&&(en=e)}function nu(e){X(Ze,Ze.current),X($t,e),en===null&&(en=e)}function Nh(e){e.tag===22?(X(Ze,Ze.current),X($t,e),en===null&&(en=e)):Jn()}function Jn(){X(Ze,Ze.current),X($t,$t.current)}function qt(e){V($t),en===e&&(en=null),V(Ze)}var Ze=A(0);function Li(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||oc(n)||uc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jn=0,_e=null,Le=null,tt=null,$i=!1,vs=!1,Da=!1,qi=0,pr=0,bs=null,$y=0;function Je(){throw Error(l(321))}function au(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function su(e,t,n,r,o,d){return jn=d,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?hf:bu,Da=!1,d=n(r,o),Da=!1,vs&&(d=Ch(t,n,r,o)),Oh(e),d}function Oh(e){z.H=br;var t=Le!==null&&Le.next!==null;if(jn=0,tt=Le=_e=null,$i=!1,pr=0,bs=null,t)throw Error(l(300));e===null||nt||(e=e.dependencies,e!==null&&Ci(e)&&(nt=!0))}function Ch(e,t,n,r){_e=e;var o=0;do{if(vs&&(bs=null),pr=0,vs=!1,25<=o)throw Error(l(301));if(o+=1,tt=Le=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=ff,d=t(n,r)}while(vs);return d}function qy(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?yr(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(_e.flags|=1024),t}function ru(){var e=qi!==0;return qi=0,e}function iu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function lu(e){if($i){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}$i=!1}jn=0,tt=Le=_e=null,vs=!1,pr=qi=0,bs=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?_e.memoizedState=tt=e:tt=tt.next=e,tt}function We(){if(Le===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=tt===null?_e.memoizedState:tt.next;if(t!==null)tt=t,Le=e;else{if(e===null)throw _e.alternate===null?Error(l(467)):Error(l(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},tt===null?_e.memoizedState=tt=e:tt=tt.next=e}return tt}function Hi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yr(e){var t=pr;return pr+=1,bs===null&&(bs=[]),e=_h(bs,e,t),t=_e,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?hf:bu),e}function Gi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yr(e);if(e.$$typeof===U)return dt(e)}throw Error(l(438,String(e)))}function ou(e){var t=null,n=_e.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=_e.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Hi(),_e.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ce;return t.index++,n}function An(e,t){return typeof t=="function"?t(e):t}function Vi(e){var t=We();return uu(t,Le,e)}function uu(e,t,n){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=n;var o=e.baseQueue,d=r.pending;if(d!==null){if(o!==null){var g=o.next;o.next=d.next,d.next=g}t.baseQueue=o=d,r.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var _=g=null,E=null,R=t,$=!1;do{var H=R.lane&-536870913;if(H!==R.lane?(Ee&H)===H:(jn&H)===H){var k=R.revertLane;if(k===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),H===fs&&($=!0);else if((jn&k)===k){R=R.next,k===fs&&($=!0);continue}else H={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=H,g=d):E=E.next=H,_e.lanes|=k,Wn|=k;H=R.action,Da&&n(d,H),d=R.hasEagerState?R.eagerState:n(d,H)}else k={lane:H,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(_=E=k,g=d):E=E.next=k,_e.lanes|=H,Wn|=H;R=R.next}while(R!==null&&R!==t);if(E===null?g=d:E.next=_,!Bt(d,e.memoizedState)&&(nt=!0,$&&(n=ms,n!==null)))throw n;e.memoizedState=d,e.baseState=g,e.baseQueue=E,r.lastRenderedState=d}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function cu(e){var t=We(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,d=t.memoizedState;if(o!==null){n.pending=null;var g=o=o.next;do d=e(d,g.action),g=g.next;while(g!==o);Bt(d,t.memoizedState)||(nt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,r]}function Rh(e,t,n){var r=_e,o=We(),d=je;if(d){if(n===void 0)throw Error(l(407));n=n()}else n=t();var g=!Bt((Le||o).memoizedState,n);if(g&&(o.memoizedState=n,nt=!0),o=o.queue,fu(Uh.bind(null,r,o,e),[e]),o.getSnapshot!==t||g||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,_s(9,{destroy:void 0},Dh.bind(null,r,o,n,t),null),He===null)throw Error(l(349));d||(jn&127)!==0||kh(r,t,n)}return n}function kh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t=Hi(),_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dh(e,t,n,r){t.value=n,t.getSnapshot=r,Mh(t)&&zh(e)}function Uh(e,t,n){return n(function(){Mh(t)&&zh(e)})}function Mh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function zh(e){var t=Ea(e,2);t!==null&&Dt(t,e,2)}function du(e){var t=Et();if(typeof e=="function"){var n=e;if(e=n(),Da){sn(!0);try{n()}finally{sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},t}function Bh(e,t,n,r){return e.baseState=n,uu(e,Le,typeof r=="function"?r:An)}function Hy(e,t,n,r,o){if(Ki(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};z.T!==null?n(!0):d.isTransition=!1,r(d),n=t.pending,n===null?(d.next=t.pending=d,Lh(t,d)):(d.next=n.next,t.pending=n.next=d)}}function Lh(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var d=z.T,g={};z.T=g;try{var _=n(o,r),E=z.S;E!==null&&E(g,_),$h(e,t,_)}catch(R){hu(e,t,R)}finally{d!==null&&g.types!==null&&(d.types=g.types),z.T=d}}else try{d=n(o,r),$h(e,t,d)}catch(R){hu(e,t,R)}}function $h(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){qh(e,t,r)},function(r){return hu(e,t,r)}):qh(e,t,n)}function qh(e,t,n){t.status="fulfilled",t.value=n,Hh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Lh(e,n)))}function hu(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Hh(t),t=t.next;while(t!==r)}e.action=null}function Hh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gh(e,t){return t}function Vh(e,t){if(je){var n=He.formState;if(n!==null){e:{var r=_e;if(je){if(Ve){t:{for(var o=Ve,d=Wt;o.nodeType!==8;){if(!d){o=null;break t}if(o=tn(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Ve=tn(o.nextSibling),r=o.data==="F!";break e}}In(r)}r=!1}r&&(t=n[0])}}return n=Et(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gh,lastRenderedState:t},n.queue=r,n=uf.bind(null,_e,r),r.dispatch=n,r=du(!1),d=vu.bind(null,_e,!1,r.queue),r=Et(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,n=Hy.bind(null,_e,o,d,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ih(e){var t=We();return Yh(t,Le,e)}function Yh(e,t,n){if(t=uu(e,t,Gh)[0],e=Vi(An)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=yr(t)}catch(g){throw g===gs?Di:g}else r=t;t=We();var o=t.queue,d=o.dispatch;return n!==t.memoizedState&&(_e.flags|=2048,_s(9,{destroy:void 0},Gy.bind(null,o,n),null)),[r,d,e]}function Gy(e,t){e.action=t}function Kh(e){var t=We(),n=Le;if(n!==null)return Yh(t,n,e);We(),t=t.memoizedState,n=We();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function _s(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=_e.updateQueue,t===null&&(t=Hi(),_e.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ph(){return We().memoizedState}function Ii(e,t,n,r){var o=Et();_e.flags|=e,o.memoizedState=_s(1|t,{destroy:void 0},n,r===void 0?null:r)}function Yi(e,t,n,r){var o=We();r=r===void 0?null:r;var d=o.memoizedState.inst;Le!==null&&r!==null&&au(r,Le.memoizedState.deps)?o.memoizedState=_s(t,d,n,r):(_e.flags|=e,o.memoizedState=_s(1|t,d,n,r))}function Xh(e,t){Ii(8390656,8,e,t)}function fu(e,t){Yi(2048,8,e,t)}function Vy(e){_e.flags|=4;var t=_e.updateQueue;if(t===null)t=Hi(),_e.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Qh(e){var t=We().memoizedState;return Vy({ref:t,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Jh(e,t){return Yi(4,2,e,t)}function Fh(e,t){return Yi(4,4,e,t)}function Zh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wh(e,t,n){n=n!=null?n.concat([e]):null,Yi(4,4,Zh.bind(null,t,e),n)}function mu(){}function ef(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&au(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function tf(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&au(t,r[1]))return r[0];if(r=e(),Da){sn(!0);try{e()}finally{sn(!1)}}return n.memoizedState=[r,t],r}function gu(e,t,n){return n===void 0||(jn&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=am(),_e.lanes|=e,Wn|=e,n)}function nf(e,t,n,r){return Bt(n,t)?n:ys.current!==null?(e=gu(e,n,r),Bt(e,t)||(nt=!0),e):(jn&42)===0||(jn&1073741824)!==0&&(Ee&261930)===0?(nt=!0,e.memoizedState=n):(e=am(),_e.lanes|=e,Wn|=e,t)}function af(e,t,n,r,o){var d=G.p;G.p=d!==0&&8>d?d:8;var g=z.T,_={};z.T=_,vu(e,!1,t,n);try{var E=o(),R=z.S;if(R!==null&&R(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var $=Ly(E,r);vr(e,t,$,Vt(e))}else vr(e,t,r,Vt(e))}catch(H){vr(e,t,{then:function(){},status:"rejected",reason:H},Vt())}finally{G.p=d,g!==null&&_.types!==null&&(g.types=_.types),z.T=g}}function Iy(){}function pu(e,t,n,r){if(e.tag!==5)throw Error(l(476));var o=sf(e).queue;af(e,o,t,te,n===null?Iy:function(){return rf(e),n(r)})}function sf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:te},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rf(e){var t=sf(e);t.next===null&&(t=e.alternate.memoizedState),vr(e,t.next.queue,{},Vt())}function yu(){return dt(Mr)}function lf(){return We().memoizedState}function of(){return We().memoizedState}function Yy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Vt();e=Pn(n);var r=Xn(t,e,n);r!==null&&(Dt(r,t,n),fr(r,t,n)),t={cache:Ko()},e.payload=t;return}t=t.return}}function Ky(e,t,n){var r=Vt();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ki(e)?cf(t,n):(n=Mo(e,t,n,r),n!==null&&(Dt(n,e,r),df(n,t,r)))}function uf(e,t,n){var r=Vt();vr(e,t,n,r)}function vr(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))cf(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,_=d(g,n);if(o.hasEagerState=!0,o.eagerState=_,Bt(_,g))return ji(e,t,o,0),He===null&&Ti(),!1}catch{}finally{}if(n=Mo(e,t,o,r),n!==null)return Dt(n,e,r),df(n,t,r),!0}return!1}function vu(e,t,n,r){if(r={lane:2,revertLane:Ju(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ki(e)){if(t)throw Error(l(479))}else t=Mo(e,n,r,2),t!==null&&Dt(t,e,2)}function Ki(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function cf(e,t){vs=$i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function df(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,oe(e,n)}}var br={readContext:dt,use:Gi,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};br.useEffectEvent=Je;var hf={readContext:dt,use:Gi,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Xh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ii(4194308,4,Zh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){Ii(4,2,e,t)},useMemo:function(e,t){var n=Et();t=t===void 0?null:t;var r=e();if(Da){sn(!0);try{e()}finally{sn(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Et();if(n!==void 0){var o=n(t);if(Da){sn(!0);try{n(t)}finally{sn(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Ky.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=du(e);var t=e.queue,n=uf.bind(null,_e,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:mu,useDeferredValue:function(e,t){var n=Et();return gu(n,e,t)},useTransition:function(){var e=du(!1);return e=af.bind(null,_e,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=_e,o=Et();if(je){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),He===null)throw Error(l(349));(Ee&127)!==0||kh(r,t,n)}o.memoizedState=n;var d={value:n,getSnapshot:t};return o.queue=d,Xh(Uh.bind(null,r,d,e),[e]),r.flags|=2048,_s(9,{destroy:void 0},Dh.bind(null,r,d,n,t),null),n},useId:function(){var e=Et(),t=He.identifierPrefix;if(je){var n=mn,r=fn;n=(r&~(1<<32-_t(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=qi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=$y++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:yu,useFormState:Vh,useActionState:Vh,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=vu.bind(null,_e,!0,n),n.dispatch=t,[e,t]},useMemoCache:ou,useCacheRefresh:function(){return Et().memoizedState=Yy.bind(null,_e)},useEffectEvent:function(e){var t=Et(),n={impl:e};return t.memoizedState=n,function(){if((Ue&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},bu={readContext:dt,use:Gi,useCallback:ef,useContext:dt,useEffect:fu,useImperativeHandle:Wh,useInsertionEffect:Jh,useLayoutEffect:Fh,useMemo:tf,useReducer:Vi,useRef:Ph,useState:function(){return Vi(An)},useDebugValue:mu,useDeferredValue:function(e,t){var n=We();return nf(n,Le.memoizedState,e,t)},useTransition:function(){var e=Vi(An)[0],t=We().memoizedState;return[typeof e=="boolean"?e:yr(e),t]},useSyncExternalStore:Rh,useId:lf,useHostTransitionStatus:yu,useFormState:Ih,useActionState:Ih,useOptimistic:function(e,t){var n=We();return Bh(n,Le,e,t)},useMemoCache:ou,useCacheRefresh:of};bu.useEffectEvent=Qh;var ff={readContext:dt,use:Gi,useCallback:ef,useContext:dt,useEffect:fu,useImperativeHandle:Wh,useInsertionEffect:Jh,useLayoutEffect:Fh,useMemo:tf,useReducer:cu,useRef:Ph,useState:function(){return cu(An)},useDebugValue:mu,useDeferredValue:function(e,t){var n=We();return Le===null?gu(n,e,t):nf(n,Le.memoizedState,e,t)},useTransition:function(){var e=cu(An)[0],t=We().memoizedState;return[typeof e=="boolean"?e:yr(e),t]},useSyncExternalStore:Rh,useId:lf,useHostTransitionStatus:yu,useFormState:Kh,useActionState:Kh,useOptimistic:function(e,t){var n=We();return Le!==null?Bh(n,Le,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ou,useCacheRefresh:of};ff.useEffectEvent=Qh;function _u(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xu={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vt(),o=Pn(r);o.payload=t,n!=null&&(o.callback=n),t=Xn(e,o,r),t!==null&&(Dt(t,e,r),fr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vt(),o=Pn(r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Xn(e,o,r),t!==null&&(Dt(t,e,r),fr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vt(),r=Pn(n);r.tag=2,t!=null&&(r.callback=t),t=Xn(e,r,n),t!==null&&(Dt(t,e,n),fr(t,e,n))}};function mf(e,t,n,r,o,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,g):t.prototype&&t.prototype.isPureReactComponent?!rr(n,r)||!rr(o,d):!0}function gf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xu.enqueueReplaceState(t,t.state,null)}function Ua(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function pf(e){Ei(e)}function yf(e){console.error(e)}function vf(e){Ei(e)}function Pi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function bf(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function wu(e,t,n){return n=Pn(n),n.tag=3,n.payload={element:null},n.callback=function(){Pi(e,t)},n}function _f(e){return e=Pn(e),e.tag=3,e}function xf(e,t,n,r){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var d=r.value;e.payload=function(){return o(d)},e.callback=function(){bf(t,n,r)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){bf(t,n,r),typeof o!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function Py(e,t,n,r,o){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&hs(t,n,o,!0),n=$t.current,n!==null){switch(n.tag){case 31:case 13:return en===null?rl():n.alternate===null&&Fe===0&&(Fe=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Ui?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Pu(e,r,o)),!1;case 22:return n.flags|=65536,r===Ui?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Pu(e,r,o)),!1}throw Error(l(435,n.tag))}return Pu(e,r,o),rl(),!1}if(je)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==Ho&&(e=Error(l(422),{cause:r}),or(Jt(e,n)))):(r!==Ho&&(t=Error(l(423),{cause:r}),or(Jt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Jt(r,n),o=wu(e.stateNode,r,o),Zo(e,o),Fe!==4&&(Fe=2)),!1;var d=Error(l(520),{cause:r});if(d=Jt(d,n),Ar===null?Ar=[d]:Ar.push(d),Fe!==4&&(Fe=2),t===null)return!0;r=Jt(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=wu(n.stateNode,r,e),Zo(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ea===null||!ea.has(d))))return n.flags|=65536,o&=-o,n.lanes|=o,o=_f(o),xf(o,e,n,r),Zo(n,o),!1}n=n.return}while(n!==null);return!1}var Su=Error(l(461)),nt=!1;function ht(e,t,n,r){t.child=e===null?Eh(t,null,n,r):ka(t,e.child,n,r)}function wf(e,t,n,r,o){n=n.render;var d=t.ref;if("ref"in r){var g={};for(var _ in r)_!=="ref"&&(g[_]=r[_])}else g=r;return Na(t),r=su(e,t,n,g,d,o),_=ru(),e!==null&&!nt?(iu(e,t,o),Nn(e,t,o)):(je&&_&&$o(t),t.flags|=1,ht(e,t,r,o),t.child)}function Sf(e,t,n,r,o){if(e===null){var d=n.type;return typeof d=="function"&&!zo(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,Ef(e,t,d,r,o)):(e=Ni(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Ru(e,o)){var g=d.memoizedProps;if(n=n.compare,n=n!==null?n:rr,n(g,r)&&e.ref===t.ref)return Nn(e,t,o)}return t.flags|=1,e=wn(d,r),e.ref=t.ref,e.return=t,t.child=e}function Ef(e,t,n,r,o){if(e!==null){var d=e.memoizedProps;if(rr(d,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=d,Ru(e,o))(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Nn(e,t,o)}return Eu(e,t,n,r,o)}function Tf(e,t,n,r){var o=r.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~d}else r=0,t.child=null;return jf(e,t,d,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ki(t,d!==null?d.cachePool:null),d!==null?Ah(t,d):eu(),Nh(t);else return r=t.lanes=536870912,jf(e,t,d!==null?d.baseLanes|n:n,n,r)}else d!==null?(ki(t,d.cachePool),Ah(t,d),Jn(),t.memoizedState=null):(e!==null&&ki(t,null),eu(),Jn());return ht(e,t,o,n),t.child}function _r(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function jf(e,t,n,r,o){var d=Xo();return d=d===null?null:{parent:et._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&ki(t,null),eu(),Nh(t),e!==null&&hs(e,t,r,!0),t.childLanes=o,null}function Xi(e,t){return t=Ji({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Af(e,t,n){return ka(t,e.child,null,n),e=Xi(t,t.pendingProps),e.flags|=2,qt(t),t.memoizedState=null,e}function Xy(e,t,n){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(r.mode==="hidden")return e=Xi(t,r),t.lanes=536870912,_r(null,e);if(nu(t),(e=Ve)?(e=$m(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Gn!==null?{id:fn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},n=uh(e),n.return=t,t.child=n,ct=t,Ve=null)):e=null,e===null)throw In(t);return t.lanes=536870912,null}return Xi(t,r)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(nu(t),o)if(t.flags&256)t.flags&=-257,t=Af(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(nt||hs(e,t,n,!1),o=(n&e.childLanes)!==0,nt||o){if(r=He,r!==null&&(g=le(r,n),g!==0&&g!==d.retryLane))throw d.retryLane=g,Ea(e,g),Dt(r,e,g),Su;rl(),t=Af(e,t,n)}else e=d.treeContext,Ve=tn(g.nextSibling),ct=t,je=!0,Vn=null,Wt=!1,e!==null&&hh(t,e),t=Xi(t,r),t.flags|=4096;return t}return e=wn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Qi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Eu(e,t,n,r,o){return Na(t),n=su(e,t,n,r,void 0,o),r=ru(),e!==null&&!nt?(iu(e,t,o),Nn(e,t,o)):(je&&r&&$o(t),t.flags|=1,ht(e,t,n,o),t.child)}function Nf(e,t,n,r,o,d){return Na(t),t.updateQueue=null,n=Ch(t,r,n,o),Oh(e),r=ru(),e!==null&&!nt?(iu(e,t,d),Nn(e,t,d)):(je&&r&&$o(t),t.flags|=1,ht(e,t,n,d),t.child)}function Of(e,t,n,r,o){if(Na(t),t.stateNode===null){var d=os,g=n.contextType;typeof g=="object"&&g!==null&&(d=dt(g)),d=new n(r,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=xu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=r,d.state=t.memoizedState,d.refs={},Jo(t),g=n.contextType,d.context=typeof g=="object"&&g!==null?dt(g):os,d.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(_u(t,n,g,r),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&xu.enqueueReplaceState(d,d.state,null),gr(t,r,d,o),mr(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){d=t.stateNode;var _=t.memoizedProps,E=Ua(n,_);d.props=E;var R=d.context,$=n.contextType;g=os,typeof $=="object"&&$!==null&&(g=dt($));var H=n.getDerivedStateFromProps;$=typeof H=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||R!==g)&&gf(t,d,r,g),Kn=!1;var k=t.memoizedState;d.state=k,gr(t,r,d,o),mr(),R=t.memoizedState,_||k!==R||Kn?(typeof H=="function"&&(_u(t,n,H,r),R=t.memoizedState),(E=Kn||mf(t,n,E,r,k,R,g))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=R),d.props=r,d.state=R,d.context=g,r=E):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,Fo(e,t),g=t.memoizedProps,$=Ua(n,g),d.props=$,H=t.pendingProps,k=d.context,R=n.contextType,E=os,typeof R=="object"&&R!==null&&(E=dt(R)),_=n.getDerivedStateFromProps,(R=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==H||k!==E)&&gf(t,d,r,E),Kn=!1,k=t.memoizedState,d.state=k,gr(t,r,d,o),mr();var B=t.memoizedState;g!==H||k!==B||Kn||e!==null&&e.dependencies!==null&&Ci(e.dependencies)?(typeof _=="function"&&(_u(t,n,_,r),B=t.memoizedState),($=Kn||mf(t,n,$,r,k,B,E)||e!==null&&e.dependencies!==null&&Ci(e.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,B,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,B,E)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=B),d.props=r,d.state=B,d.context=E,r=$):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),r=!1)}return d=r,Qi(e,t),r=(t.flags&128)!==0,d||r?(d=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&r?(t.child=ka(t,e.child,null,o),t.child=ka(t,null,n,o)):ht(e,t,n,o),t.memoizedState=d.state,e=t.child):e=Nn(e,t,o),e}function Cf(e,t,n,r){return ja(),t.flags|=256,ht(e,t,n,r),t.child}var Tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(e){return{baseLanes:e,cachePool:vh()}}function Au(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Gt),e}function Rf(e,t,n){var r=t.pendingProps,o=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(o?Qn(t):Jn(),(e=Ve)?(e=$m(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Gn!==null?{id:fn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},n=uh(e),n.return=t,t.child=n,ct=t,Ve=null)):e=null,e===null)throw In(t);return uc(e)?t.lanes=32:t.lanes=536870912,null}var _=r.children;return r=r.fallback,o?(Jn(),o=t.mode,_=Ji({mode:"hidden",children:_},o),r=Ta(r,o,n,null),_.return=t,r.return=t,_.sibling=r,t.child=_,r=t.child,r.memoizedState=ju(n),r.childLanes=Au(e,g,n),t.memoizedState=Tu,_r(null,r)):(Qn(t),Nu(t,_))}var E=e.memoizedState;if(E!==null&&(_=E.dehydrated,_!==null)){if(d)t.flags&256?(Qn(t),t.flags&=-257,t=Ou(e,t,n)):t.memoizedState!==null?(Jn(),t.child=e.child,t.flags|=128,t=null):(Jn(),_=r.fallback,o=t.mode,r=Ji({mode:"visible",children:r.children},o),_=Ta(_,o,n,null),_.flags|=2,r.return=t,_.return=t,r.sibling=_,t.child=r,ka(t,e.child,null,n),r=t.child,r.memoizedState=ju(n),r.childLanes=Au(e,g,n),t.memoizedState=Tu,t=_r(null,r));else if(Qn(t),uc(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var R=g.dgst;g=R,r=Error(l(419)),r.stack="",r.digest=g,or({value:r,source:null,stack:null}),t=Ou(e,t,n)}else if(nt||hs(e,t,n,!1),g=(n&e.childLanes)!==0,nt||g){if(g=He,g!==null&&(r=le(g,n),r!==0&&r!==E.retryLane))throw E.retryLane=r,Ea(e,r),Dt(g,e,r),Su;oc(_)||rl(),t=Ou(e,t,n)}else oc(_)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,Ve=tn(_.nextSibling),ct=t,je=!0,Vn=null,Wt=!1,e!==null&&hh(t,e),t=Nu(t,r.children),t.flags|=4096);return t}return o?(Jn(),_=r.fallback,o=t.mode,E=e.child,R=E.sibling,r=wn(E,{mode:"hidden",children:r.children}),r.subtreeFlags=E.subtreeFlags&65011712,R!==null?_=wn(R,_):(_=Ta(_,o,n,null),_.flags|=2),_.return=t,r.return=t,r.sibling=_,t.child=r,_r(null,r),r=t.child,_=e.child.memoizedState,_===null?_=ju(n):(o=_.cachePool,o!==null?(E=et._currentValue,o=o.parent!==E?{parent:E,pool:E}:o):o=vh(),_={baseLanes:_.baseLanes|n,cachePool:o}),r.memoizedState=_,r.childLanes=Au(e,g,n),t.memoizedState=Tu,_r(e.child,r)):(Qn(t),n=e.child,e=n.sibling,n=wn(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=n,t.memoizedState=null,n)}function Nu(e,t){return t=Ji({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ji(e,t){return e=Lt(22,e,null,t),e.lanes=0,e}function Ou(e,t,n){return ka(t,e.child,null,n),e=Nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Io(e.return,t,n)}function Cu(e,t,n,r,o,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=n,g.tailMode=o,g.treeForkCount=d)}function Df(e,t,n){var r=t.pendingProps,o=r.revealOrder,d=r.tail;r=r.children;var g=Ze.current,_=(g&2)!==0;if(_?(g=g&1|2,t.flags|=128):g&=1,X(Ze,g),ht(e,t,r,n),r=je?lr:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kf(e,n,t);else if(e.tag===19)kf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Li(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Cu(t,!1,o,n,d,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Li(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Cu(t,!0,n,null,d,r);break;case"together":Cu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Nn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(hs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ru(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ci(e)))}function Qy(e,t,n){switch(t.tag){case 3:ne(t,t.stateNode.containerInfo),Yn(t,et,e.memoizedState.cache),ja();break;case 27:case 5:Xe(t);break;case 4:ne(t,t.stateNode.containerInfo);break;case 10:Yn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,nu(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Qn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Rf(e,t,n):(Qn(t),e=Nn(e,t,n),e!==null?e.sibling:null);Qn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(hs(e,t,n,!1),r=(n&t.childLanes)!==0),o){if(r)return Df(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),X(Ze,Ze.current),r)break;return null;case 22:return t.lanes=0,Tf(e,t,n,t.pendingProps);case 24:Yn(t,et,e.memoizedState.cache)}return Nn(e,t,n)}function Uf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)nt=!0;else{if(!Ru(e,n)&&(t.flags&128)===0)return nt=!1,Qy(e,t,n);nt=(e.flags&131072)!==0}else nt=!1,je&&(t.flags&1048576)!==0&&dh(t,lr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Ca(t.elementType),t.type=e,typeof e=="function")zo(e)?(r=Ua(e,r),t.tag=1,t=Of(null,t,e,r,n)):(t.tag=0,t=Eu(null,t,e,r,n));else{if(e!=null){var o=e.$$typeof;if(o===I){t.tag=11,t=wf(null,t,e,r,n);break e}else if(o===K){t.tag=14,t=Sf(null,t,e,r,n);break e}}throw t=Oe(e)||e,Error(l(306,t,""))}}return t;case 0:return Eu(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,o=Ua(r,t.pendingProps),Of(e,t,r,o,n);case 3:e:{if(ne(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var d=t.memoizedState;o=d.element,Fo(e,t),gr(t,r,null,n);var g=t.memoizedState;if(r=g.cache,Yn(t,et,r),r!==d.cache&&Yo(t,[et],n,!0),mr(),r=g.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Cf(e,t,r,n);break e}else if(r!==o){o=Jt(Error(l(424)),t),or(o),t=Cf(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=tn(e.firstChild),ct=t,je=!0,Vn=null,Wt=!0,n=Eh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ja(),r===o){t=Nn(e,t,n);break e}ht(e,t,r,n)}t=t.child}return t;case 26:return Qi(e,t),e===null?(n=Ym(t.type,null,t.pendingProps,null))?t.memoizedState=n:je||(n=t.type,e=t.pendingProps,r=hl(ye.current).createElement(n),r[ut]=t,r[At]=e,ft(r,n,e),lt(r),t.stateNode=r):t.memoizedState=Ym(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Xe(t),e===null&&je&&(r=t.stateNode=Gm(t.type,t.pendingProps,ye.current),ct=t,Wt=!0,o=Ve,sa(t.type)?(cc=o,Ve=tn(r.firstChild)):Ve=o),ht(e,t,t.pendingProps.children,n),Qi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((o=r=Ve)&&(r=Tv(r,t.type,t.pendingProps,Wt),r!==null?(t.stateNode=r,ct=t,Ve=tn(r.firstChild),Wt=!1,o=!0):o=!1),o||In(t)),Xe(t),o=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,r=d.children,rc(o,d)?r=null:g!==null&&rc(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=su(e,t,qy,null,null,n),Mr._currentValue=o),Qi(e,t),ht(e,t,r,n),t.child;case 6:return e===null&&je&&((e=n=Ve)&&(n=jv(n,t.pendingProps,Wt),n!==null?(t.stateNode=n,ct=t,Ve=null,e=!0):e=!1),e||In(t)),null;case 13:return Rf(e,t,n);case 4:return ne(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ka(t,null,r,n):ht(e,t,r,n),t.child;case 11:return wf(e,t,t.type,t.pendingProps,n);case 7:return ht(e,t,t.pendingProps,n),t.child;case 8:return ht(e,t,t.pendingProps.children,n),t.child;case 12:return ht(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Yn(t,t.type,r.value),ht(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Na(t),o=dt(o),r=r(o),t.flags|=1,ht(e,t,r,n),t.child;case 14:return Sf(e,t,t.type,t.pendingProps,n);case 15:return Ef(e,t,t.type,t.pendingProps,n);case 19:return Df(e,t,n);case 31:return Xy(e,t,n);case 22:return Tf(e,t,n,t.pendingProps);case 24:return Na(t),r=dt(et),e===null?(o=Xo(),o===null&&(o=He,d=Ko(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=n),o=d),t.memoizedState={parent:r,cache:o},Jo(t),Yn(t,et,o)):((e.lanes&n)!==0&&(Fo(e,t),gr(t,null,null,n),mr()),o=e.memoizedState,d=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Yn(t,et,r)):(r=d.cache,Yn(t,et,r),r!==o.cache&&Yo(t,[et],n,!0))),ht(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function On(e){e.flags|=4}function ku(e,t,n,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(lm())e.flags|=8192;else throw Ra=Ui,Qo}else e.flags&=-16777217}function Mf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jm(t))if(lm())e.flags|=8192;else throw Ra=Ui,Qo}function Fi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hi():536870912,e.lanes|=t,Es|=t)}function xr(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Jy(e,t,n){var r=t.pendingProps;switch(qo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Tn(et),me(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ds(t)?On(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Go())),Ie(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(On(t),d!==null?(Ie(t),Mf(t,d)):(Ie(t),ku(t,o,null,r,n))):d?d!==e.memoizedState?(On(t),Ie(t),Mf(t,d)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&On(t),Ie(t),ku(t,o,e,r,n)),null;case 27:if(yt(t),n=ye.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&On(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ie(t),null}e=J.current,ds(t)?fh(t):(e=Gm(o,r,n),t.stateNode=e,On(t))}return Ie(t),null;case 5:if(yt(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&On(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Ie(t),null}if(d=J.current,ds(t))fh(t);else{var g=hl(ye.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?g.createElement("select",{is:r.is}):g.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?g.createElement(o,{is:r.is}):g.createElement(o)}}d[ut]=t,d[At]=r;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(ft(d,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&On(t)}}return Ie(t),ku(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&On(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=ye.current,ds(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,o=ct,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[ut]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Rm(e.nodeValue,n)),e||In(t,!0)}else e=hl(e).createTextNode(r),e[ut]=t,t.stateNode=e}return Ie(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=ds(t),n!==null){if(e===null){if(!r)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ut]=t}else ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else n=Go(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(qt(t),t):(qt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ie(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ds(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[ut]=t}else ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),o=!1}else o=Go(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(qt(t),t):(qt(t),null)}return qt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Fi(t,t.updateQueue),Ie(t),null);case 4:return me(),e===null&&ec(t.stateNode.containerInfo),Ie(t),null;case 10:return Tn(t.type),Ie(t),null;case 19:if(V(Ze),r=t.memoizedState,r===null)return Ie(t),null;if(o=(t.flags&128)!==0,d=r.rendering,d===null)if(o)xr(r,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Li(e),d!==null){for(t.flags|=128,xr(r,!1),e=d.updateQueue,t.updateQueue=e,Fi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)oh(n,e),n=n.sibling;return X(Ze,Ze.current&1|2),je&&Sn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&bt()>nl&&(t.flags|=128,o=!0,xr(r,!1),t.lanes=4194304)}else{if(!o)if(e=Li(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Fi(t,e),xr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!je)return Ie(t),null}else 2*bt()-r.renderingStartTime>nl&&n!==536870912&&(t.flags|=128,o=!0,xr(r,!1),t.lanes=4194304);r.isBackwards?(d.sibling=t.child,t.child=d):(e=r.last,e!==null?e.sibling=d:t.child=d,r.last=d)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=bt(),e.sibling=null,n=Ze.current,X(Ze,o?n&1|2:n&1),je&&Sn(t,r.treeForkCount),e):(Ie(t),null);case 22:case 23:return qt(t),tu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),n=t.updateQueue,n!==null&&Fi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&V(Oa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Tn(et),Ie(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Fy(e,t){switch(qo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(et),me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return yt(t),null;case 31:if(t.memoizedState!==null){if(qt(t),t.alternate===null)throw Error(l(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Ze),null;case 4:return me(),null;case 10:return Tn(t.type),null;case 22:case 23:return qt(t),tu(),e!==null&&V(Oa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Tn(et),null;case 25:return null;default:return null}}function zf(e,t){switch(qo(t),t.tag){case 3:Tn(et),me();break;case 26:case 27:case 5:yt(t);break;case 4:me();break;case 31:t.memoizedState!==null&&qt(t);break;case 13:qt(t);break;case 19:V(Ze);break;case 10:Tn(t.type);break;case 22:case 23:qt(t),tu(),e!==null&&V(Oa);break;case 24:Tn(et)}}function wr(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var d=n.create,g=n.inst;r=d(),g.destroy=r}n=n.next}while(n!==o)}}catch(_){Be(t,t.return,_)}}function Fn(e,t,n){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&e)===e){var g=r.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,o=t;var E=n,R=_;try{R()}catch($){Be(o,E,$)}}}r=r.next}while(r!==d)}}catch($){Be(t,t.return,$)}}function Bf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{jh(t,n)}catch(r){Be(e,e.return,r)}}}function Lf(e,t,n){n.props=Ua(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Be(e,t,r)}}function Sr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(o){Be(e,t,o)}}function gn(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(o){Be(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Be(e,t,o)}else n.current=null}function $f(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){Be(e,e.return,o)}}function Du(e,t,n){try{var r=e.stateNode;bv(r,e.type,n,t),r[At]=t}catch(o){Be(e,e.return,o)}}function qf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sa(e.type)||e.tag===4}function Uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_n));else if(r!==4&&(r===27&&sa(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Mu(e,t,n),e=e.sibling;e!==null;)Mu(e,t,n),e=e.sibling}function Zi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&sa(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Zi(e,t,n),e=e.sibling;e!==null;)Zi(e,t,n),e=e.sibling}function Hf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ft(t,r,n),t[ut]=e,t[At]=n}catch(d){Be(e,e.return,d)}}var Cn=!1,at=!1,zu=!1,Gf=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Zy(e,t){if(e=e.containerInfo,ac=bl,e=Wd(e),Oo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var g=0,_=-1,E=-1,R=0,$=0,H=e,k=null;t:for(;;){for(var B;H!==n||o!==0&&H.nodeType!==3||(_=g+o),H!==d||r!==0&&H.nodeType!==3||(E=g+r),H.nodeType===3&&(g+=H.nodeValue.length),(B=H.firstChild)!==null;)k=H,H=B;for(;;){if(H===e)break t;if(k===n&&++R===o&&(_=g),k===d&&++$===r&&(E=g),(B=H.nextSibling)!==null)break;H=k,k=H.parentNode}H=B}n=_===-1||E===-1?null:{start:_,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(sc={focusedElem:e,selectionRange:n},bl=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,o=d.memoizedProps,d=d.memoizedState,r=n.stateNode;try{var ee=Ua(n.type,o);e=r.getSnapshotBeforeUpdate(ee,d),r.__reactInternalSnapshotBeforeUpdate=e}catch(he){Be(n,n.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)lc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function Vf(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:kn(e,n),r&4&&wr(5,n);break;case 1:if(kn(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(g){Be(n,n.return,g)}else{var o=Ua(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Be(n,n.return,g)}}r&64&&Bf(n),r&512&&Sr(n,n.return);break;case 3:if(kn(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{jh(e,t)}catch(g){Be(n,n.return,g)}}break;case 27:t===null&&r&4&&Hf(n);case 26:case 5:kn(e,n),t===null&&r&4&&$f(n),r&512&&Sr(n,n.return);break;case 12:kn(e,n);break;case 31:kn(e,n),r&4&&Kf(e,n);break;case 13:kn(e,n),r&4&&Pf(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=lv.bind(null,n),Av(e,n))));break;case 22:if(r=n.memoizedState!==null||Cn,!r){t=t!==null&&t.memoizedState!==null||at,o=Cn;var d=at;Cn=r,(at=t)&&!d?Dn(e,n,(n.subtreeFlags&8772)!==0):kn(e,n),Cn=o,at=d}break;case 30:break;default:kn(e,n)}}function If(e){var t=e.alternate;t!==null&&(e.alternate=null,If(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ho(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,Ot=!1;function Rn(e,t,n){for(n=n.child;n!==null;)Yf(e,t,n),n=n.sibling}function Yf(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(ga,n)}catch{}switch(n.tag){case 26:at||gn(n,t),Rn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:at||gn(n,t);var r=Ke,o=Ot;sa(n.type)&&(Ke=n.stateNode,Ot=!1),Rn(e,t,n),kr(n.stateNode),Ke=r,Ot=o;break;case 5:at||gn(n,t);case 6:if(r=Ke,o=Ot,Ke=null,Rn(e,t,n),Ke=r,Ot=o,Ke!==null)if(Ot)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(n.stateNode)}catch(d){Be(n,t,d)}else try{Ke.removeChild(n.stateNode)}catch(d){Be(n,t,d)}break;case 18:Ke!==null&&(Ot?(e=Ke,Bm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ks(e)):Bm(Ke,n.stateNode));break;case 4:r=Ke,o=Ot,Ke=n.stateNode.containerInfo,Ot=!0,Rn(e,t,n),Ke=r,Ot=o;break;case 0:case 11:case 14:case 15:Fn(2,n,t),at||Fn(4,n,t),Rn(e,t,n);break;case 1:at||(gn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Lf(n,t,r)),Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:at=(r=at)||n.memoizedState!==null,Rn(e,t,n),at=r;break;default:Rn(e,t,n)}}function Kf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ks(e)}catch(n){Be(t,t.return,n)}}}function Pf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ks(e)}catch(n){Be(t,t.return,n)}}function Wy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gf),t;default:throw Error(l(435,e.tag))}}function Wi(e,t){var n=Wy(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var o=ov.bind(null,e,r);r.then(o,o)}})}function Ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r],d=e,g=t,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(sa(_.type)){Ke=_.stateNode,Ot=!1;break e}break;case 5:Ke=_.stateNode,Ot=!1;break e;case 3:case 4:Ke=_.stateNode.containerInfo,Ot=!0;break e}_=_.return}if(Ke===null)throw Error(l(160));Yf(d,g,o),Ke=null,Ot=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Xf(t,e),t=t.sibling}var ln=null;function Xf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(t,e),Rt(e),r&4&&(Fn(3,e,e.return),wr(3,e),Fn(5,e,e.return));break;case 1:Ct(t,e),Rt(e),r&512&&(at||n===null||gn(n,n.return)),r&64&&Cn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var o=ln;if(Ct(t,e),Rt(e),r&512&&(at||n===null||gn(n,n.return)),r&4){var d=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Js]||d[ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(r),o.head.insertBefore(d,o.querySelector("head > title"))),ft(d,r,n),d[ut]=e,lt(d),r=d;break e;case"link":var g=Xm("link","href",o).get(r+(n.href||""));if(g){for(var _=0;_<g.length;_++)if(d=g[_],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(_,1);break t}}d=o.createElement(r),ft(d,r,n),o.head.appendChild(d);break;case"meta":if(g=Xm("meta","content",o).get(r+(n.content||""))){for(_=0;_<g.length;_++)if(d=g[_],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(_,1);break t}}d=o.createElement(r),ft(d,r,n),o.head.appendChild(d);break;default:throw Error(l(468,r))}d[ut]=e,lt(d),r=d}e.stateNode=r}else Qm(o,e.type,e.stateNode);else e.stateNode=Pm(o,r,e.memoizedProps);else d!==r?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,r===null?Qm(o,e.type,e.stateNode):Pm(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Du(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ct(t,e),Rt(e),r&512&&(at||n===null||gn(n,n.return)),n!==null&&r&4&&Du(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ct(t,e),Rt(e),r&512&&(at||n===null||gn(n,n.return)),e.flags&32){o=e.stateNode;try{ts(o,"")}catch(ee){Be(e,e.return,ee)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Du(e,o,n!==null?n.memoizedProps:o)),r&1024&&(zu=!0);break;case 6:if(Ct(t,e),Rt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(ee){Be(e,e.return,ee)}}break;case 3:if(gl=null,o=ln,ln=fl(t.containerInfo),Ct(t,e),ln=o,Rt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ks(t.containerInfo)}catch(ee){Be(e,e.return,ee)}zu&&(zu=!1,Qf(e));break;case 4:r=ln,ln=fl(e.stateNode.containerInfo),Ct(t,e),Rt(e),ln=r;break;case 12:Ct(t,e),Rt(e);break;case 31:Ct(t,e),Rt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Wi(e,r)));break;case 13:Ct(t,e),Rt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(tl=bt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Wi(e,r)));break;case 22:o=e.memoizedState!==null;var E=n!==null&&n.memoizedState!==null,R=Cn,$=at;if(Cn=R||o,at=$||E,Ct(t,e),at=$,Cn=R,Rt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||E||Cn||at||Ma(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){E=n=t;try{if(d=E.stateNode,o)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=E.stateNode;var H=E.memoizedProps.style,k=H!=null&&H.hasOwnProperty("display")?H.display:null;_.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ee){Be(E,E.return,ee)}}}else if(t.tag===6){if(n===null){E=t;try{E.stateNode.nodeValue=o?"":E.memoizedProps}catch(ee){Be(E,E.return,ee)}}}else if(t.tag===18){if(n===null){E=t;try{var B=E.stateNode;o?Lm(B,!0):Lm(E.stateNode,!1)}catch(ee){Be(E,E.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Wi(e,n))));break;case 19:Ct(t,e),Rt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Wi(e,r)));break;case 30:break;case 21:break;default:Ct(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(qf(r)){n=r;break}r=r.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode,d=Uu(e);Zi(e,d,o);break;case 5:var g=n.stateNode;n.flags&32&&(ts(g,""),n.flags&=-33);var _=Uu(e);Zi(e,_,g);break;case 3:case 4:var E=n.stateNode.containerInfo,R=Uu(e);Mu(e,R,E);break;default:throw Error(l(161))}}catch($){Be(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function kn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vf(e,t.alternate,t),t=t.sibling}function Ma(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fn(4,t,t.return),Ma(t);break;case 1:gn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Lf(t,t.return,n),Ma(t);break;case 27:kr(t.stateNode);case 26:case 5:gn(t,t.return),Ma(t);break;case 22:t.memoizedState===null&&Ma(t);break;case 30:Ma(t);break;default:Ma(t)}e=e.sibling}}function Dn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:Dn(o,d,n),wr(4,d);break;case 1:if(Dn(o,d,n),r=d,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){Be(r,r.return,R)}if(r=d,o=r.updateQueue,o!==null){var _=r.stateNode;try{var E=o.shared.hiddenCallbacks;if(E!==null)for(o.shared.hiddenCallbacks=null,o=0;o<E.length;o++)Th(E[o],_)}catch(R){Be(r,r.return,R)}}n&&g&64&&Bf(d),Sr(d,d.return);break;case 27:Hf(d);case 26:case 5:Dn(o,d,n),n&&r===null&&g&4&&$f(d),Sr(d,d.return);break;case 12:Dn(o,d,n);break;case 31:Dn(o,d,n),n&&g&4&&Kf(o,d);break;case 13:Dn(o,d,n),n&&g&4&&Pf(o,d);break;case 22:d.memoizedState===null&&Dn(o,d,n),Sr(d,d.return);break;case 30:break;default:Dn(o,d,n)}t=t.sibling}}function Bu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ur(n))}function Lu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ur(e))}function on(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jf(e,t,n,r),t=t.sibling}function Jf(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:on(e,t,n,r),o&2048&&wr(9,t);break;case 1:on(e,t,n,r);break;case 3:on(e,t,n,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ur(e)));break;case 12:if(o&2048){on(e,t,n,r),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,_=d.onPostCommit;typeof _=="function"&&_(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Be(t,t.return,E)}}else on(e,t,n,r);break;case 31:on(e,t,n,r);break;case 13:on(e,t,n,r);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?on(e,t,n,r):Er(e,t):d._visibility&2?on(e,t,n,r):(d._visibility|=2,xs(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Bu(g,t);break;case 24:on(e,t,n,r),o&2048&&Lu(t.alternate,t);break;default:on(e,t,n,r)}}function xs(e,t,n,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,_=n,E=r,R=g.flags;switch(g.tag){case 0:case 11:case 15:xs(d,g,_,E,o),wr(8,g);break;case 23:break;case 22:var $=g.stateNode;g.memoizedState!==null?$._visibility&2?xs(d,g,_,E,o):Er(d,g):($._visibility|=2,xs(d,g,_,E,o)),o&&R&2048&&Bu(g.alternate,g);break;case 24:xs(d,g,_,E,o),o&&R&2048&&Lu(g.alternate,g);break;default:xs(d,g,_,E,o)}t=t.sibling}}function Er(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Er(n,r),o&2048&&Bu(r.alternate,r);break;case 24:Er(n,r),o&2048&&Lu(r.alternate,r);break;default:Er(n,r)}t=t.sibling}}var Tr=8192;function ws(e,t,n){if(e.subtreeFlags&Tr)for(e=e.child;e!==null;)Ff(e,t,n),e=e.sibling}function Ff(e,t,n){switch(e.tag){case 26:ws(e,t,n),e.flags&Tr&&e.memoizedState!==null&&$v(n,ln,e.memoizedState,e.memoizedProps);break;case 5:ws(e,t,n);break;case 3:case 4:var r=ln;ln=fl(e.stateNode.containerInfo),ws(e,t,n),ln=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Tr,Tr=16777216,ws(e,t,n),Tr=r):ws(e,t,n));break;default:ws(e,t,n)}}function Zf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function jr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ot=r,em(r,e)}Zf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wf(e),e=e.sibling}function Wf(e){switch(e.tag){case 0:case 11:case 15:jr(e),e.flags&2048&&Fn(9,e,e.return);break;case 3:jr(e);break;case 12:jr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,el(e)):jr(e);break;default:jr(e)}}function el(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ot=r,em(r,e)}Zf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fn(8,t,t.return),el(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,el(t));break;default:el(t)}e=e.sibling}}function em(e,t){for(;ot!==null;){var n=ot;switch(n.tag){case 0:case 11:case 15:Fn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ur(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ot=r;else e:for(n=e;ot!==null;){r=ot;var o=r.sibling,d=r.return;if(If(r),r===n){ot=null;break e}if(o!==null){o.return=d,ot=o;break e}ot=d}}}var ev={getCacheForType:function(e){var t=dt(et),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return dt(et).controller.signal}},tv=typeof WeakMap=="function"?WeakMap:Map,Ue=0,He=null,we=null,Ee=0,ze=0,Ht=null,Zn=!1,Ss=!1,$u=!1,Un=0,Fe=0,Wn=0,za=0,qu=0,Gt=0,Es=0,Ar=null,kt=null,Hu=!1,tl=0,tm=0,nl=1/0,al=null,ea=null,it=0,ta=null,Ts=null,Mn=0,Gu=0,Vu=null,nm=null,Nr=0,Iu=null;function Vt(){return(Ue&2)!==0&&Ee!==0?Ee&-Ee:z.T!==null?Ju():ba()}function am(){if(Gt===0)if((Ee&536870912)===0||je){var e=pa;pa<<=1,(pa&3932160)===0&&(pa=262144),Gt=e}else Gt=536870912;return e=$t.current,e!==null&&(e.flags|=32),Gt}function Dt(e,t,n){(e===He&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(js(e,0),na(e,Ee,Gt,!1)),va(e,n),((Ue&2)===0||e!==He)&&(e===He&&((Ue&2)===0&&(za|=n),Fe===4&&na(e,Ee,Gt,!1)),pn(e))}function sm(e,t,n){if((Ue&6)!==0)throw Error(l(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ya(e,t),o=r?sv(e,t):Ku(e,t,!0),d=r;do{if(o===0){Ss&&!r&&na(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!nv(n)){o=Ku(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var _=e;o=Ar;var E=_.current.memoizedState.isDehydrated;if(E&&(js(_,g).flags|=256),g=Ku(_,g,!1),g!==2){if($u&&!E){_.errorRecoveryDisabledLanes|=d,za|=d,o=4;break e}d=kt,kt=o,d!==null&&(kt===null?kt=d:kt.push.apply(kt,d))}o=g}if(d=!1,o!==2)continue}}if(o===1){js(e,0),na(e,t,0,!0);break}e:{switch(r=e,d=o,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:na(r,t,Gt,!Zn);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=tl+300-bt(),10<o)){if(na(r,t,Gt,!Zn),Xa(r,0,!0)!==0)break e;Mn=t,r.timeoutHandle=Mm(rm.bind(null,r,n,kt,al,Hu,t,Gt,za,Es,Zn,d,"Throttled",-0,0),o);break e}rm(r,n,kt,al,Hu,t,Gt,za,Es,Zn,d,null,-0,0)}}break}while(!0);pn(e)}function rm(e,t,n,r,o,d,g,_,E,R,$,H,k,B){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},Ff(t,d,H);var ee=(d&62914560)===d?tl-bt():(d&4194048)===d?tm-bt():0;if(ee=qv(H,ee),ee!==null){Mn=d,e.cancelPendingCommit=ee(fm.bind(null,e,t,d,n,r,o,g,_,E,$,H,null,k,B)),na(e,d,g,!R);return}}fm(e,t,d,n,r,o,g,_,E)}function nv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var o=n[r],d=o.getSnapshot;o=o.value;try{if(!Bt(d(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function na(e,t,n,r){t&=~qu,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var d=31-_t(o),g=1<<d;r[d]=-1,o&=~g}n!==0&&Y(e,n,t)}function sl(){return(Ue&6)===0?(Or(0),!1):!0}function Yu(){if(we!==null){if(ze===0)var e=we.return;else e=we,En=Aa=null,lu(e),ps=null,dr=0,e=we;for(;e!==null;)zf(e.alternate,e),e=e.return;we=null}}function js(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,wv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Mn=0,Yu(),He=e,we=n=wn(e.current,null),Ee=t,ze=0,Ht=null,Zn=!1,Ss=ya(e,t),$u=!1,Es=Gt=qu=za=Wn=Fe=0,kt=Ar=null,Hu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-_t(r),d=1<<o;t|=e[o],r&=~d}return Un=t,Ti(),n}function im(e,t){_e=null,z.H=br,t===gs||t===Di?(t=xh(),ze=3):t===Qo?(t=xh(),ze=4):ze=t===Su?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,we===null&&(Fe=1,Pi(e,Jt(t,e.current)))}function lm(){var e=$t.current;return e===null?!0:(Ee&4194048)===Ee?en===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===en:!1}function om(){var e=z.H;return z.H=br,e===null?br:e}function um(){var e=z.A;return z.A=ev,e}function rl(){Fe=4,Zn||(Ee&4194048)!==Ee&&$t.current!==null||(Ss=!0),(Wn&134217727)===0&&(za&134217727)===0||He===null||na(He,Ee,Gt,!1)}function Ku(e,t,n){var r=Ue;Ue|=2;var o=om(),d=um();(He!==e||Ee!==t)&&(al=null,js(e,t)),t=!1;var g=Fe;e:do try{if(ze!==0&&we!==null){var _=we,E=Ht;switch(ze){case 8:Yu(),g=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var R=ze;if(ze=0,Ht=null,As(e,_,E,R),n&&Ss){g=0;break e}break;default:R=ze,ze=0,Ht=null,As(e,_,E,R)}}av(),g=Fe;break}catch($){im(e,$)}while(!0);return t&&e.shellSuspendCounter++,En=Aa=null,Ue=r,z.H=o,z.A=d,we===null&&(He=null,Ee=0,Ti()),g}function av(){for(;we!==null;)cm(we)}function sv(e,t){var n=Ue;Ue|=2;var r=om(),o=um();He!==e||Ee!==t?(al=null,nl=bt()+500,js(e,t)):Ss=ya(e,t);e:do try{if(ze!==0&&we!==null){t=we;var d=Ht;t:switch(ze){case 1:ze=0,Ht=null,As(e,t,d,1);break;case 2:case 9:if(bh(d)){ze=0,Ht=null,dm(t);break}t=function(){ze!==2&&ze!==9||He!==e||(ze=7),pn(e)},d.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:bh(d)?(ze=0,Ht=null,dm(t)):(ze=0,Ht=null,As(e,t,d,7));break;case 5:var g=null;switch(we.tag){case 26:g=we.memoizedState;case 5:case 27:var _=we;if(g?Jm(g):_.stateNode.complete){ze=0,Ht=null;var E=_.sibling;if(E!==null)we=E;else{var R=_.return;R!==null?(we=R,il(R)):we=null}break t}}ze=0,Ht=null,As(e,t,d,5);break;case 6:ze=0,Ht=null,As(e,t,d,6);break;case 8:Yu(),Fe=6;break e;default:throw Error(l(462))}}rv();break}catch($){im(e,$)}while(!0);return En=Aa=null,z.H=r,z.A=o,Ue=n,we!==null?0:(He=null,Ee=0,Ti(),Fe)}function rv(){for(;we!==null&&!oi();)cm(we)}function cm(e){var t=Uf(e.alternate,e,Un);e.memoizedProps=e.pendingProps,t===null?il(e):we=t}function dm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Nf(n,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Nf(n,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:lu(t);default:zf(n,t),t=we=oh(t,Un),t=Uf(n,t,Un)}e.memoizedProps=e.pendingProps,t===null?il(e):we=t}function As(e,t,n,r){En=Aa=null,lu(t),ps=null,dr=0;var o=t.return;try{if(Py(e,o,t,n,Ee)){Fe=1,Pi(e,Jt(n,e.current)),we=null;return}}catch(d){if(o!==null)throw we=o,d;Fe=1,Pi(e,Jt(n,e.current)),we=null;return}t.flags&32768?(je||r===1?e=!0:Ss||(Ee&536870912)!==0?e=!1:(Zn=e=!0,(r===2||r===9||r===3||r===6)&&(r=$t.current,r!==null&&r.tag===13&&(r.flags|=16384))),hm(t,e)):il(t)}function il(e){var t=e;do{if((t.flags&32768)!==0){hm(t,Zn);return}e=t.return;var n=Jy(t.alternate,t,Un);if(n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Fe===0&&(Fe=5)}function hm(e,t){do{var n=Fy(e.alternate,e);if(n!==null){n.flags&=32767,we=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=n}while(e!==null);Fe=6,we=null}function fm(e,t,n,r,o,d,g,_,E){e.cancelPendingCommit=null;do ll();while(it!==0);if((Ue&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=Uo,M(e,n,d,g,_,E),e===He&&(we=He=null,Ee=0),Ts=t,ta=e,Mn=n,Gu=d,Vu=o,nm=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uv(ma,function(){return vm(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=z.T,z.T=null,o=G.p,G.p=2,g=Ue,Ue|=4;try{Zy(e,t,n)}finally{Ue=g,G.p=o,z.T=r}}it=1,mm(),gm(),pm()}}function mm(){if(it===1){it=0;var e=ta,t=Ts,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var r=G.p;G.p=2;var o=Ue;Ue|=4;try{Xf(t,e);var d=sc,g=Wd(e.containerInfo),_=d.focusedElem,E=d.selectionRange;if(g!==_&&_&&_.ownerDocument&&Zd(_.ownerDocument.documentElement,_)){if(E!==null&&Oo(_)){var R=E.start,$=E.end;if($===void 0&&($=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min($,_.value.length);else{var H=_.ownerDocument||document,k=H&&H.defaultView||window;if(k.getSelection){var B=k.getSelection(),ee=_.textContent.length,he=Math.min(E.start,ee),qe=E.end===void 0?he:Math.min(E.end,ee);!B.extend&&he>qe&&(g=qe,qe=he,he=g);var O=Fd(_,he),j=Fd(_,qe);if(O&&j&&(B.rangeCount!==1||B.anchorNode!==O.node||B.anchorOffset!==O.offset||B.focusNode!==j.node||B.focusOffset!==j.offset)){var C=H.createRange();C.setStart(O.node,O.offset),B.removeAllRanges(),he>qe?(B.addRange(C),B.extend(j.node,j.offset)):(C.setEnd(j.node,j.offset),B.addRange(C))}}}}for(H=[],B=_;B=B.parentNode;)B.nodeType===1&&H.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<H.length;_++){var q=H[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}bl=!!ac,sc=ac=null}finally{Ue=o,G.p=r,z.T=n}}e.current=t,it=2}}function gm(){if(it===2){it=0;var e=ta,t=Ts,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var r=G.p;G.p=2;var o=Ue;Ue|=4;try{Vf(e,t.alternate,t)}finally{Ue=o,G.p=r,z.T=n}}it=3}}function pm(){if(it===4||it===3){it=0,ao();var e=ta,t=Ts,n=Mn,r=nm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,Ts=ta=null,ym(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ea=null),zt(n),t=t.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(ga,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=z.T,o=G.p,G.p=2,z.T=null;try{for(var d=e.onRecoverableError,g=0;g<r.length;g++){var _=r[g];d(_.value,{componentStack:_.stack})}}finally{z.T=t,G.p=o}}(Mn&3)!==0&&ll(),pn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Iu?Nr++:(Nr=0,Iu=e):Nr=0,Or(0)}}function ym(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ur(t)))}function ll(){return mm(),gm(),pm(),vm()}function vm(){if(it!==5)return!1;var e=ta,t=Gu;Gu=0;var n=zt(Mn),r=z.T,o=G.p;try{G.p=32>n?32:n,z.T=null,n=Vu,Vu=null;var d=ta,g=Mn;if(it=0,Ts=ta=null,Mn=0,(Ue&6)!==0)throw Error(l(331));var _=Ue;if(Ue|=4,Wf(d.current),Jf(d,d.current,g,n),Ue=_,Or(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(ga,d)}catch{}return!0}finally{G.p=o,z.T=r,ym(e,t)}}function bm(e,t,n){t=Jt(n,t),t=wu(e.stateNode,t,2),e=Xn(e,t,2),e!==null&&(va(e,2),pn(e))}function Be(e,t,n){if(e.tag===3)bm(e,e,n);else for(;t!==null;){if(t.tag===3){bm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ea===null||!ea.has(r))){e=Jt(n,e),n=_f(2),r=Xn(t,n,2),r!==null&&(xf(n,r,t,e),va(r,2),pn(r));break}}t=t.return}}function Pu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new tv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||($u=!0,o.add(n),e=iv.bind(null,e,t,n),t.then(e,e))}function iv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,He===e&&(Ee&n)===n&&(Fe===4||Fe===3&&(Ee&62914560)===Ee&&300>bt()-tl?(Ue&2)===0&&js(e,0):qu|=n,Es===Ee&&(Es=0)),pn(e)}function _m(e,t){t===0&&(t=hi()),e=Ea(e,t),e!==null&&(va(e,t),pn(e))}function lv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_m(e,n)}function ov(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),_m(e,n)}function uv(e,t){return fa(e,t)}var ol=null,Ns=null,Xu=!1,ul=!1,Qu=!1,aa=0;function pn(e){e!==Ns&&e.next===null&&(Ns===null?ol=Ns=e:Ns=Ns.next=e),ul=!0,Xu||(Xu=!0,dv())}function Or(e,t){if(!Qu&&ul){Qu=!0;do for(var n=!1,r=ol;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var d=0;else{var g=r.suspendedLanes,_=r.pingedLanes;d=(1<<31-_t(42|e)+1)-1,d&=o&~(g&~_),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,Em(r,d))}else d=Ee,d=Xa(r,r===He?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||ya(r,d)||(n=!0,Em(r,d));r=r.next}while(n);Qu=!1}}function cv(){xm()}function xm(){ul=Xu=!1;var e=0;aa!==0&&xv()&&(e=aa);for(var t=bt(),n=null,r=ol;r!==null;){var o=r.next,d=wm(r,t);d===0?(r.next=null,n===null?ol=o:n.next=o,o===null&&(Ns=n)):(n=r,(e!==0||(d&3)!==0)&&(ul=!0)),r=o}it!==0&&it!==5||Or(e),aa!==0&&(aa=0)}function wm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-_t(d),_=1<<g,E=o[g];E===-1?((_&n)===0||(_&r)!==0)&&(o[g]=uo(_,t)):E<=t&&(e.expiredLanes|=_),d&=~_}if(t=He,n=Ee,n=Xa(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ya(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ya(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ya(r),zt(n)){case 2:case 8:n=ui;break;case 32:n=ma;break;case 268435456:n=ci;break;default:n=ma}return r=Sm.bind(null,e),n=fa(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ya(r),e.callbackPriority=2,e.callbackNode=null,2}function Sm(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ll()&&e.callbackNode!==n)return null;var r=Ee;return r=Xa(e,e===He?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(sm(e,r,t),wm(e,bt()),e.callbackNode!=null&&e.callbackNode===n?Sm.bind(null,e):null)}function Em(e,t){if(ll())return null;sm(e,t,!0)}function dv(){Sv(function(){(Ue&6)!==0?fa(Xs,cv):xm()})}function Ju(){if(aa===0){var e=fs;e===0&&(e=Ka,Ka<<=1,(Ka&261888)===0&&(Ka=256)),aa=e}return aa}function Tm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yi(""+e)}function jm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function hv(e,t,n,r,o){if(t==="submit"&&n&&n.stateNode===o){var d=Tm((o[At]||null).action),g=r.submitter;g&&(t=(t=g[At]||null)?Tm(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var _=new xi("action","action",null,r,o);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(aa!==0){var E=g?jm(o,g):new FormData(o);pu(n,{pending:!0,data:E,method:o.method,action:d},null,E)}}else typeof d=="function"&&(_.preventDefault(),E=g?jm(o,g):new FormData(o),pu(n,{pending:!0,data:E,method:o.method,action:d},d,E))},currentTarget:o}]})}}for(var Fu=0;Fu<Do.length;Fu++){var Zu=Do[Fu],fv=Zu.toLowerCase(),mv=Zu[0].toUpperCase()+Zu.slice(1);rn(fv,"on"+mv)}rn(nh,"onAnimationEnd"),rn(ah,"onAnimationIteration"),rn(sh,"onAnimationStart"),rn("dblclick","onDoubleClick"),rn("focusin","onFocus"),rn("focusout","onBlur"),rn(Cy,"onTransitionRun"),rn(Ry,"onTransitionStart"),rn(ky,"onTransitionCancel"),rn(rh,"onTransitionEnd"),Wa("onMouseEnter",["mouseout","mouseover"]),Wa("onMouseLeave",["mouseout","mouseover"]),Wa("onPointerEnter",["pointerout","pointerover"]),Wa("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cr));function Am(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var d=void 0;if(t)for(var g=r.length-1;0<=g;g--){var _=r[g],E=_.instance,R=_.currentTarget;if(_=_.listener,E!==d&&o.isPropagationStopped())break e;d=_,o.currentTarget=R;try{d(o)}catch($){Ei($)}o.currentTarget=null,d=E}else for(g=0;g<r.length;g++){if(_=r[g],E=_.instance,R=_.currentTarget,_=_.listener,E!==d&&o.isPropagationStopped())break e;d=_,o.currentTarget=R;try{d(o)}catch($){Ei($)}o.currentTarget=null,d=E}}}}function Se(e,t){var n=t[co];n===void 0&&(n=t[co]=new Set);var r=e+"__bubble";n.has(r)||(Nm(t,e,2,!1),n.add(r))}function Wu(e,t,n){var r=0;t&&(r|=4),Nm(n,e,r,t)}var cl="_reactListening"+Math.random().toString(36).slice(2);function ec(e){if(!e[cl]){e[cl]=!0,_d.forEach(function(n){n!=="selectionchange"&&(gv.has(n)||Wu(n,!1,e),Wu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cl]||(t[cl]=!0,Wu("selectionchange",!1,t))}}function Nm(e,t,n,r){switch(a0(t)){case 2:var o=Vv;break;case 8:o=Iv;break;default:o=gc}n=o.bind(null,t,n,e),o=void 0,!_o||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function tc(e,t,n,r,o){var d=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var _=r.stateNode.containerInfo;if(_===o)break;if(g===4)for(g=r.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;_!==null;){if(g=Ja(_),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){r=d=g;continue e}_=_.parentNode}}r=r.return}kd(function(){var R=d,$=vo(n),H=[];e:{var k=ih.get(e);if(k!==void 0){var B=xi,ee=e;switch(e){case"keypress":if(bi(n)===0)break e;case"keydown":case"keyup":B=oy;break;case"focusin":ee="focus",B=Eo;break;case"focusout":ee="blur",B=Eo;break;case"beforeblur":case"afterblur":B=Eo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=dy;break;case nh:case ah:case sh:B=Wp;break;case rh:B=fy;break;case"scroll":case"scrollend":B=Xp;break;case"wheel":B=gy;break;case"copy":case"cut":case"paste":B=ty;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Bd;break;case"toggle":case"beforetoggle":B=yy}var he=(t&4)!==0,qe=!he&&(e==="scroll"||e==="scrollend"),O=he?k!==null?k+"Capture":null:k;he=[];for(var j=R,C;j!==null;){var q=j;if(C=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||C===null||O===null||(q=Zs(j,O),q!=null&&he.push(Rr(j,q,C))),qe)break;j=j.return}0<he.length&&(k=new B(k,ee,null,n,$),H.push({event:k,listeners:he}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",k&&n!==yo&&(ee=n.relatedTarget||n.fromElement)&&(Ja(ee)||ee[Qa]))break e;if((B||k)&&(k=$.window===$?$:(k=$.ownerDocument)?k.defaultView||k.parentWindow:window,B?(ee=n.relatedTarget||n.toElement,B=R,ee=ee?Ja(ee):null,ee!==null&&(qe=c(ee),he=ee.tag,ee!==qe||he!==5&&he!==27&&he!==6)&&(ee=null)):(B=null,ee=R),B!==ee)){if(he=Md,q="onMouseLeave",O="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(he=Bd,q="onPointerLeave",O="onPointerEnter",j="pointer"),qe=B==null?k:Fs(B),C=ee==null?k:Fs(ee),k=new he(q,j+"leave",B,n,$),k.target=qe,k.relatedTarget=C,q=null,Ja($)===R&&(he=new he(O,j+"enter",ee,n,$),he.target=C,he.relatedTarget=qe,q=he),qe=q,B&&ee)t:{for(he=pv,O=B,j=ee,C=0,q=O;q;q=he(q))C++;q=0;for(var ue=j;ue;ue=he(ue))q++;for(;0<C-q;)O=he(O),C--;for(;0<q-C;)j=he(j),q--;for(;C--;){if(O===j||j!==null&&O===j.alternate){he=O;break t}O=he(O),j=he(j)}he=null}else he=null;B!==null&&Om(H,k,B,he,!1),ee!==null&&qe!==null&&Om(H,qe,ee,he,!0)}}e:{if(k=R?Fs(R):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var ke=Yd;else if(Vd(k))if(Kd)ke=Ay;else{ke=Ty;var ae=Ey}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?R&&po(R.elementType)&&(ke=Yd):ke=jy;if(ke&&(ke=ke(e,R))){Id(H,ke,n,$);break e}ae&&ae(e,k,R),e==="focusout"&&R&&k.type==="number"&&R.memoizedProps.value!=null&&go(k,"number",k.value)}switch(ae=R?Fs(R):window,e){case"focusin":(Vd(ae)||ae.contentEditable==="true")&&(rs=ae,Co=R,ir=null);break;case"focusout":ir=Co=rs=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,eh(H,n,$);break;case"selectionchange":if(Oy)break;case"keydown":case"keyup":eh(H,n,$)}var xe;if(jo)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ss?Hd(e,n)&&(Te="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Te="onCompositionStart");Te&&(Ld&&n.locale!=="ko"&&(ss||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ss&&(xe=Dd()):(Hn=$,xo="value"in Hn?Hn.value:Hn.textContent,ss=!0)),ae=dl(R,Te),0<ae.length&&(Te=new zd(Te,e,null,n,$),H.push({event:Te,listeners:ae}),xe?Te.data=xe:(xe=Gd(n),xe!==null&&(Te.data=xe)))),(xe=by?_y(e,n):xy(e,n))&&(Te=dl(R,"onBeforeInput"),0<Te.length&&(ae=new zd("onBeforeInput","beforeinput",null,n,$),H.push({event:ae,listeners:Te}),ae.data=xe)),hv(H,e,R,n,$)}Am(H,t)})}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Zs(e,n),o!=null&&r.unshift(Rr(e,o,d)),o=Zs(e,t),o!=null&&r.push(Rr(e,o,d))),e.tag===3)return r;e=e.return}return[]}function pv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Om(e,t,n,r,o){for(var d=t._reactName,g=[];n!==null&&n!==r;){var _=n,E=_.alternate,R=_.stateNode;if(_=_.tag,E!==null&&E===r)break;_!==5&&_!==26&&_!==27||R===null||(E=R,o?(R=Zs(n,d),R!=null&&g.unshift(Rr(n,R,E))):o||(R=Zs(n,d),R!=null&&g.push(Rr(n,R,E)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var yv=/\r\n?/g,vv=/\u0000|\uFFFD/g;function Cm(e){return(typeof e=="string"?e:""+e).replace(yv,`
`).replace(vv,"")}function Rm(e,t){return t=Cm(t),Cm(e)===t}function $e(e,t,n,r,o,d){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||ts(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&ts(e,""+r);break;case"className":gi(e,"class",r);break;case"tabIndex":gi(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(e,n,r);break;case"style":Cd(e,r,d);break;case"data":if(t!=="object"){gi(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=yi(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&$e(e,t,"name",o.name,o,null),$e(e,t,"formEncType",o.formEncType,o,null),$e(e,t,"formMethod",o.formMethod,o,null),$e(e,t,"formTarget",o.formTarget,o,null)):($e(e,t,"encType",o.encType,o,null),$e(e,t,"method",o.method,o,null),$e(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=yi(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=_n);break;case"onScroll":r!=null&&Se("scroll",e);break;case"onScrollEnd":r!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=yi(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Se("beforetoggle",e),Se("toggle",e),mi(e,"popover",r);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":mi(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Kp.get(n)||n,mi(e,n,r))}}function nc(e,t,n,r,o,d){switch(n){case"style":Cd(e,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(n=r.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof r=="string"?ts(e,r):(typeof r=="number"||typeof r=="bigint")&&ts(e,""+r);break;case"onScroll":r!=null&&Se("scroll",e);break;case"onScrollEnd":r!=null&&Se("scrollend",e);break;case"onClick":r!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),d=e[At]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof r=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):mi(e,n,r)}}}function ft(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var r=!1,o=!1,d;for(d in n)if(n.hasOwnProperty(d)){var g=n[d];if(g!=null)switch(d){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:$e(e,t,d,g,n,null)}}o&&$e(e,t,"srcSet",n.srcSet,n,null),r&&$e(e,t,"src",n.src,n,null);return;case"input":Se("invalid",e);var _=d=g=o=null,E=null,R=null;for(r in n)if(n.hasOwnProperty(r)){var $=n[r];if($!=null)switch(r){case"name":o=$;break;case"type":g=$;break;case"checked":E=$;break;case"defaultChecked":R=$;break;case"value":d=$;break;case"defaultValue":_=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:$e(e,t,r,$,n,null)}}jd(e,d,_,E,R,g,o,!1);return;case"select":Se("invalid",e),r=g=d=null;for(o in n)if(n.hasOwnProperty(o)&&(_=n[o],_!=null))switch(o){case"value":d=_;break;case"defaultValue":g=_;break;case"multiple":r=_;default:$e(e,t,o,_,n,null)}t=d,n=g,e.multiple=!!r,t!=null?es(e,!!r,t,!1):n!=null&&es(e,!!r,n,!0);return;case"textarea":Se("invalid",e),d=o=r=null;for(g in n)if(n.hasOwnProperty(g)&&(_=n[g],_!=null))switch(g){case"value":r=_;break;case"defaultValue":o=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:$e(e,t,g,_,n,null)}Nd(e,r,o,d);return;case"option":for(E in n)if(n.hasOwnProperty(E)&&(r=n[E],r!=null))switch(E){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:$e(e,t,E,r,n,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(r=0;r<Cr.length;r++)Se(Cr[r],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(r=n[R],r!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:$e(e,t,R,r,n,null)}return;default:if(po(t)){for($ in n)n.hasOwnProperty($)&&(r=n[$],r!==void 0&&nc(e,t,$,r,n,void 0));return}}for(_ in n)n.hasOwnProperty(_)&&(r=n[_],r!=null&&$e(e,t,_,r,n,null))}function bv(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,g=null,_=null,E=null,R=null,$=null;for(B in n){var H=n[B];if(n.hasOwnProperty(B)&&H!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":E=H;default:r.hasOwnProperty(B)||$e(e,t,B,null,r,H)}}for(var k in r){var B=r[k];if(H=n[k],r.hasOwnProperty(k)&&(B!=null||H!=null))switch(k){case"type":d=B;break;case"name":o=B;break;case"checked":R=B;break;case"defaultChecked":$=B;break;case"value":g=B;break;case"defaultValue":_=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:B!==H&&$e(e,t,k,B,r,H)}}mo(e,g,_,E,R,$,d,o);return;case"select":B=g=_=k=null;for(d in n)if(E=n[d],n.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":B=E;default:r.hasOwnProperty(d)||$e(e,t,d,null,r,E)}for(o in r)if(d=r[o],E=n[o],r.hasOwnProperty(o)&&(d!=null||E!=null))switch(o){case"value":k=d;break;case"defaultValue":_=d;break;case"multiple":g=d;default:d!==E&&$e(e,t,o,d,r,E)}t=_,n=g,r=B,k!=null?es(e,!!n,k,!1):!!r!=!!n&&(t!=null?es(e,!!n,t,!0):es(e,!!n,n?[]:"",!1));return;case"textarea":B=k=null;for(_ in n)if(o=n[_],n.hasOwnProperty(_)&&o!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:$e(e,t,_,null,r,o)}for(g in r)if(o=r[g],d=n[g],r.hasOwnProperty(g)&&(o!=null||d!=null))switch(g){case"value":k=o;break;case"defaultValue":B=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==d&&$e(e,t,g,o,r,d)}Ad(e,k,B);return;case"option":for(var ee in n)if(k=n[ee],n.hasOwnProperty(ee)&&k!=null&&!r.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:$e(e,t,ee,null,r,k)}for(E in r)if(k=r[E],B=n[E],r.hasOwnProperty(E)&&k!==B&&(k!=null||B!=null))switch(E){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:$e(e,t,E,k,r,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in n)k=n[he],n.hasOwnProperty(he)&&k!=null&&!r.hasOwnProperty(he)&&$e(e,t,he,null,r,k);for(R in r)if(k=r[R],B=n[R],r.hasOwnProperty(R)&&k!==B&&(k!=null||B!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,t));break;default:$e(e,t,R,k,r,B)}return;default:if(po(t)){for(var qe in n)k=n[qe],n.hasOwnProperty(qe)&&k!==void 0&&!r.hasOwnProperty(qe)&&nc(e,t,qe,void 0,r,k);for($ in r)k=r[$],B=n[$],!r.hasOwnProperty($)||k===B||k===void 0&&B===void 0||nc(e,t,$,k,r,B);return}}for(var O in n)k=n[O],n.hasOwnProperty(O)&&k!=null&&!r.hasOwnProperty(O)&&$e(e,t,O,null,r,k);for(H in r)k=r[H],B=n[H],!r.hasOwnProperty(H)||k===B||k==null&&B==null||$e(e,t,H,k,r,B)}function km(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _v(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],d=o.transferSize,g=o.initiatorType,_=o.duration;if(d&&_&&km(g)){for(g=0,_=o.responseEnd,r+=1;r<n.length;r++){var E=n[r],R=E.startTime;if(R>_)break;var $=E.transferSize,H=E.initiatorType;$&&km(H)&&(E=E.responseEnd,g+=$*(E<_?1:(_-R)/(E-R)))}if(--r,t+=8*(d+g)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ac=null,sc=null;function hl(e){return e.nodeType===9?e:e.ownerDocument}function Dm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Um(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function rc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ic=null;function xv(){var e=window.event;return e&&e.type==="popstate"?e===ic?!1:(ic=e,!0):(ic=null,!1)}var Mm=typeof setTimeout=="function"?setTimeout:void 0,wv=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,Sv=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(e){return zm.resolve(null).then(e).catch(Ev)}:Mm;function Ev(e){setTimeout(function(){throw e})}function sa(e){return e==="head"}function Bm(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(o),ks(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")kr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,kr(n);for(var d=n.firstChild;d;){var g=d.nextSibling,_=d.nodeName;d[Js]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=g}}else n==="body"&&kr(e.ownerDocument.body);n=o}while(n);ks(t)}function Lm(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function lc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":lc(n),ho(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Tv(e,t,n,r){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Js])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function jv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=tn(e.nextSibling),e===null))return null;return e}function $m(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=tn(e.nextSibling),e===null))return null;return e}function oc(e){return e.data==="$?"||e.data==="$~"}function uc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Av(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var cc=null;function qm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return tn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Hm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Gm(e,t,n){switch(t=hl(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function kr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ho(e)}var nn=new Map,Vm=new Set;function fl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zn=G.d;G.d={f:Nv,r:Ov,D:Cv,C:Rv,L:kv,m:Dv,X:Mv,S:Uv,M:zv};function Nv(){var e=zn.f(),t=sl();return e||t}function Ov(e){var t=Fa(e);t!==null&&t.tag===5&&t.type==="form"?rf(t):zn.r(e)}var Os=typeof document>"u"?null:document;function Im(e,t,n){var r=Os;if(r&&typeof t=="string"&&t){var o=Xt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Vm.has(o)||(Vm.add(o),e={rel:e,crossOrigin:n,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),ft(t,"link",e),lt(t),r.head.appendChild(t)))}}function Cv(e){zn.D(e),Im("dns-prefetch",e,null)}function Rv(e,t){zn.C(e,t),Im("preconnect",e,t)}function kv(e,t,n){zn.L(e,t,n);var r=Os;if(r&&e&&t){var o='link[rel="preload"][as="'+Xt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Xt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Xt(n.imageSizes)+'"]')):o+='[href="'+Xt(e)+'"]';var d=o;switch(t){case"style":d=Cs(e);break;case"script":d=Rs(e)}nn.has(d)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),nn.set(d,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(Dr(d))||t==="script"&&r.querySelector(Ur(d))||(t=r.createElement("link"),ft(t,"link",e),lt(t),r.head.appendChild(t)))}}function Dv(e,t){zn.m(e,t);var n=Os;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Xt(r)+'"][href="'+Xt(e)+'"]',d=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Rs(e)}if(!nn.has(d)&&(e=v({rel:"modulepreload",href:e},t),nn.set(d,e),n.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ur(d)))return}r=n.createElement("link"),ft(r,"link",e),lt(r),n.head.appendChild(r)}}}function Uv(e,t,n){zn.S(e,t,n);var r=Os;if(r&&e){var o=Za(r).hoistableStyles,d=Cs(e);t=t||"default";var g=o.get(d);if(!g){var _={loading:0,preload:null};if(g=r.querySelector(Dr(d)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=nn.get(d))&&dc(e,n);var E=g=r.createElement("link");lt(E),ft(E,"link",e),E._p=new Promise(function(R,$){E.onload=R,E.onerror=$}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ml(g,t,r)}g={type:"stylesheet",instance:g,count:1,state:_},o.set(d,g)}}}function Mv(e,t){zn.X(e,t);var n=Os;if(n&&e){var r=Za(n).hoistableScripts,o=Rs(e),d=r.get(o);d||(d=n.querySelector(Ur(o)),d||(e=v({src:e,async:!0},t),(t=nn.get(o))&&hc(e,t),d=n.createElement("script"),lt(d),ft(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(o,d))}}function zv(e,t){zn.M(e,t);var n=Os;if(n&&e){var r=Za(n).hoistableScripts,o=Rs(e),d=r.get(o);d||(d=n.querySelector(Ur(o)),d||(e=v({src:e,async:!0,type:"module"},t),(t=nn.get(o))&&hc(e,t),d=n.createElement("script"),lt(d),ft(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(o,d))}}function Ym(e,t,n,r){var o=(o=ye.current)?fl(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Cs(n.href),n=Za(o).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Cs(n.href);var d=Za(o).hoistableStyles,g=d.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=o.querySelector(Dr(e)))&&!d._p&&(g.instance=d,g.state.loading=5),nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},nn.set(e,n),d||Bv(o,e,n,g.state))),t&&r===null)throw Error(l(528,""));return g}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rs(n),n=Za(o).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Cs(e){return'href="'+Xt(e)+'"'}function Dr(e){return'link[rel="stylesheet"]['+e+"]"}function Km(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Bv(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ft(t,"link",n),lt(t),e.head.appendChild(t))}function Rs(e){return'[src="'+Xt(e)+'"]'}function Ur(e){return"script[async]"+e}function Pm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Xt(n.href)+'"]');if(r)return t.instance=r,lt(r),r;var o=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),lt(r),ft(r,"style",o),ml(r,n.precedence,e),t.instance=r;case"stylesheet":o=Cs(n.href);var d=e.querySelector(Dr(o));if(d)return t.state.loading|=4,t.instance=d,lt(d),d;r=Km(n),(o=nn.get(o))&&dc(r,o),d=(e.ownerDocument||e).createElement("link"),lt(d);var g=d;return g._p=new Promise(function(_,E){g.onload=_,g.onerror=E}),ft(d,"link",r),t.state.loading|=4,ml(d,n.precedence,e),t.instance=d;case"script":return d=Rs(n.src),(o=e.querySelector(Ur(d)))?(t.instance=o,lt(o),o):(r=n,(o=nn.get(d))&&(r=v({},n),hc(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),lt(o),ft(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,ml(r,n.precedence,e));return t.instance}function ml(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,d=o,g=0;g<r.length;g++){var _=r[g];if(_.dataset.precedence===t)d=_;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function hc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var gl=null;function Xm(e,t,n){if(gl===null){var r=new Map,o=gl=new Map;o.set(n,r)}else o=gl,r=o.get(n),r||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var d=n[o];if(!(d[Js]||d[ut]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var _=r.get(g);_?_.push(d):r.set(g,[d])}}return r}function Qm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Lv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $v(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Cs(r.href),d=t.querySelector(Dr(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=pl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,lt(d);return}d=t.ownerDocument||t,r=Km(r),(o=nn.get(o))&&dc(r,o),d=d.createElement("link"),lt(d);var g=d;g._p=new Promise(function(_,E){g.onload=_,g.onerror=E}),ft(d,"link",r),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=pl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var fc=0;function qv(e,t){return e.stylesheets&&e.count===0&&vl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&vl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&fc===0&&(fc=62500*_v());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>fc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function pl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yl=null;function vl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yl=new Map,t.forEach(Hv,e),yl=null,pl.call(e))}function Hv(e,t){if(!(t.state.loading&4)){var n=yl.get(e);if(n)var r=n.get(null);else{n=new Map,yl.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var g=o[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),r=g)}r&&n.set(null,r)}o=t.instance,g=o.getAttribute("data-precedence"),d=n.get(g)||r,d===r&&n.set(null,o),n.set(g,o),this.count++,r=pl.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Mr={$$typeof:U,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Gv(e,t,n,r,o,d,g,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.hiddenUpdates=Qs(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Fm(e,t,n,r,o,d,g,_,E,R,$,H){return e=new Gv(e,t,n,g,E,R,$,H,_),t=1,d===!0&&(t|=24),d=Lt(3,null,null,t),e.current=d,d.stateNode=e,t=Ko(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:r,isDehydrated:n,cache:t},Jo(d),e}function Zm(e){return e?(e=os,e):os}function Wm(e,t,n,r,o,d){o=Zm(o),r.context===null?r.context=o:r.pendingContext=o,r=Pn(t),r.payload={element:n},d=d===void 0?null:d,d!==null&&(r.callback=d),n=Xn(e,r,t),n!==null&&(Dt(n,e,t),fr(n,e,t))}function e0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mc(e,t){e0(e,t),(e=e.alternate)&&e0(e,t)}function t0(e){if(e.tag===13||e.tag===31){var t=Ea(e,67108864);t!==null&&Dt(t,e,67108864),mc(e,67108864)}}function n0(e){if(e.tag===13||e.tag===31){var t=Vt();t=Re(t);var n=Ea(e,t);n!==null&&Dt(n,e,t),mc(e,t)}}var bl=!0;function Vv(e,t,n,r){var o=z.T;z.T=null;var d=G.p;try{G.p=2,gc(e,t,n,r)}finally{G.p=d,z.T=o}}function Iv(e,t,n,r){var o=z.T;z.T=null;var d=G.p;try{G.p=8,gc(e,t,n,r)}finally{G.p=d,z.T=o}}function gc(e,t,n,r){if(bl){var o=pc(r);if(o===null)tc(e,t,r,_l,n),s0(e,r);else if(Kv(o,e,t,n,r))r.stopPropagation();else if(s0(e,r),t&4&&-1<Yv.indexOf(e)){for(;o!==null;){var d=Fa(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=vn(d.pendingLanes);if(g!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var E=1<<31-_t(g);_.entanglements[1]|=E,g&=~E}pn(d),(Ue&6)===0&&(nl=bt()+500,Or(0))}}break;case 31:case 13:_=Ea(d,2),_!==null&&Dt(_,d,2),sl(),mc(d,2)}if(d=pc(r),d===null&&tc(e,t,r,_l,n),d===o)break;o=d}o!==null&&r.stopPropagation()}else tc(e,t,r,null,n)}}function pc(e){return e=vo(e),yc(e)}var _l=null;function yc(e){if(_l=null,e=Ja(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _l=e,null}function a0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ps()){case Xs:return 2;case ui:return 8;case ma:case so:return 32;case ci:return 268435456;default:return 32}default:return 32}}var vc=!1,ra=null,ia=null,la=null,zr=new Map,Br=new Map,oa=[],Yv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s0(e,t){switch(e){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(t.pointerId)}}function Lr(e,t,n,r,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:d,targetContainers:[o]},t!==null&&(t=Fa(t),t!==null&&t0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Kv(e,t,n,r,o){switch(t){case"focusin":return ra=Lr(ra,e,t,n,r,o),!0;case"dragenter":return ia=Lr(ia,e,t,n,r,o),!0;case"mouseover":return la=Lr(la,e,t,n,r,o),!0;case"pointerover":var d=o.pointerId;return zr.set(d,Lr(zr.get(d)||null,e,t,n,r,o)),!0;case"gotpointercapture":return d=o.pointerId,Br.set(d,Lr(Br.get(d)||null,e,t,n,r,o)),!0}return!1}function r0(e){var t=Ja(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,fi(e.priority,function(){n0(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,fi(e.priority,function(){n0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pc(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yo=r,n.target.dispatchEvent(r),yo=null}else return t=Fa(n),t!==null&&t0(t),e.blockedOn=n,!1;t.shift()}return!0}function i0(e,t,n){xl(e)&&n.delete(t)}function Pv(){vc=!1,ra!==null&&xl(ra)&&(ra=null),ia!==null&&xl(ia)&&(ia=null),la!==null&&xl(la)&&(la=null),zr.forEach(i0),Br.forEach(i0)}function wl(e,t){e.blockedOn===t&&(e.blockedOn=null,vc||(vc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Pv)))}var Sl=null;function l0(e){Sl!==e&&(Sl=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Sl===e&&(Sl=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(yc(r||n)===null)continue;break}var d=Fa(n);d!==null&&(e.splice(t,3),t-=3,pu(d,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function ks(e){function t(E){return wl(E,e)}ra!==null&&wl(ra,e),ia!==null&&wl(ia,e),la!==null&&wl(la,e),zr.forEach(t),Br.forEach(t);for(var n=0;n<oa.length;n++){var r=oa[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<oa.length&&(n=oa[0],n.blockedOn===null);)r0(n),n.blockedOn===null&&oa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var o=n[r],d=n[r+1],g=o[At]||null;if(typeof d=="function")g||l0(n);else if(g){var _=null;if(d&&d.hasAttribute("formAction")){if(o=d,g=d[At]||null)_=g.formAction;else if(yc(o)!==null)continue}else _=g.action;typeof _=="function"?n[r+1]=_:(n.splice(r,3),r-=3),l0(n)}}}function o0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function bc(e){this._internalRoot=e}El.prototype.render=bc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,r=Vt();Wm(n,r,e,t,null,null)},El.prototype.unmount=bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wm(e.current,2,null,e,null,null),sl(),t[Qa]=null}};function El(e){this._internalRoot=e}El.prototype.unstable_scheduleHydration=function(e){if(e){var t=ba();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oa.length&&t!==0&&t<oa[n].priority;n++);oa.splice(n,0,e),n===0&&r0(e)}};var u0=a.version;if(u0!=="19.2.1")throw Error(l(527,u0,"19.2.1"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Xv={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{ga=Tl.inject(Xv),St=Tl}catch{}}return qr.createRoot=function(e,t){if(!u(e))throw Error(l(299));var n=!1,r="",o=pf,d=yf,g=vf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Fm(e,1,!1,null,null,n,r,null,o,d,g,o0),e[Qa]=t.current,ec(e),new bc(t)},qr.hydrateRoot=function(e,t,n){if(!u(e))throw Error(l(299));var r=!1,o="",d=pf,g=yf,_=vf,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.formState!==void 0&&(E=n.formState)),t=Fm(e,1,!0,t,n??null,r,o,E,d,g,_,o0),t.context=Zm(null),n=t.current,r=Vt(),r=Re(r),o=Pn(r),o.callback=null,Xn(n,o,r),n=r,t.current.lanes=n,va(t,n),pn(t),e[Qa]=t.current,ec(e),new El(t)},qr.version="19.2.1",qr}var b0;function rb(){if(b0)return wc.exports;b0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),wc.exports=sb(),wc.exports}var ib=rb(),Bn={},jl={},zc=function(i,a){return zc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])},zc(i,a)};function ug(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");zc(i,a);function s(){this.constructor=i}i.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}var Vl=function(){return Vl=Object.assign||function(a){for(var s,l=1,u=arguments.length;l<u;l++){s=arguments[l];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a},Vl.apply(this,arguments)};function Ys(i,a){var s={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.indexOf(l)<0&&(s[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)a.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(s[l[u]]=i[l[u]]);return s}function cg(i,a,s,l){var u=arguments.length,c=u<3?a:l===null?l=Object.getOwnPropertyDescriptor(a,s):l,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(i,a,s,l);else for(var m=i.length-1;m>=0;m--)(h=i[m])&&(c=(u<3?h(c):u>3?h(a,s,c):h(a,s))||c);return u>3&&c&&Object.defineProperty(a,s,c),c}function dg(i,a){return function(s,l){a(s,l,i)}}function hg(i,a,s,l,u,c){function h(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var m=l.kind,p=m==="getter"?"get":m==="setter"?"set":"value",y=!a&&i?l.static?i:i.prototype:null,b=a||(y?Object.getOwnPropertyDescriptor(y,l.name):{}),v,x=!1,w=s.length-1;w>=0;w--){var S={};for(var T in l)S[T]=T==="access"?{}:l[T];for(var T in l.access)S.access[T]=l.access[T];S.addInitializer=function(D){if(x)throw new TypeError("Cannot add initializers after decoration has completed");c.push(h(D||null))};var N=(0,s[w])(m==="accessor"?{get:b.get,set:b.set}:b[p],S);if(m==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(v=h(N.get))&&(b.get=v),(v=h(N.set))&&(b.set=v),(v=h(N.init))&&u.unshift(v)}else(v=h(N))&&(m==="field"?u.unshift(v):b[p]=v)}y&&Object.defineProperty(y,l.name,b),x=!0}function fg(i,a,s){for(var l=arguments.length>2,u=0;u<a.length;u++)s=l?a[u].call(i,s):a[u].call(i);return l?s:void 0}function mg(i){return typeof i=="symbol"?i:"".concat(i)}function gg(i,a,s){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:s?"".concat(s," ",a):a})}function pg(i,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,a)}function W(i,a,s,l){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(b){try{y(l.next(b))}catch(v){h(v)}}function p(b){try{y(l.throw(b))}catch(v){h(v)}}function y(b){b.done?c(b.value):u(b.value).then(m,p)}y((l=l.apply(i,a||[])).next())})}function yg(i,a){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,u,c,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=m(0),h.throw=m(1),h.return=m(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(y){return function(b){return p([y,b])}}function p(y){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(s=0)),s;)try{if(l=1,u&&(c=y[0]&2?u.return:y[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,y[1])).done)return c;switch(u=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,u=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){s.label=y[1];break}if(y[0]===6&&s.label<c[1]){s.label=c[1],c=y;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(y);break}c[2]&&s.ops.pop(),s.trys.pop();continue}y=a.call(i,s)}catch(b){y=[6,b],u=0}finally{l=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var Wl=Object.create?(function(i,a,s,l){l===void 0&&(l=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,l,u)}):(function(i,a,s,l){l===void 0&&(l=s),i[l]=a[s]});function vg(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&Wl(a,i,s)}function Il(i){var a=typeof Symbol=="function"&&Symbol.iterator,s=a&&i[a],l=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function id(i,a){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var l=s.call(i),u,c=[],h;try{for(;(a===void 0||a-- >0)&&!(u=l.next()).done;)c.push(u.value)}catch(m){h={error:m}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(h)throw h.error}}return c}function bg(){for(var i=[],a=0;a<arguments.length;a++)i=i.concat(id(arguments[a]));return i}function _g(){for(var i=0,a=0,s=arguments.length;a<s;a++)i+=arguments[a].length;for(var l=Array(i),u=0,a=0;a<s;a++)for(var c=arguments[a],h=0,m=c.length;h<m;h++,u++)l[u]=c[h];return l}function xg(i,a,s){if(s||arguments.length===2)for(var l=0,u=a.length,c;l<u;l++)(c||!(l in a))&&(c||(c=Array.prototype.slice.call(a,0,l)),c[l]=a[l]);return i.concat(c||Array.prototype.slice.call(a))}function Vs(i){return this instanceof Vs?(this.v=i,this):new Vs(i)}function wg(i,a,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(i,a||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(w){return function(S){return Promise.resolve(S).then(w,v)}}function m(w,S){l[w]&&(u[w]=function(T){return new Promise(function(N,D){c.push([w,T,N,D])>1||p(w,T)})},S&&(u[w]=S(u[w])))}function p(w,S){try{y(l[w](S))}catch(T){x(c[0][3],T)}}function y(w){w.value instanceof Vs?Promise.resolve(w.value.v).then(b,v):x(c[0][2],w)}function b(w){p("next",w)}function v(w){p("throw",w)}function x(w,S){w(S),c.shift(),c.length&&p(c[0][0],c[0][1])}}function Sg(i){var a,s;return a={},l("next"),l("throw",function(u){throw u}),l("return"),a[Symbol.iterator]=function(){return this},a;function l(u,c){a[u]=i[u]?function(h){return(s=!s)?{value:Vs(i[u](h)),done:!1}:c?c(h):h}:c}}function Eg(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i[Symbol.asyncIterator],s;return a?a.call(i):(i=typeof Il=="function"?Il(i):i[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(c){s[c]=i[c]&&function(h){return new Promise(function(m,p){h=i[c](h),u(m,p,h.done,h.value)})}}function u(c,h,m,p){Promise.resolve(p).then(function(y){c({value:y,done:m})},h)}}function Tg(i,a){return Object.defineProperty?Object.defineProperty(i,"raw",{value:a}):i.raw=a,i}var lb=Object.create?(function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}):function(i,a){i.default=a},Bc=function(i){return Bc=Object.getOwnPropertyNames||function(a){var s=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[s.length]=l);return s},Bc(i)};function jg(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var s=Bc(i),l=0;l<s.length;l++)s[l]!=="default"&&Wl(a,i,s[l]);return lb(a,i),a}function Ag(i){return i&&i.__esModule?i:{default:i}}function Ng(i,a,s,l){if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?i!==a||!l:!a.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(i):l?l.value:a.get(i)}function Og(i,a,s,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?i!==a||!u:!a.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(i,s):u?u.value=s:a.set(i,s),s}function Cg(i,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?a===i:i.has(a)}function Rg(i,a,s){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var l,u;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=a[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=a[Symbol.dispose],s&&(u=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");u&&(l=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),i.stack.push({value:a,dispose:l,async:s})}else s&&i.stack.push({async:!0});return a}var ob=typeof SuppressedError=="function"?SuppressedError:function(i,a,s){var l=new Error(s);return l.name="SuppressedError",l.error=i,l.suppressed=a,l};function kg(i){function a(c){i.error=i.hasError?new ob(c,i.error,"An error was suppressed during disposal."):c,i.hasError=!0}var s,l=0;function u(){for(;s=i.stack.pop();)try{if(!s.async&&l===1)return l=0,i.stack.push(s),Promise.resolve().then(u);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return l|=2,Promise.resolve(c).then(u,function(h){return a(h),u()})}else l|=1}catch(h){a(h)}if(l===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return u()}function Dg(i,a){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,l,u,c,h){return l?a?".jsx":".js":u&&(!c||!h)?s:u+c+"."+h.toLowerCase()+"js"}):i}const ub={__extends:ug,__assign:Vl,__rest:Ys,__decorate:cg,__param:dg,__esDecorate:hg,__runInitializers:fg,__propKey:mg,__setFunctionName:gg,__metadata:pg,__awaiter:W,__generator:yg,__createBinding:Wl,__exportStar:vg,__values:Il,__read:id,__spread:bg,__spreadArrays:_g,__spreadArray:xg,__await:Vs,__asyncGenerator:wg,__asyncDelegator:Sg,__asyncValues:Eg,__makeTemplateObject:Tg,__importStar:jg,__importDefault:Ag,__classPrivateFieldGet:Ng,__classPrivateFieldSet:Og,__classPrivateFieldIn:Cg,__addDisposableResource:Rg,__disposeResources:kg,__rewriteRelativeImportExtension:Dg},cb=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Rg,get __assign(){return Vl},__asyncDelegator:Sg,__asyncGenerator:wg,__asyncValues:Eg,__await:Vs,__awaiter:W,__classPrivateFieldGet:Ng,__classPrivateFieldIn:Cg,__classPrivateFieldSet:Og,__createBinding:Wl,__decorate:cg,__disposeResources:kg,__esDecorate:hg,__exportStar:vg,__extends:ug,__generator:yg,__importDefault:Ag,__importStar:jg,__makeTemplateObject:Tg,__metadata:pg,__param:dg,__propKey:mg,__read:id,__rest:Ys,__rewriteRelativeImportExtension:Dg,__runInitializers:fg,__setFunctionName:gg,__spread:bg,__spreadArray:xg,__spreadArrays:_g,__values:Il,default:ub},Symbol.toStringTag,{value:"Module"})),db=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);let eo=class extends Error{constructor(a,s="FunctionsError",l){super(a),this.name=s,this.context=l}},Ug=class extends eo{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}},Lc=class extends eo{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}},$c=class extends eo{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}};var Yl;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Yl||(Yl={}));class hb{constructor(a,{headers:s={},customFetch:l,region:u=Yl.Any}={}){this.url=a,this.headers=s,this.region=u,this.fetch=db(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return W(this,arguments,void 0,function*(s,l={}){var u;let c,h;try{const{headers:m,method:p,body:y,signal:b,timeout:v}=l;let x={},{region:w}=l;w||(w=this.region);const S=new URL(`${this.url}/${s}`);w&&w!=="any"&&(x["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let T;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",T=y):typeof y=="string"?(x["Content-Type"]="text/plain",T=y):typeof FormData<"u"&&y instanceof FormData?T=y:(x["Content-Type"]="application/json",T=JSON.stringify(y)):T=y;let N=b;v&&(h=new AbortController,c=setTimeout(()=>h.abort(),v),b?(N=h.signal,b.addEventListener("abort",()=>h.abort())):N=h.signal);const D=yield this.fetch(S.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),m),body:T,signal:N}).catch(F=>{throw new Ug(F)}),L=D.headers.get("x-relay-error");if(L&&L==="true")throw new Lc(D);if(!D.ok)throw new $c(D);let U=((u=D.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),I;return U==="application/json"?I=yield D.json():U==="application/octet-stream"||U==="application/pdf"?I=yield D.blob():U==="text/event-stream"?I=D:U==="multipart/form-data"?I=yield D.formData():I=yield D.text(),{data:I,error:null,response:D}}catch(m){return{data:null,error:m,response:m instanceof $c||m instanceof Lc?m.context:void 0}}finally{c&&clearTimeout(c)}})}}const fb=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Yl},FunctionsClient:hb,FunctionsError:eo,FunctionsFetchError:Ug,FunctionsHttpError:$c,FunctionsRelayError:Lc},Symbol.toStringTag,{value:"Module"})),Mg=ri(fb);var wt={};const Ks=ri(cb);var Al={},Nl={},Ol={},Cl={},Rl={},kl={},_0;function zg(){if(_0)return kl;_0=1,Object.defineProperty(kl,"__esModule",{value:!0});class i extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return kl.default=i,kl}var x0;function Bg(){if(x0)return Rl;x0=1,Object.defineProperty(Rl,"__esModule",{value:!0});const a=Ks.__importDefault(zg());let s=class{constructor(u){var c,h;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(h=u.isMaybeSingle)!==null&&h!==void 0?h:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,b,v,x;let w=null,S=null,T=null,N=p.status,D=p.statusText;if(p.ok){if(this.method!=="HEAD"){const F=await p.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?S=F:S=JSON.parse(F))}const U=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),I=(v=p.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");U&&I&&I.length>1&&(T=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,T=null,N=406,D="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const U=await p.text();try{w=JSON.parse(U),Array.isArray(w)&&p.status===404&&(S=[],w=null,N=200,D="OK")}catch{p.status===404&&U===""?(N=204,D="No Content"):w={message:U}}if(w&&this.isMaybeSingle&&(!((x=w?.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,N=200,D="OK"),w&&this.shouldThrowOnError)throw new a.default(w)}return{error:w,data:S,count:T,status:N,statusText:D}});return this.shouldThrowOnError||(m=m.catch(p=>{var y,b,v,x,w,S;let T="";const N=p?.cause;if(N){const D=(y=N?.message)!==null&&y!==void 0?y:"",L=(b=N?.code)!==null&&b!==void 0?b:"";T=`${(v=p?.name)!==null&&v!==void 0?v:"FetchError"}: ${p?.message}`,T+=`

Caused by: ${(x=N?.name)!==null&&x!==void 0?x:"Error"}: ${D}`,L&&(T+=` (${L})`),N?.stack&&(T+=`
${N.stack}`)}else T=(w=p?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(S=p?.name)!==null&&S!==void 0?S:"FetchError"}: ${p?.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(u,c)}returns(){return this}overrideTypes(){return this}};return Rl.default=s,Rl}var w0;function Lg(){if(w0)return Cl;w0=1,Object.defineProperty(Cl,"__esModule",{value:!0});const a=Ks.__importDefault(Bg());let s=class extends a.default{select(u){let c=!1;const h=(u??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:h,foreignTable:m,referencedTable:p=m}={}){const y=p?`${p}.order`:"order",b=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${b?`${b},`:""}${u}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:h=c}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${u}`),this}range(u,c,{foreignTable:h,referencedTable:m=h}={}){const p=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${u}`),this.url.searchParams.set(y,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:h=!1,buffers:m=!1,wal:p=!1,format:y="text"}={}){var b;const v=[u?"analyze":null,c?"verbose":null,h?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),x=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${x}"; options=${v};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}};return Cl.default=s,Cl}var S0;function ld(){if(S0)return Ol;S0=1,Object.defineProperty(Ol,"__esModule",{value:!0});const a=Ks.__importDefault(Lg()),s=new RegExp("[,()]");let l=class extends a.default{eq(c,h){return this.url.searchParams.append(c,`eq.${h}`),this}neq(c,h){return this.url.searchParams.append(c,`neq.${h}`),this}gt(c,h){return this.url.searchParams.append(c,`gt.${h}`),this}gte(c,h){return this.url.searchParams.append(c,`gte.${h}`),this}lt(c,h){return this.url.searchParams.append(c,`lt.${h}`),this}lte(c,h){return this.url.searchParams.append(c,`lte.${h}`),this}like(c,h){return this.url.searchParams.append(c,`like.${h}`),this}likeAllOf(c,h){return this.url.searchParams.append(c,`like(all).{${h.join(",")}}`),this}likeAnyOf(c,h){return this.url.searchParams.append(c,`like(any).{${h.join(",")}}`),this}ilike(c,h){return this.url.searchParams.append(c,`ilike.${h}`),this}ilikeAllOf(c,h){return this.url.searchParams.append(c,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(c,h){return this.url.searchParams.append(c,`ilike(any).{${h.join(",")}}`),this}regexMatch(c,h){return this.url.searchParams.append(c,`match.${h}`),this}regexIMatch(c,h){return this.url.searchParams.append(c,`imatch.${h}`),this}is(c,h){return this.url.searchParams.append(c,`is.${h}`),this}isDistinct(c,h){return this.url.searchParams.append(c,`isdistinct.${h}`),this}in(c,h){const m=Array.from(new Set(h)).map(p=>typeof p=="string"&&s.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(c,`in.(${m})`),this}contains(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cs.{${h.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(h)}`),this}containedBy(c,h){return typeof h=="string"?this.url.searchParams.append(c,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(c,`cd.{${h.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(h)}`),this}rangeGt(c,h){return this.url.searchParams.append(c,`sr.${h}`),this}rangeGte(c,h){return this.url.searchParams.append(c,`nxl.${h}`),this}rangeLt(c,h){return this.url.searchParams.append(c,`sl.${h}`),this}rangeLte(c,h){return this.url.searchParams.append(c,`nxr.${h}`),this}rangeAdjacent(c,h){return this.url.searchParams.append(c,`adj.${h}`),this}overlaps(c,h){return typeof h=="string"?this.url.searchParams.append(c,`ov.${h}`):this.url.searchParams.append(c,`ov.{${h.join(",")}}`),this}textSearch(c,h,{config:m,type:p}={}){let y="";p==="plain"?y="pl":p==="phrase"?y="ph":p==="websearch"&&(y="w");const b=m===void 0?"":`(${m})`;return this.url.searchParams.append(c,`${y}fts${b}.${h}`),this}match(c){return Object.entries(c).forEach(([h,m])=>{this.url.searchParams.append(h,`eq.${m}`)}),this}not(c,h,m){return this.url.searchParams.append(c,`not.${h}.${m}`),this}or(c,{foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.or`:"or";return this.url.searchParams.append(p,`(${c})`),this}filter(c,h,m){return this.url.searchParams.append(c,`${h}.${m}`),this}};return Ol.default=l,Ol}var E0;function $g(){if(E0)return Nl;E0=1,Object.defineProperty(Nl,"__esModule",{value:!0});const a=Ks.__importDefault(ld());let s=class{constructor(u,{headers:c={},schema:h,fetch:m}){this.url=u,this.headers=new Headers(c),this.schema=h,this.fetch=m}select(u,c){const{head:h=!1,count:m}=c??{},p=h?"HEAD":"GET";let y=!1;const b=(u??"*").split("").map(v=>/\s/.test(v)&&!y?"":(v==='"'&&(y=!y),v)).join("");return this.url.searchParams.set("select",b),m&&this.headers.append("Prefer",`count=${m}`),new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:h=!0}={}){var m;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const y=u.reduce((b,v)=>b.concat(Object.keys(v)),[]);if(y.length>0){const b=[...new Set(y)].map(v=>`"${v}"`);this.url.searchParams.set("columns",b.join(","))}}return new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:h=!1,count:m,defaultToNull:p=!0}={}){var y;const b="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const v=u.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(v.length>0){const x=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new a.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(u,{count:c}={}){var h;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var c;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new a.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};return Nl.default=s,Nl}var T0;function mb(){if(T0)return Al;T0=1,Object.defineProperty(Al,"__esModule",{value:!0});const i=Ks,a=i.__importDefault($g()),s=i.__importDefault(ld());let l=class qg{constructor(c,{headers:h={},schema:m,fetch:p}={}){this.url=c,this.headers=new Headers(h),this.schemaName=m,this.fetch=p}from(c){if(!c||typeof c!="string"||c.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const h=new URL(`${this.url}/${c}`);return new a.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new qg(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:m=!1,get:p=!1,count:y}={}){var b;let v;const x=new URL(`${this.url}/rpc/${c}`);let w;m||p?(v=m?"HEAD":"GET",Object.entries(h).filter(([T,N])=>N!==void 0).map(([T,N])=>[T,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([T,N])=>{x.searchParams.append(T,N)})):(v="POST",w=h);const S=new Headers(this.headers);return y&&S.set("Prefer",`count=${y}`),new s.default({method:v,url:x,headers:S,schema:this.schemaName,body:w,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}};return Al.default=l,Al}var j0;function Hg(){if(j0)return wt;j0=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const i=Ks,a=i.__importDefault(mb());wt.PostgrestClient=a.default;const s=i.__importDefault($g());wt.PostgrestQueryBuilder=s.default;const l=i.__importDefault(ld());wt.PostgrestFilterBuilder=l.default;const u=i.__importDefault(Lg());wt.PostgrestTransformBuilder=u.default;const c=i.__importDefault(Bg());wt.PostgrestBuilder=c.default;const h=i.__importDefault(zg());return wt.PostgrestError=h.default,wt.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:h.default},wt}class Gg{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const l=s.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let s=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(s+=`

Suggested solution: ${a.workaround}`),new Error(s)}static createWebSocket(a,s){const l=this.getWebSocketConstructor();return new l(a,s)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const gb="2.87.1",pb=`realtime-js/${gb}`,Vg="1.0.0",yb="2.0.0",A0=Vg,qc=1e4,vb=1e3,bb=100;var Ga;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Ga||(Ga={}));var st;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(st||(st={}));var dn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(dn||(dn={}));var Hc;(function(i){i.websocket="websocket"})(Hc||(Hc={}));var Va;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Va||(Va={}));class _b{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,s){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return s(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var s;return this._isArrayBuffer((s=a.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var s,l;const u=(l=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(a){var s,l;const u=(l=(s=a.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,s,l){var u,c;const h=a.topic,m=(u=a.ref)!==null&&u!==void 0?u:"",p=(c=a.join_ref)!==null&&c!==void 0?c:"",y=a.payload.event,b=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},v=Object.keys(b).length===0?"":JSON.stringify(b);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+h.length+y.length+v.length,w=new ArrayBuffer(this.HEADER_LENGTH+x);let S=new DataView(w),T=0;S.setUint8(T++,this.KINDS.userBroadcastPush),S.setUint8(T++,p.length),S.setUint8(T++,m.length),S.setUint8(T++,h.length),S.setUint8(T++,y.length),S.setUint8(T++,v.length),S.setUint8(T++,s),Array.from(p,D=>S.setUint8(T++,D.charCodeAt(0))),Array.from(m,D=>S.setUint8(T++,D.charCodeAt(0))),Array.from(h,D=>S.setUint8(T++,D.charCodeAt(0))),Array.from(y,D=>S.setUint8(T++,D.charCodeAt(0))),Array.from(v,D=>S.setUint8(T++,D.charCodeAt(0)));var N=new Uint8Array(w.byteLength+l.byteLength);return N.set(new Uint8Array(w),0),N.set(new Uint8Array(l),w.byteLength),N.buffer}decode(a,s){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return s(l)}if(typeof a=="string"){const l=JSON.parse(a),[u,c,h,m,p]=l;return s({join_ref:u,ref:c,topic:h,event:m,payload:p})}return s({})}_binaryDecode(a){const s=new DataView(a),l=s.getUint8(0),u=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,s,u)}}_decodeUserBroadcast(a,s,l){const u=s.getUint8(1),c=s.getUint8(2),h=s.getUint8(3),m=s.getUint8(4);let p=this.HEADER_LENGTH+4;const y=l.decode(a.slice(p,p+u));p=p+u;const b=l.decode(a.slice(p,p+c));p=p+c;const v=l.decode(a.slice(p,p+h));p=p+h;const x=a.slice(p,a.byteLength),w=m===this.JSON_ENCODING?JSON.parse(l.decode(x)):x,S={type:this.BROADCAST_EVENT,event:b,payload:w};return h>0&&(S.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(a){var s;return a instanceof ArrayBuffer||((s=a?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(a,s){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>s.includes(l)))}}class Ig{constructor(a,s){this.callback=a,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ge||(Ge={}));const N0=(i,a,s={})=>{var l;const u=(l=s.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((c,h)=>(c[h]=xb(h,i,a,u),c),{}):{}},xb=(i,a,s,l)=>{const u=a.find(m=>m.name===i),c=u?.type,h=s[i];return c&&!l.includes(c)?Yg(c,h):Gc(h)},Yg=(i,a)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return Tb(a,s)}switch(i){case Ge.bool:return wb(a);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return Sb(a);case Ge.json:case Ge.jsonb:return Eb(a);case Ge.timestamp:return jb(a);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return Gc(a);default:return Gc(a)}},Gc=i=>i,wb=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Sb=i=>{if(typeof i=="string"){const a=parseFloat(i);if(!Number.isNaN(a))return a}return i},Eb=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(a){return console.log(`JSON parse error: ${a}`),i}return i},Tb=(i,a)=>{if(typeof i!="string")return i;const s=i.length-1,l=i[s];if(i[0]==="{"&&l==="}"){let c;const h=i.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(m=>Yg(a,m))}return i},jb=i=>typeof i=="string"?i.replace(" ","T"):i,Kg=i=>{const a=new URL(i);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class jc{constructor(a,s,l={},u=qc){this.channel=a,this.event=s,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,s){var l;return this._hasReceived(a)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:s}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(s))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Vc;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Vc||(Vc={}));let Pg=class Bl{constructor(a,s){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bl.syncState(this.state,u,c,h),this.pendingDiffs.forEach(p=>{this.state=Bl.syncDiff(this.state,p,c,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Bl.syncDiff(this.state,u,c,h),m())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,s,l,u){const c=this.cloneDeep(a),h=this.transformState(s),m={},p={};return this.map(c,(y,b)=>{h[y]||(p[y]=b)}),this.map(h,(y,b)=>{const v=c[y];if(v){const x=b.map(N=>N.presence_ref),w=v.map(N=>N.presence_ref),S=b.filter(N=>w.indexOf(N.presence_ref)<0),T=v.filter(N=>x.indexOf(N.presence_ref)<0);S.length>0&&(m[y]=S),T.length>0&&(p[y]=T)}else m[y]=b}),this.syncDiff(c,{joins:m,leaves:p},l,u)}static syncDiff(a,s,l,u){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(c,(m,p)=>{var y;const b=(y=a[m])!==null&&y!==void 0?y:[];if(a[m]=this.cloneDeep(p),b.length>0){const v=a[m].map(w=>w.presence_ref),x=b.filter(w=>v.indexOf(w.presence_ref)<0);a[m].unshift(...x)}l(m,b,p)}),this.map(h,(m,p)=>{let y=a[m];if(!y)return;const b=p.map(v=>v.presence_ref);y=y.filter(v=>b.indexOf(v.presence_ref)<0),a[m]=y,u(m,y,p),y.length===0&&delete a[m]}),a}static map(a,s){return Object.getOwnPropertyNames(a).map(l=>s(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((s,l)=>{const u=a[l];return"metas"in u?s[l]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[l]=u,s},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ic;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Ic||(Ic={}));var Hs;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Hs||(Hs={}));var yn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(yn||(yn={}));const Ab=st;let Xg=class Xr{constructor(a,s={config:{}},l){var u,c;if(this.topic=a,this.params=s,this.socket=l,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new jc(this,dn.join,this.params,this.timeout),this.rejoinTimer=new Ig(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dn.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new Pg(this),this.broadcastEndpointURL=Kg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,s=this.timeout){var l,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:h,presence:m,private:p}}=this.params,y=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(w=>w.filter))!==null&&u!==void 0?u:[],b=!!this.bindings[Hs.PRESENCE]&&this.bindings[Hs.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,v={},x={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>a?.(yn.CHANNEL_ERROR,w)),this._onClose(()=>a?.(yn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){a?.(yn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,N=(S=T?.length)!==null&&S!==void 0?S:0,D=[];for(let L=0;L<N;L++){const U=T[L],{filter:{event:I,schema:F,table:Q,filter:K}}=U,Z=w&&w[L];if(Z&&Z.event===I&&Xr.isFilterValueEqual(Z.schema,F)&&Xr.isFilterValueEqual(Z.table,Q)&&Xr.isFilterValueEqual(Z.filter,K))D.push(Object.assign(Object.assign({},U),{id:Z.id}));else{this.unsubscribe(),this.state=st.errored,a?.(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,a&&a(yn.SUBSCRIBED);return}}).receive("error",w=>{this.state=st.errored,a?.(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{a?.(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,s={}){return await this.send({type:"presence",event:"track",payload:a},s.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,s,l){return this.state===st.joined&&a===Hs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,s,l)}async httpSend(a,s,l={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const y=await m.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(a,s={}){var l,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=a,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,m,p;const y=this._push(a.type,a,s.timeout||this.timeout);a.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=st.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new jc(this,dn.leave,{},a),l.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(a,s,l){const u=new AbortController,c=setTimeout(()=>u.abort(),l),h=await this.socket.fetch(a,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),h}_push(a,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new jc(this,a,s,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>bb){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(a,s,l){return s}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,s,l){var u,c;const h=a.toLocaleLowerCase(),{close:m,error:p,leave:y,join:b}=dn;if(l&&[m,p,y,b].indexOf(h)>=0&&l!==this._joinRef())return;let x=this._onMessage(h,s,l);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(w=>{var S,T,N;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((N=(T=w.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===h}).map(w=>w.callback(x,l)):(c=this.bindings[h])===null||c===void 0||c.filter(w=>{var S,T,N,D,L,U;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in w){const I=w.id,F=(S=w.filter)===null||S===void 0?void 0:S.event;return I&&((T=s.ids)===null||T===void 0?void 0:T.includes(I))&&(F==="*"||F?.toLocaleLowerCase()===((N=s.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const I=(L=(D=w?.filter)===null||D===void 0?void 0:D.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return I==="*"||I===((U=s?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===h}).map(w=>{if(typeof x=="object"&&"ids"in x){const S=x.data,{schema:T,table:N,commit_timestamp:D,type:L,errors:U}=S;x=Object.assign(Object.assign({},{schema:T,table:N,commit_timestamp:D,eventType:L,new:{},old:{},errors:U}),this._getPayloadRecords(S))}w.callback(x,l)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,s,l){const u=a.toLocaleLowerCase(),c={type:u,filter:s,callback:l};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(a,s){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&Xr.isEqual(u.filter,s))})),this}static isEqual(a,s){if(Object.keys(a).length!==Object.keys(s).length)return!1;for(const l in a)if(a[l]!==s[l])return!1;return!0}static isFilterValueEqual(a,s){return(a??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(dn.close,{},a)}_onError(a){this._on(dn.error,{},s=>a(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const s={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(s.new=N0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(s.old=N0(a.columns,a.old_record)),s}};const Ac=()=>{},Dl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nb=[1e3,2e3,5e3,1e4],Ob=1e4,Cb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Rb=class{constructor(a,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qc,this.transport=null,this.heartbeatIntervalMs=Dl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ac,this.ref=0,this.reconnectTimer=null,this.vsn=A0,this.logger=Ac,this.conn=null,this.sendBuffer=[],this.serializer=new _b,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${a}/${Hc.websocket}`,this.httpEndpoint=Kg(a),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gg.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const s=a.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const s=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const a=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,s,l){this.logger(a,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ga.connecting:return Va.Connecting;case Ga.open:return Va.Open;case Ga.closing:return Va.Closing;default:return Va.Closed}}isConnected(){return this.connectionState()===Va.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,s={config:{}}){const l=`realtime:${a}`,u=this.getChannels().find(c=>c.topic===l);if(u)return u;{const c=new Xg(`realtime:${a}`,s,this);return this.channels.push(c),c}}push(a){const{topic:s,event:l,payload:u,ref:c}=a,h=()=>{this.encode(a,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${s} ${l} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(vb,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Dl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let s=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${a}"`),s.unsubscribe())}_remove(a){this.channels=this.channels.filter(s=>s.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:c,ref:h}=s,m=h?`(${h})`:"",p=c.status||"";this.log("receive",`${p} ${l} ${u} ${m}`.trim(),c),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(u,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(a){var s;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ga.open||this.conn.readyState===Ga.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var s;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(dn.error))}_appendParams(a,s){if(Object.keys(s).length===0)return a;const l=a.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${a}${l}${u}`}_workerObjectUrl(a){let s;if(a)s=a;else{const l=new Blob([Cb],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(a,s=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(a=null){let s,l=!1;if(a)s=a,l=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const c={access_token:s,version:pb};s&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(dn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${a}`,s)})}_triggerStateCallbacks(a,s){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(s)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Ig(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Dl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var s,l,u,c,h,m,p,y,b,v,x,w;switch(this.transport=(s=a?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:qc,this.heartbeatIntervalMs=(u=a?.heartbeatIntervalMs)!==null&&u!==void 0?u:Dl.HEARTBEAT_INTERVAL,this.worker=(c=a?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:Ac,this.vsn=(p=a?.vsn)!==null&&p!==void 0?p:A0,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(S=>Nb[S-1]||Ob),this.vsn){case Vg:this.encode=(b=a?.encode)!==null&&b!==void 0?b:((S,T)=>T(JSON.stringify(S))),this.decode=(v=a?.decode)!==null&&v!==void 0?v:((S,T)=>T(JSON.parse(S)));break;case yb:this.encode=(x=a?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(w=a?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}};const kb=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Ab,get REALTIME_LISTEN_TYPES(){return Hs},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Ic},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Vc},get REALTIME_SUBSCRIBE_STATES(){return yn},RealtimeChannel:Xg,RealtimeClient:Rb,RealtimePresence:Pg,WebSocketFactory:Gg},Symbol.toStringTag,{value:"Module"})),Qg=ri(kb);class ii extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Pe(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Jg extends ii{constructor(a,s,l){super(a),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kl extends ii{constructor(a,s){super(a),this.name="StorageUnknownError",this.originalError=s}}const od=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),Db=()=>Response,Yc=i=>{if(Array.isArray(i))return i.map(s=>Yc(s));if(typeof i=="function"||i!==Object(i))return i;const a={};return Object.entries(i).forEach(([s,l])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));a[u]=Yc(l)}),a},Ub=i=>{if(typeof i!="object"||i===null)return!1;const a=Object.getPrototypeOf(i);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Mb=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),Nc=i=>{var a;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(a=i.error)===null||a===void 0?void 0:a.message)||JSON.stringify(i)},zb=(i,a,s)=>W(void 0,void 0,void 0,function*(){const l=yield Db();i instanceof l&&!s?.noResolveJson?i.json().then(u=>{const c=i.status||500,h=u?.statusCode||c+"";a(new Jg(Nc(u),c,h))}).catch(u=>{a(new Kl(Nc(u),u))}):a(new Kl(Nc(i),i))}),Bb=(i,a,s,l)=>{const u={method:i,headers:a?.headers||{}};return i==="GET"||!l?u:(Ub(l)?(u.headers=Object.assign({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,a?.duplex&&(u.duplex=a.duplex),Object.assign(Object.assign({},u),s))};function li(i,a,s,l,u,c){return W(this,void 0,void 0,function*(){return new Promise((h,m)=>{i(s,Bb(a,l,u,c)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>zb(p,m,l))})})}function ni(i,a,s,l){return W(this,void 0,void 0,function*(){return li(i,"GET",a,s,l)})}function cn(i,a,s,l,u){return W(this,void 0,void 0,function*(){return li(i,"POST",a,l,u,s)})}function Kc(i,a,s,l,u){return W(this,void 0,void 0,function*(){return li(i,"PUT",a,l,u,s)})}function Lb(i,a,s,l){return W(this,void 0,void 0,function*(){return li(i,"HEAD",a,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function ud(i,a,s,l,u){return W(this,void 0,void 0,function*(){return li(i,"DELETE",a,l,u,s)})}class $b{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s}then(a,s){return this.execute().then(a,s)}execute(){return W(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}}var Fg;class qb{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s,this[Fg]="BlobDownloadBuilder",this.promise=null}asStream(){return new $b(this.downloadFn,this.shouldThrowOnError)}then(a,s){return this.getPromise().then(a,s)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return W(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}}Fg=Symbol.toStringTag;const Hb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},O0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gb{constructor(a,s={},l,u){this.shouldThrowOnError=!1,this.url=a,this.headers=s,this.bucketId=l,this.fetch=od(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,s,l,u){return W(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},O0),u);let m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&l instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",l)):typeof FormData<"u"&&l instanceof FormData?(c=l,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),p&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(p))):(c=l,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),u?.headers&&(m=Object.assign(Object.assign({},m),u.headers));const y=this._removeEmptyFolders(s),b=this._getFinalPath(y),v=yield(a=="PUT"?Kc:cn)(this.fetch,`${this.url}/object/${b}`,c,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:v.Id,fullPath:v.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Pe(c))return{data:null,error:c};throw c}})}upload(a,s,l){return W(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,s,l)})}uploadToSignedUrl(a,s,l,u){return W(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(a),h=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",s);try{let p;const y=Object.assign({upsert:O0.upsert},u),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",y.cacheControl)):(p=l,b["cache-control"]=`max-age=${y.cacheControl}`,b["content-type"]=y.contentType);const v=yield Kc(this.fetch,m.toString(),p,{headers:b});return{data:{path:c,fullPath:v.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Pe(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(a,s){return W(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a);const u=Object.assign({},this.headers);s?.upsert&&(u["x-upsert"]="true");const c=yield cn(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),h=new URL(this.url+c.url),m=h.searchParams.get("token");if(!m)throw new ii("No token returned by API");return{data:{signedUrl:h.toString(),path:a,token:m},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}update(a,s,l){return W(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,s,l)})}move(a,s,l){return W(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}copy(a,s,l){return W(this,void 0,void 0,function*(){try{return{data:{path:(yield cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}createSignedUrl(a,s,l){return W(this,void 0,void 0,function*(){try{let u=this._getFinalPath(a),c=yield cn(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}createSignedUrls(a,s,l){return W(this,void 0,void 0,function*(){try{const u=yield cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:a},{headers:this.headers}),c=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}download(a,s){const u=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),h=c?`?${c}`:"",m=this._getFinalPath(a),p=()=>ni(this.fetch,`${this.url}/${u}/${m}${h}`,{headers:this.headers,noResolveJson:!0});return new qb(p,this.shouldThrowOnError)}info(a){return W(this,void 0,void 0,function*(){const s=this._getFinalPath(a);try{const l=yield ni(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Yc(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}exists(a){return W(this,void 0,void 0,function*(){const s=this._getFinalPath(a);try{return yield Lb(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l)&&l instanceof Kl){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(a,s){const l=this._getFinalPath(a),u=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&u.push(c);const m=typeof s?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(s?.transform||{});p!==""&&u.push(p);let y=u.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${y}`)}}}remove(a){return W(this,void 0,void 0,function*(){try{return{data:yield ud(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}list(a,s,l){return W(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Hb),s),{prefix:a||""});return{data:yield cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}listV2(a,s){return W(this,void 0,void 0,function*(){try{const l=Object.assign({},a);return{data:yield cn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const s=[];return a.width&&s.push(`width=${a.width}`),a.height&&s.push(`height=${a.height}`),a.resize&&s.push(`resize=${a.resize}`),a.format&&s.push(`format=${a.format}`),a.quality&&s.push(`quality=${a.quality}`),s.join("&")}}const Zg="2.87.1",Wg={"X-Client-Info":`storage-js/${Zg}`};class Vb{constructor(a,s={},l,u){this.shouldThrowOnError=!1;const c=new URL(a);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wg),s),this.fetch=od(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return W(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(a);return{data:yield ni(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}getBucket(a){return W(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}createBucket(a){return W(this,arguments,void 0,function*(s,l={public:!1}){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}updateBucket(a,s){return W(this,void 0,void 0,function*(){try{return{data:yield Kc(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}emptyBucket(a){return W(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}deleteBucket(a){return W(this,void 0,void 0,function*(){try{return{data:yield ud(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(a){const s={};return a&&("limit"in a&&(s.limit=String(a.limit)),"offset"in a&&(s.offset=String(a.offset)),a.search&&(s.search=a.search),a.sortColumn&&(s.sortColumn=a.sortColumn),a.sortOrder&&(s.sortOrder=a.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var ai=class extends Error{constructor(i,a){super(i),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ib(i,a,s){const l=new URL(a,i);if(s)for(const[u,c]of Object.entries(s))c!==void 0&&l.searchParams.set(u,c);return l.toString()}async function Yb(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Kb(i){const a=i.fetchImpl??globalThis.fetch;return{async request({method:s,path:l,query:u,body:c,headers:h}){const m=Ib(i.baseUrl,l,u),p=await Yb(i.auth),y=await a(m,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...p,...h},body:c?JSON.stringify(c):void 0}),b=await y.text(),v=(y.headers.get("content-type")||"").includes("application/json"),x=v&&b?JSON.parse(b):b;if(!y.ok){const w=v?x:void 0,S=w?.error;throw new ai(S?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:S?.type,icebergCode:S?.code,details:w})}return{status:y.status,headers:y.headers,data:x}}}}function Ul(i){return i.join("")}var Pb=class{constructor(i,a=""){this.client=i,this.prefix=a}async listNamespaces(i){const a=i?{parent:Ul(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,a){const s={namespace:i.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ul(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ul(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ul(i.namespace)}`}),!0}catch(a){if(a instanceof ai&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(i,a){try{return await this.createNamespace(i,a)}catch(s){if(s instanceof ai&&s.status===409)return;throw s}}};function Ds(i){return i.join("")}var Xb=class{constructor(i,a="",s){this.client=i,this.prefix=a,this.accessDelegation=s}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ds(i.namespace)}/tables`})).data.identifiers}async createTable(i,a){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ds(i.namespace)}/tables`,body:a,headers:s})).data.metadata}async updateTable(i,a){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ds(i.namespace)}/tables/${i.name}`,body:a});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(i,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ds(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(i){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ds(i.namespace)}/tables/${i.name}`,headers:a})).data.metadata}async tableExists(i){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ds(i.namespace)}/tables/${i.name}`,headers:a}),!0}catch(s){if(s instanceof ai&&s.status===404)return!1;throw s}}async createTableIfNotExists(i,a){try{return await this.createTable(i,a)}catch(s){if(s instanceof ai&&s.status===409)return await this.loadTable({namespace:i.namespace,name:a.name});throw s}}},Qb=class{constructor(i){let a="v1";i.catalogName&&(a+=`/${i.catalogName}`);const s=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Kb({baseUrl:s,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Pb(this.client,a),this.tableOps=new Xb(this.client,a,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,a){return this.namespaceOps.createNamespace(i,a)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,a){return this.tableOps.createTable(i,a)}async updateTable(i,a){return this.tableOps.updateTable(i,a)}async dropTable(i,a){await this.tableOps.dropTable(i,a)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,a){return this.namespaceOps.createNamespaceIfNotExists(i,a)}async createTableIfNotExists(i,a){return this.tableOps.createTableIfNotExists(i,a)}};class ep{constructor(a,s={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wg),s),this.fetch=od(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return W(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}listBuckets(a){return W(this,void 0,void 0,function*(){try{const s=new URLSearchParams;a?.limit!==void 0&&s.set("limit",a.limit.toString()),a?.offset!==void 0&&s.set("offset",a.offset.toString()),a?.sortColumn&&s.set("sortColumn",a.sortColumn),a?.sortOrder&&s.set("sortOrder",a.sortOrder),a?.search&&s.set("search",a.search);const l=s.toString(),u=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield ni(this.fetch,u,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}deleteBucket(a){return W(this,void 0,void 0,function*(){try{return{data:yield ud(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}from(a){if(!Mb(a))throw new ii("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Qb({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>W(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(s,{get(c,h){const m=c[h];return typeof m!="function"?m:(...p)=>W(this,void 0,void 0,function*(){try{return{data:yield m.apply(c,p),error:null}}catch(y){if(l)throw y;return{data:null,error:y}}})}})}}const cd={"X-Client-Info":`storage-js/${Zg}`,"Content-Type":"application/json"};class dd extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Mt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class Ll extends dd{constructor(a,s,l){super(a),this.name="StorageVectorsApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tp extends dd{constructor(a,s){super(a),this.name="StorageVectorsUnknownError",this.originalError=s}}var Pc;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Pc||(Pc={}));const to=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),Jb=()=>Response,np=i=>{if(typeof i!="object"||i===null)return!1;const a=Object.getPrototypeOf(i);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Fb=i=>Array.from(new Float32Array(i)),Zb=(i,a)=>{if(a!==void 0&&i.float32.length!==a)throw new Error(`Vector dimension mismatch: expected ${a}, got ${i.float32.length}`)},C0=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Wb=(i,a,s)=>W(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!s?.noResolveJson){const u=i.status||500,c=i;if(typeof c.json=="function")c.json().then(h=>{const m=h?.statusCode||h?.code||u+"";a(new Ll(C0(h),u,m))}).catch(()=>{const h=u+"",m=c.statusText||`HTTP ${u} error`;a(new Ll(m,u,h))});else{const h=u+"",m=c.statusText||`HTTP ${u} error`;a(new Ll(m,u,h))}}else a(new tp(C0(i),i))}),e_=(i,a,s,l)=>{const u={method:i,headers:a?.headers||{}};return l?(np(l)?(u.headers=Object.assign({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,Object.assign(Object.assign({},u),s)):u};function t_(i,a,s,l,u,c){return W(this,void 0,void 0,function*(){return new Promise((h,m)=>{i(s,e_(a,l,u,c)).then(p=>{if(!p.ok)throw p;if(l?.noResolveJson)return p;const y=p.headers.get("content-type");return!y||!y.includes("application/json")?{}:p.json()}).then(p=>h(p)).catch(p=>Wb(p,m,l))})})}function It(i,a,s,l,u){return W(this,void 0,void 0,function*(){return t_(i,"POST",a,l,u,s)})}class ap{constructor(a,s={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cd),s),this.fetch=to(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return W(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}getIndex(a,s){return W(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:s},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Mt(l))return{data:null,error:l};throw l}})}listIndexes(a){return W(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}deleteIndex(a,s){return W(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:s},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Mt(l))return{data:null,error:l};throw l}})}}class sp{constructor(a,s={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cd),s),this.fetch=to(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return W(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}getVectors(a){return W(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}listVectors(a){return W(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield It(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}queryVectors(a){return W(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}deleteVectors(a){return W(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}}class rp{constructor(a,s={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cd),s),this.fetch=to(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return W(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}getBucket(a){return W(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}listBuckets(){return W(this,arguments,void 0,function*(a={}){try{return{data:yield It(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}deleteBucket(a){return W(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}}class ip extends rp{constructor(a,s={}){super(a,s.headers||{},s.fetch)}from(a){return new lp(this.url,this.headers,a,this.fetch)}createBucket(a){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return W(this,void 0,void 0,function*(){return s.createBucket.call(this,a)})}getBucket(a){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return W(this,void 0,void 0,function*(){return s.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return W(this,arguments,void 0,function*(s={}){return a.listBuckets.call(this,s)})}deleteBucket(a){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return W(this,void 0,void 0,function*(){return s.deleteBucket.call(this,a)})}}class lp extends ap{constructor(a,s,l,u){super(a,s,u),this.vectorBucketName=l}createIndex(a){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return W(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return W(this,arguments,void 0,function*(s={}){return a.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return W(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return W(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new op(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class op extends sp{constructor(a,s,l,u,c){super(a,s,c),this.vectorBucketName=l,this.indexName=u}putVectors(a){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return W(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return W(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return W(this,arguments,void 0,function*(s={}){return a.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return W(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return W(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class n_ extends Vb{constructor(a,s={},l,u){super(a,s,l,u)}from(a){return new Gb(this.url,this.headers,a,this.fetch)}get vectors(){return new ip(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ep(this.url+"/iceberg",this.headers,this.fetch)}}const a_=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:ep,StorageApiError:Jg,StorageClient:n_,StorageError:ii,StorageUnknownError:Kl,StorageVectorsApiError:Ll,StorageVectorsClient:ip,StorageVectorsError:dd,get StorageVectorsErrorCode(){return Pc},StorageVectorsUnknownError:tp,VectorBucketApi:rp,VectorBucketScope:lp,VectorDataApi:sp,VectorIndexApi:ap,VectorIndexScope:op,isPlainObject:np,isStorageError:Pe,isStorageVectorsError:Mt,normalizeToFloat32:Fb,resolveFetch:to,resolveResponse:Jb,validateVectorDimension:Zb},Symbol.toStringTag,{value:"Module"})),s_=ri(a_);var Oc={},Hr={},R0;function r_(){return R0||(R0=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.version=void 0,Hr.version="2.87.1"),Hr}var k0;function i_(){return k0||(k0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_REALTIME_OPTIONS=i.DEFAULT_AUTH_OPTIONS=i.DEFAULT_DB_OPTIONS=i.DEFAULT_GLOBAL_OPTIONS=i.DEFAULT_HEADERS=void 0;const a=r_();let s="";typeof Deno<"u"?s="deno":typeof document<"u"?s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?s="react-native":s="node",i.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${s}/${a.version}`},i.DEFAULT_GLOBAL_OPTIONS={headers:i.DEFAULT_HEADERS},i.DEFAULT_DB_OPTIONS={schema:"public"},i.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i.DEFAULT_REALTIME_OPTIONS={}})(Oc)),Oc}var Cc={},D0;function l_(){return D0||(D0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.fetchWithAuth=i.resolveHeadersConstructor=i.resolveFetch=void 0;const a=u=>u?(...c)=>u(...c):(...c)=>fetch(...c);i.resolveFetch=a;const s=()=>Headers;i.resolveHeadersConstructor=s;const l=(u,c,h)=>{const m=(0,i.resolveFetch)(h),p=(0,i.resolveHeadersConstructor)();return async(y,b)=>{var v;const x=(v=await c())!==null&&v!==void 0?v:u;let w=new p(b?.headers);return w.has("apikey")||w.set("apikey",u),w.has("Authorization")||w.set("Authorization",`Bearer ${x}`),m(y,Object.assign(Object.assign({},b),{headers:w}))}};i.fetchWithAuth=l})(Cc)),Cc}var Ln={},U0;function o_(){if(U0)return Ln;U0=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.isBrowser=void 0,Ln.uuid=i,Ln.ensureTrailingSlash=a,Ln.applySettingDefaults=l,Ln.validateSupabaseUrl=u;function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var h=Math.random()*16|0,m=c=="x"?h:h&3|8;return m.toString(16)})}function a(c){return c.endsWith("/")?c:c+"/"}const s=()=>typeof window<"u";Ln.isBrowser=s;function l(c,h){var m,p;const{db:y,auth:b,realtime:v,global:x}=c,{db:w,auth:S,realtime:T,global:N}=h,D={db:Object.assign(Object.assign({},w),y),auth:Object.assign(Object.assign({},S),b),realtime:Object.assign(Object.assign({},T),v),storage:{},global:Object.assign(Object.assign(Object.assign({},N),x),{headers:Object.assign(Object.assign({},(m=N?.headers)!==null&&m!==void 0?m:{}),(p=x?.headers)!==null&&p!==void 0?p:{})}),accessToken:async()=>""};return c.accessToken?D.accessToken=c.accessToken:delete D.accessToken,D}function u(c){const h=c?.trim();if(!h)throw new Error("supabaseUrl is required.");if(!h.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a(h))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ln}var Gr={};const up="2.87.1",Ls=30*1e3,Xc=3,Rc=Xc*Ls,u_="http://localhost:9999",c_="supabase.auth.token",d_={"X-Client-Info":`gotrue-js/${up}`},Qc="X-Supabase-Api-Version",cp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},h_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,f_=600*1e3;let Is=class extends Error{constructor(a,s,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}};function se(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}let dp=class extends Is{constructor(a,s,l){super(a,s,l),this.name="AuthApiError",this.status=s,this.code=l}};function hp(i){return se(i)&&i.name==="AuthApiError"}let ca=class extends Is{constructor(a,s){super(a),this.name="AuthUnknownError",this.originalError=s}},$n=class extends Is{constructor(a,s,l,u){super(a,l,u),this.name=s,this.status=l}},Ut=class extends $n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function fp(i){return se(i)&&i.name==="AuthSessionMissingError"}let $a=class extends $n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Qr=class extends $n{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}},Jr=class extends $n{constructor(a,s=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function mp(i){return se(i)&&i.name==="AuthImplicitGrantRedirectError"}let Jc=class extends $n{constructor(a,s=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Pl=class extends $n{constructor(a,s){super(a,"AuthRetryableFetchError",s,void 0)}};function $l(i){return se(i)&&i.name==="AuthRetryableFetchError"}let Fc=class extends $n{constructor(a,s,l){super(a,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}};function m_(i){return se(i)&&i.name==="AuthWeakPasswordError"}let Xl=class extends $n{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M0=` 	
\r=`.split(""),g_=(()=>{const i=new Array(128);for(let a=0;a<i.length;a+=1)i[a]=-1;for(let a=0;a<M0.length;a+=1)i[M0[a].charCodeAt(0)]=-2;for(let a=0;a<Ql.length;a+=1)i[Ql[a].charCodeAt(0)]=a;return i})();function z0(i,a,s){if(i!==null)for(a.queue=a.queue<<8|i,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;s(Ql[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;s(Ql[l]),a.queuedBits-=6}}function gp(i,a,s){const l=g_[i];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)s(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function B0(i){const a=[],s=h=>{a.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{v_(h,l,s)};for(let h=0;h<i.length;h+=1)gp(i.charCodeAt(h),u,c);return a.join("")}function p_(i,a){if(i<=127){a(i);return}else if(i<=2047){a(192|i>>6),a(128|i&63);return}else if(i<=65535){a(224|i>>12),a(128|i>>6&63),a(128|i&63);return}else if(i<=1114111){a(240|i>>18),a(128|i>>12&63),a(128|i>>6&63),a(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function y_(i,a){for(let s=0;s<i.length;s+=1){let l=i.charCodeAt(s);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(i.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}p_(l,a)}}function v_(i,a,s){if(a.utf8seq===0){if(i<=127){s(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=i&31;else if(a.utf8seq===3)a.codepoint=i&15;else if(a.utf8seq===4)a.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|i&63,a.utf8seq-=1,a.utf8seq===0&&s(a.codepoint)}}function Gs(i){const a=[],s={queue:0,queuedBits:0},l=u=>{a.push(u)};for(let u=0;u<i.length;u+=1)gp(i.charCodeAt(u),s,l);return new Uint8Array(a)}function b_(i){const a=[];return y_(i,s=>a.push(s)),new Uint8Array(a)}function Ia(i){const a=[],s={queue:0,queuedBits:0},l=u=>{a.push(u)};return i.forEach(u=>z0(u,s,l)),z0(null,s,l),a.join("")}function __(i){return Math.round(Date.now()/1e3)+i}function x_(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",Ba={tested:!1,writable:!1},pp=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ba.tested)return Ba.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Ba.tested=!0,Ba.writable=!0}catch{Ba.tested=!0,Ba.writable=!1}return Ba.writable};function w_(i){const a={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{a[c]=u})}catch{}return s.searchParams.forEach((l,u)=>{a[u]=l}),a}const yp=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),S_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",$s=async(i,a,s)=>{await i.setItem(a,JSON.stringify(s))},La=async(i,a)=>{const s=await i.getItem(a);if(!s)return null;try{return JSON.parse(s)}catch{return s}},mt=async(i,a)=>{await i.removeItem(a)};class no{constructor(){this.promise=new no.promiseConstructor((a,s)=>{this.resolve=a,this.reject=s})}}no.promiseConstructor=Promise;function kc(i){const a=i.split(".");if(a.length!==3)throw new Xl("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!h_.test(a[l]))throw new Xl("JWT not in base64url format");return{header:JSON.parse(B0(a[0])),payload:JSON.parse(B0(a[1])),signature:Gs(a[2]),raw:{header:a[0],payload:a[1]}}}async function E_(i){return await new Promise(a=>{setTimeout(()=>a(null),i)})}function T_(i,a){return new Promise((l,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await i(c);if(!a(c,null,h)){l(h);return}}catch(h){if(!a(c,h)){u(h);return}}})()})}function j_(i){return("0"+i.toString(16)).substr(-2)}function A_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(a),Array.from(a,j_).join("")}async function N_(i){const s=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(l);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function O_(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await N_(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Us(i,a,s=!1){const l=A_();let u=l;s&&(u+="/PASSWORD_RECOVERY"),await $s(i,`${a}-code-verifier`,u);const c=await O_(l);return[c,l===c?"plain":"s256"]}const C_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R_(i){const a=i.headers.get(Qc);if(!a||!a.match(C_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function k_(i){if(!i)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(i<=a)throw new Error("JWT has expired")}function D_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const U_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ms(i){if(!U_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dc(){const i={};return new Proxy(i,{get:(a,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function M_(i,a){return new Proxy(i,{get:(s,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,l,u)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(s,l,u)}})}function L0(i){return JSON.parse(JSON.stringify(i))}const qa=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),z_=[502,503,504];async function $0(i){var a;if(!S_(i))throw new Pl(qa(i),0);if(z_.includes(i.status))throw new Pl(qa(i),i.status);let s;try{s=await i.json()}catch(c){throw new ca(qa(c),c)}let l;const u=R_(i);if(u&&u.getTime()>=cp["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Fc(qa(s),i.status,((a=s.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Ut}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Fc(qa(s),i.status,s.weak_password.reasons);throw new dp(qa(s),i.status||500,l)}const B_=(i,a,s,l)=>{const u={method:i,headers:a?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),s))};async function fe(i,a,s,l){var u;const c=Object.assign({},l?.headers);c[Qc]||(c[Qc]=cp["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const h=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await L_(i,a,s+m,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function L_(i,a,s,l,u,c){const h=B_(a,l,u,c);let m;try{m=await i(s,Object.assign({},h))}catch(p){throw console.error(p),new Pl(qa(p),0)}if(m.ok||await $0(m),l?.noResolveJson)return m;try{return await m.json()}catch(p){await $0(p)}}function un(i){var a;let s=null;H_(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=__(i.expires_in)));const l=(a=i.user)!==null&&a!==void 0?a:i;return{data:{session:s,user:l},error:null}}function q0(i){const a=un(i);return!a.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(a.data.weak_password=i.weak_password),a}function da(i){var a;return{data:{user:(a=i.user)!==null&&a!==void 0?a:i},error:null}}function $_(i){return{data:i,error:null}}function q_(i){const{action_link:a,email_otp:s,hashed_token:l,redirect_to:u,verification_type:c}=i,h=Ys(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:s,hashed_token:l,redirect_to:u,verification_type:c},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function H0(i){return i}function H_(i){return i.access_token&&i.refresh_token&&i.expires_in}const ql=["global","local","others"];let hd=class{constructor({url:a="",headers:s={},fetch:l}){this.url=a,this.headers=s,this.fetch=yp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,s=ql[0]){if(ql.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ql.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(se(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,s={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:da})}catch(l){if(se(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:s}=a,l=Ys(a,["options"]),u=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:q_,redirectTo:s?.redirectTo})}catch(s){if(se(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(a){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:da})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async listUsers(a){var s,l,u,c,h,m,p;try{const y={nextPage:null,lastPage:0,total:0},b=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:H0});if(b.error)throw b.error;const v=await b.json(),x=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,w=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);y[`${N}Page`]=T}),y.total=parseInt(x)),{data:Object.assign(Object.assign({},v),y),error:null}}catch(y){if(se(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){Ms(a);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:da})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async updateUserById(a,s){Ms(a);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:s,headers:this.headers,xform:da})}catch(l){if(se(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,s=!1){Ms(a);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:s},xform:da})}catch(l){if(se(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){Ms(a.userId);try{const{data:s,error:l}=await fe(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:l}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _deleteFactor(a){Ms(a.userId),Ms(a.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _listOAuthClients(a){var s,l,u,c,h,m,p;try{const y={nextPage:null,lastPage:0,total:0},b=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=a?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:H0});if(b.error)throw b.error;const v=await b.json(),x=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,w=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);y[`${N}Page`]=T}),y.total=parseInt(x)),{data:Object.assign(Object.assign({},v),y),error:null}}catch(y){if(se(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _getOAuthClient(a){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _updateOAuthClient(a,s){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(se(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(a){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}};function G0(i={}){return{getItem:a=>i[a]||null,setItem:(a,s)=>{i[a]=s},removeItem:a=>{delete i[a]}}}const Ha={debug:!!(globalThis&&pp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fd extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}let vp=class extends fd{};class G_ extends fd{}async function bp(i,a,s){Ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),Ha.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await s()}finally{Ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(a===0)throw Ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new vp(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ha.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}const V0={};async function V_(i,a,s){var l;const u=(l=V0[i])!==null&&l!==void 0?l:Promise.resolve(),c=Promise.race([u.catch(()=>null),a>=0?new Promise((h,m)=>{setTimeout(()=>{m(new G_(`Acquring process lock with name "${i}" timed out`))},a)}):null].filter(h=>h)).catch(h=>{if(h&&h.isAcquireTimeout)throw h;return null}).then(async()=>await s());return V0[i]=c.catch(async h=>{if(h&&h.isAcquireTimeout)return await u,null;throw h}),await c}function I_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _p(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function Y_(i){return parseInt(i,16)}function K_(i){const a=new TextEncoder().encode(i);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function P_(i){var a;const{chainId:s,domain:l,expirationTime:u,issuedAt:c=new Date,nonce:h,notBefore:m,requestId:p,resources:y,scheme:b,uri:v,version:x}=i;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((a=i.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const w=_p(i.address),S=b?`${b}://${l}`:l,T=i.statement?`${i.statement}
`:"",N=`${S} wants you to sign in with your Ethereum account:
${w}

${T}`;let D=`URI: ${v}
Version: ${x}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(u&&(D+=`
Expiration Time: ${u.toISOString()}`),m&&(D+=`
Not Before: ${m.toISOString()}`),p&&(D+=`
Request ID: ${p}`),y){let L=`
Resources:`;for(const U of y){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);L+=`
- ${U}`}D+=L}return`${N}
${D}`}class rt extends Error{constructor({message:a,code:s,cause:l,name:u}){var c;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=u??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Jl extends rt{constructor(a,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:a}),this.name="WebAuthnUnknownError",this.originalError=s}}function X_({error:i,options:a}){var s,l,u;const{publicKey:c}=a;if(!c)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(a.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new rt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const h=window.location.hostname;if(xp(h)){if(c.rp.id!==h)return new rt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Q_({error:i,options:a}){const{publicKey:s}=a;if(!s)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(a.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new rt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(xp(l)){if(s.rpId!==l)return new rt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class J_{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const F_=new J_;function Z_(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:a,user:s,excludeCredentials:l}=i,u=Ys(i,["challenge","user","excludeCredentials"]),c=Gs(a).buffer,h=Object.assign(Object.assign({},s),{id:Gs(s.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:c,user:h});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const y=l[p];m.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:Gs(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function W_(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:a,allowCredentials:s}=i,l=Ys(i,["challenge","allowCredentials"]),u=Gs(a).buffer,c=Object.assign(Object.assign({},l),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];c.allowCredentials[h]=Object.assign(Object.assign({},m),{id:Gs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function ex(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i;return{id:i.id,rawId:i.id,response:{attestationObject:Ia(new Uint8Array(i.response.attestationObject)),clientDataJSON:Ia(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function tx(i){var a;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i,l=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Ia(new Uint8Array(u.authenticatorData)),clientDataJSON:Ia(new Uint8Array(u.clientDataJSON)),signature:Ia(new Uint8Array(u.signature)),userHandle:u.userHandle?Ia(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function xp(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function I0(){var i,a;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function nx(i){try{const a=await navigator.credentials.create(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Jl("Browser returned unexpected credential type",a)}:{data:null,error:new Jl("Empty credential response",a)}}catch(a){return{data:null,error:X_({error:a,options:i})}}}async function ax(i){try{const a=await navigator.credentials.get(i);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Jl("Browser returned unexpected credential type",a)}:{data:null,error:new Jl("Empty credential response",a)}}catch(a){return{data:null,error:Q_({error:a,options:i})}}}const sx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},rx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fl(...i){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of i)if(u)for(const c in u){const h=u[c];if(h!==void 0)if(Array.isArray(h))l[c]=h;else if(s(h))l[c]=h;else if(a(h)){const m=l[c];a(m)?l[c]=Fl(m,h):l[c]=Fl(h)}else l[c]=h}return l}function ix(i,a){return Fl(sx,i,a||{})}function lx(i,a){return Fl(rx,i,a||{})}class ox{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:s,friendlyName:l,signal:u},c){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:s});if(!h)return{data:null,error:m};const p=u??F_.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=ix(h.webauthn.credential_options.publicKey,c?.create),{data:b,error:v}=await nx({publicKey:y,signal:p});return b?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}case"request":{const y=lx(h.webauthn.credential_options.publicKey,c?.request),{data:b,error:v}=await ax(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:p}));return b?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}}}catch(h){return se(h)?{data:null,error:h}:{data:null,error:new ca("Unexpected error in challenge",h)}}}async _verify({challengeId:a,factorId:s,webauthn:l}){return this.client.mfa.verify({factorId:s,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new Is("rpId is required for WebAuthn authentication")};try{if(!I0())return{data:null,error:new ca("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:a,webauthn:{rpId:s,rpOrigins:l},signal:u},{request:c});if(!h)return{data:null,error:m};const{webauthn:p}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:l,credential_response:p.credential_response}})}catch(h){return se(h)?{data:null,error:h}:{data:null,error:new ca("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new Is("rpId is required for WebAuthn registration")};try{if(!I0())return{data:null,error:new ca("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(b=>{var v;return(v=b.data)===null||v===void 0?void 0:v.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===a&&x.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:p,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:l},signal:u},{create:c});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(h){return se(h)?{data:null,error:h}:{data:null,error:new ca("Unexpected error in register",h)}}}}I_();const ux={url:u_,storageKey:c_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:d_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Y0(i,a,s){return await s()}const zs={};let md=class Zc{get jwks(){var a,s;return(s=(a=zs[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(a){zs[this.storageKey]=Object.assign(Object.assign({},zs[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,s;return(s=(a=zs[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){zs[this.storageKey]=Object.assign(Object.assign({},zs[this.storageKey]),{cachedAt:a})}constructor(a){var s,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},ux),a);if(this.storageKey=c.storageKey,this.instanceID=(s=Zc.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Zc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&gt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new hd({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=yp(c.fetch),this.lock=c.lock||Y0,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&gt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=bp:this.lock=Y0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ox(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:pp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=G0(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=G0(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${up}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let s={},l="none";if(gt()&&(s=w_(window.location.href),this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce")),gt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),mp(c)){const p=(a=c.details)===null||a===void 0?void 0:a.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return se(s)?this._returnResult({error:s}):this._returnResult({error:new ca("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var s,l,u;try{const c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=a?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=a?.options)===null||u===void 0?void 0:u.captchaToken}},xform:un}),{data:h,error:m}=c;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(c){if(se(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(a){var s,l,u;try{let c;if("email"in a){const{email:b,password:v,options:x}=a;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Us(this.storage,this.storageKey)),c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:b,password:v,data:(s=x?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:S},xform:un})}else if("phone"in a){const{phone:b,password:v,options:x}=a;c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:v,data:(l=x?.data)!==null&&l!==void 0?l:{},channel:(u=x?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:un})}else throw new Qr("You must provide either an email or phone number and a password");const{data:h,error:m}=c;if(m||!h)return await mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(c){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(a){try{let s;if("email"in a){const{email:c,password:h,options:m}=a;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:q0})}else if("phone"in a){const{phone:c,password:h,options:m}=a;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:q0})}else throw new Qr("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new $a;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(a){var s,l,u,c;return await this._handleProviderSignIn(a.provider,{redirectTo:(s=a.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=a.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:s}=a;switch(s){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(a){var s,l,u,c,h,m,p,y,b,v,x;let w,S;if("message"in a)w=a.message,S=a.signature;else{const{chain:T,wallet:N,statement:D,options:L}=a;let U;if(gt())if(typeof N=="object")U=N;else{const pe=window;if("ethereum"in pe&&typeof pe.ethereum=="object"&&"request"in pe.ethereum&&typeof pe.ethereum.request=="function")U=pe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=N}const I=new URL((s=L?.url)!==null&&s!==void 0?s:window.location.href),F=await U.request({method:"eth_requestAccounts"}).then(pe=>pe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=_p(F[0]);let K=(l=L?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const pe=await U.request({method:"eth_chainId"});K=Y_(pe)}const Z={domain:I.host,address:Q,statement:D,uri:I.href,version:"1",chainId:K,nonce:(u=L?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(c=L?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=L?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=L?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=L?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(b=L?.signInWithEthereum)===null||b===void 0?void 0:b.resources};w=P_(Z),S=await U.request({method:"personal_sign",params:[K_(w),Q]})}try{const{data:T,error:N}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((v=a.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:un});if(N)throw N;if(!T||!T.session||!T.user){const D=new $a;return this._returnResult({data:{user:null,session:null},error:D})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:N})}catch(T){if(se(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(a){var s,l,u,c,h,m,p,y,b,v,x,w;let S,T;if("message"in a)S=a.message,T=a.signature;else{const{chain:N,wallet:D,statement:L,options:U}=a;let I;if(gt())if(typeof D=="object")I=D;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))I=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=D}const F=new URL((s=U?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in I&&I.signIn){const Q=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),L?{statement:L}:null));let K;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")K=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)K=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)S=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),T=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${F.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(u=(l=U?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=U?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((p=U?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((y=U?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((v=(b=U?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||v===void 0)&&v.length?["Resources",...U.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const Q=await I.signMessage(new TextEncoder().encode(S),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=Q}}try{const{data:N,error:D}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ia(T)},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:un});if(D)throw D;if(!N||!N.session||!N.user){const L=new $a;return this._returnResult({data:{user:null,session:null},error:L})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:D})}catch(N){if(se(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(a){const s=await La(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(s??"").split("/");try{const{data:c,error:h}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:un});if(await mt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const m=new $a;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(a){try{const{options:s,provider:l,token:u,access_token:c,nonce:h}=a,m=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:un}),{data:p,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const b=new $a;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(a){var s,l,u,c,h;try{if("email"in a){const{email:m,options:p}=a;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await Us(this.storage,this.storageKey));const{error:v}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in a){const{phone:m,options:p}=a,{data:y,error:b}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=p?.data)!==null&&u!==void 0?u:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:b})}throw new Qr("You must provide either an email or phone number.")}catch(m){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var s,l;try{let u,c;"options"in a&&(u=(s=a.options)===null||s===void 0?void 0:s.redirectTo,c=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:un});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,y=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(u){if(se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(a){var s,l,u,c,h;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Us(this.storage,this.storageKey));const y=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(s=a.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=a?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:$_});return!((c=y.data)===null||c===void 0)&&c.url&&gt()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:s},error:l}=a;if(l)throw l;if(!s)throw new Ut;const{error:u}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const s=`${this.url}/resend`;if("email"in a){const{email:l,type:u,options:c}=a,{error:h}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:l,type:u,options:c}=a,{data:h,error:m}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new Qr("You must provide either an email or phone number and a type")}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(a,s){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await a(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const s=await La(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?a=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<Rc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const h=await La(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=Dc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=M_(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:u,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(a){try{return a?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:da}):await this._useSession(async s=>{var l,u,c;const{data:h,error:m}=s;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:da})})}catch(s){if(se(s))return fp(s)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(a,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,s))}async _updateUser(a,s={}){try{return await this._useSession(async l=>{const{data:u,error:c}=l;if(c)throw c;if(!u.session)throw new Ut;const h=u.session;let m=null,p=null;this.flowType==="pkce"&&a.email!=null&&([m,p]=await Us(this.storage,this.storageKey));const{data:y,error:b}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:da});if(b)throw b;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ut;const s=Date.now()/1e3;let l=s,u=!0,c=null;const{payload:h}=kc(a.access_token);if(h.exp&&(l=h.exp,u=l<=s),u){const{data:m,error:p}=await this._callRefreshToken(a.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:p}=await this._getUser(a.access_token);if(p)throw p;c={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(se(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async s=>{var l;if(!a){const{data:h,error:m}=s;if(m)throw m;a=(l=h.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new Ut;const{data:u,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(a,s){try{if(!gt())throw new Jr("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Jr(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Jc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Jc("No code detected.");const{data:L,error:U}=await this._exchangeCodeForSession(a.code);if(U)throw U;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:m,expires_at:p,token_type:y}=a;if(!c||!m||!h||!y)throw new Jr("No session defined in URL");const b=Math.round(Date.now()/1e3),v=parseInt(m);let x=b+v;p&&(x=parseInt(p));const w=x-b;w*1e3<=Ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const S=x-v;b-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,x,b):b-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,x,b);const{data:T,error:N}=await this._getUser(c);if(N)throw N;const D={provider_token:l,provider_refresh_token:u,access_token:c,expires_in:v,expires_at:x,refresh_token:h,token_type:y,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:a.type},error:null})}catch(l){if(se(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const s=await La(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&s)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return this._returnResult({error:c});const h=(l=u.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,a);if(m&&!(hp(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const s=x_(),l={id:s,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async s=>{var l,u;try{const{data:{session:c},error:h}=s;if(h)throw h;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",a,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",c),console.error(c)}})}async resetPasswordForEmail(a,s={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Us(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var a;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=s.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var s;try{const{data:l,error:u}=await this._useSession(async c=>{var h,m,p,y,b;const{data:v,error:x}=c;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=a.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",w,{headers:this.headers,jwt:(b=(y=v.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:void 0})});if(u)throw u;return gt()&&!(!((s=a.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(se(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async s=>{var l;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:h,provider:m,token:p,access_token:y,nonce:b}=a,v=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:p,access_token:y,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:un}),{data:x,error:w}=v;return w?this._returnResult({data:{user:null,session:null},error:w}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new $a}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:w}))}catch(u){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(a){try{return await this._useSession(async s=>{var l,u;const{data:c,error:h}=s;if(h)throw h;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(a){const s=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await T_(async u=>(u>0&&await E_(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:un})),(u,c)=>{const h=200*Math.pow(2,u);return c&&$l(c)&&Date.now()+h-l<Ls})}catch(l){if(this._debug(s,"error",l),se(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(s,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",s,"url",l),gt()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await La(this.storage,this.storageKey);if(u&&this.userStorage){let h=await La(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await $s(this.userStorage,this.storageKey+"-user",h)),u.user=(a=h?.user)!==null&&a!==void 0?a:Dc()}else if(u&&!u.user&&!u.user){const h=await La(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await mt(this.storage,this.storageKey+"-user"),await $s(this.storage,this.storageKey,u)):u.user=Dc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Rc;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${Rc}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),$l(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(u.access_token);!m&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var s,l;if(!a)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new no;const{data:c,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!c.session)throw new Ut;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(u,"error",c),se(c)){const h={data:null,error:c};return $l(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,s,l=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,s)}catch(p){c.push(p)}});if(await Promise.all(h),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await mt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},a),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await $s(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=L0(u);await $s(this.storage,this.storageKey,c)}else{const u=L0(s);await $s(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&gt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Ls);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-a)/Ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ls}ms, refresh threshold is ${Xc} ticks`),u<=Xc&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof fd)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const s=`#_onVisibilityChanged(${a})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,s,l){const u=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,h]=await Us(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(m.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);u.push(c.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;return c?this._returnResult({data:null,error:c}):await fe(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(a){try{return await this._useSession(async s=>{var l,u;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:p,error:y}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&p.type==="totp"&&(!((u=p?.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?ex(a.webauthn.credential_response):tx(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:p}=await fe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=await fe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Z_(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:W_(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(a){const{data:s,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:s.id,code:a.code})}async _listFactors(){var a;const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(a=s?.factors)!==null&&a!==void 0?a:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var a,s;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=kc(l.access_token);let h=null;c.aal&&(h=c.aal);let m=h;((s=(a=l.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;return u?this._returnResult({data:null,error:u}):l?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(a,s){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Ut});const h=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&gt()&&!s?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,s){try{return await this._useSession(async l=>{const{data:{session:u},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new Ut});const h=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&gt()&&!s?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:s},error:l}=a;return l?this._returnResult({data:null,error:l}):s?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async s=>{const{data:{session:l},error:u}=s;return u?this._returnResult({data:null,error:u}):l?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ut})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(a,s={keys:[]}){let l=s.keys.find(m=>m.kid===a);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(m=>m.kid===a),l&&this.jwks_cached_at+f_>u)return l;const{data:c,error:h}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,l=c.keys.find(m=>m.kid===a),!l)?null:l}async getClaims(a,s={}){try{let l=a;if(!l){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});l=w.session.access_token}const{header:u,payload:c,signature:h,raw:{header:m,payload:p}}=kc(l);s?.allowExpired||k_(c.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:w}=await this.getUser(l);if(w)throw w;return{data:{claims:c,header:u,signature:h},error:null}}const b=D_(u.alg),v=await crypto.subtle.importKey("jwk",y,b,!0,["verify"]);if(!await crypto.subtle.verify(b,v,h,b_(`${m}.${p}`)))throw new Xl("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}};md.nextInstanceID={};const cx=hd,dx=md,hx=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:cx,AuthApiError:dp,AuthClient:dx,AuthError:Is,AuthImplicitGrantRedirectError:Jr,AuthInvalidCredentialsError:Qr,AuthInvalidJwtError:Xl,AuthInvalidTokenResponseError:$a,AuthPKCEGrantCodeExchangeError:Jc,AuthRetryableFetchError:Pl,AuthSessionMissingError:Ut,AuthUnknownError:ca,AuthWeakPasswordError:Fc,CustomAuthError:$n,GoTrueAdminApi:hd,GoTrueClient:md,NavigatorLockAcquireTimeoutError:vp,SIGN_OUT_SCOPES:ql,isAuthApiError:hp,isAuthError:se,isAuthImplicitGrantRedirectError:mp,isAuthRetryableFetchError:$l,isAuthSessionMissingError:fp,isAuthWeakPasswordError:m_,lockInternals:Ha,navigatorLock:bp,processLock:V_},Symbol.toStringTag,{value:"Module"})),wp=ri(hx);var K0;function fx(){if(K0)return Gr;K0=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.SupabaseAuthClient=void 0;const i=wp;let a=class extends i.AuthClient{constructor(l){super(l)}};return Gr.SupabaseAuthClient=a,Gr}var P0;function X0(){if(P0)return jl;P0=1,Object.defineProperty(jl,"__esModule",{value:!0});const i=Mg,a=Hg(),s=Qg,l=s_,u=i_(),c=l_(),h=o_(),m=fx();class p{constructor(b,v,x){var w,S,T;this.supabaseUrl=b,this.supabaseKey=v;const N=(0,h.validateSupabaseUrl)(b);if(!v)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",N),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",N),this.storageUrl=new URL("storage/v1",N),this.functionsUrl=new URL("functions/v1",N);const D=`sb-${N.hostname.split(".")[0]}-auth-token`,L={db:u.DEFAULT_DB_OPTIONS,realtime:u.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},u.DEFAULT_AUTH_OPTIONS),{storageKey:D}),global:u.DEFAULT_GLOBAL_OPTIONS},U=(0,h.applySettingDefaults)(x??{},L);this.storageKey=(w=U.auth.storageKey)!==null&&w!==void 0?w:"",this.headers=(S=U.global.headers)!==null&&S!==void 0?S:{},U.accessToken?(this.accessToken=U.accessToken,this.auth=new Proxy({},{get:(I,F)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(F)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((T=U.auth)!==null&&T!==void 0?T:{},this.headers,U.global.fetch),this.fetch=(0,c.fetchWithAuth)(v,this._getAccessToken.bind(this),U.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},U.realtime)),this.accessToken&&this.accessToken().then(I=>this.realtime.setAuth(I)).catch(I=>console.warn("Failed to set initial Realtime auth token:",I)),this.rest=new a.PostgrestClient(new URL("rest/v1",N).href,{headers:this.headers,schema:U.db.schema,fetch:this.fetch}),this.storage=new l.StorageClient(this.storageUrl.href,this.headers,this.fetch,x?.storage),U.accessToken||this._listenForAuthEvents()}get functions(){return new i.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(b){return this.rest.from(b)}schema(b){return this.rest.schema(b)}rpc(b,v={},x={head:!1,get:!1,count:void 0}){return this.rest.rpc(b,v,x)}channel(b,v={config:{}}){return this.realtime.channel(b,v)}getChannels(){return this.realtime.getChannels()}removeChannel(b){return this.realtime.removeChannel(b)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var b,v;if(this.accessToken)return await this.accessToken();const{data:x}=await this.auth.getSession();return(v=(b=x.session)===null||b===void 0?void 0:b.access_token)!==null&&v!==void 0?v:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:b,persistSession:v,detectSessionInUrl:x,storage:w,userStorage:S,storageKey:T,flowType:N,lock:D,debug:L,throwOnError:U},I,F){const Q={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},Q),I),storageKey:T,autoRefreshToken:b,persistSession:v,detectSessionInUrl:x,storage:w,userStorage:S,flowType:N,lock:D,debug:L,throwOnError:U,fetch:F,hasCustomAuthorizationHeader:Object.keys(this.headers).some(K=>K.toLowerCase()==="authorization")})}_initRealtimeClient(b){return new s.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},b),{params:Object.assign({apikey:this.supabaseKey},b?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((v,x)=>{this._handleTokenChanged(v,"CLIENT",x?.access_token)})}_handleTokenChanged(b,v,x){(b==="TOKEN_REFRESHED"||b==="SIGNED_IN")&&this.changedAccessToken!==x?(this.changedAccessToken=x,this.realtime.setAuth(x)):b==="SIGNED_OUT"&&(this.realtime.setAuth(),v=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return jl.default=p,jl}var Q0;function mx(){return Q0||(Q0=1,(function(i){var a=Bn&&Bn.__createBinding||(Object.create?(function(b,v,x,w){w===void 0&&(w=x);var S=Object.getOwnPropertyDescriptor(v,x);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[x]}}),Object.defineProperty(b,w,S)}):(function(b,v,x,w){w===void 0&&(w=x),b[w]=v[x]})),s=Bn&&Bn.__exportStar||function(b,v){for(var x in b)x!=="default"&&!Object.prototype.hasOwnProperty.call(v,x)&&a(v,b,x)},l=Bn&&Bn.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(i,"__esModule",{value:!0}),i.createClient=i.SupabaseClient=i.FunctionRegion=i.FunctionsError=i.FunctionsRelayError=i.FunctionsFetchError=i.FunctionsHttpError=i.PostgrestError=void 0;const u=l(X0());s(wp,i);var c=Hg();Object.defineProperty(i,"PostgrestError",{enumerable:!0,get:function(){return c.PostgrestError}});var h=Mg;Object.defineProperty(i,"FunctionsHttpError",{enumerable:!0,get:function(){return h.FunctionsHttpError}}),Object.defineProperty(i,"FunctionsFetchError",{enumerable:!0,get:function(){return h.FunctionsFetchError}}),Object.defineProperty(i,"FunctionsRelayError",{enumerable:!0,get:function(){return h.FunctionsRelayError}}),Object.defineProperty(i,"FunctionsError",{enumerable:!0,get:function(){return h.FunctionsError}}),Object.defineProperty(i,"FunctionRegion",{enumerable:!0,get:function(){return h.FunctionRegion}}),s(Qg,i);var m=X0();Object.defineProperty(i,"SupabaseClient",{enumerable:!0,get:function(){return l(m).default}});const p=(b,v,x)=>new u.default(b,v,x);i.createClient=p;function y(){if(typeof window<"u"||typeof process>"u")return!1;const b=process.version;if(b==null)return!1;const v=b.match(/^v(\d+)\./);return v?parseInt(v[1],10)<=18:!1}y()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Bn)),Bn}var Sp=mx();const Ep=og(Sp),gx=Jv({__proto__:null,default:Ep},[Sp]),{PostgrestError:yS,FunctionsHttpError:vS,FunctionsFetchError:bS,FunctionsRelayError:_S,FunctionsError:xS,FunctionRegion:wS,SupabaseClient:SS,createClient:px,GoTrueAdminApi:ES,GoTrueClient:TS,AuthAdminApi:jS,AuthClient:AS,navigatorLock:NS,NavigatorLockAcquireTimeoutError:OS,lockInternals:CS,processLock:RS,SIGN_OUT_SCOPES:kS,AuthError:DS,AuthApiError:US,AuthUnknownError:MS,CustomAuthError:zS,AuthSessionMissingError:BS,AuthInvalidTokenResponseError:LS,AuthInvalidCredentialsError:$S,AuthImplicitGrantRedirectError:qS,AuthPKCEGrantCodeExchangeError:HS,AuthRetryableFetchError:GS,AuthWeakPasswordError:VS,AuthInvalidJwtError:IS,isAuthError:YS,isAuthApiError:KS,isAuthSessionMissingError:PS,isAuthImplicitGrantRedirectError:XS,isAuthRetryableFetchError:QS,isAuthWeakPasswordError:JS,RealtimePresence:FS,RealtimeChannel:ZS,RealtimeClient:WS,REALTIME_LISTEN_TYPES:e1,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:t1,REALTIME_PRESENCE_LISTEN_EVENTS:n1,REALTIME_SUBSCRIBE_STATES:a1,REALTIME_CHANNEL_STATES:s1}=Ep||gx,yx="https://iktrhksfmflxrxzvaaaa.supabase.co",vx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlrdHJoa3NmbWZseHJ4enZhYWFhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzOTc4NTUsImV4cCI6MjA4MDk3Mzg1NX0.IPqGlZJ0UX6dSiwNzIwq93-afpm7pKcN6leKuPgEeZw",pt=px(yx,vx,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Tp=re.createContext(null);function bx({children:i}){const[a,s]=re.useState(null),[l,u]=re.useState(!0);re.useEffect(()=>{let b=!1;async function v(){try{const{data:{session:w},error:S}=await pt.auth.getSession();S&&(console.error("Error getting initial session:",S),await pt.auth.signOut()),b||(s(w?.user??null),u(!1))}catch(w){console.error("Failed to initialize auth:",w),b||(s(null),u(!1))}}v();const{data:{subscription:x}}=pt.auth.onAuthStateChange(async(w,S)=>{b||s(S?.user??null),w==="TOKEN_REFRESHED"||w==="SIGNED_OUT"&&s(null)});return()=>{b=!0,x.unsubscribe()}},[]);async function c(b,v){const{error:x}=await pt.auth.signInWithPassword({email:b,password:v});if(x)throw x}async function h(b,v){const{data:x,error:w}=await pt.auth.signUp({email:b,password:v,options:{emailRedirectTo:window.location.origin}});if(w)throw w;return x}async function m(){try{const{error:b}=await pt.auth.signOut();b&&console.error("Error signing out:",b),s(null)}catch(b){console.error("Sign out failed:",b),s(null)}}async function p(b){const{error:v}=await pt.auth.resetPasswordForEmail(b,{redirectTo:window.location.origin});if(v)throw v}const y={user:a,authLoading:l,signInWithEmail:c,signUpWithEmail:h,signOut:m,resetPassword:p};return f.jsx(Tp.Provider,{value:y,children:i})}function _x(){const i=re.useContext(Tp);if(!i)throw new Error("useSupabaseAuth must be used inside SupabaseAuthProvider");return i}async function xx(i,a){i&&await pt.from("user_state").upsert({id:i,state:a},{onConflict:"id"})}async function wx(i){if(!i)return null;const{data:a,error:s}=await pt.from("user_state").select("state").eq("id",i).single();return s&&s.code!=="PGRST116"?(console.error("Error loading user state:",s),null):a?.state??null}const Zr=["","","","","","","","","",""];function Sx(i=""){let a=0;for(let s=0;s<i.length;s++)a=(a<<5)-a+i.charCodeAt(s),a|=0;return Math.abs(a)}function jp(i,a="Budgeteer"){if(!i)return a;const s=i.trim();return s&&s.replace(/[^a-zA-Z0-9_\- ]+/g,"").slice(0,32)||a}function Zl(i){const a=i?.email?.split("@")[0]??"",s=jp(a,"Budgeteer"),l=i?.id||i?.email||s||String(Date.now()),u=Sx(l)%Zr.length;return{username:s,avatar_emoji:Zr[u]}}let Wr=!0;function ei(i){return Zl(typeof i=="string"?{id:i}:i)}async function Ex(i){const a=typeof i=="string"?i:i?.id;if(!a)return null;if(!Wr)return ei(i);try{const{data:s,error:l}=await pt.from("user_metadata").select("username, avatar_emoji").eq("id",a).single();if(l){if(l.code==="PGRST116"){const u=Zl(typeof i=="string"?{id:a}:i),{data:c,error:h}=await pt.from("user_metadata").insert({id:a,...u}).select("username, avatar_emoji").single();return h?(console.error("Failed to insert default profile:",h),u):c??u}return console.error("Failed to load user metadata:",l),l?.code==="PGRST205"?(Wr=!1,ei(i)):null}return s??null}catch(s){return console.error("Unexpected error loading profile metadata:",s),s?.message?.includes("user_metadata")?(Wr=!1,ei(i)):null}}async function Tx(i,{username:a,avatar_emoji:s}={}){if(!i)throw new Error("Missing user id for profile update");if(!Wr)return ei({id:i});const l={};if(typeof a=="string"&&(l.username=jp(a)),typeof s=="string"&&s.length<=4&&(l.avatar_emoji=s),!(Object.keys(l).length>0)){const{data:m}=await pt.from("user_metadata").select("username, avatar_emoji").eq("id",i).single();return m??Zl({id:i})}const{data:c,error:h}=await pt.from("user_metadata").update(l).eq("id",i).select("username, avatar_emoji").single();if(h){if(h.code==="PGRST116"){const m={...Zl({id:i}),...l},{data:p,error:y}=await pt.from("user_metadata").insert({id:i,...m}).select("username, avatar_emoji").single();if(y)throw console.error("Failed to recreate missing profile row:",y),y;return p??m}if(console.error("Failed to update user metadata:",h),h?.code==="PGRST205")return Wr=!1,ei({id:i});throw h}return c}function jx({label:i,active:a,onClick:s}){return f.jsx("button",{onClick:s,className:`px-3 py-1 rounded-full border text-xs transition
      ${a?"border-cyan-400 bg-cyan-500/10 text-cyan-200":"border-slate-600/60 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200"}`,children:i})}const Wc=[{key:"dark",label:"Cyber Dark",description:"Charcoal with neon cyan highlights",shellClass:"bg-[#05060A] text-slate-100",headerClass:"border-[#1f2937] bg-[#05060F]/90",pillClass:"border-slate-600/70 bg-black/20 hover:bg-black/40",previewGradient:"from-[#020617] via-[#05060f] to-[#020617]"},{key:"light",label:"Soft Light",description:"Warm whites with slate ink",shellClass:"bg-slate-50 text-slate-900",headerClass:"border-slate-200 bg-white/80",pillClass:"border-slate-300 bg-white/70 hover:bg-slate-100",previewGradient:"from-white via-slate-100 to-slate-200"},{key:"midnight",label:"Midnight Pulse",description:"Indigo mist with electric purple",shellClass:"bg-[#070718] text-indigo-100",headerClass:"border-[#191d3a] bg-gradient-to-r from-[#0f1032cc] to-[#1b0d3fcc]",pillClass:"border-indigo-600/50 bg-indigo-900/40 hover:bg-indigo-900/70",previewGradient:"from-[#0b1433] via-[#25124f] to-[#3b0f49]"},{key:"aurora",label:"Aurora Mist",description:"Deep teal with aurora glow",shellClass:"bg-gradient-to-br from-[#041b1f] via-[#082831] to-[#041b1f] text-emerald-50",headerClass:"border-emerald-900/40 bg-[#051f25]/90",pillClass:"border-emerald-500/40 bg-emerald-900/40 hover:bg-emerald-900/70",previewGradient:"from-[#052528] via-[#0b4b4f] to-[#0f766e]"},{key:"crimson",label:"Crimson Bloom",description:"Deep burgundy with neon rose edges",shellClass:"bg-gradient-to-br from-[#19070a] via-[#2b0d12] to-[#19070a] text-rose-50",headerClass:"border-rose-900/40 bg-[#2b0d12]/90",pillClass:"border-rose-500/50 bg-rose-900/40 hover:bg-rose-900/70",previewGradient:"from-[#300911] via-[#5b0a1c] to-[#be123c]"}];function Ap(i){return Wc.find(a=>a.key===i)||Wc[0]}function Ax({option:i,active:a,onSelect:s}){return f.jsxs("button",{type:"button",onClick:()=>s(i.key),className:`w-full text-left rounded-xl border px-3 py-2 transition ${a?"border-cyan-400 bg-cyan-500/10":"border-white/10 hover:border-cyan-400/60"}`,children:[f.jsx("div",{className:`h-10 rounded-lg bg-gradient-to-r ${i.previewGradient} mb-2`}),f.jsx("p",{className:"text-sm font-semibold text-white",children:i.label}),f.jsx("p",{className:"text-[11px] text-slate-300",children:i.description})]})}function Nx({value:i,onChange:a,variant:s="default",onAfterSelect:l=()=>{}}){const[u,c]=re.useState(!1),h=re.useMemo(()=>Ap(i),[i]),m=s==="menu";function p(v){a?.(v),c(!1),l?.()}const y=m?"w-full text-left px-3 py-2 text-slate-200 hover:bg-slate-800/80 rounded-md transition":`px-2 py-1 rounded border transition ${h.pillClass}`,b=`absolute ${m?"left-0":"right-0"} ${m?"mt-1":"mt-2"} w-64 rounded-2xl border border-white/15 bg-[#05060F]/95 p-3 shadow-xl backdrop-blur z-50 transition-all duration-150 ${u?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`;return f.jsxs("div",{className:`relative text-xs ${m?"w-full":""}`,children:[f.jsxs("button",{type:"button",onClick:()=>c(v=>!v),className:y,children:["Theme: ",h.label]}),f.jsx("div",{className:b,children:f.jsx("div",{className:"space-y-2",children:Wc.map(v=>f.jsx(Ax,{option:v,active:v.key===h.key,onSelect:p},v.key))})})]})}function Ox({customizeMode:i,setCustomizeMode:a,onReset:s,onSignOut:l,themeValue:u,onChangeTheme:c=()=>{}}){const[h,m]=re.useState(!1);return f.jsxs("div",{className:"relative",children:[f.jsx("button",{type:"button",className:"flex items-center justify-center w-9 h-9 rounded-full border border-slate-600/70 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200 transition",onClick:()=>m(p=>!p),children:f.jsxs("span",{className:"relative flex flex-col justify-between w-4 h-3",children:[f.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${h?"translate-y-[5px] rotate-45":""}`}),f.jsx("span",{className:`h-[2px] rounded-full bg-current transition-opacity duration-200 ${h?"opacity-0":"opacity-100"}`}),f.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${h?"-translate-y-[5px] -rotate-45":""}`})]})}),f.jsxs("div",{className:`absolute right-0 mt-2 w-52 bg-[#0B0C14] border border-slate-700/70 rounded-lg shadow-lg z-50 text-xs origin-top-right transform transition-all duration-150 ${h?"opacity-100 scale-100 translate-y-0 pointer-events-auto":"opacity-0 scale-95 -translate-y-1 pointer-events-none"}`,children:[f.jsx("div",{className:"px-2 py-2 border-b border-slate-800/70",children:f.jsx(Nx,{value:u,onChange:c,variant:"menu",onAfterSelect:()=>m(!1)})}),f.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:()=>{a(p=>!p),m(!1)},children:i?"Finish Customizing":"Customize Layout"}),f.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-rose-300",onClick:()=>{m(!1),s()},children:"Reset Data"}),f.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:async()=>{m(!1);try{await l()}catch(p){console.error("Sign out failed:",p)}},children:"Sign Out"})]})]})}function Cx({onSignIn:i,onSignUp:a,onResetPassword:s,loading:l}){const[u,c]=Me.useState("signin"),[h,m]=Me.useState(""),[p,y]=Me.useState(""),[b,v]=Me.useState(null),[x,w]=Me.useState(null),[S,T]=Me.useState(!1),[N,D]=Me.useState(!1);async function L(){if(v(null),w(null),!h){v("Please enter your email first, then click 'Forgot password?'.");return}if(s){D(!0);try{await s(h),w("If an account exists with that email, a reset link has been sent. Check your inbox.")}catch(I){v(I.message||"Failed to start password reset.")}finally{D(!1)}}}async function U(I){I.preventDefault(),v(null),w(null),T(!0);try{if(u==="signin")await i(h,p);else{const F=await a(h,p),Q=F?.user||null,K=F?.session||null;w(Q&&!K?"Account created! Check your email and click the confirmation link.":"Account created!")}}catch(F){v(F.message||"Something went wrong.")}finally{T(!1)}}return l?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-200",children:f.jsx("div",{className:"text-sm text-slate-400",children:"Checking session..."})}):f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-100 px-4",children:f.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-2xl border border-white/10 bg-black/30 p-8 shadow-[0_20px_50px_rgba(8,8,12,0.8)]",children:[f.jsxs("div",{className:"space-y-2 text-center",children:[f.jsx("p",{className:"text-xs tracking-[0.4em] uppercase text-cyan-300",children:"Budget Center"}),f.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Access portal"}),f.jsx("p",{className:"text-sm text-slate-400",children:u==="signin"?"Sign in to load your encrypted budgets.":"Create an account to sync your budgets and goals across devices."})]}),f.jsxs("div",{className:"grid grid-cols-2 rounded-full bg-white/5 p-1 text-sm",children:[f.jsx("button",{type:"button",onClick:()=>c("signin"),className:`rounded-full py-2 font-medium transition ${u==="signin"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Sign in"}),f.jsx("button",{type:"button",onClick:()=>c("signup"),className:`rounded-full py-2 font-medium transition ${u==="signup"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Create account"})]}),b&&f.jsx("div",{className:"rounded border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-100",children:b}),x&&f.jsx("div",{className:"rounded border border-emerald-400/60 bg-emerald-400/10 px-3 py-2 text-sm text-emerald-100",children:x}),f.jsxs("form",{onSubmit:U,className:"space-y-4",children:[f.jsxs("label",{className:"block text-sm",children:[f.jsx("span",{className:"text-slate-300",children:"Email"}),f.jsx("input",{type:"email",required:!0,value:h,onChange:I=>m(I.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"you@email.com",autoComplete:"email"})]}),f.jsxs("label",{className:"block text-sm",children:[f.jsx("span",{className:"text-slate-300",children:"Password"}),f.jsx("input",{type:"password",required:!0,minLength:6,value:p,onChange:I=>y(I.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"",autoComplete:u==="signin"?"current-password":"new-password"})]}),f.jsx("button",{type:"submit",disabled:S,className:"w-full rounded-lg bg-cyan-500 py-2 text-sm font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:S?"Please wait...":u==="signin"?"Sign in":"Create account"})]}),f.jsx("div",{className:"text-center text-sm text-slate-400",children:f.jsx("button",{type:"button",className:"font-medium text-cyan-300 hover:text-cyan-200 disabled:opacity-60",onClick:L,disabled:N,children:N?"Sending reset link...":"Forgot password?"})})]})})}function Rx({message:i,variant:a="info",actionLabel:s,onAction:l,onClose:u}){const c=a==="success";return f.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-xs sm:max-w-sm",children:f.jsxs("div",{className:`toast-enter flex items-start gap-3 rounded-xl border px-4 py-3 text-xs shadow-xl bg-[#05060F]/95 backdrop-blur
        ${c?"border-emerald-400/80 text-emerald-100":"border-cyan-400/80 text-cyan-100"}`,children:[f.jsx("div",{className:"mt-[2px] text-lg",children:c?"":""}),f.jsxs("div",{className:"flex-1 space-y-1",children:[f.jsx("p",{className:"leading-snug",children:i}),s&&l&&f.jsxs("button",{onClick:l,className:"inline-flex items-center gap-1 text-[0.7rem] mt-1 px-2 py-1 rounded-full border border-cyan-400/70 text-cyan-100 hover:bg-cyan-500/10 hover:border-cyan-300 transition",children:[f.jsx("span",{children:s}),f.jsx("span",{className:"text-[0.75rem]",children:""})]})]}),u&&f.jsx("button",{className:"ml-1 text-[0.7rem] text-slate-500 hover:text-slate-200",onClick:u,children:""})]})})}function kx({emoji:i,active:a,onSelect:s}){return f.jsx("button",{type:"button",onClick:()=>s(i),className:`w-9 h-9 text-lg rounded-full border transition flex items-center justify-center
      ${a?"border-cyan-400/80 bg-cyan-500/10":"border-slate-600/60 bg-black/30 hover:border-cyan-400/40"}`,children:i})}function Dx({profile:i,email:a,loading:s,onUpdateProfile:l}){const[u,c]=re.useState(!1),[h,m]=re.useState(i?.username??""),[p,y]=re.useState(i?.avatar_emoji??Zr[0]),[b,v]=re.useState(!1);re.useEffect(()=>{m(i?.username??""),y(i?.avatar_emoji??Zr[0])},[i?.username,i?.avatar_emoji]);async function x(T){if(T.preventDefault(),!l)return;v(!0);const N=await l({username:h,avatar_emoji:p});v(!1),N&&c(!1)}const w=i?.avatar_emoji??"",S=i?.username||"Budgeteer";return f.jsxs("div",{className:"relative",children:[f.jsxs("button",{type:"button",onClick:()=>c(T=>!T),className:"flex items-center gap-2 rounded-full border border-slate-600/70 bg-black/20 px-2 py-1 text-left hover:border-cyan-400/60 transition",children:[f.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-cyan-500/10 text-lg",children:w}),f.jsxs("span",{className:"flex flex-col leading-tight text-xs text-slate-300",children:[f.jsx("span",{className:"text-cyan-200",children:S}),f.jsx("span",{className:"text-[10px] text-slate-500",children:s?"Syncing...":"Profile"})]})]}),f.jsxs("form",{className:`absolute right-0 mt-2 w-64 rounded-xl border border-slate-700/70 bg-[#05060F] p-4 text-xs shadow-xl transition-all duration-150 ${u?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,onSubmit:x,children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-[11px] text-slate-400",children:a?`Signed in as ${a}`:"Signed in"}),f.jsxs("label",{className:"block",children:[f.jsx("span",{className:"text-slate-300",children:"Display name"}),f.jsx("input",{type:"text",value:h,onChange:T=>m(T.target.value),placeholder:"Budgeteer",className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-xs text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none"})]})]}),f.jsxs("div",{className:"mt-3",children:[f.jsx("p",{className:"mb-2 text-slate-300",children:"Avatar"}),f.jsx("div",{className:"grid grid-cols-5 gap-2",children:Zr.map(T=>f.jsx(kx,{emoji:T,active:p===T,onSelect:y},T))})]}),f.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[f.jsx("button",{type:"button",className:"text-[11px] text-slate-500 hover:text-slate-200",onClick:()=>c(!1),children:"Cancel"}),f.jsx("button",{type:"submit",disabled:b,className:"rounded-full bg-cyan-500 px-3 py-1 text-[11px] font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:b?"Saving...":"Save changes"})]})]})]})}const ti=[{key:"cyber",label:"Cyber Cyan",background:"bg-gradient-to-br from-[#041019] via-[#051c25] to-[#03070d]"},{key:"sunset",label:"Sunset Glow",background:"bg-gradient-to-br from-orange-500 via-pink-500 to-rose-500"},{key:"forest",label:"Forest Echo",background:"bg-gradient-to-br from-[#0f3d2a] via-[#145036] to-[#1e6746]"},{key:"midnight",label:"Midnight Pulse",background:"bg-gradient-to-br from-[#09001a] via-[#1b0231] to-[#330057]"}],ed=["","","","","","","",""],Ux={name:"",target:0,current:0,monthlyPlan:0,emoji:"",description:"",dueDate:"",theme:ti[0].key,icon:ed[0],background:ti[0].key,animation:"pulse"};function Mx({open:i,mode:a="create",initialGoal:s={},onClose:l,onSave:u,onDelete:c}){const[h,m]=re.useState(Ux);re.useEffect(()=>{i&&m({name:s?.name||"",target:Number(s?.target??0),current:Number(s?.current??s?.saved??0),monthlyPlan:Number(s?.monthlyPlan??0),emoji:s?.emoji||"",description:s?.description||"",dueDate:s?.dueDate||"",theme:s?.theme||ti[0].key,icon:s?.icon||ed[0],background:s?.background||ti[0].key,animation:s?.animation||"pulse"})},[s,i]);const p=a==="edit",y=p?"Edit goal":"Create new goal";function b(T,N){m(D=>({...D,[T]:N}))}function v(T,N){const D=Number(N);b(T,Number.isFinite(D)?D:0)}function x(T){T.preventDefault(),h.name.trim()||b("name","Untitled goal"),u?.({...h,name:h.name.trim()||"Untitled goal"})}const w=!i,S=re.useMemo(()=>{const T=Number(h.target)||0;if(T<=0)return 0;const N=Math.max(0,Number(h.current)||0);return Math.min(100,N/T*100)},[h.target,h.current]);return i?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm px-4",children:f.jsxs("form",{className:"w-full max-w-lg space-y-4 rounded-2xl border border-white/10 bg-[#05060F] p-6 text-sm shadow-2xl",onSubmit:x,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:y}),f.jsx("p",{className:"text-[11px] text-slate-400",children:"Track savings progress, target amount, and plans."})]}),f.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-200 text-base",onClick:l,children:""})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[f.jsxs("label",{className:"space-y-1",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Goal name"}),f.jsx("input",{type:"text",className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",value:h.name,onChange:T=>b("name",T.target.value),placeholder:"Emergency fund"})]}),f.jsxs("label",{className:"space-y-1",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Emoji"}),f.jsx("input",{type:"text",className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",value:h.emoji,onChange:T=>b("emoji",T.target.value.slice(0,4)),placeholder:""})]})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[f.jsxs("label",{className:"space-y-1",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Target amount"}),f.jsx("input",{type:"number",min:"0",step:"100",className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",value:h.target,onChange:T=>v("target",T.target.value),placeholder:"5000"})]}),f.jsxs("label",{className:"space-y-1",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Saved so far"}),f.jsx("input",{type:"number",min:"0",step:"50",className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",value:h.current,onChange:T=>v("current",T.target.value),placeholder:"1000"})]}),f.jsxs("label",{className:"space-y-1",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Monthly plan"}),f.jsx("input",{type:"number",min:"0",step:"1",className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",value:h.monthlyPlan,onChange:T=>v("monthlyPlan",T.target.value),placeholder:"250"})]})]}),f.jsxs("label",{className:"space-y-1 block",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Description"}),f.jsx("textarea",{rows:"3",className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",value:h.description,onChange:T=>b("description",T.target.value),placeholder:"What is this goal for?"})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[f.jsxs("label",{className:"space-y-1",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Target date"}),f.jsx("input",{type:"date",value:h.dueDate,onChange:T=>b("dueDate",T.target.value),className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white focus:border-cyan-400 focus:outline-none"})]}),f.jsxs("label",{className:"space-y-1",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Animation style"}),f.jsxs("select",{value:h.animation,onChange:T=>b("animation",T.target.value),className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white focus:border-cyan-400 focus:outline-none",children:[f.jsx("option",{value:"pulse",children:"Pulse"}),f.jsx("option",{value:"glow",children:"Glow"}),f.jsx("option",{value:"slide",children:"Slide"}),f.jsx("option",{value:"wave",children:"Wave"})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("label",{className:"block text-xs text-slate-400",children:"Theme"}),f.jsx("div",{className:"grid grid-cols-2 gap-3",children:ti.map(T=>f.jsxs("button",{type:"button",onClick:()=>m(N=>({...N,theme:T.key,background:T.key})),className:`rounded-xl p-3 text-left transition border ${h.theme===T.key?"border-cyan-400 bg-cyan-500/10":"border-white/10 hover:border-cyan-400/50"}`,children:[f.jsx("div",{className:`h-12 rounded-lg ${T.background} mb-2`}),f.jsx("p",{className:"text-sm text-white",children:T.label})]},T.key))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Icon"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:ed.map(T=>f.jsx("button",{type:"button",onClick:()=>b("icon",T),className:`w-10 h-10 rounded-full border text-lg flex items-center justify-center ${h.icon===T?"border-cyan-400 bg-cyan-500/10":"border-white/10 hover:border-cyan-400/50"}`,children:T},T))})]}),f.jsxs("div",{className:"text-xs text-slate-400",children:["Progress preview: ",S.toFixed(1),"%"]}),f.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pt-2",children:[p?f.jsx("button",{type:"button",disabled:w,className:"text-xs text-rose-300 hover:text-rose-200 disabled:opacity-50",onClick:()=>{if(!s?.id)return;window.confirm(`Delete goal "${s.name||"this goal"}"?`)&&c?.(s.id)},children:"Delete goal"}):f.jsx("span",{}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",className:"rounded-full border border-slate-600/70 px-4 py-2 text-xs text-slate-300 hover:border-slate-400",onClick:l,disabled:w,children:"Cancel"}),f.jsx("button",{type:"submit",className:"rounded-full bg-cyan-500 px-4 py-2 text-xs font-semibold text-black hover:bg-cyan-400 disabled:opacity-60",disabled:w,children:p?"Save changes":"Create goal"})]})]})]})}):null}function zx({open:i,goal:a,onAdd:s,onClose:l}){const[u,c]=re.useState("");return re.useEffect(()=>{i&&c("")},[i]),i?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm px-4",children:f.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-white/10 bg-[#05060F] p-5 shadow-2xl text-sm",children:[f.jsxs("header",{className:"mb-4",children:[f.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Add contribution"}),f.jsxs("h2",{className:"text-base font-semibold text-slate-100",children:[a?.emoji," ",a?.name||"Goal"]}),f.jsx("p",{className:"text-[11px] text-slate-400",children:"Log a manual contribution to update your saved amount."})]}),f.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Amount"}),f.jsx("input",{type:"number",min:"0",step:"1",value:u,onChange:h=>c(h.target.value),className:"w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"150"}),f.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[f.jsx("button",{type:"button",className:"rounded-full border border-slate-600/70 px-3 py-1 text-xs text-slate-300 hover:border-slate-400",onClick:l,children:"Cancel"}),f.jsx("button",{type:"button",className:"rounded-full bg-cyan-500 px-4 py-1 text-xs font-semibold text-black hover:bg-cyan-400 disabled:opacity-60",onClick:()=>s?.(u),disabled:!u||Number(u)<=0,children:"Add"})]})]})}):null}function Yt({title:i,children:a}){return f.jsxs("section",{className:"card-surface border rounded-xl p-4",children:[i&&f.jsx("h2",{className:"text-xs font-semibold tracking-[0.25em] text-slate-400 mb-3 uppercase",children:i}),a]})}function gd({value:i=0}){const a=Math.max(0,Math.min(100,Number.isNaN(i)?0:i));return f.jsx("div",{className:"progress-bar",children:f.jsx("div",{className:"progress-bar-filled",style:{width:`${a}%`},children:a>2&&f.jsx("div",{className:"progress-shine shine"})})})}function Bx(i){switch(i){case"sunset":return"bg-gradient-to-br from-orange-500/70 via-pink-500/60 to-rose-500/60 border-rose-400/60";case"forest":return"bg-gradient-to-br from-emerald-900/70 via-emerald-800/60 to-emerald-700/60 border-emerald-400/60";case"midnight":return"bg-gradient-to-br from-indigo-900/70 via-purple-900/60 to-indigo-900/70 border-indigo-400/60";case"cyber":default:return"bg-[#090a11] border-slate-800"}}function Lx({goal:i,onClick:a}){const s=Number(i?.saved??i?.current??0),l=Number(i?.target??0),u=Number(i?.monthlyPlan??0),c=i?.icon||i?.emoji||"",h=i?.name||"Untitled Goal",m=l>0?Math.min(100,s/l*100):0,p=Bx(i?.theme);return f.jsxs("button",{onClick:a,className:`text-left rounded-xl p-3 hover:border-cyan-400/70 hover:shadow-[0_0_18px_rgba(34,211,238,0.35)] transition ${p}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:c}),f.jsx("span",{className:"text-sm font-medium text-slate-100",children:h})]}),f.jsxs("span",{className:"text-[0.7rem] text-slate-400",children:["Plan: $",u.toFixed(0),"/mo"]})]}),f.jsxs("div",{className:"text-xs text-slate-400 mb-1",children:["$",s.toFixed(0)," / $",l.toFixed(0)]}),f.jsx(gd,{value:m})]})}const $x="modulepreload",qx=function(i){return"/budget-app/"+i},J0={},Hx=function(a,s,l){let u=Promise.resolve();if(s&&s.length>0){let p=function(y){return Promise.all(y.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");u=p(s.map(y=>{if(y=qx(y),y in J0)return;J0[y]=!0;const b=y.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${v}`))return;const x=document.createElement("link");if(x.rel=b?"stylesheet":$x,b||(x.as="script"),x.crossOrigin="",x.href=y,m&&x.setAttribute("nonce",m),document.head.appendChild(x),b)return new Promise((w,S)=>{x.addEventListener("load",w),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return u.then(h=>{for(const m of h||[])m.status==="rejected"&&c(m.reason);return a().catch(c)})},td=[{key:"chase",label:"Chase"},{key:"capitalone",label:"Capital One"},{key:"wellsfargo",label:"Wells Fargo"},{key:"americanexpress",label:"Amex"},{key:"discover",label:"Discover"},{key:"navyfederal",label:"Navy Federal"},{key:"mountainamerica",label:"Mountain America"},{key:"bankofamerica",label:"Bank of America"},{key:"usbank",label:"US Bank"},{key:"pnc",label:"PNC"}];function nd(i=""){return i.toLowerCase().replace(/[^a-z0-9]/g,"")}function F0(i="",a=""){const s=nd((a||"")+" "+i.slice(0,4e3));for(const l of td)if(s.includes(l.key))return l.label;return null}function si(i){const a=[];let s="",l=!1;for(let u=0;u<i.length;u++){const c=i[u];if(c==='"'){l=!l;continue}c===","&&!l?(a.push(s),s=""):s+=c}return a.push(s),a}function Hl(i){if(i==null)return NaN;let a=String(i).trim();a=a.replace(/"/g,"");let s=!1;if(a.startsWith("(")&&a.endsWith(")")&&(s=!0,a=a.slice(1,-1)),a=a.replace(/[$,]/g,""),a==="")return NaN;const l=Number(a);return Number.isNaN(l)?NaN:s?-l:l}function Np(i,a){const s=(i||"").toLowerCase();return a>0?s.includes("payroll")||s.includes("direct deposit")?"Income  Paycheck":s.includes("refund")||s.includes("rebate")?"Income  Refund":"Income  Other":s.includes("uber")||s.includes("lyft")||s.includes("taxi")?"Transport  Rideshare":s.includes("shell")||s.includes("chevron")||s.includes("exxon")||s.includes("gas")||s.includes("fuel")?"Transport  Gas":s.includes("walmart")||s.includes("costco")||s.includes("grocery")||s.includes("smith")||s.includes("kroger")?"Groceries":s.includes("starbucks")||s.includes("coffee")||s.includes("mcdonald")||s.includes("taco bell")||s.includes("restaurant")||s.includes("cafe")?"Food & Dining":s.includes("netflix")||s.includes("spotify")||s.includes("hulu")||s.includes("disney")||s.includes("subscription")||s.includes("prime")?"Subscriptions":s.includes("rent")||s.includes("landlord")||s.includes("mortgage")?"Housing  Rent/Mortgage":s.includes("power")||s.includes("electric")||s.includes("water")||s.includes("utility")||s.includes("utilities")?"Utilities":s.includes("gym")||s.includes("fitness")?"Health & Fitness":s.includes("insurance")||s.includes("geico")||s.includes("allstate")?"Insurance":s.includes("amazon")||s.includes("target")||s.includes("best buy")||s.includes("shop")?"Shopping":"Other"}const Vr={date:["date","transaction date","posted date","posting date","trans date"],description:["description","details","memo","payee","transaction description","narrative"],debit:["debit","withdrawal","outflow","money out","charge"],credit:["credit","deposit","inflow","money in","payment","credit amount"],amount:["amount","amt","transaction amount","value"]};function Gx(i){return si(i).map(s=>s.trim()).map(s=>{let l=s.toLowerCase().replace(/"/g,"");return l=l.replace(/\s+/g," ").trim(),l})}function Ir(i,a){return i.findIndex(s=>a.includes(s))}function Op(i){if(!i)return"";let a=String(i).trim().replace(/"/g,"");if(!a)return"";let s=a.match(/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/);if(s){const[,u,c,h]=s;return`${u}-${c.padStart(2,"0")}-${h.padStart(2,"0")}`}if(s=a.match(/^(\d{4})(\d{2})(\d{2})$/),s){const[,u,c,h]=s;return`${u}-${c}-${h}`}if(s=a.match(/^(\d{1,2})[\/.-](\d{1,2})[\/.-](\d{2,4})$/),s){let[,u,c,h]=s,m=h.length===2?Number(h)>=70?`19${h}`:`20${h}`:h;const p=Number(u),y=Number(c);let b,v;return p>12&&y<=12?(v=p,b=y):(b=p,v=y),`${m}-${String(b).padStart(2,"0")}-${String(v).padStart(2,"0")}`}if(s=a.match(/^(\d{1,2})\s+([A-Za-z]{3,})\s+(\d{2,4})$/),s){const[,u,c,h]=s,m=h.length===2?`20${h}`:h,y=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(c.toLowerCase().slice(0,3));if(y>=0){const b=String(y+1).padStart(2,"0"),v=String(u).padStart(2,"0");return`${m}-${b}-${v}`}}if(s=a.match(/^([A-Za-z]{3,})\s+(\d{1,2}),?\s+(\d{2,4})$/),s){const[,u,c,h]=s,m=h.length===2?`20${h}`:h,y=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(u.toLowerCase().slice(0,3));if(y>=0){const b=String(y+1).padStart(2,"0"),v=String(c).padStart(2,"0");return`${m}-${b}-${v}`}}const l=new Date(a);return Number.isNaN(l.getTime())?a:l.toISOString().slice(0,10)}function Vx(i){const a=i.split(/\r?\n/).find(u=>u.trim().length>0)||"";if(!a)return[];const s=si(a).map(u=>u.trim().replace(/^"|"$/g,""));return s.some(u=>/[a-zA-Z]/.test(u))?s.map((u,c)=>u||`Column ${c+1}`):s.map((u,c)=>`Column ${c+1}`)}function Ix(i){const a=i.split(/\r?\n/).filter(x=>x.trim()!=="");if(a.length===0)return[];let s=Gx(a[0]),l=1;function u(x){const w=Ir(x,Vr.date),S=Ir(x,Vr.description),T=Ir(x,Vr.amount),N=Ir(x,Vr.debit),D=Ir(x,Vr.credit);return{dateIndex:w,descIndex:S,amountIndex:T,debitIndex:N,creditIndex:D}}let{dateIndex:c,descIndex:h,amountIndex:m,debitIndex:p,creditIndex:y}=u(s);if(c<0&&h<0&&m<0&&p<0&&y<0){const x=si(a[0]).map(S=>S.trim());s=x.map((S,T)=>T===0?"date":T===1?"description":T===2||T===x.length-1?"amount":`col${T+1}`),l=0,{dateIndex:c,descIndex:h,amountIndex:m,debitIndex:p,creditIndex:y}=u(s)}const v=[];for(let x=l;x<a.length;x++){const w=a[x],S=si(w).map(I=>I.trim());if(S.length===0||S.every(I=>I===""))continue;const T=c>=0?S[c]:"",N=Op(T),D=h>=0?S[h]:"";let L=NaN;if(m>=0)L=Hl(S[m]);else if(p>=0||y>=0){const I=p>=0?Hl(S[p]):0;L=(y>=0?Hl(S[y]):0)-I}if(!N&&!D&&Number.isNaN(L)||typeof L!="number"||Number.isNaN(L))continue;const U=Np(D,L);v.push({date:N,description:D,amount:L,category:U})}return v}function Yx(i,{dateIndex:a=null,descIndex:s=null,amountIndex:l=null}={}){const u=i.split(/\r?\n/).filter(h=>h.trim()!=="");if(u.length===0)return[];const c=[];for(let h=1;h<u.length;h++){const m=u[h],p=si(m).map(S=>S.trim());if(p.length===0||p.every(S=>S===""))continue;const y=a!=null&&a>=0?p[a]:"",b=Op(y),v=s!=null&&s>=0?p[s]:"";let x=NaN;if(l!=null&&l>=0&&(x=Hl(p[l])),!b&&!v&&Number.isNaN(x)||typeof x!="number"||Number.isNaN(x))continue;const w=Np(v,x);c.push({date:b,description:v,amount:x,category:w})}return c}function Kx({onTransactionsParsed:i=()=>{}}){const[a,s]=Me.useState(""),[l,u]=Me.useState(""),[c,h]=Me.useState(""),[m,p]=Me.useState(""),[y,b]=Me.useState(""),[v,x]=Me.useState([]),[w,S]=Me.useState({date:"",description:"",amount:""}),[T,N]=Me.useState([]);function D(){s(""),u(""),b(""),x([]),S({date:"",description:"",amount:""}),N([])}async function L(K){const Z=K.target.files?.[0];if(!Z)return;if(D(),h(Z.name),u(""),(Z.name||"").toLowerCase().endsWith(".pdf")||Z.type==="application/pdf"){s("Extracting transactions from PDF...");try{const{parsePdfTransactions:de}=await Hx(async()=>{const{parsePdfTransactions:z}=await import("./pdf-B2cslrQ5.js");return{parsePdfTransactions:z}},[]),{text:Ce,rows:Oe}=await de(Z);b(Ce);const ie=F0(Ce,Z.name||"");if(p(ie||""),!Oe.length){N([]),s(""),u("We couldn't detect any transactions in that PDF. Try a different export or use CSV.");return}N(Oe),s(`Parsed ${Oe.length} transactions from PDF. Review the preview below, then import.`)}catch(de){console.error("PDF parse error:",de),s(""),u("We couldn't read this PDF. Try downloading it as a CSV or a different PDF format.")}return}s("Reading file...");const be=new FileReader;be.onload=de=>{try{const Ce=String(de.target?.result||"");b(Ce);const Oe=F0(Ce,Z.name||"");p(Oe||"");const ie=Ix(Ce);if(x(Vx(Ce)),!ie.length){N([]),s("We couldn't automatically detect the right columns. Use the mapping controls below and click Re-parse.");return}N(ie),s(`Parsed ${ie.length} transactions. Review the preview below, tweak the mapping if needed, then import.`)}catch(Ce){console.error("CSV parse error:",Ce),u("We couldn't understand this CSV. Try a different export format."),s("")}},be.onerror=()=>{u("Could not read the file."),s("")},be.readAsText(Z)}function U(){if(!y)return;const K={dateIndex:w.date===""?null:Number.parseInt(w.date,10),descIndex:w.description===""?null:Number.parseInt(w.description,10),amountIndex:w.amount===""?null:Number.parseInt(w.amount,10)},Z=Yx(y,K);if(!Z.length){u("No rows were parsed with that mapping. Try different columns or reset to auto-detect."),N([]),s("");return}u(""),N(Z),s(`Parsed ${Z.length} transactions with your custom mapping. Review the preview, then import.`)}function I(){if(!T.length)return;const K=T,Z=y,pe=c;i(K,Z),s(`Imported ${K.length} transactions${pe?` from ${pe}`:""}. View them under the target account.`),N([]),b(""),x([]),S({date:"",description:"",amount:""})}const F=Math.min(10,T.length),Q=T.reduce((K,Z)=>K+(typeof Z.amount=="number"?Z.amount:0),0);return f.jsxs("div",{className:"space-y-2 text-xs",children:[f.jsxs("p",{className:"text-slate-400",children:["Upload a"," ",f.jsx("span",{className:"text-cyan-300 font-semibold",children:".csv"})," or"," ",f.jsx("span",{className:"text-cyan-300 font-semibold",children:".pdf"})," bank statement. We'll parse basic fields like date, description, and amount, then route it into the right account."]}),f.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md border border-cyan-400/70 text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 cursor-pointer transition",children:[f.jsx("span",{children:"Choose CSV file"}),f.jsx("input",{type:"file",accept:".csv,text/csv,application/pdf",className:"hidden",onChange:L})]}),c&&f.jsxs("p",{className:"text-[0.7rem] text-slate-500",children:["Selected: ",f.jsx("span",{className:"text-slate-300",children:c})]}),m&&f.jsxs("p",{className:"text-[0.7rem] text-slate-400",children:["Detected bank format:"," ",f.jsx("span",{className:"text-cyan-300 font-semibold",children:m})]}),a&&f.jsx("p",{className:"text-[0.7rem] text-slate-400",children:a}),l&&f.jsx("p",{className:"text-[0.7rem] text-rose-400",children:l}),y&&v.length>0&&f.jsxs("div",{className:"mt-2 border border-slate-700 rounded-md p-2 space-y-2",children:[f.jsx("p",{className:"text-[0.7rem] text-slate-400",children:"If dates/amounts look wrong, override the mapping:"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:["date","description","amount"].map(K=>f.jsxs("label",{className:"flex flex-col gap-1 text-[0.7rem]",children:[f.jsx("span",{className:"uppercase tracking-[0.16em] text-slate-500",children:K}),f.jsxs("select",{className:"bg-[#05060F] border border-slate-700 rounded px-2 py-1 text-slate-200",value:w[K]??"",onChange:Z=>S(pe=>({...pe,[K]:Z.target.value})),children:[f.jsx("option",{value:"",children:"Auto detect"}),v.map((Z,pe)=>f.jsxs("option",{value:pe,children:[Z," (column ",pe+1,")"]},pe))]})]},K))}),f.jsx("button",{type:"button",onClick:U,className:"mt-1 px-3 py-1.5 text-[0.7rem] rounded-md border border-cyan-400/70 text-cyan-100 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"Re-parse with mapping"})]}),T.length>0&&f.jsxs("div",{className:"mt-2 border border-slate-700 rounded-md p-2 space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between text-[0.7rem] text-slate-400",children:[f.jsxs("span",{children:["Previewing ",F," of ",T.length," rows"]}),f.jsxs("span",{children:["Net amount:"," ",f.jsxs("span",{className:Q<0?"text-rose-300":"text-emerald-300",children:[Q<0?"-":"","$",Math.abs(Q).toFixed(2)]})]})]}),f.jsx("div",{className:"max-h-40 overflow-auto text-[0.7rem]",children:f.jsxs("table",{className:"w-full text-left border-collapse",children:[f.jsx("thead",{className:"sticky top-0 bg-[#05060F]",children:f.jsxs("tr",{className:"border-b border-slate-700",children:[f.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Date"}),f.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Description"}),f.jsx("th",{className:"py-1 text-right font-semibold text-slate-300",children:"Amount"})]})}),f.jsx("tbody",{children:T.slice(0,F).map((K,Z)=>f.jsxs("tr",{className:"border-b border-slate-800/60",children:[f.jsx("td",{className:"py-1 pr-2 text-slate-200",children:K.date}),f.jsx("td",{className:"py-1 pr-2 text-slate-300",children:K.description}),f.jsxs("td",{className:`py-1 text-right ${K.amount<0?"text-rose-300":"text-emerald-300"}`,children:[K.amount<0?"-":"","$",Math.abs(K.amount).toFixed(2)]})]},Z))})]})}),f.jsxs("div",{className:"flex gap-2 mt-1",children:[f.jsx("button",{type:"button",onClick:I,className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition",children:"Import these transactions"}),f.jsx("button",{type:"button",onClick:D,className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Discard preview"})]})]}),f.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"Tip: Most banks let you export recent transactions as CSV from their website."})]})}function Ml({label:i,value:a,accent:s}){return f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.22em] text-slate-500",children:i}),f.jsxs("span",{className:`text-base font-semibold ${s}`,children:["$",a.toFixed(2)]})]})}function ha(i,{currency:a="USD",locale:s="en-US",minimumFractionDigits:l=2,maximumFractionDigits:u=2}={}){const c=Number(i);return Number.isNaN(c)?"-":new Intl.NumberFormat(s,{style:"currency",currency:a,minimumFractionDigits:l,maximumFractionDigits:u}).format(c)}function Px(i,a){const s={};for(const l of i||[]){const u=a(l);s[u]||(s[u]=[]),s[u].push(l)}return s}const Yr=150,Gl=18,Fr=36,Cp=180,Bs=32,ad=14,Xx=2,Qx=140,Jx=640,Fx=48,Z0=64,Zx=12,Wx=520,W0=8,Rp=160;function ew(i,a=1){if(!i||typeof i!="string"||i[0]!=="#")return i;let s=i.slice(1);if(s.length===3&&(s=s.split("").map(m=>m+m).join("")),s.length!==6)return i;const l=parseInt(s,16);if(!Number.isFinite(l))return i;const u=l>>16&255,c=l>>8&255,h=l&255;return`rgba(${u}, ${c}, ${h}, ${a})`}const tw="rgba(2,6,23,0.35)",eg="#E2E8F0",nw="#94A3B8",aw=["Income","Cash Flow","Spending"];function sw(i=[],a=420){const s=(i||[]).filter(y=>{const b=Number(y.value);return Number.isFinite(b)&&b>=0&&y.id});if(!s.length)return a;const c=Array.from(new Set(s.map(y=>y.column??0))).sort((y,b)=>y-b).map(y=>s.filter(b=>(b.column??0)===y)).reduce((y,b)=>{if(!b.length)return y;const v=b.length*ad+Math.max(b.length-1,0)*Gl;return Math.max(y,v)},0),h=Fr+Cp,m=Math.max(a-h,120);return Math.max(m,c+Rp)+h}function kp({nodes:i=[],links:a=[],height:s=420,columnLabels:l=aw,emptyMessage:u="Not enough data for this timeframe."}){const c=Me.useRef(null),[h,m]=Me.useState(null),[p,y]=Me.useState(null);Me.useEffect(()=>{if(!c.current||typeof ResizeObserver>"u")return;const P=new ResizeObserver(ne=>{for(const me of ne)me.contentRect?.width&&m(Math.max(me.contentRect.width,320))});return P.observe(c.current),()=>P.disconnect()},[]);const b=typeof window<"u"&&window.matchMedia?.("(hover: hover) and (pointer: fine)")?.matches,v=(i||[]).filter(P=>{const ne=Number(P.value);return Number.isFinite(ne)&&ne>=0&&P.id});if(!v.length)return f.jsx("div",{className:"text-xs text-slate-400",children:u});const x=Array.from(new Set(v.map(P=>P.column??0))).sort((P,ne)=>P-ne),w=x.map(P=>v.filter(ne=>(ne.column??0)===P)),S=x.length||1,T=Math.max(S-1,1),N=w.reduce((P,ne)=>Math.max(P,ne.length),0),D=Qx+Math.max(0,N-4)*24,L=Bs*2+Yr+Math.max(S-1,0)*D,U=Math.max(Jx,L),I=S>1?Math.max(D,(U-Bs*2-Yr)/T):0,F=Bs*2+Yr+I*Math.max(S-1,0),Q=w.map(P=>P.reduce((ne,me)=>ne+Math.max(Number(me.value)||0,0),0)),K=Math.max(...Q,1),Z=w.reduce((P,ne)=>{if(!ne.length)return P;const me=ne.length*ad+Math.max(ne.length-1,0)*Gl;return Math.max(P,me)},0),pe=Fr+Cp,ce=Math.max(s-pe,120),be=Math.max(ce,Z+Rp),de=be+pe,Ce=be/K,Oe={};w.forEach((P,ne)=>{const me=P.slice().sort((Qe,Ye)=>Number(Ye.value)-Number(Qe.value)),Xe=me.map(Qe=>{const vt=!!Qe.subtitle?Z0:Fx,an=Math.max(ad,vt+Zx);return Math.max(Number(Qe.value)*Ce,an)}),yt=Xe.reduce((Qe,Ye)=>Qe+Ye,0)+Math.max(me.length-1,0)*Gl;let Tt=Fr+Math.max((be-yt)/2,0);me.forEach((Qe,Ye)=>{Oe[Qe.id]={...Qe,width:Yr,height:Xe[Ye],x:Bs+ne*I,y:Tt},Tt+=Xe[Ye]+Gl})});const z=(h||F)/F,G=Math.min(z,1),te=de,Ae=typeof h=="number"&&h<=Wx,Ne=10*G,A=11*G;if(Ae||Ne<W0||A<W0)return f.jsx("div",{ref:c,className:"w-full",children:f.jsx(rw,{nodes:i,links:a})});const X={};v.forEach(P=>{X[P.id]={out:0,in:0}});const J=(a||[]).map((P,ne)=>{const me=Oe[P.source],Xe=Oe[P.target];if(!me||!Xe)return null;const yt=Math.max((Number(P.value)||0)*Ce,Xx),Tt=X[P.source]||{out:0},Qe=X[P.target]||{in:0},Ye=me.y+Tt.out+yt/2,vt=Xe.y+Qe.in+yt/2;Tt.out+=yt,Qe.in+=yt,X[P.source]=Tt,X[P.target]=Qe;const an=me.x+me.width,jt=Xe.x,hn=Math.min(I*.35,28),Kt=an+hn,fa=`M ${an} ${Ye} L ${Kt} ${Ye} L ${Kt} ${vt} L ${jt} ${vt}`;return f.jsx("path",{d:fa,fill:"none",stroke:P.color||"rgba(255,255,255,0.8)",strokeWidth:3,strokeOpacity:Number.isFinite(P.opacity)?P.opacity:.85,strokeLinecap:"square",strokeLinejoin:"miter",style:{mixBlendMode:"normal"}},`link-${ne}`)}).filter(Boolean),ge=v.map(P=>{const ne=Oe[P.id];if(!ne)return null;const me=P.label||"Node",Xe=P.subtitle||"",yt=ne.height>=Z0,Tt=P.color||"rgba(148,163,184,0.65)",Qe=P.color?ew(P.color,.16):tw,Ye=P.color?1.4:1;return f.jsxs("g",{onMouseMove:vt=>{if(!b)return;const jt=vt.currentTarget.ownerSVGElement?.getBoundingClientRect();if(!jt)return;const hn=(vt.clientX-jt.left)/jt.width*F,Kt=(vt.clientY-jt.top)/jt.height*de;y({x:hn,y:Kt,title:me,value:ha(P.value||0),subtitle:Xe||null})},onMouseLeave:()=>{b&&y(null)},children:[f.jsx("rect",{x:ne.x,y:ne.y,width:ne.width,height:ne.height,rx:12,fill:Qe,stroke:Tt,strokeWidth:Ye,style:{filter:"drop-shadow(0 10px 30px rgba(2,6,23,0.65))",mixBlendMode:"screen"}}),f.jsx("text",{x:ne.x+12,y:ne.y+20,fill:eg,style:{fontSize:"10px"},children:me}),f.jsx("text",{x:ne.x+12,y:ne.y+38,fill:eg,style:{fontSize:"11px",fontWeight:700},children:ha(P.value||0)}),Xe&&yt?f.jsx("text",{x:ne.x+12,y:ne.y+52,fill:nw,style:{fontSize:"10px"},children:Xe}):null]},P.id)}),ye=P=>l[P]||`Column ${P+1}`;return f.jsxs("div",{ref:c,className:"w-full relative",style:{minHeight:te},children:[f.jsxs("svg",{viewBox:`0 0 ${F} ${de}`,width:"100%",height:"100%",role:"img","aria-label":"Cash flow Sankey chart",preserveAspectRatio:"xMidYMid meet",children:[x.map((P,ne)=>{const me=Bs+ne*I;return f.jsx("rect",{x:me,y:Fr-8,width:Yr,height:be+16,rx:12,fill:Oe[w[ne]?.[0]?.id]?.color||"#E2E8F0",opacity:.08},`band-${P}`)}),x.map((P,ne)=>{const me=Bs+ne*I;return f.jsx("text",{x:me,y:Fr-14,fill:"#CBD5F5",style:{fontSize:"11px",fontWeight:800,letterSpacing:"0.08em"},children:ye(ne).toUpperCase()},`colhead-${P}`)}),ge,J]}),p?f.jsxs("div",{className:"absolute pointer-events-none z-20 rounded-lg border border-slate-700 bg-slate-950/90 px-3 py-2 text-xs text-slate-100 shadow-lg",style:{left:Math.min(p.x*G+12,Math.max((h||F*G)-220,0)),top:Math.min(p.y*G+12,Math.max(te-90,8)),width:210},children:[f.jsx("div",{className:"font-semibold truncate",children:p.title}),f.jsx("div",{className:"mt-1 font-bold",children:p.value}),p.subtitle?f.jsx("div",{className:"mt-1 text-slate-300 truncate",children:p.subtitle}):null]}):null]})}function rw({nodes:i=[],links:a=[]}){const s=(i||[]).filter(v=>{const x=Number(v.value);return Number.isFinite(x)&&x>=0&&v.id}),[l,u]=Me.useState(null),c=Me.useMemo(()=>{const v={};return(a||[]).forEach(x=>{const w=Number(x.value)||0;w<=0||(v[x.source]||(v[x.source]=[]),v[x.source].push({...x,value:w}))}),Object.keys(v).forEach(x=>v[x].sort((w,S)=>S.value-w.value)),v},[a]),h=Me.useMemo(()=>{const v={};return(a||[]).forEach(x=>{const w=Number(x.value)||0;w<=0||(v[x.target]||(v[x.target]=[]),v[x.target].push({...x,value:w}))}),Object.keys(v).forEach(x=>v[x].sort((w,S)=>S.value-w.value)),v},[a]),m=Me.useMemo(()=>{const v={};return s.forEach(x=>v[x.id]=x),v},[s]);if(!s.length)return null;const y=Array.from(new Set(s.map(v=>v.column??0))).sort((v,x)=>v-x).map(v=>({col:v,nodes:s.filter(x=>(x.column??0)===v).slice().sort((x,w)=>Number(w.value)-Number(x.value))})),b={};return(a||[]).forEach(v=>{const x=Number(v.value)||0;b[v.source]||(b[v.source]=0),b[v.source]+=x}),f.jsx("div",{className:"w-full max-h-[70vh] overflow-y-auto space-y-3 pr-1",children:y.map(({col:v,nodes:x})=>f.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/30 p-3",children:[f.jsxs("div",{className:"sticky top-0 z-10 -mx-3 mb-2 px-3 py-2 text-xs font-semibold text-slate-200 bg-slate-950/80 backdrop-blur border-b border-slate-800",children:["Column ",v+1]}),f.jsx("div",{className:"space-y-2",children:x.map(w=>f.jsxs("button",{type:"button",onClick:()=>u(S=>S===w.id?null:w.id),className:"w-full text-left rounded-lg border border-slate-800 bg-slate-950/40 p-3","aria-expanded":l===w.id,children:[f.jsxs("div",{className:"flex items-start justify-between gap-3",children:[f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"text-sm font-semibold text-slate-100 truncate",children:w.label||"Node"}),w.subtitle?f.jsx("div",{className:"text-xs text-slate-400 truncate",children:w.subtitle}):null]}),f.jsxs("div",{className:"shrink-0 text-right",children:[f.jsx("div",{className:"text-sm font-bold text-slate-100",children:ha(w.value||0)}),b[w.id]?f.jsxs("div",{className:"text-[11px] text-slate-400",children:["Out: ",ha(b[w.id])]}):null]})]}),l===w.id?f.jsxs("div",{className:"mt-2 space-y-2 text-xs text-slate-300",children:[!!h[w.id]?.length&&f.jsxs("div",{children:[f.jsx("div",{className:"mb-1 font-semibold text-slate-200",children:"Incoming"}),f.jsx("div",{className:"space-y-1",children:h[w.id].slice(0,5).map((S,T)=>f.jsxs("div",{className:"flex justify-between gap-3",children:[f.jsx("span",{className:"truncate",children:m[S.source]?.label||S.source}),f.jsx("span",{className:"shrink-0",children:ha(S.value)})]},`in-${T}`))})]}),!!c[w.id]?.length&&f.jsxs("div",{children:[f.jsx("div",{className:"mb-1 font-semibold text-slate-200",children:"Outgoing"}),f.jsx("div",{className:"space-y-1",children:c[w.id].slice(0,5).map((S,T)=>f.jsxs("div",{className:"flex justify-between gap-3",children:[f.jsx("span",{className:"truncate",children:m[S.target]?.label||S.target}),f.jsx("span",{className:"shrink-0",children:ha(S.value)})]},`out-${T}`))})]})]}):null,f.jsx("div",{className:"mt-2 h-1.5 w-full rounded-full bg-slate-800","aria-hidden":"true",children:f.jsx("div",{className:"h-1.5 rounded-full",style:{width:"100%",background:w.color||"#64748b",opacity:.55}})})]},w.id))})]},`col-${v}`))})}const iw=["monthOverview","accountSnapshot","goals","csvImport","flow"];function lw({month:i="",income:a=0,fixed:s=0,variable:l=0,leftover:u=0,goals:c=[],transactions:h=[],accounts:m=[],currentAccountId:p,onChangeCurrentAccount:y=()=>{},onOpenGoal:b=()=>{},onCreateGoal:v=()=>{},onCsvImported:x=()=>{},currentAccountBalance:w=0,totalBalance:S=0,sectionsOrder:T}){const N=Number(a)||0,D=Number(s)||0,L=Number(l)||0,U=Number(u)||0,I=N>0?(N-U)/N*100:0,F=T&&T.length?T:iw,Q=Array.isArray(h)&&h.length>0,[K,Z]=Me.useState(!1);return Me.useEffect(()=>{Z(!1)},[h]),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:i}),f.jsx("span",{className:"text-xs text-slate-400",children:"Overview of this month's money flow"})]}),F.map(pe=>{switch(pe){case"monthOverview":return f.jsxs(Yt,{title:"MONTH OVERVIEW",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[f.jsx(Ml,{label:"Income",value:N,accent:"text-emerald-300"}),f.jsx(Ml,{label:"Fixed",value:D,accent:"text-rose-300"}),f.jsx(Ml,{label:"Variable",value:L,accent:"text-amber-300"}),f.jsx(Ml,{label:"Leftover",value:U,accent:"text-cyan-300"})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Allocation this month"}),f.jsx(gd,{value:I})]})]},"monthOverview");case"accountSnapshot":return f.jsxs(Yt,{title:"ACCOUNT SNAPSHOT",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Current account"}),f.jsx("select",{className:"mt-1 bg-[#05060F] border border-slate-700 rounded-md px-2 py-1 text-[0.75rem] text-slate-100",value:p,onChange:ce=>y(ce.target.value),children:(m||[]).map(ce=>f.jsx("option",{value:ce.id,children:ce.name},ce.id))})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Balance"}),f.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",w.toFixed(2)]}),f.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["of $",S.toFixed(2)," total"]})]})]}),f.jsx("hr",{className:"my-3 border-slate-800"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.2em] text-slate-500",children:"All accounts"}),f.jsxs("div",{className:"mt-1 text-xl font-semibold text-emerald-300",children:["$",S.toFixed(2)]}),f.jsx("p",{className:"mt-1 text-[0.7rem] text-slate-500",children:"Total estimated cash across all linked accounts."})]})]},"accountSnapshot");case"goals":return f.jsxs("div",{className:"space-y-3",children:[f.jsx("h2",{className:"text-xs tracking-[0.25em] text-slate-400 uppercase",children:"Goals"}),f.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:c.map(ce=>f.jsx(Lx,{goal:ce,onClick:()=>b(ce.id)},ce.id))}),f.jsx("button",{type:"button",onClick:v,className:"mt-1 px-4 py-2 rounded-lg border border-cyan-400/70 text-xs text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"+ Add Goal"})]},"goals");case"csvImport":return f.jsxs(Yt,{title:"BANK STATEMENT IMPORT (CSV)",children:[f.jsx(Kx,{onTransactionsParsed:(ce,be)=>{Z(!1),x(ce,be)}}),Q&&f.jsxs("div",{className:"mt-4 space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Current account transactions"}),f.jsx("button",{type:"button",className:"text-[0.7rem] px-2 py-1 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 transition",onClick:()=>Z(ce=>!ce),children:K?"Hide":"Show"})]}),K&&f.jsx("div",{className:"max-h-64 overflow-auto border border-slate-800 rounded-lg",children:f.jsxs("table",{className:"w-full text-xs text-left",children:[f.jsx("thead",{className:"bg-slate-900 text-slate-300",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-2 py-1",children:"Date"}),f.jsx("th",{className:"px-2 py-1",children:"Description"}),f.jsx("th",{className:"px-2 py-1",children:"Category"}),f.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-800",children:h.map((ce,be)=>f.jsxs("tr",{className:"hover:bg-slate-900/70",children:[f.jsx("td",{className:"px-2 py-1 text-slate-300",children:ce.date||"-"}),f.jsx("td",{className:"px-2 py-1 text-slate-200",children:ce.description||"-"}),f.jsx("td",{className:"px-2 py-1 text-slate-300",children:ce.category||"Other"}),f.jsx("td",{className:`px-2 py-1 text-right ${typeof ce.amount=="number"&&ce.amount<0?"text-rose-300":"text-emerald-300"}`,children:typeof ce.amount!="number"||Number.isNaN(ce.amount)?"-":`$${ce.amount.toFixed(2)}`})]},be))})]})})]})]},"csvImport");case"flow":{const ce=[{id:"income",label:"Total Income",value:N,column:0,color:"#38bdf8"},{id:"flow",label:"Cash Flow",value:Math.max(N,D+L+Math.max(U,0)),column:1,color:"#22d3ee"},{id:"fixed",label:"Fixed Expenses",value:D,column:2,color:"#fb7185"},{id:"variable",label:"Variable Spending",value:L,column:2,color:"#fbbf24"}];U>0&&ce.push({id:"leftover",label:"Leftover / Savings",value:U,column:2,color:"#4ade80"});const be=[{source:"income",target:"flow",value:N,color:"#38bdf8"}];return D>0&&be.push({source:"flow",target:"fixed",value:D,color:"#fb7185"}),L>0&&be.push({source:"flow",target:"variable",value:L,color:"#fbbf24"}),U>0&&be.push({source:"flow",target:"leftover",value:U,color:"#4ade80"}),f.jsx(Yt,{title:"MONEY FLOW",children:f.jsx(kp,{nodes:ce,links:be})},"flow")}default:return null}})]})}function tg(i){return i.reduce((a,s)=>a+s.amount,0)}function Dp(i){return(Array.isArray(i?.transactions)?i.transactions:[]).reduce((s,l)=>s+(typeof l.amount=="number"?l.amount:0),0)}function Uc(i){return(i||[]).map(a=>({...a,startingBalance:typeof a.startingBalance=="number"?a.startingBalance:0}))}function ow(i,a){const s=c=>`${(c.date||"").trim()}|${(c.description||"").trim().toLowerCase()}|${isNaN(c.amount)?"NaN":c.amount}`,l=new Set(i.map(c=>s(c))),u=[...i];for(const c of a){const h=s(c);l.has(h)||(u.push(c),l.add(h))}return u}function ng(i=[]){const a=new Set;return(i||[]).forEach(s=>{const l=(s.description||"").trim().toLowerCase();l&&a.add(l)}),a}function uw(i=[]){if(!i.length)return"checking";let a=0,s=0;for(const u of i)typeof u.amount=="number"&&(u.amount<0?a++:u.amount>0&&s++);return a===0&&s===0?"checking":a/(a+s)>=.7?"credit":"checking"}function cw(i=[],a=""){const s=nd(a);if(s)for(const m of td){const p=(m.key||m.match||"").toLowerCase();if(p&&s.includes(p))return`${m.label} Account`}if(i.length){const m=i.slice(0,20).map(y=>y.description||"").join(" "),p=nd(m);if(p)for(const y of td){const b=(y.key||y.match||"").toLowerCase();if(b&&p.includes(b))return`${y.label} Account`}}if(!i.length)return"Imported Account";const l=(i[0].description||"").trim();if(!l)return"Imported Account";const u=l.split(/\s+/).filter(m=>m.length>3);if(!u.length)return"Imported Account";const h=u[0].replace(/[^a-z0-9]/gi," ").trim();return h?h.charAt(0).toUpperCase()+h.slice(1)+" Account":"Imported Account"}function dw(i=[],a,s=[]){const l=(i||[]).filter(p=>Array.isArray(p.transactions)&&p.transactions.length>0);if(!l.length)return null;const u=ng(s);if(!u.size)return a;let c=null,h=0;for(const p of l){const y=ng(p.transactions);if(!y.size)continue;let b=0;for(const v of u)y.has(v)&&b++;b>h&&(h=b,c=p.id)}const m=u.size>0?h/u.size:0;return c&&(h>=3||m>=.2)?c:null}function hw(i=[],a,s=[],l=""){const u=dw(i,a,s);if(u){const y=(i||[]).map(v=>v.id===u?{...v,transactions:ow(v.transactions||[],s)}:v),b=(i||[]).find(v=>v.id===u);return{targetAccountId:u,targetAccountName:b?.name||"Account",accounts:y,createdNew:!1}}const c=uw(s),h=cw(s,l),m=h.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")+"-"+Date.now(),p={id:m,name:h,type:c,startingBalance:0,transactions:s};return{targetAccountId:m,targetAccountName:h,accounts:[...i||[],p],createdNew:!0}}function fw({accounts:i=[],currentAccountId:a,onChangeCurrentAccount:s=()=>{},onCreateAccount:l=()=>{},onDeleteAccount:u=()=>{},onSetAccountBalance:c=()=>{},onRenameAccount:h=()=>{}}){const m=Array.isArray(i)&&i.length>0,[p,y]=re.useState([]),b=v=>{y(x=>x.includes(v)?x.filter(w=>w!==v):[...x,v])};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("header",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:"Accounts"}),f.jsx("button",{type:"button",onClick:l,className:"px-2 py-1 rounded-md bg-emerald-500 hover:bg-emerald-400 text-xs font-medium text-slate-900",children:"+ New account"})]}),f.jsxs(Yt,{title:"ALL ACCOUNTS",children:[!m&&f.jsx("p",{className:"text-xs text-slate-400",children:"No accounts yet. Create one to start tracking balances."}),m&&f.jsx("div",{className:"space-y-2",children:i.map(v=>{const x=Array.isArray(v.transactions)?v.transactions.length:0,w=Dp(v),S=(typeof v.startingBalance=="number"?v.startingBalance:0)+w,T=Array.isArray(v.transactions)?v.transactions.slice().filter(L=>L&&typeof L=="object").sort((L,U)=>{const I=Date.parse(L.date),F=Date.parse(U.date),Q=Number.isFinite(I),K=Number.isFinite(F);return!Q&&!K?0:Q?K?F-I:-1:1}):[],N=T.length>0,D=p.includes(v.id);return f.jsxs("div",{className:`space-y-2 rounded-md px-3 py-2 text-xs ${v.id===a?"bg-slate-800/70 border border-cyan-400/50":"bg-slate-900/60 border border-slate-700/70"}`,children:[f.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("input",{className:"bg-transparent text-slate-100 font-medium text-xs w-full focus:outline-none",value:v.name,onChange:L=>h(v.id,L.target.value)}),f.jsxs("p",{className:"text-[11px] text-slate-400",children:["Type: ",v.type||"checking"]}),f.jsxs("p",{className:"text-[11px] text-slate-400",children:["Transactions:"," ",f.jsx("span",{className:"text-slate-200",children:x}),"  Net:"," ",f.jsxs("span",{className:S>=0?"text-emerald-300":"text-rose-300",children:["$",S.toFixed(2)]})]})]}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("label",{className:"text-[11px] text-slate-400",children:"Starting balance"}),f.jsx("input",{type:"number",className:"w-24 bg-slate-900/80 border border-slate-700 rounded px-1 py-0.5 text-right text-xs font-mono text-slate-100 focus:outline-none focus:ring-1 focus:ring-cyan-400",value:v.startingBalance??0,onChange:L=>c(v.id,parseFloat(L.target.value||"0"))})]}),f.jsxs("div",{className:"flex flex-col items-end gap-1",children:[f.jsx("button",{type:"button",onClick:()=>{s(v.id),b(v.id)},className:"px-2 py-0.5 rounded text-[11px] border border-slate-500 hover:border-cyan-400",children:D?"Hide":"View"}),f.jsx("button",{type:"button",onClick:()=>u(v.id),className:"px-2 py-0.5 rounded text-[11px] text-red-300 hover:bg-red-500/10",children:"Delete"})]})]}),f.jsxs("div",{className:"border-t border-slate-800/70 pt-2",children:[!N&&f.jsx("p",{className:"mt-1 text-[0.65rem] text-slate-500",children:"No transactions imported yet."}),D&&N&&f.jsx("div",{className:"mt-2 max-h-72 overflow-auto rounded-md border border-slate-800/50",children:f.jsxs("table",{className:"w-full text-[0.7rem] text-left",children:[f.jsx("thead",{className:"bg-slate-900 text-slate-300 sticky top-0",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-2 py-1",children:"Date"}),f.jsx("th",{className:"px-2 py-1",children:"Description"}),f.jsx("th",{className:"px-2 py-1",children:"Category"}),f.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-800/70",children:T.map((L,U)=>{const I=Number(L.amount),F=Number.isFinite(I)?`$${I.toFixed(2)}`:"-";return f.jsxs("tr",{children:[f.jsx("td",{className:"px-2 py-1 text-slate-300",children:L.date||"-"}),f.jsx("td",{className:"px-2 py-1 text-slate-200",children:L.description||"Transaction"}),f.jsx("td",{className:"px-2 py-1 text-slate-400",children:L.category||"Other"}),f.jsx("td",{className:`px-2 py-1 text-right ${I<0?"text-rose-300":"text-emerald-300"}`,children:F})]},L.id||`${v.id}-full-${U}`)})})]})})]})]},v.id)})})]})]})}function mw({month:i,budget:a,totals:s,onBudgetChange:l}){const u=Number(a?.income??0),c=Array.isArray(a?.fixed)?a.fixed:[],h=Array.isArray(a?.variable)?a.variable:[];function m(){const b=window.prompt("Monthly income amount:",u.toString());if(b===null)return;const v=Number(b);if(!Number.isFinite(v)){window.alert("Enter a valid number for income.");return}l({...a,income:v})}function p(b){const v=window.prompt(`New ${b} item name:`);if(!v)return;const x=window.prompt(`Amount for "${v}" (numbers only):`),w=Number(x);if(!Number.isFinite(w)){window.alert("That didn't look like a valid number.");return}const S={id:`budget-${b}-${Date.now()}`,label:v,amount:w},N=[...b==="fixed"?c:h,S],D={...a,[b]:N};l(D)}function y(b,v){if(!window.confirm("Delete this item?"))return;const w=(b==="fixed"?c:h).filter((T,N)=>N!==v),S={...a,[b]:w};l(S)}return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h1",{className:"text-lg font-semibold text-slate-100",children:[i," Budget"]}),f.jsx("span",{className:"text-xs text-slate-400",children:"Income  Expenses  Goals"})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs(Yt,{title:"INCOME",children:[f.jsxs("div",{className:"text-3xl font-semibold text-emerald-300",children:["$",u.toFixed(2)]}),f.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Total take-home income for the active month."}),f.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-emerald-400/70 text-emerald-200 bg-emerald-500/10 hover:bg-emerald-500/20 transition",onClick:m,children:"Edit Income"})]}),f.jsxs(Yt,{title:"FIXED EXPENSES",children:[f.jsx(ag,{items:c,total:s.fixedTotal,onDelete:b=>y("fixed",b)}),f.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-rose-400/70 text-rose-200 bg-rose-500/10 hover:bg-rose-500/20 transition",onClick:()=>p("fixed"),children:"+ Add Fixed Expense"})]}),f.jsxs(Yt,{title:"VARIABLE SPENDING",children:[f.jsx(ag,{items:h,total:s.variableTotal,onDelete:b=>y("variable",b)}),f.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-amber-400/70 text-amber-200 bg-amber-500/10 hover:bg-amber-500/20 transition",onClick:()=>p("variable"),children:"+ Add Variable Expense"})]}),f.jsxs(Yt,{title:"REMAINING FOR GOALS",children:[f.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",s.leftover.toFixed(2)]}),f.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"This is what's left after income minus all listed expenses."})]})]})]})}function ag({items:i=[],total:a=0,onDelete:s}){return f.jsxs("div",{className:"space-y-2 text-sm",children:[i.length===0&&f.jsx("p",{className:"text-xs text-slate-500",children:"No items yet."}),i.map((l,u)=>{const c=Number(l?.amount??0),h=l?.label||l?.name||`Item ${u+1}`;return f.jsxs("div",{className:"flex items-center justify-between text-slate-200 gap-2",children:[f.jsxs("div",{className:"flex-1 flex justify-between",children:[f.jsx("span",{children:h}),f.jsxs("span",{className:"text-slate-300",children:["$",c.toFixed(2)]})]}),s&&f.jsx("button",{className:"text-[0.65rem] text-slate-500 hover:text-rose-400",onClick:()=>s(u),children:""})]},(l?.id||h)+u)}),f.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-700 flex items-center justify-between text-xs",children:[f.jsx("span",{className:"uppercase tracking-[0.18em] text-slate-500",children:"Total"}),f.jsxs("span",{className:"text-slate-100",children:["$",a.toFixed(2)]})]})]})}const gw=[{value:"auto",label:"Auto (detect)"},{value:"income",label:"Income"},{value:"expense",label:"Expense"},{value:"transfer",label:"Transfer"},{value:"ignore",label:"Ignore"}],pw={income:"Income",expense:"Expense",transfer:"Transfer",ignore:"Ignored",unknown:"Unknown"};function yw({transactions:i=[],accountName:a="",onUpdateTransaction:s=()=>{},onDeleteTransaction:l=()=>{},typeHints:u=[]}){const c=Array.isArray(i)&&i.length>0,[h,m]=re.useState({query:"",minAmount:"",maxAmount:""}),[p,y]=re.useState("date"),[b,v]=re.useState("desc"),x=D=>L=>{m(U=>({...U,[D]:L.target.value}))},w=()=>{m({query:"",minAmount:"",maxAmount:""})},S=h.query||h.minAmount||h.maxAmount,T=()=>{v(D=>D==="asc"?"desc":"asc")},N=re.useMemo(()=>c?[...i.map((I,F)=>({tx:I,index:F})).filter(({tx:I})=>{const F=h.query.trim().toLowerCase(),Q=Number(I.amount);if(F&&![I.description||"",I.category||""].join(" ").toLowerCase().includes(F))return!1;if(h.minAmount!==""){const K=Number(h.minAmount);if(!Number.isNaN(K)&&!Number.isNaN(Q)&&Q<K)return!1}if(h.maxAmount!==""){const K=Number(h.maxAmount);if(!Number.isNaN(K)&&!Number.isNaN(Q)&&Q>K)return!1}return!0})].sort((I,F)=>{const Q=I.tx,K=F.tx,Z=b==="asc"?1:-1;if(p==="amount"){const be=Number(Q.amount)||0,de=Number(K.amount)||0;return(be-de)*Z}if(p==="description"||p==="category"){const be=(Q[p]||"").toLowerCase(),de=(K[p]||"").toLowerCase();return be.localeCompare(de)*Z}const pe=Date.parse(Q.date)||0,ce=Date.parse(K.date)||0;return(pe-ce)*Z}):[],[i,h,p,b,c]);return f.jsxs("div",{className:"space-y-4 w-full",children:[f.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:"Transactions"}),f.jsx("span",{className:"text-xs text-slate-400",children:"Imported from your bank CSV files"}),f.jsxs("p",{className:"text-[0.65rem] text-slate-500",children:["Currently viewing: ",f.jsx("span",{className:"font-semibold text-cyan-200",children:a||"None"})]})]}),c&&f.jsxs("span",{className:"text-[0.65rem] text-slate-500",children:["Showing ",N.length," of ",i.length]})]}),f.jsxs(Yt,{title:"ALL TRANSACTIONS",children:[!c&&f.jsx("p",{className:"text-xs text-slate-400",children:"No transactions yet. Import a CSV on the Dashboard to see them here."}),c&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-3 flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[f.jsxs("div",{className:"flex flex-col gap-1 w-full md:w-auto",children:[f.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Search"}),f.jsx("input",{type:"text",value:h.query,onChange:x("query"),placeholder:"Search description or category...",className:"h-8 w-full md:w-64 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]}),f.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-end md:justify-end",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Min Amount"}),f.jsx("input",{type:"number",value:h.minAmount,onChange:x("minAmount"),className:"h-8 w-24 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Max Amount"}),f.jsx("input",{type:"number",value:h.maxAmount,onChange:x("maxAmount"),className:"h-8 w-24 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]})]}),f.jsx("button",{type:"button",onClick:w,disabled:!S,className:"h-8 px-3 rounded-md border text-[0.7rem] font-medium transition border-slate-600 text-slate-200 hover:border-cyan-400 hover:text-cyan-200 disabled:opacity-40 disabled:cursor-not-allowed",children:"Clear filters"})]})]}),f.jsx("div",{className:"mb-3 flex flex-col sm:flex-row sm:items-center sm:justify-end gap-2 text-[0.7rem]",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"uppercase tracking-[0.18em] text-slate-500",children:"Sort by"}),f.jsxs("select",{value:p,onChange:D=>y(D.target.value),className:"h-8 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500",children:[f.jsx("option",{value:"date",children:"Date"}),f.jsx("option",{value:"amount",children:"Amount"}),f.jsx("option",{value:"description",children:"Description"}),f.jsx("option",{value:"category",children:"Category"})]}),f.jsx("button",{type:"button",onClick:T,className:"h-8 px-3 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 hover:text-cyan-200 transition",children:b==="asc"?"Asc ":"Desc "})]})})]}),c&&N.length===0&&f.jsx("p",{className:"text-xs text-slate-400",children:"No transactions match your current filters."}),c&&N.length>0&&f.jsx("div",{className:"w-full overflow-x-auto",children:f.jsx("div",{className:"min-w-[760px] max-h-[65vh] overflow-y-auto border border-slate-800 rounded-lg",children:f.jsxs("table",{className:"w-full text-[0.7rem] sm:text-xs text-left",children:[f.jsx("thead",{className:"bg-slate-900 text-slate-300 sticky top-0",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-2 py-1",children:"Date"}),f.jsx("th",{className:"px-2 py-1",children:"Description"}),f.jsx("th",{className:"px-2 py-1",children:"Category"}),f.jsx("th",{className:"px-2 py-1",children:"Type"}),f.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"}),f.jsx("th",{className:"px-2 py-1 text-right",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-800",children:N.map(({tx:D,index:L})=>f.jsxs("tr",{className:"hover:bg-slate-900/70",children:[f.jsx("td",{className:"px-2 py-1 text-slate-300 whitespace-nowrap",children:D.date||"-"}),f.jsx("td",{className:"px-2 py-1 text-slate-200",children:f.jsx("input",{className:"w-full bg-transparent border-b border-slate-700 focus:outline-none focus:border-cyan-400 text-[0.7rem] sm:text-xs",value:D.description||"",onChange:U=>s(L,{description:U.target.value})})}),f.jsx("td",{className:"px-2 py-1 text-slate-300",children:f.jsx("input",{className:"w-full bg-transparent border-b border-slate-700 focus:outline-none focus:border-cyan-400 text-[0.7rem] sm:text-xs",value:D.category||"",onChange:U=>s(L,{category:U.target.value})})}),f.jsx("td",{className:"px-2 py-1 text-slate-300",children:f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("select",{className:"w-full bg-slate-900/40 rounded-md border border-slate-700 px-2 py-1 text-[0.65rem] focus:outline-none focus:border-cyan-400",value:D.flowType||"auto",onChange:U=>{const I=U.target.value;s(L,{flowType:I==="auto"?void 0:I})},children:gw.map(U=>f.jsx("option",{value:U.value,children:U.label},U.value))}),f.jsxs("span",{className:"text-[0.6rem] text-slate-500",children:["Detected:"," ",pw[u[L]]||"Unknown"]})]})}),f.jsx("td",{className:`px-2 py-1 text-right whitespace-nowrap ${D.amount<0?"text-rose-300":"text-emerald-300"}`,children:isNaN(D.amount)?"-":`$${D.amount.toFixed(2)}`}),f.jsx("td",{className:"px-2 py-1 text-right",children:f.jsx("button",{className:"text-[0.7rem] px-2 py-1 rounded-md border border-rose-500/60 text-rose-300 hover:bg-rose-400/10",onClick:()=>{window.confirm("Delete this transaction from this account?")&&l(L)},children:"Delete"})})]},L))})]})})})]})]})}function vw({onEdit:i,onDelete:a,onDuplicate:s,onExport:l}){const[u,c]=re.useState(!1);function h(){c(!1),a?.()}return f.jsxs("div",{className:"relative",children:[f.jsx("button",{type:"button",className:"rounded-full border border-slate-600/70 px-3 py-1 text-xs text-slate-300 hover:border-cyan-400/60",onClick:()=>c(m=>!m),children:"Manage goal "}),f.jsxs("div",{className:`absolute right-0 mt-2 w-40 rounded-xl border border-slate-700/70 bg-[#05060F] text-xs shadow-lg transition-all duration-150 ${u?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,children:[f.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{c(!1),i?.()},children:"Edit goal"}),f.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{c(!1),s?.()},children:"Duplicate goal"}),f.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{c(!1),l?.()},children:"Export progress"}),f.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-rose-300 hover:bg-slate-800/70",onClick:()=>{window.confirm("Delete this goal?")&&h()},children:"Delete goal"})]})]})}function bw({goal:i,onEditGoal:a=()=>{},onDeleteGoal:s=()=>{},onDuplicateGoal:l=()=>{},onExportGoal:u=()=>{},onAddContributionRequest:c=()=>{}}){const h=Number(i?.saved??i?.current??0),m=Number(i?.target??0),p=Number(i?.monthlyPlan??0),y=i?.icon||i?.emoji||"",b=i?.name||"Untitled Goal",v=m>0?Math.min(100,h/m*100):0;return f.jsxs("div",{className:"space-y-5",children:[f.jsxs("header",{className:"flex items-center justify-between gap-3",children:[f.jsx("div",{className:"space-y-1",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:y}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:b}),f.jsx("p",{className:"text-xs text-slate-400",children:"Personalized goal view  future: themed backgrounds & animations."})]})]})}),f.jsx(vw,{onEdit:()=>a(i?.id),onDelete:()=>{i?.id&&s(i.id)},onDuplicate:()=>l(i?.id),onExport:()=>u(i?.id)})]}),f.jsx(Yt,{title:"PROGRESS",children:f.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[f.jsxs("span",{className:"text-slate-200",children:["$",h.toFixed(2)," / $",m.toFixed(2)]}),f.jsx(gd,{value:v}),f.jsxs("span",{className:"text-xs text-slate-400",children:[v.toFixed(1),"% complete"]})]})}),f.jsxs(Yt,{title:"PLAN",children:[f.jsxs("p",{className:"text-sm text-slate-200",children:["Recommended monthly contribution:",f.jsxs("span",{className:"ml-1 text-cyan-300 font-semibold",children:["$",p.toFixed(2)]})]}),f.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Later we'll calculate this based on your income, expenses and due date."}),f.jsx("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:f.jsx("button",{className:"px-3 py-1.5 text-xs rounded-md border border-pink-400/70 text-pink-200 bg-pink-500/10 hover:bg-pink-500/20 transition",onClick:()=>c(i?.id),children:"Add Contribution"})})]})]})}const Up={dateRange:"30d",accountFilter:"all",groupBy:"category",showIncomeBreakdown:!0,showExpenseBreakdown:!0,showSavingsNode:!0,showGoalFlows:!0,showTransferSummary:!0,maxGroups:6},_w={"30d":30,"90d":90,"6m":182,"12m":365,all:null},xw=["transfer","online transfer","internal transfer","ach","xfer","external transfer","payment to","payment from"];function ww(i){if(!i)return null;const a=new Date(i);return Number.isNaN(a.getTime())?null:a}function qs(i={}){return{...Up,...i||{}}}function Sw(i=[]){const a=new Map;for(const s of i||[]){const l=Array.isArray(s?.transactions)?s.transactions:[];for(const u of l){const c=(u?.date||"").slice(0,10),h=Math.abs(Number(u?.amount));if(!c||!Number.isFinite(h)||h===0)continue;const m=`${c}|${h.toFixed(2)}`;a.has(m)||a.set(m,[]),a.get(m).push({accountId:s.id,sign:Math.sign(Number(u.amount)),description:(u.description||"").toLowerCase()})}}return a}function sg(i=""){const a=i.toLowerCase();return xw.some(s=>a.includes(s))}function Ew(i,a,s){if(!i)return"unknown";const l=i.flowType;if(l&&l!=="auto")return l;const u=Number(i.amount);if(!Number.isFinite(u)||u===0)return"unknown";const c=i.description||"",h=i.category||"";if(sg(c)||sg(h))return"transfer";const m=(i.date||"").slice(0,10),p=m&&Number.isFinite(Math.abs(u))?`${m}|${Math.abs(u).toFixed(2)}`:null;if(p&&s.has(p)){const y=s.get(p);if(y.some(v=>v.sign>0)&&y.some(v=>v.sign<0)&&y.find(x=>x.accountId!==a&&Math.sign(u)!==x.sign))return"transfer"}return u>0?"income":u<0?"expense":"unknown"}function Mp(i=[]){const a=Sw(i),s=[],l={};for(const u of i||[]){const c=Array.isArray(u?.transactions)?u.transactions:[],h=[];c.forEach((m,p)=>{const y=Ew(m,u.id,a);h[p]=y,s.push({accountId:u.id,accountName:u.name,index:p,flowType:y,...m})}),l[u.id]=h}return{flattened:s,byAccount:l}}function Tw(i=[],a="all"){return a==="all"?i:i.filter(s=>s.accountId===a)}function jw(i=[],a="30d"){const s=_w[a];if(s==null)return{transactions:i,startDate:null,endDate:null};const l=new Date;l.setHours(0,0,0,0);const u=new Date(l);return u.setDate(u.getDate()-s),{transactions:i.filter(h=>{const m=ww(h.date);return m?m>=u&&m<=l:!1}),startDate:u,endDate:l}}function Aw(i,a){if(!i||!a)return"All time";const s={month:"short",day:"numeric",year:"numeric"};return`${i.toLocaleDateString(void 0,s)}  ${a.toLocaleDateString(void 0,s)}`}function rg(i=[],a="category",s){if(!i.length)return[];const l=Px(i,u=>a==="account"?u.accountName||u.accountId||s:a==="description"?u.description||s:u.category||s);return Object.entries(l).map(([u,c])=>({key:u,label:u||s,value:c.reduce((h,m)=>h+Math.abs(Number(m.amount)||0),0),count:c.length}))}function ig(i=[],a=6,s="Other"){if(i.length<=a)return i.sort((m,p)=>p.value-m.value);const l=[...i].sort((m,p)=>p.value-m.value),u=l.slice(0,a-1),c=l.slice(a-1),h=c.reduce((m,p)=>m+p.value,0);return h>0&&u.push({key:"other",label:s,value:h,count:c.reduce((m,p)=>m+p.count,0)}),u}function Nw({accounts:i=[],goals:a=[],budget:s=null,config:l={},flowMeta:u=null}={}){const c=qs(l),h=u||Mp(i),m=Tw(h.flattened,c.accountFilter),{transactions:p,startDate:y,endDate:b}=jw(m,c.dateRange),v=p.filter(ie=>ie.flowType==="income"),x=p.filter(ie=>ie.flowType==="expense"),w=p.filter(ie=>ie.flowType==="transfer"),S=v.reduce((ie,z)=>ie+(Number(z.amount)||0),0),T=x.reduce((ie,z)=>ie+Math.abs(Number(z.amount)||0),0),N=w.reduce((ie,z)=>ie+Math.abs(Number(z.amount)||0),0),D=S-T,L=D>0?D:0,U=T>S?T-S:0,I=S+U,F=Aw(y,b),Q=rg(v,c.groupBy,"Other income"),K=rg(x,c.groupBy,"General spending"),Z=ig(Q,c.maxGroups,"Other income"),pe=ig(K,c.maxGroups+1,"Other spending"),ce=[],be=[],de="flow-income";if(ce.push({id:de,label:"Cash Flow",value:Math.max(I,0),column:1,color:"#22d3ee",subtitle:D>=0?`Net +$${L.toFixed(2)}`:`Shortfall -$${Math.abs(D).toFixed(2)}`}),c.showIncomeBreakdown)Z.forEach((ie,z)=>{const G=`income-${z}`;ce.push({id:G,label:ie.label,value:ie.value,column:0,color:"#38bdf8",subtitle:`${(ie.value/Math.max(S||1,1)*100).toFixed(1)}%`}),be.push({source:G,target:de,value:ie.value,color:"#38bdf8"})});else{const ie="income-aggregate";ce.push({id:ie,label:"Total income",value:S,column:0,color:"#38bdf8"}),be.push({source:ie,target:de,value:S,color:"#38bdf8"})}U>0&&(ce.push({id:"shortfall",label:"Covered by savings / credit",value:U,column:0,color:"#f97316"}),be.push({source:"shortfall",target:de,value:U,color:"#f97316"}));const Ce=[];if(c.showExpenseBreakdown)pe.forEach((ie,z)=>{const G=`expense-${z}`;ce.push({id:G,label:ie.label,value:ie.value,column:2,color:"#fb7185",subtitle:`${(ie.value/Math.max(T||1,1)*100).toFixed(1)}%`}),Ce.push({nodeId:G,value:ie.value})});else if(T>0){const ie="expense-total";ce.push({id:ie,label:"Expenses",value:T,column:2,color:"#fb7185"}),Ce.push({nodeId:ie,value:T})}Ce.forEach(ie=>{be.push({source:de,target:ie.nodeId,value:ie.value,color:"#fb7185"})});let Oe=null;if(L>0&&c.showSavingsNode&&(Oe="savings",ce.push({id:Oe,label:"Savings",value:L,column:2,color:"#4ade80",subtitle:`${(L/Math.max(S||1,1)*100).toFixed(1)}%`}),be.push({source:de,target:Oe,value:L,color:"#4ade80"})),Oe&&c.showGoalFlows){const ie=a.map(G=>({id:G.id,name:G.name||"Goal",monthlyPlan:Math.max(0,Number(G.monthlyPlan)||0)})).filter(G=>G.monthlyPlan>0),z=ie.reduce((G,te)=>G+te.monthlyPlan,0);z>0&&ie.slice(0,4).forEach((te,Ae)=>{const Ne=`goal-${te.id||Ae}`;ce.push({id:Ne,label:te.name,value:L*(te.monthlyPlan/z),column:3,color:"#c084fc"}),be.push({source:Oe,target:Ne,value:L*(te.monthlyPlan/z),color:"#c084fc"})})}return{timeframeLabel:F,summary:{incomeTotal:S,expenseTotal:T,netIncome:D,savingsAmount:L,savingsRate:S>0?L/S*100:0,transferTotal:N},groups:{income:Z,expense:pe},nodes:ce,links:be}}const Ow=[{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"},{value:"6m",label:"Last 6 months"},{value:"12m",label:"Last 12 months"},{value:"all",label:"All time"}],Cw=[{value:"category",label:"By category"},{value:"description",label:"By description"},{value:"account",label:"By account"}];function Rw({data:i,config:a,accounts:s=[],onUpdateConfig:l=()=>{}}){const u=qs(a),c=i?.summary||{incomeTotal:0,expenseTotal:0,netIncome:0,savingsRate:0,transferTotal:0},h=Me.useMemo(()=>[{value:"all",label:"All accounts"},...s.map(v=>({value:v.id,label:v.name||v.id}))],[s]),m=Me.useMemo(()=>{const v=sw(i?.nodes||[]);return Math.max(v,520)},[i?.nodes]),p=v=>x=>{l({[v]:x.target.value})},y=v=>x=>{l({[v]:x.target.checked})},b=()=>{l({...Up})};return f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Cash Flow Report"}),f.jsx("p",{className:"text-xs text-slate-400",children:i?.timeframeLabel||"All time"})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs items-end",children:[f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Date range"}),f.jsx("select",{value:u.dateRange,onChange:p("dateRange"),className:"h-8 rounded-md bg-slate-900/80 px-2 text-[0.75rem] text-slate-100 border border-slate-700 focus:border-cyan-400 outline-none",children:Ow.map(v=>f.jsx("option",{value:v.value,children:v.label},v.value))})]}),f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Account"}),f.jsx("select",{value:u.accountFilter,onChange:p("accountFilter"),className:"h-8 rounded-md bg-slate-900/80 px-2 text-[0.75rem] text-slate-100 border border-slate-700 focus:border-cyan-400 outline-none",children:h.map(v=>f.jsx("option",{value:v.value,children:v.label},v.value))})]}),f.jsxs("label",{className:"flex flex-col gap-1",children:[f.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Group nodes by"}),f.jsx("select",{value:u.groupBy,onChange:p("groupBy"),className:"h-8 rounded-md bg-slate-900/80 px-2 text-[0.75rem] text-slate-100 border border-slate-700 focus:border-cyan-400 outline-none",children:Cw.map(v=>f.jsx("option",{value:v.value,children:v.label},v.value))})]}),f.jsx("button",{type:"button",onClick:b,className:"mt-auto h-8 px-3 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 transition",children:"Reset"}),f.jsx("div",{className:"mt-auto",children:f.jsx(kw,{config:u,handleToggleChange:y})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[f.jsx(zl,{label:"Total income",value:c.incomeTotal,accent:"text-emerald-300"}),f.jsx(zl,{label:"Total expenses",value:c.expenseTotal,accent:"text-rose-300"}),f.jsx(zl,{label:"Net income",value:c.netIncome,accent:"text-cyan-300"}),f.jsx(zl,{label:"Savings rate",value:c.savingsRate/100,format:"percent",accent:"text-amber-300"})]}),f.jsxs(Yt,{title:"CASH FLOW",children:[f.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4 text-xs text-slate-400",children:f.jsxs("div",{children:[f.jsx("p",{children:"Visualizes income sources flowing into spending, savings, and goals for the selected range."}),c.transferTotal>0&&u.showTransferSummary&&f.jsxs("p",{className:"mt-1 text-[0.65rem] text-slate-500",children:["Transfers detected: ",ha(c.transferTotal,{maximumFractionDigits:2})," (excluded from spending totals)."]})]})}),f.jsx("div",{className:"-mx-2 rounded-2xl border border-slate-800/70 bg-slate-950/40 px-2 py-3 sm:mx-0 pb-8",style:{minHeight:m+200},children:f.jsx(kp,{nodes:i?.nodes||[],links:i?.links||[],height:m})})]})]})}function zl({label:i,value:a,accent:s="text-cyan-200",format:l="currency"}){const u=l==="percent"?`${(Number(a)*100||0).toFixed(1)}%`:ha(a||0);return f.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-900/40 px-4 py-3",children:[f.jsx("p",{className:"text-[0.65rem] uppercase tracking-[0.2em] text-slate-500",children:i}),f.jsx("div",{className:`text-xl font-semibold ${s}`,children:u})]})}function Kr({label:i,description:a,checked:s,onChange:l}){return f.jsxs("label",{className:"flex gap-3 items-start bg-[#05060F] border border-slate-700/70 rounded-lg p-3 cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"mt-1 accent-cyan-400",checked:!!s,onChange:l}),f.jsxs("span",{children:[f.jsx("span",{className:"block text-slate-100 text-sm font-semibold",children:i}),f.jsx("span",{className:"text-xs text-slate-500",children:a})]})]})}function kw({config:i,handleToggleChange:a}){const[s,l]=Me.useState(!1),u=Me.useRef(null),c=Me.useRef(null);return Me.useEffect(()=>{if(!s)return;const h=p=>{u.current&&!u.current.contains(p.target)&&c.current&&!c.current.contains(p.target)&&l(!1)},m=p=>{p.key==="Escape"&&l(!1)};return document.addEventListener("mousedown",h),document.addEventListener("keydown",m),()=>{document.removeEventListener("mousedown",h),document.removeEventListener("keydown",m)}},[s]),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{type:"button",ref:c,onClick:()=>l(h=>!h),className:"inline-flex items-center gap-2 rounded-md border border-slate-600 bg-slate-900/70 px-3 py-2 text-xs font-semibold text-slate-100 hover:border-cyan-400 hover:text-cyan-200 transition",children:["Report settings",f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:f.jsx("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),s?f.jsxs("div",{ref:u,className:"absolute right-0 z-10 mt-2 w-80 rounded-xl border border-slate-800/80 bg-slate-950/95 p-3 shadow-2xl backdrop-blur",children:[f.jsx("p",{className:"text-[0.6rem] uppercase tracking-[0.18em] text-slate-500",children:"Report settings"}),f.jsxs("div",{className:"mt-3 space-y-2 text-xs",children:[f.jsx(Kr,{label:"Show income sources",description:"Break the left column into individual income categories.",checked:i.showIncomeBreakdown,onChange:a("showIncomeBreakdown")}),f.jsx(Kr,{label:"Show expense categories",description:"Split outflows by category instead of a single block.",checked:i.showExpenseBreakdown,onChange:a("showExpenseBreakdown")}),f.jsx(Kr,{label:"Show savings node",description:"Reserve a lane for leftover cash / savings.",checked:i.showSavingsNode,onChange:a("showSavingsNode")}),f.jsx(Kr,{label:"Show goal breakdown",description:"Flow savings into your top planned goals.",checked:i.showGoalFlows,onChange:a("showGoalFlows")}),f.jsx(Kr,{label:"Show transfer summary",description:"Mention how much was classified as transfers vs withdrawals.",checked:i.showTransferSummary,onChange:a("showTransferSummary")})]})]}):null]})}const pd="budgetAppState_v1";function Dw(){if(typeof window>"u")return null;try{const i=window.localStorage.getItem(pd);return i?JSON.parse(i):null}catch(i){return console.error("Failed to load stored state",i),null}}function Uw(i){if(!(typeof window>"u"))try{window.localStorage.setItem(pd,JSON.stringify(i))}catch(a){console.error("Failed to save state",a)}}function Mw(i){if(!i)return null;if(i.accounts&&Array.isArray(i.accounts))return i;const a={id:"main",name:"Main Account",type:"checking",transactions:Array.isArray(i.transactions)?i.transactions:[]};return{...i,accounts:[a],currentAccountId:i.currentAccountId||"main"}}const yd=[{key:"dashboard",label:"Dashboard"},{key:"balances",label:"Accounts"},{key:"budget",label:"Budget"},{key:"transactions",label:"Transactions"},{key:"goalDetail",label:"Goals"},{key:"reports",label:"Reports"}],Pr=yd.reduce((i,a)=>(i[a.key]=a.label,i),{}),sd=["monthOverview","accountSnapshot","goals","csvImport"],zp={monthOverview:"Month Overview",accountSnapshot:"Account Snapshot",goals:"Goals",csvImport:"CSV Import"};function vd(){const i=new Date,a=i.getFullYear(),s=String(i.getMonth()+1).padStart(2,"0");return`${a}-${s}`}function zw(){return{month:vd(),income:5e3,fixed:[{id:"rent",label:"Rent / Mortgage",amount:1500},{id:"utilities",label:"Utilities & Internet",amount:250},{id:"insurance",label:"Insurance",amount:180}],variable:[{id:"groceries",label:"Groceries",amount:500},{id:"gas",label:"Gas & Transport",amount:250},{id:"fun",label:"Fun / Eating Out",amount:300}]}}function Bw(){return{month:vd(),income:0,fixed:[],variable:[]}}function Lw(){return[{id:"emergency",name:"Emergency Fund",target:3e3,current:600,description:"36 months of core expenses to keep you safe."},{id:"debt",name:"Crush Debt",target:5e3,current:1200,description:"Throw extra at your highest interest debt."}]}function $w(){return[]}const Bp="main";function Lp(i={}){return{id:Bp,name:"Main Checking",type:"checking",startingBalance:0,transactions:[],...i}}function qw(){return[Lp({startingBalance:2500})]}function Hw(){return[Lp()]}function lg(i){const a=yd.map(u=>u.key);if(!Array.isArray(i)||!i.length)return a;const s=i.filter(u=>a.includes(u)),l=a.filter(u=>!s.includes(u));return[...s,...l]}function Mc(i){if(!Array.isArray(i)||!i.length)return sd;const a=i.filter(l=>l in zp),s=sd.filter(l=>!a.includes(l));return[...a,...s]}function Gw(i){const a=tg(i.fixed||[]),s=tg(i.variable||[]),l=(i.income||0)-a-s;return{fixedTotal:a,variableTotal:s,leftover:l}}function Vw(i){if(!i)return i;if(Array.isArray(i.transactions)&&i.transactions.length){const a={id:"main",name:"Main Checking",type:"checking",startingBalance:0,transactions:Array.isArray(i.transactions)?i.transactions:[]};return{...i,accounts:[a],currentAccountId:i.currentAccountId||"main"}}return i}const Iw=[{match:"chase",label:"Chase"},{match:"capitalone",label:"Capital One"},{match:"wells",label:"Wells Fargo"},{match:"boa",label:"Bank of America"},{match:"navyfederal",label:"Navy Federal"},{match:"usaa",label:"USAA"},{match:"discover",label:"Discover"},{match:"amex",label:"American Express"}];function Yw(i=""){const a=i.toLowerCase();for(const{match:s,label:l}of Iw)if(a.includes(s))return l;return null}function Kw(){const{user:i,authLoading:a,signInWithEmail:s,signUpWithEmail:l,signOut:u,resetPassword:c}=_x(),h=re.useRef(!1),m=re.useRef(null),p=re.useRef(null);if(p.current===null){const M=Dw(),Y=Vw(M);p.current=Mw(Y)}const y=p.current,[b,v]=re.useState(y?.theme||"dark"),[x,w]=re.useState(y?.budget||zw()),[S,T]=re.useState(y?.goals||Lw()),[N,D]=re.useState(Uc(y?.accounts||qw())),[L,U]=re.useState(y?.currentAccountId||y?.accounts&&y.accounts[0]?.id||"main"),[I,F]=re.useState(lg(y?.navOrder)),[Q,K]=re.useState(y?.homePage||"dashboard"),[Z,pe]=re.useState(Mc(y?.dashboardSectionsOrder)),[ce,be]=re.useState(!1),[de,Ce]=re.useState(y?.homePage||"dashboard"),[Oe,ie]=re.useState(y?.selectedGoalId||(y?.goals?.[0]?.id??null)),[z,G]=re.useState(null),[te,Ae]=re.useState(null),[Ne,A]=re.useState(null),[V,X]=re.useState(!1),[J,ge]=re.useState({open:!1,mode:"create",goalId:null}),[ye,P]=re.useState({open:!1,goalId:null}),[ne,me]=re.useState(qs(y?.reportConfig)),Xe=re.useMemo(()=>Gw(x),[x]),yt=re.useMemo(()=>Ap(b),[b]),Tt=re.useMemo(()=>J.goalId&&S.find(M=>M.id===J.goalId)||null,[J.goalId,S]);re.useEffect(()=>{typeof document<"u"&&(document.body.dataset.theme=b)},[b]);const Qe=re.useMemo(()=>{const M={};for(const Y of N)M[Y.id]=Y;return M},[N]),Ye=re.useMemo(()=>N.map(M=>{const Y=typeof M.startingBalance=="number"?M.startingBalance:0,oe=Dp(M),le=Y+oe;return{id:M.id,name:M.name,balance:le}}),[N]),vt=re.useMemo(()=>Ye.reduce((M,Y)=>M+Y.balance,0),[Ye]),an=Ye.find(M=>M.id===L)?.balance??0,jt=S.find(M=>M.id===Oe)||S[0]||null,hn=x.month||vd(),Kt=re.useMemo(()=>Mp(N),[N]),fa=re.useMemo(()=>Nw({accounts:N,goals:S,budget:x,config:ne,flowMeta:Kt}),[N,S,x,ne,Kt]);let Ya=Pr[de]||"Dashboard";de==="goalDetail"&&jt&&(Ya=jt.name);function oi(M){if(M){h.current=!0;try{M.budget&&w(M.budget),M.goals&&T(M.goals),M.accounts&&D(Uc(M.accounts||[])),M.currentAccountId&&U(M.currentAccountId),M.selectedGoalId&&ie(M.selectedGoalId),M.navOrder&&F(lg(M.navOrder)),M.homePage&&(K(M.homePage),Ce(M.homePage)),M.dashboardSectionsOrder&&pe(Mc(M.dashboardSectionsOrder)),M.theme&&v(M.theme),M.reportConfig&&me(qs(M.reportConfig))}catch(Y){console.error("Failed to apply remote user state",Y)}}}re.useEffect(()=>{if(!i||!i.id)return;const M=pt.channel(`user_state_realtime_${i.id}`).on("postgres_changes",{event:"*",schema:"public",table:"user_state",filter:`id=eq.${i.id}`},Y=>{const oe=Y.new?.state;oe&&oi(oe)}).subscribe();return()=>{pt.removeChannel(M)}},[i?.id]),re.useEffect(()=>{if(!i||!i.id){A(null),X(!1);return}let M=!1;return X(!0),Ex(i).then(Y=>{M||A(Y)}).catch(Y=>{M||console.error("Failed to load profile metadata:",Y)}).finally(()=>{M||X(!1)}),()=>{M=!0}},[i?.id]),re.useEffect(()=>{if(!i||!i.id)return;let M=!1;return(async()=>{try{const Y=await wx(i.id);if(!Y||M)return;oi(Y)}catch(Y){console.error("Failed to load remote user state",Y)}})(),()=>{M=!0}},[i?.id]),re.useEffect(()=>{const M={budget:x,goals:S,accounts:N,currentAccountId:L,selectedGoalId:Oe,navOrder:I,homePage:Q,dashboardSectionsOrder:Z,theme:b,reportConfig:ne};if(Uw(M),!(!i||!i.id)){if(h.current){h.current=!1;return}return m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{xx(i.id,M).then(()=>{Ae(new Date().toLocaleTimeString())}).catch(Y=>console.error("Failed to save user state to Supabase:",Y))},600),()=>{m.current&&clearTimeout(m.current)}}},[i,x,S,N,L,Oe,I,Q,Z,b,ne]);async function ao(M){if(!i||!i.id)return!1;try{const Y=await Tx(i.id,M);return A(Y),G({message:"Profile updated.",variant:"success"}),!0}catch(Y){return console.error("Failed to update profile metadata:",Y),G({message:"Couldn't update profile. Try again in a bit.",variant:"info"}),!1}}function bt(M,Y=null){ge({open:!0,mode:M,goalId:Y})}function Ps(){ge({open:!1,mode:"create",goalId:null})}function Xs(M,Y=null){const oe=M?.name?.trim()||"Untitled Goal",le=Math.max(0,Number(M?.current)||0),Re=Math.max(0,Number(M?.target)||0),zt=Math.max(0,Number(M?.monthlyPlan)||0);return{id:Y||`goal-${Date.now()}`,name:oe,target:Re,current:le,saved:le,monthlyPlan:zt,emoji:M?.emoji&&M.emoji.trim()||"",dueDate:M?.dueDate||null,theme:M?.theme||"cyber",icon:M?.icon||"",background:M?.background||"default",animation:M?.animation||"pulse",description:M?.description?.trim()||""}}function ui(M){if(J.mode==="edit"&&J.goalId){const Y=Xs(M,J.goalId);T(oe=>oe.map(le=>le.id===Y.id?{...le,...Y}:le)),G({message:`Updated goal "${Y.name}".`,variant:"success"})}else{const Y=Xs(M);T(oe=>[...oe,Y]),ie(Y.id),G({message:`Created goal "${Y.name}".`,variant:"success"})}Ps()}function ma(M){if(!M)return;const Y=S.filter(oe=>oe.id!==M);T(Y),Oe===M&&ie(Y[0]?.id??null),Ps(),G({message:"Goal deleted.",variant:"success"})}function so(){bt("create",null)}function ci(M){M&&bt("edit",M)}function ro(M){const Y=S.find(le=>le.id===M);if(!Y)return;const oe={...Y,id:`goal-${Date.now()}`,name:`${Y.name||"Goal"} copy`};T(le=>[...le,oe]),ie(oe.id),Ce("goalDetail"),G({message:`Duplicated goal "${Y.name||"Goal"}".`,variant:"success"})}function io(M){const Y=S.find(Re=>Re.id===M);if(!Y){G({message:"Goal not found to export.",variant:"info"});return}const oe={name:Y.name,target:Y.target,saved:Y.current??Y.saved,monthlyPlan:Y.monthlyPlan,description:Y.description,progressPct:Y.target>0?Number(((Y.current??Y.saved??0)/Y.target*100).toFixed(2)):0,lastUpdated:new Date().toISOString()},le=JSON.stringify(oe,null,2);navigator?.clipboard?.writeText?navigator.clipboard.writeText(le).then(()=>{G({message:"Copied goal progress to clipboard.",variant:"success"})}).catch(()=>{sn(le,Y.name||"goal")}):sn(le,Y.name||"goal")}function ga(M){M&&P({open:!0,goalId:M})}function St(M){if(!ye.goalId)return;const Y=Math.max(0,Number(M)||0);T(oe=>oe.map(le=>le.id===ye.goalId?{...le,current:(Number(le.current??le.saved??0)||0)+Y,saved:(Number(le.current??le.saved??0)||0)+Y}:le)),G({message:`Added $${Y.toFixed(2)} to your goal.`,variant:"success"}),P({open:!1,goalId:null})}function sn(M,Y){const oe=new Blob([M],{type:"application/json"}),le=URL.createObjectURL(oe),Re=document.createElement("a");Re.href=le,Re.download=`${(Y||"goal").toLowerCase().replace(/\s+/g,"-")}-progress.json`,document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),G({message:"Downloaded goal progress .json file.",variant:"success"})}function _t(M,Y,oe){const le=Y+oe;if(le<0||le>=M.length)return M;const Re=[...M],[zt]=Re.splice(Y,1);return Re.splice(le,0,zt),Re}function lo(M){w(M)}function oo(M){K(M),Ce(M),G({message:`Home page set to ${Pr[M]||M}.`,variant:"success"})}function di(M,Y){F(oe=>_t(oe,M,Y))}function Ka(M){pe(Mc(M))}function pa(M,Y){pe(oe=>_t(oe,M,Y))}function Pa(M){me(Y=>qs({...Y,...M||{}}))}function vn(M,Y){const oe=(M||[]).filter(zt=>typeof zt.amount=="number"&&zt.amount!==0);if(!oe.length){G({message:"No valid transactions found in this file.",variant:"info"});return}const le=Yw(Y)||"",Re=hw(N,L,oe,le);D(Uc(Re.accounts)),U(Re.targetAccountId),Re.createdNew?G({message:`Created "${Re.targetAccountName}" with ${oe.length} transactions.`,accountId:Re.targetAccountId,variant:"success"}):G({message:`Imported ${oe.length} transactions into "${Re.targetAccountName}".`,accountId:Re.targetAccountId,variant:"success"})}function Xa(M,Y){D(oe=>oe.map(le=>{if(le.id!==L)return le;const zt=(Array.isArray(le.transactions)?le.transactions:[]).map((ba,fi)=>fi===M?{...ba,...Y}:ba);return{...le,transactions:zt}}))}function ya(M){D(Y=>Y.map(oe=>{if(oe.id!==L)return oe;const Re=(Array.isArray(oe.transactions)?oe.transactions:[]).filter((zt,ba)=>ba!==M);return{...oe,transactions:Re}}))}function uo(M,Y){D(oe=>oe.map(le=>le.id===M?{...le,startingBalance:Y}:le))}function hi(M,Y){D(oe=>oe.map(le=>le.id===M?{...le,name:Y}:le))}function Qs(){const M=N.length+1,Y=`acc-${Date.now()}`,oe={id:Y,name:`Account ${M}`,type:"checking",startingBalance:0,transactions:[]};D(le=>[...le,oe]),U(Y),G({message:`Created account "${oe.name}".`,accountId:Y,variant:"success"})}async function va(){if(!window.confirm("This will reset your budget, goals, accounts, and transactions back to empty. Continue?"))return;let Y=null;try{i?.id&&await pt.from("user_state").delete().eq("id",i.id)}catch(oe){Y=oe,console.error("Failed to reset remote data:",oe)}window.localStorage.removeItem(pd),w(Bw()),T($w()),D(Hw()),U(Bp),ie(null),F(yd.map(oe=>oe.key)),K("dashboard"),pe(sd),Ce("dashboard"),v("dark"),me(qs()),G({message:"All data reset successfully.",variant:"success"}),Y&&window.alert("Remote reset failed, but local data was cleared. Try again later.")}return i?f.jsxs("div",{className:`min-h-screen flex flex-col ${yt.shellClass}`,children:[f.jsx("header",{className:`flex-none border-b backdrop-blur ${yt.headerClass}`,children:f.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-3 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-xs tracking-[0.2em] text-cyan-300",children:"BUDGET CENTER"}),f.jsx("span",{className:"text-sm text-slate-400",children:"Dark cyber budgeting with themed goals"}),te&&f.jsxs("span",{className:"text-[10px] text-slate-500 mt-1",children:["Last saved at ",te]})]}),f.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2 text-xs",children:[I.map(M=>f.jsx(jx,{label:Pr[M]||M,active:de===M,onClick:()=>Ce(M)},M)),f.jsx(Dx,{profile:Ne,email:i?.email,loading:V,onUpdateProfile:ao}),f.jsx(Ox,{customizeMode:ce,setCustomizeMode:be,onReset:va,onSignOut:u,themeValue:b,onChangeTheme:v})]})]})}),f.jsxs("main",{className:"flex-1 w-full max-w-5xl mx-auto px-4 py-4 space-y-3",children:[ce&&f.jsxs("div",{className:"border border-cyan-500/40 rounded-xl bg-cyan-500/5 p-4 space-y-4 shadow-lg",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-semibold text-cyan-200",children:"Customize layout"}),f.jsx("p",{className:"text-xs text-slate-300",children:"Reorder your navigation tabs and dashboard sections. Changes are saved automatically."})]}),f.jsxs("div",{className:"flex gap-2 text-xs",children:[f.jsxs("span",{className:"px-2 py-1 rounded border border-cyan-400/50 text-cyan-200",children:["Home page: ",Pr[Q]||Q]}),f.jsx("button",{type:"button",className:"px-2 py-1 rounded border border-slate-600/70 text-slate-200 hover:border-slate-400 transition",onClick:()=>be(!1),children:"Done"})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-xs",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"uppercase tracking-[0.2em] text-slate-400",children:"Navigation order"}),f.jsx("ul",{className:"space-y-2",children:I.map((M,Y)=>f.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-slate-700/70 bg-black/30 px-3 py-2 text-slate-200",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm",children:Pr[M]||M}),Q===M&&f.jsx("span",{className:"text-[10px] text-cyan-300",children:"Home page"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{type:"button",className:"px-2 py-1 border border-slate-600/70 rounded disabled:opacity-40",onClick:()=>di(Y,-1),disabled:Y===0,children:""}),f.jsx("button",{type:"button",className:"px-2 py-1 border border-slate-600/70 rounded disabled:opacity-40",onClick:()=>di(Y,1),disabled:Y===I.length-1,children:""}),f.jsx("button",{type:"button",className:"px-2 py-1 border border-cyan-500/50 rounded text-cyan-200",onClick:()=>oo(M),children:"Set home"})]})]},M))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"uppercase tracking-[0.2em] text-slate-400",children:"Dashboard sections"}),f.jsx("ul",{className:"space-y-2",children:Z.map((M,Y)=>f.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-slate-700/70 bg-black/30 px-3 py-2 text-slate-200",children:[f.jsx("span",{className:"text-sm",children:zp[M]||M}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{type:"button",className:"px-2 py-1 border border-slate-600/70 rounded disabled:opacity-40",onClick:()=>pa(Y,-1),disabled:Y===0,children:""}),f.jsx("button",{type:"button",className:"px-2 py-1 border border-slate-600/70 rounded disabled:opacity-40",onClick:()=>pa(Y,1),disabled:Y===Z.length-1,children:""})]})]},M))})]})]})]}),f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"text-base font-semibold text-slate-50",children:Ya}),f.jsxs("p",{className:"text-xs text-slate-400",children:[de==="dashboard"&&"Overview of your month, accounts, goals, and imports.",de==="balances"&&"View and edit your account balances and see net worth.",de==="budget"&&"Adjust your monthly budget categories and income.",de==="transactions"&&"Review, edit, and clean up imported transactions.",de==="goalDetail"&&"Drill into a single financial goal and its progress.",de==="reports"&&"Flow-based reports that show how income moves into spending, savings, and goals."]})]}),f.jsxs("div",{className:"flex flex-col items-end text-xs text-slate-400",children:[f.jsxs("span",{children:["Month:"," ",f.jsx("span",{className:"font-mono text-slate-100",children:hn})]}),f.jsxs("span",{children:["Total Balance:"," ",f.jsxs("span",{className:"font-mono text-emerald-300",children:["$",(Number.isFinite(vt)?vt:0).toFixed(2)]})]})]})]}),de==="dashboard"&&f.jsx(lw,{month:hn,income:x.income,fixed:Xe.fixedTotal,variable:Xe.variableTotal,leftover:Xe.leftover,goals:S,transactions:Qe[L]?.transactions||[],accounts:N,currentAccountId:L,onChangeCurrentAccount:U,onOpenGoal:M=>{ie(M),Ce("goalDetail")},onCreateGoal:so,currentAccountBalance:an,totalBalance:vt,sectionsOrder:Z,onSectionsReorder:Ka,customizeMode:ce,onCsvImported:vn}),de==="balances"&&f.jsx(fw,{accounts:N,currentAccountId:L,onChangeCurrentAccount:U,onCreateAccount:Qs,onDeleteAccount:M=>{if(N.length<=1){window.alert("You need at least one account. Create another one before deleting this.");return}if(window.confirm("Are you sure you want to delete this account? Its transactions will be lost.")&&(D(le=>le.filter(Re=>Re.id!==M)),L===M)){const le=N.filter(Re=>Re.id!==M);le.length?U(le[0].id):U(null)}},onSetAccountBalance:uo,onRenameAccount:hi}),de==="budget"&&f.jsx(mw,{month:hn,budget:x,totals:Xe,onBudgetChange:lo}),de==="transactions"&&f.jsx(yw,{transactions:Qe[L]?.transactions||[],accountName:Qe[L]?.name||"None",onUpdateTransaction:Xa,onDeleteTransaction:ya,typeHints:Kt.byAccount[L]||[]}),de==="reports"&&f.jsx(Rw,{data:fa,config:ne,accounts:N,onUpdateConfig:Pa}),de==="goalDetail"&&jt&&f.jsx(bw,{goal:jt,onEditGoal:ci,onDeleteGoal:ma,onDuplicateGoal:ro,onExportGoal:io,onAddContributionRequest:ga})]}),z&&f.jsx(Rx,{message:z.message,variant:z.variant,actionLabel:z.accountId?"View account":void 0,onAction:z.accountId?()=>{U(z.accountId),Ce("balances"),G(null)}:void 0,onClose:()=>G(null)}),f.jsx(Mx,{open:J.open,mode:J.mode,initialGoal:Tt,onClose:Ps,onSave:ui,onDelete:ma}),f.jsx(zx,{open:ye.open,goal:S.find(M=>M.id===ye.goalId),onAdd:St,onClose:()=>P({open:!1,goalId:null})})]}):f.jsx(Cx,{loading:a,onSignIn:s,onSignUp:l,onResetPassword:c})}ib.createRoot(document.getElementById("root")).render(f.jsx(re.StrictMode,{children:f.jsx(bx,{children:f.jsx(Kw,{})})}));export{Hl as a,Np as c,Op as p};
