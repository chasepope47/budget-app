(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function KS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Rm={exports:{}},Vl={};var nv;function XS(){if(nv)return Vl;nv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=t,Vl.jsx=n,Vl.jsxs=n,Vl}var iv;function ZS(){return iv||(iv=1,Rm.exports=XS()),Rm.exports}var T=ZS(),Nm={exports:{}},It={};var rv;function JS(){if(rv)return It;rv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Y={};function lt(V,W,ut){this.props=V,this.context=W,this.refs=Y,this.updater=ut||U}lt.prototype.isReactComponent={},lt.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},lt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=lt.prototype;function at(V,W,ut){this.props=V,this.context=W,this.refs=Y,this.updater=ut||U}var ht=at.prototype=new Z;ht.constructor=at,H(ht,lt.prototype),ht.isPureReactComponent=!0;var K=Array.isArray;function ot(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(V,W,ut){var ft=ut.ref;return{$$typeof:i,type:V,key:W,ref:ft!==void 0?ft:null,props:ut}}function O(V,W){return C(V.type,W,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function L(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ut){return W[ut]})}var R=/\/+/g;function yt(V,W){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):W.toString(36)}function X(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ot,ot):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function P(V,W,ut,ft,Et){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var xt=!1;if(V===null)xt=!0;else switch(At){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(V.$$typeof){case i:case t:xt=!0;break;case v:return xt=V._init,P(xt(V._payload),W,ut,ft,Et)}}if(xt)return Et=Et(V),xt=ft===""?"."+yt(V,0):ft,K(Et)?(ut="",xt!=null&&(ut=xt.replace(R,"$&/")+"/"),P(Et,W,ut,"",function(Fi){return Fi})):Et!=null&&(D(Et)&&(Et=O(Et,ut+(Et.key==null||V&&V.key===Et.key?"":(""+Et.key).replace(R,"$&/")+"/")+xt)),W.push(Et)),1;xt=0;var ce=ft===""?".":ft+":";if(K(V))for(var ie=0;ie<V.length;ie++)ft=V[ie],At=ce+yt(ft,ie),xt+=P(ft,W,ut,At,Et);else if(ie=I(V),typeof ie=="function")for(V=ie.call(V),ie=0;!(ft=V.next()).done;)ft=ft.value,At=ce+yt(ft,ie++),xt+=P(ft,W,ut,At,Et);else if(At==="object"){if(typeof V.then=="function")return P(X(V),W,ut,ft,Et);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return xt}function G(V,W,ut){if(V==null)return V;var ft=[],Et=0;return P(V,ft,"","",function(At){return W.call(ut,At,Et++)}),ft}function et(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(ut){(V._status===0||V._status===-1)&&(V._status=1,V._result=ut)},function(ut){(V._status===0||V._status===-1)&&(V._status=2,V._result=ut)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var it=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},dt={map:G,forEach:function(V,W,ut){G(V,function(){W.apply(this,arguments)},ut)},count:function(V){var W=0;return G(V,function(){W++}),W},toArray:function(V){return G(V,function(W){return W})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return It.Activity=b,It.Children=dt,It.Component=lt,It.Fragment=n,It.Profiler=o,It.PureComponent=at,It.StrictMode=s,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,It.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},It.cache=function(V){return function(){return V.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(V,W,ut){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ft=H({},V.props),Et=V.key;if(W!=null)for(At in W.key!==void 0&&(Et=""+W.key),W)!x.call(W,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&W.ref===void 0||(ft[At]=W[At]);var At=arguments.length-2;if(At===1)ft.children=ut;else if(1<At){for(var xt=Array(At),ce=0;ce<At;ce++)xt[ce]=arguments[ce+2];ft.children=xt}return C(V.type,Et,ft)},It.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},It.createElement=function(V,W,ut){var ft,Et={},At=null;if(W!=null)for(ft in W.key!==void 0&&(At=""+W.key),W)x.call(W,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(Et[ft]=W[ft]);var xt=arguments.length-2;if(xt===1)Et.children=ut;else if(1<xt){for(var ce=Array(xt),ie=0;ie<xt;ie++)ce[ie]=arguments[ie+2];Et.children=ce}if(V&&V.defaultProps)for(ft in xt=V.defaultProps,xt)Et[ft]===void 0&&(Et[ft]=xt[ft]);return C(V,At,Et)},It.createRef=function(){return{current:null}},It.forwardRef=function(V){return{$$typeof:m,render:V}},It.isValidElement=D,It.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:et}},It.memo=function(V,W){return{$$typeof:g,type:V,compare:W===void 0?null:W}},It.startTransition=function(V){var W=N.T,ut={};N.T=ut;try{var ft=V(),Et=N.S;Et!==null&&Et(ut,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ot,it)}catch(At){it(At)}finally{W!==null&&ut.types!==null&&(W.types=ut.types),N.T=W}},It.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},It.use=function(V){return N.H.use(V)},It.useActionState=function(V,W,ut){return N.H.useActionState(V,W,ut)},It.useCallback=function(V,W){return N.H.useCallback(V,W)},It.useContext=function(V){return N.H.useContext(V)},It.useDebugValue=function(){},It.useDeferredValue=function(V,W){return N.H.useDeferredValue(V,W)},It.useEffect=function(V,W){return N.H.useEffect(V,W)},It.useEffectEvent=function(V){return N.H.useEffectEvent(V)},It.useId=function(){return N.H.useId()},It.useImperativeHandle=function(V,W,ut){return N.H.useImperativeHandle(V,W,ut)},It.useInsertionEffect=function(V,W){return N.H.useInsertionEffect(V,W)},It.useLayoutEffect=function(V,W){return N.H.useLayoutEffect(V,W)},It.useMemo=function(V,W){return N.H.useMemo(V,W)},It.useOptimistic=function(V,W){return N.H.useOptimistic(V,W)},It.useReducer=function(V,W,ut){return N.H.useReducer(V,W,ut)},It.useRef=function(V){return N.H.useRef(V)},It.useState=function(V){return N.H.useState(V)},It.useSyncExternalStore=function(V,W,ut){return N.H.useSyncExternalStore(V,W,ut)},It.useTransition=function(){return N.H.useTransition()},It.version="19.2.1",It}var sv;function Lp(){return sv||(sv=1,Nm.exports=JS()),Nm.exports}var Rt=Lp();const le=KS(Rt);var Cm={exports:{}},kl={},Im={exports:{}},Dm={};var av;function WS(){return av||(av=1,(function(i){function t(P,G){var et=P.length;P.push(G);t:for(;0<et;){var it=et-1>>>1,dt=P[it];if(0<o(dt,G))P[it]=G,P[et]=dt,et=it;else break t}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var G=P[0],et=P.pop();if(et!==G){P[0]=et;t:for(var it=0,dt=P.length,V=dt>>>1;it<V;){var W=2*(it+1)-1,ut=P[W],ft=W+1,Et=P[ft];if(0>o(ut,et))ft<dt&&0>o(Et,ut)?(P[it]=Et,P[ft]=et,it=ft):(P[it]=ut,P[W]=et,it=W);else if(ft<dt&&0>o(Et,et))P[it]=Et,P[ft]=et,it=ft;else break t}}return G}function o(P,G){var et=P.sortIndex-G.sortIndex;return et!==0?et:P.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,b=null,S=3,I=!1,U=!1,H=!1,Y=!1,lt=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function ht(P){for(var G=n(g);G!==null;){if(G.callback===null)s(g);else if(G.startTime<=P)s(g),G.sortIndex=G.expirationTime,t(p,G);else break;G=n(g)}}function K(P){if(H=!1,ht(P),!U)if(n(p)!==null)U=!0,ot||(ot=!0,L());else{var G=n(g);G!==null&&X(K,G.startTime-P)}}var ot=!1,N=-1,x=5,C=-1;function O(){return Y?!0:!(i.unstable_now()-C<x)}function D(){if(Y=!1,ot){var P=i.unstable_now();C=P;var G=!0;try{t:{U=!1,H&&(H=!1,Z(N),N=-1),I=!0;var et=S;try{e:{for(ht(P),b=n(p);b!==null&&!(b.expirationTime>P&&O());){var it=b.callback;if(typeof it=="function"){b.callback=null,S=b.priorityLevel;var dt=it(b.expirationTime<=P);if(P=i.unstable_now(),typeof dt=="function"){b.callback=dt,ht(P),G=!0;break e}b===n(p)&&s(p),ht(P)}else s(p);b=n(p)}if(b!==null)G=!0;else{var V=n(g);V!==null&&X(K,V.startTime-P),G=!1}}break t}finally{b=null,S=et,I=!1}G=void 0}}finally{G?L():ot=!1}}}var L;if(typeof at=="function")L=function(){at(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,yt=R.port2;R.port1.onmessage=D,L=function(){yt.postMessage(null)}}else L=function(){lt(D,0)};function X(P,G){N=lt(function(){P(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(P){switch(S){case 1:case 2:case 3:var G=3;break;default:G=S}var et=S;S=G;try{return P()}finally{S=et}},i.unstable_requestPaint=function(){Y=!0},i.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var et=S;S=P;try{return G()}finally{S=et}},i.unstable_scheduleCallback=function(P,G,et){var it=i.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?it+et:it):et=it,P){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=et+dt,P={id:v++,callback:G,priorityLevel:P,startTime:et,expirationTime:dt,sortIndex:-1},et>it?(P.sortIndex=et,t(g,P),n(p)===null&&P===n(g)&&(H?(Z(N),N=-1):H=!0,X(K,et-it))):(P.sortIndex=dt,t(p,P),U||I||(U=!0,ot||(ot=!0,L()))),P},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(P){var G=S;return function(){var et=S;S=G;try{return P.apply(this,arguments)}finally{S=et}}}})(Dm)),Dm}var ov;function tA(){return ov||(ov=1,Im.exports=WS()),Im.exports}var Om={exports:{}},tn={};var lv;function eA(){if(lv)return tn;lv=1;var i=Lp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},tn.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:I}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.2.1",tn}var uv;function nA(){if(uv)return Om.exports;uv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Om.exports=eA(),Om.exports}var cv;function iA(){if(cv)return kl;cv=1;var i=tA(),t=Lp(),n=nA();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function c(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function v(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=v(e),r!==null)return r;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),at=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case lt:return"Profiler";case Y:return"StrictMode";case K:return"Suspense";case ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case at:return e.displayName||"Context";case Z:return(e._context.displayName||"Context")+".Consumer";case ht:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return r=e.displayName||null,r!==null?r:yt(e.type)||"Memo";case x:r=e._payload,e=e._init;try{return yt(e(r))}catch{}}return null}var X=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},it=[],dt=-1;function V(e){return{current:e}}function W(e){0>dt||(e.current=it[dt],it[dt]=null,dt--)}function ut(e,r){dt++,it[dt]=e.current,e.current=r}var ft=V(null),Et=V(null),At=V(null),xt=V(null);function ce(e,r){switch(ut(At,r),ut(Et,e),ut(ft,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?A_(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=A_(r),e=x_(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ft),ut(ft,e)}function ie(){W(ft),W(Et),W(At)}function Fi(e){e.memoizedState!==null&&ut(xt,e);var r=ft.current,a=x_(r,e.type);r!==a&&(ut(Et,e),ut(ft,a))}function Sr(e){Et.current===e&&(W(ft),W(Et)),xt.current===e&&(W(xt),Il._currentValue=et)}var $n,Ar;function Nt(e){if($n===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);$n=r&&r[1]||"",Ar=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$n+e+Ar}var ye=!1;function Cn(e,r){if(!e||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var F=Q}Reflect.construct(e,[],nt)}else{try{nt.call()}catch(Q){F=Q}e.call(nt.prototype)}}else{try{throw Error()}catch(Q){F=Q}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var M=_.split(`
`),q=w.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===q.length)for(l=M.length-1,f=q.length-1;1<=l&&0<=f&&M[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==q[f]){var J=`
`+M[l].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=l&&0<=f);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Nt(a):""}function qe(e,r){switch(e.tag){case 26:case 27:case 5:return Nt(e.type);case 16:return Nt("Lazy");case 13:return e.child!==r&&r!==null?Nt("Suspense Fallback"):Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return Cn(e.type,!1);case 11:return Cn(e.type.render,!1);case 1:return Cn(e.type,!0);case 31:return Nt("Activity");default:return""}}function xs(e){try{var r="",a=null;do r+=qe(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var se=Object.prototype.hasOwnProperty,Kt=i.unstable_scheduleCallback,In=i.unstable_cancelCallback,Rs=i.unstable_shouldYield,Gi=i.unstable_requestPaint,He=i.unstable_now,$i=i.unstable_getCurrentPriorityLevel,we=i.unstable_ImmediatePriority,xr=i.unstable_UserBlockingPriority,Rr=i.unstable_NormalPriority,If=i.unstable_LowPriority,Ou=i.unstable_IdlePriority,Mu=i.log,Vu=i.unstable_setDisableYieldValue,Qn=null,Fe=null;function Dn(e){if(typeof Mu=="function"&&Vu(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Qn,e)}catch{}}var _e=Math.clz32?Math.clz32:Lu,ku=Math.log,_a=Math.LN2;function Lu(e){return e>>>=0,e===0?32:31-(ku(e)/_a|0)|0}var fi=256,Ns=262144,Se=4194304;function di(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mi(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=di(l):(_&=w,_!==0?f=di(_):a||(a=w&~e,a!==0&&(f=di(a))))):(w=l&~d,w!==0?f=di(w):_!==0?f=di(_):a||(a=l&~e,a!==0&&(f=di(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Yn(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Df(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pu(){var e=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),e}function pi(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Cs(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Of(e,r,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,M=e.expirationTimes,q=e.hiddenUpdates;for(a=_&~a;0<a;){var J=31-_e(a),nt=1<<J;w[J]=0,M[J]=-1;var F=q[J];if(F!==null)for(q[J]=null,J=0;J<F.length;J++){var Q=F[J];Q!==null&&(Q.lane&=-536870913)}a&=~nt}l!==0&&Is(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~r))}function Is(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-_e(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function ko(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-_e(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function Lo(e,r){var a=r&-r;return a=(a&42)!==0?1:Ds(a),(a&(e.suspendedLanes|r))!==0?0:a}function Ds(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Uu(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:K_(e.type))}function Kn(e,r){var a=G.p;try{return G.p=e,r()}finally{G.p=a}}var Xn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Xn,Ue="__reactProps$"+Xn,gi="__reactContainer$"+Xn,va="__reactEvents$"+Xn,Mf="__reactListeners$"+Xn,ju="__reactHandles$"+Xn,zu="__reactResources$"+Xn,yi="__reactMarker$"+Xn;function Ea(e){delete e[Ae],delete e[Ue],delete e[va],delete e[Mf],delete e[ju]}function _i(e){var r=e[Ae];if(r)return r;for(var a=e.parentNode;a;){if(r=a[gi]||a[Ae]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=M_(e);e!==null;){if(a=e[Ae])return a;e=M_(e)}return r}e=a,a=e.parentNode}return null}function On(e){if(e=e[Ae]||e[gi]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function _n(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function vi(e){var r=e[zu];return r||(r=e[zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xe(e){e[yi]=!0}var Po=new Set,Uo={};function Ei(e,r){Ti(e,r),Ti(e+"Capture",r)}function Ti(e,r){for(Uo[e]=r,e=0;e<r.length;e++)Po.add(r[e])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Bu(e){return se.call(Bo,e)?!0:se.call(zo,e)?!1:jo.test(e)?Bo[e]=!0:(zo[e]=!0,!1)}function Ta(e,r,a){if(Bu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function vn(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function Re(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nr(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qo(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Xt(e){if(!e._valueTracker){var r=Nr(e)?"checked":"value";e._valueTracker=qo(e,r,""+e[r])}}function Os(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Nr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ms=/[\n"\\]/g;function ln(e){return e.replace(Ms,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ba(e,r,a,l,f,d,_,w){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),r!=null?_==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+je(r)):e.value!==""+je(r)&&(e.value=""+je(r)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),r!=null?Ho(e,_,je(r)):a!=null?Ho(e,_,je(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+je(w):e.removeAttribute("name")}function qu(e,r,a,l,f,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Xt(e);return}a=a!=null?""+je(a):"",r=r!=null?""+je(r):a,w||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Xt(e)}function Ho(e,r,a){r==="number"&&bi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Cr(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+je(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Hu(e,r,a){if(r!=null&&(r=""+je(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+je(a):""}function Ir(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(X(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=je(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Xt(e)}function un(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Fu.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Go(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Fo(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Fo(e,d,r[d])}function wa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(e){return Dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var $o=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Or=null,wi=null;function Vs(e){var r=On(e);if(r&&(e=r.stateNode)){var a=e[Ue]||null;t:switch(e=r.stateNode,r.type){case"input":if(ba(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[Ue]||null;if(!f)throw Error(s(90));ba(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Os(l)}break t;case"textarea":Hu(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Cr(e,!!a.multiple,r,!1)}}}var Aa=!1;function Mr(e,r,a){if(Aa)return e(r,a);Aa=!0;try{var l=e(r);return l}finally{if(Aa=!1,(Or!==null||wi!==null)&&(Uc(),Or&&(r=Or,e=wi,wi=Or=null,Vs(r),e)))for(r=0;r<e.length;r++)Vs(e[r])}}function Jn(e,r){var a=e.stateNode;if(a===null)return null;var l=a[Ue]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(Vn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){ks=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{ks=!1}var Si=null,Qo=null,Ls=null;function Yo(){if(Ls)return Ls;var e,r=Qo,a=r.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Ls=f.slice(e,1<l?1-l:void 0)}function Ps(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function Wn(){return!1}function Ge(e){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yi:Wn,this.isPropagationStopped=Wn,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),r}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Ge(Ki),Vr=b({},Ki,{view:0,detail:0}),Ko=Ge(Vr),kr,xa,xi,Ra=b({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(kr=e.screenX-xi.screenX,xa=e.screenY-xi.screenY):xa=kr=0,xi=e),kr)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),Xo=Ge(Ra),Us=b({},Ra,{dataTransfer:0}),$u=Ge(Us),Qu=b({},Vr,{relatedTarget:0}),js=Ge(Qu),Zo=b({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=Ge(Zo),Na=b({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ku=Ge(Na),Xu=b({},Ki,{data:0}),Ri=Ge(Xu),Zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tc(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Wu[e])?!!r[e]:!1}function Lr(){return tc}var an=b({},Vr,{key:function(e){if(e.key){var r=Zu[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ju[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ec=Ge(an),nc=b({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Ge(nc),h=b({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),y=Ge(h),E=b({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ge(E),z=b({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Ge(z),ct=b({},Ki,{newState:0,oldState:0}),Ot=Ge(ct),ve=[9,13,27,32],$t=Vn&&"CompositionEvent"in window,he=null;Vn&&"documentMode"in document&&(he=document.documentMode);var kn=Vn&&"TextEvent"in window&&!he,Ni=Vn&&(!$t||he&&8<he&&11>=he),ti=" ",ei=!1;function zs(e,r){switch(e){case"keyup":return ve.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function vw(e,r){switch(e){case"compositionend":return Ca(r);case"keypress":return r.which!==32?null:(ei=!0,ti);case"textInput":return e=r.data,e===ti&&ei?null:e;default:return null}}function Ew(e,r){if(Ia)return e==="compositionend"||!$t&&zs(e,r)?(e=Yo(),Ls=Qo=Si=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ni&&r.locale!=="ko"?null:r.data;default:return null}}var Tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Tw[e.type]:r==="textarea"}function Pg(e,r,a,l){Or?wi?wi.push(l):wi=[l]:Or=l,r=Gc(r,"onChange"),0<r.length&&(a=new Ai("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var Jo=null,Wo=null;function bw(e){v_(e,0)}function ic(e){var r=_n(e);if(Os(r))return e}function Ug(e,r){if(e==="change")return r}var jg=!1;if(Vn){var Vf;if(Vn){var kf="oninput"in document;if(!kf){var zg=document.createElement("div");zg.setAttribute("oninput","return;"),kf=typeof zg.oninput=="function"}Vf=kf}else Vf=!1;jg=Vf&&(!document.documentMode||9<document.documentMode)}function Bg(){Jo&&(Jo.detachEvent("onpropertychange",qg),Wo=Jo=null)}function qg(e){if(e.propertyName==="value"&&ic(Wo)){var r=[];Pg(r,Wo,e,Mn(e)),Mr(bw,r)}}function ww(e,r,a){e==="focusin"?(Bg(),Jo=r,Wo=a,Jo.attachEvent("onpropertychange",qg)):e==="focusout"&&Bg()}function Sw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ic(Wo)}function Aw(e,r){if(e==="click")return ic(r)}function xw(e,r){if(e==="input"||e==="change")return ic(r)}function Rw(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var En=typeof Object.is=="function"?Object.is:Rw;function tl(e,r){if(En(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!se.call(r,f)||!En(e[f],r[f]))return!1}return!0}function Hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fg(e,r){var a=Hg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Hg(a)}}function Gg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Gg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function $g(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=bi(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=bi(e.document)}return r}function Lf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Nw=Vn&&"documentMode"in document&&11>=document.documentMode,Da=null,Pf=null,el=null,Uf=!1;function Qg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uf||Da==null||Da!==bi(l)||(l=Da,"selectionStart"in l&&Lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=Gc(Pf,"onSelect"),0<l.length&&(r=new Ai("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Da)))}function Bs(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Oa={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},jf={},Yg={};Vn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function qs(e){if(jf[e])return jf[e];if(!Oa[e])return e;var r=Oa[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Yg)return jf[e]=r[a];return e}var Kg=qs("animationend"),Xg=qs("animationiteration"),Zg=qs("animationstart"),Cw=qs("transitionrun"),Iw=qs("transitionstart"),Dw=qs("transitioncancel"),Jg=qs("transitionend"),Wg=new Map,zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zf.push("scrollEnd");function ni(e,r){Wg.set(e,r),Ei(r,[e])}var rc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],Ma=0,Bf=0;function sc(){for(var e=Ma,r=Bf=Ma=0;r<e;){var a=Ln[r];Ln[r++]=null;var l=Ln[r];Ln[r++]=null;var f=Ln[r];Ln[r++]=null;var d=Ln[r];if(Ln[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&ty(a,f,d)}}function ac(e,r,a,l){Ln[Ma++]=e,Ln[Ma++]=r,Ln[Ma++]=a,Ln[Ma++]=l,Bf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function qf(e,r,a,l){return ac(e,r,a,l),oc(e)}function Hs(e,r){return ac(e,null,null,r),oc(e)}function ty(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-_e(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function oc(e){if(50<wl)throw wl=0,Zd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Va={};function Ow(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,r,a,l){return new Ow(e,r,a,l)}function Hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zi(e,r){var a=e.alternate;return a===null?(a=Tn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ey(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function lc(e,r,a,l,f,d){var _=0;if(l=e,typeof e=="function")Hf(e)&&(_=1);else if(typeof e=="string")_=PS(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Tn(31,a,r,f),e.elementType=C,e.lanes=d,e;case H:return Fs(a.children,f,d,r);case Y:_=8,f|=24;break;case lt:return e=Tn(12,a,r,f|2),e.elementType=lt,e.lanes=d,e;case K:return e=Tn(13,a,r,f),e.elementType=K,e.lanes=d,e;case ot:return e=Tn(19,a,r,f),e.elementType=ot,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case at:_=10;break t;case Z:_=9;break t;case ht:_=11;break t;case N:_=14;break t;case x:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=Tn(_,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function Fs(e,r,a,l){return e=Tn(7,e,l,r),e.lanes=a,e}function Ff(e,r,a){return e=Tn(6,e,null,r),e.lanes=a,e}function ny(e){var r=Tn(18,null,null,0);return r.stateNode=e,r}function Gf(e,r,a){return r=Tn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var iy=new WeakMap;function Pn(e,r){if(typeof e=="object"&&e!==null){var a=iy.get(e);return a!==void 0?a:(r={value:e,source:r,stack:xs(r)},iy.set(e,r),r)}return{value:e,source:r,stack:xs(r)}}var ka=[],La=0,uc=null,nl=0,Un=[],jn=0,Pr=null,Ci=1,Ii="";function Ji(e,r){ka[La++]=nl,ka[La++]=uc,uc=e,nl=r}function ry(e,r,a){Un[jn++]=Ci,Un[jn++]=Ii,Un[jn++]=Pr,Pr=e;var l=Ci;e=Ii;var f=32-_e(l)-1;l&=~(1<<f),a+=1;var d=32-_e(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ci=1<<32-_e(r)+f|a<<f|l,Ii=d+e}else Ci=1<<d|a<<f|l,Ii=e}function $f(e){e.return!==null&&(Ji(e,1),ry(e,1,0))}function Qf(e){for(;e===uc;)uc=ka[--La],ka[La]=null,nl=ka[--La],ka[La]=null;for(;e===Pr;)Pr=Un[--jn],Un[jn]=null,Ii=Un[--jn],Un[jn]=null,Ci=Un[--jn],Un[jn]=null}function sy(e,r){Un[jn++]=Ci,Un[jn++]=Ii,Un[jn++]=Pr,Ci=r.id,Ii=r.overflow,Pr=e}var $e=null,ae=null,qt=!1,Ur=null,zn=!1,Yf=Error(s(519));function jr(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Pn(r,e)),Yf}function ay(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[Ae]=e,r[Ue]=l,a){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(a=0;a<Al.length;a++)Lt(Al[a],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":Lt("invalid",r),qu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Lt("invalid",r);break;case"textarea":Lt("invalid",r),Ir(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||w_(r.textContent,a)?(l.popover!=null&&(Lt("beforetoggle",r),Lt("toggle",r)),l.onScroll!=null&&Lt("scroll",r),l.onScrollEnd!=null&&Lt("scrollend",r),l.onClick!=null&&(r.onclick=Zn),r=!0):r=!1,r||jr(e,!0)}function oy(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:$e=$e.return}}function Pa(e){if(e!==$e)return!1;if(!qt)return oy(e),qt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||fm(e.type,e.memoizedProps)),a=!a),a&&ae&&jr(e),oy(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=O_(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=O_(e)}else r===27?(r=ae,Wr(e.type)?(e=ym,ym=null,ae=e):ae=r):ae=$e?qn(e.stateNode.nextSibling):null;return!0}function Gs(){ae=$e=null,qt=!1}function Kf(){var e=Ur;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Ur=null),e}function il(e){Ur===null?Ur=[e]:Ur.push(e)}var Xf=V(null),$s=null,Wi=null;function zr(e,r,a){ut(Xf,r._currentValue),r._currentValue=a}function tr(e){e._currentValue=Xf.current,W(Xf)}function Zf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Jf(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=f;for(var M=0;M<r.length;M++)if(w.context===r[M]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Zf(d.return,a,e),l||(_=null);break t}d=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Zf(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ua(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;En(f.pendingProps.value,_.value)||(e!==null?e.push(w):e=[w])}}else if(f===xt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}f=f.return}e!==null&&Jf(r,e,a,l),r.flags|=262144}function cc(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qs(e){$s=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return ly($s,e)}function hc(e,r){return $s===null&&Qs(e),ly(e,r)}function ly(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Wi===null){if(e===null)throw Error(s(308));Wi=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Wi=Wi.next=r;return a}var Mw=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},Vw=i.unstable_scheduleCallback,kw=i.unstable_NormalPriority,Ne={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new Mw,data:new Map,refCount:0}}function rl(e){e.refCount--,e.refCount===0&&Vw(kw,function(){e.controller.abort()})}var sl=null,td=0,ja=0,za=null;function Lw(e,r){if(sl===null){var a=sl=[];td=0,ja=im(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return td++,r.then(uy,uy),r}function uy(){if(--td===0&&sl!==null){za!==null&&(za.status="fulfilled");var e=sl;sl=null,ja=0,za=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Pw(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var cy=P.S;P.S=function(e,r){Q0=He(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Lw(e,r),cy!==null&&cy(e,r)};var Ys=V(null);function ed(){var e=Ys.current;return e!==null?e:re.pooledCache}function fc(e,r){r===null?ut(Ys,Ys.current):ut(Ys,r.pool)}function hy(){var e=ed();return e===null?null:{parent:Ne._currentValue,pool:e}}var Ba=Error(s(460)),nd=Error(s(474)),dc=Error(s(542)),mc={then:function(){}};function fy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dy(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(Zn,Zn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,py(e),e;default:if(typeof r.status=="string")r.then(Zn,Zn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,py(e),e}throw Xs=r,Ba}}function Ks(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xs=a,Ba):a}}var Xs=null;function my(){if(Xs===null)throw Error(s(459));var e=Xs;return Xs=null,e}function py(e){if(e===Ba||e===dc)throw Error(s(483))}var qa=null,al=0;function pc(e){var r=al;return al+=1,qa===null&&(qa=[]),dy(qa,e,r)}function ol(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function gc(e,r){throw r.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function gy(e){function r(j,k){if(e){var B=j.deletions;B===null?(j.deletions=[k],j.flags|=16):B.push(k)}}function a(j,k){if(!e)return null;for(;k!==null;)r(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=Zi(j,k),j.index=0,j.sibling=null,j}function d(j,k,B){return j.index=B,e?(B=j.alternate,B!==null?(B=B.index,B<k?(j.flags|=67108866,k):B):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function _(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function w(j,k,B,tt){return k===null||k.tag!==6?(k=Ff(B,j.mode,tt),k.return=j,k):(k=f(k,B),k.return=j,k)}function M(j,k,B,tt){var vt=B.type;return vt===H?J(j,k,B.props.children,tt,B.key):k!==null&&(k.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===x&&Ks(vt)===k.type)?(k=f(k,B.props),ol(k,B),k.return=j,k):(k=lc(B.type,B.key,B.props,null,j.mode,tt),ol(k,B),k.return=j,k)}function q(j,k,B,tt){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=Gf(B,j.mode,tt),k.return=j,k):(k=f(k,B.children||[]),k.return=j,k)}function J(j,k,B,tt,vt){return k===null||k.tag!==7?(k=Fs(B,j.mode,tt,vt),k.return=j,k):(k=f(k,B),k.return=j,k)}function nt(j,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Ff(""+k,j.mode,B),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case I:return B=lc(k.type,k.key,k.props,null,j.mode,B),ol(B,k),B.return=j,B;case U:return k=Gf(k,j.mode,B),k.return=j,k;case x:return k=Ks(k),nt(j,k,B)}if(X(k)||L(k))return k=Fs(k,j.mode,B,null),k.return=j,k;if(typeof k.then=="function")return nt(j,pc(k),B);if(k.$$typeof===at)return nt(j,hc(j,k),B);gc(j,k)}return null}function F(j,k,B,tt){var vt=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return vt!==null?null:w(j,k,""+B,tt);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case I:return B.key===vt?M(j,k,B,tt):null;case U:return B.key===vt?q(j,k,B,tt):null;case x:return B=Ks(B),F(j,k,B,tt)}if(X(B)||L(B))return vt!==null?null:J(j,k,B,tt,null);if(typeof B.then=="function")return F(j,k,pc(B),tt);if(B.$$typeof===at)return F(j,k,hc(j,B),tt);gc(j,B)}return null}function Q(j,k,B,tt,vt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return j=j.get(B)||null,w(k,j,""+tt,vt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case I:return j=j.get(tt.key===null?B:tt.key)||null,M(k,j,tt,vt);case U:return j=j.get(tt.key===null?B:tt.key)||null,q(k,j,tt,vt);case x:return tt=Ks(tt),Q(j,k,B,tt,vt)}if(X(tt)||L(tt))return j=j.get(B)||null,J(k,j,tt,vt,null);if(typeof tt.then=="function")return Q(j,k,B,pc(tt),vt);if(tt.$$typeof===at)return Q(j,k,B,hc(k,tt),vt);gc(k,tt)}return null}function pt(j,k,B,tt){for(var vt=null,Ft=null,gt=k,Vt=k=0,Ut=null;gt!==null&&Vt<B.length;Vt++){gt.index>Vt?(Ut=gt,gt=null):Ut=gt.sibling;var Gt=F(j,gt,B[Vt],tt);if(Gt===null){gt===null&&(gt=Ut);break}e&&gt&&Gt.alternate===null&&r(j,gt),k=d(Gt,k,Vt),Ft===null?vt=Gt:Ft.sibling=Gt,Ft=Gt,gt=Ut}if(Vt===B.length)return a(j,gt),qt&&Ji(j,Vt),vt;if(gt===null){for(;Vt<B.length;Vt++)gt=nt(j,B[Vt],tt),gt!==null&&(k=d(gt,k,Vt),Ft===null?vt=gt:Ft.sibling=gt,Ft=gt);return qt&&Ji(j,Vt),vt}for(gt=l(gt);Vt<B.length;Vt++)Ut=Q(gt,j,Vt,B[Vt],tt),Ut!==null&&(e&&Ut.alternate!==null&&gt.delete(Ut.key===null?Vt:Ut.key),k=d(Ut,k,Vt),Ft===null?vt=Ut:Ft.sibling=Ut,Ft=Ut);return e&&gt.forEach(function(rs){return r(j,rs)}),qt&&Ji(j,Vt),vt}function bt(j,k,B,tt){if(B==null)throw Error(s(151));for(var vt=null,Ft=null,gt=k,Vt=k=0,Ut=null,Gt=B.next();gt!==null&&!Gt.done;Vt++,Gt=B.next()){gt.index>Vt?(Ut=gt,gt=null):Ut=gt.sibling;var rs=F(j,gt,Gt.value,tt);if(rs===null){gt===null&&(gt=Ut);break}e&&gt&&rs.alternate===null&&r(j,gt),k=d(rs,k,Vt),Ft===null?vt=rs:Ft.sibling=rs,Ft=rs,gt=Ut}if(Gt.done)return a(j,gt),qt&&Ji(j,Vt),vt;if(gt===null){for(;!Gt.done;Vt++,Gt=B.next())Gt=nt(j,Gt.value,tt),Gt!==null&&(k=d(Gt,k,Vt),Ft===null?vt=Gt:Ft.sibling=Gt,Ft=Gt);return qt&&Ji(j,Vt),vt}for(gt=l(gt);!Gt.done;Vt++,Gt=B.next())Gt=Q(gt,j,Vt,Gt.value,tt),Gt!==null&&(e&&Gt.alternate!==null&&gt.delete(Gt.key===null?Vt:Gt.key),k=d(Gt,k,Vt),Ft===null?vt=Gt:Ft.sibling=Gt,Ft=Gt);return e&&gt.forEach(function(YS){return r(j,YS)}),qt&&Ji(j,Vt),vt}function ne(j,k,B,tt){if(typeof B=="object"&&B!==null&&B.type===H&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case I:t:{for(var vt=B.key;k!==null;){if(k.key===vt){if(vt=B.type,vt===H){if(k.tag===7){a(j,k.sibling),tt=f(k,B.props.children),tt.return=j,j=tt;break t}}else if(k.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===x&&Ks(vt)===k.type){a(j,k.sibling),tt=f(k,B.props),ol(tt,B),tt.return=j,j=tt;break t}a(j,k);break}else r(j,k);k=k.sibling}B.type===H?(tt=Fs(B.props.children,j.mode,tt,B.key),tt.return=j,j=tt):(tt=lc(B.type,B.key,B.props,null,j.mode,tt),ol(tt,B),tt.return=j,j=tt)}return _(j);case U:t:{for(vt=B.key;k!==null;){if(k.key===vt)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){a(j,k.sibling),tt=f(k,B.children||[]),tt.return=j,j=tt;break t}else{a(j,k);break}else r(j,k);k=k.sibling}tt=Gf(B,j.mode,tt),tt.return=j,j=tt}return _(j);case x:return B=Ks(B),ne(j,k,B,tt)}if(X(B))return pt(j,k,B,tt);if(L(B)){if(vt=L(B),typeof vt!="function")throw Error(s(150));return B=vt.call(B),bt(j,k,B,tt)}if(typeof B.then=="function")return ne(j,k,pc(B),tt);if(B.$$typeof===at)return ne(j,k,hc(j,B),tt);gc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(a(j,k.sibling),tt=f(k,B),tt.return=j,j=tt):(a(j,k),tt=Ff(B,j.mode,tt),tt.return=j,j=tt),_(j)):a(j,k)}return function(j,k,B,tt){try{al=0;var vt=ne(j,k,B,tt);return qa=null,vt}catch(gt){if(gt===Ba||gt===dc)throw gt;var Ft=Tn(29,gt,null,j.mode);return Ft.lanes=tt,Ft.return=j,Ft}finally{}}}var Zs=gy(!0),yy=gy(!1),Br=!1;function id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hr(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=oc(e),ty(e,null,a),r}return ac(e,l,r,a),oc(e)}function ll(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,ko(e,a)}}function sd(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var ad=!1;function ul(){if(ad){var e=za;if(e!==null)throw e}}function cl(e,r,a,l){ad=!1;var f=e.updateQueue;Br=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var M=w,q=M.next;M.next=null,_===null?d=q:_.next=q,_=M;var J=e.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==_&&(w===null?J.firstBaseUpdate=q:w.next=q,J.lastBaseUpdate=M))}if(d!==null){var nt=f.baseState;_=0,J=q=M=null,w=d;do{var F=w.lane&-536870913,Q=F!==w.lane;if(Q?(Pt&F)===F:(l&F)===F){F!==0&&F===ja&&(ad=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var pt=e,bt=w;F=r;var ne=a;switch(bt.tag){case 1:if(pt=bt.payload,typeof pt=="function"){nt=pt.call(ne,nt,F);break t}nt=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=bt.payload,F=typeof pt=="function"?pt.call(ne,nt,F):pt,F==null)break t;nt=b({},nt,F);break t;case 2:Br=!0}}F=w.callback,F!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(q=J=Q,M=nt):J=J.next=Q,_|=F;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);J===null&&(M=nt),f.baseState=M,f.firstBaseUpdate=q,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),Yr|=_,e.lanes=_,e.memoizedState=nt}}function _y(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function vy(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_y(a[e],r)}var Ha=V(null),yc=V(0);function Ey(e,r){e=ur,ut(yc,e),ut(Ha,r),ur=e|r.baseLanes}function od(){ut(yc,ur),ut(Ha,Ha.current)}function ld(){ur=yc.current,W(Ha),W(yc)}var bn=V(null),Bn=null;function Fr(e){var r=e.alternate;ut(Ee,Ee.current&1),ut(bn,e),Bn===null&&(r===null||Ha.current!==null||r.memoizedState!==null)&&(Bn=e)}function ud(e){ut(Ee,Ee.current),ut(bn,e),Bn===null&&(Bn=e)}function Ty(e){e.tag===22?(ut(Ee,Ee.current),ut(bn,e),Bn===null&&(Bn=e)):Gr()}function Gr(){ut(Ee,Ee.current),ut(bn,bn.current)}function wn(e){W(bn),Bn===e&&(Bn=null),W(Ee)}var Ee=V(0);function _c(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pm(a)||gm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var er=0,Mt=null,te=null,Ce=null,vc=!1,Fa=!1,Js=!1,Ec=0,hl=0,Ga=null,Uw=0;function pe(){throw Error(s(321))}function cd(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!En(e[a],r[a]))return!1;return!0}function hd(e,r,a,l,f,d){return er=d,Mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=e===null||e.memoizedState===null?r0:xd,Js=!1,d=a(l,f),Js=!1,Fa&&(d=wy(r,a,l,f)),by(e),d}function by(e){P.H=ml;var r=te!==null&&te.next!==null;if(er=0,Ce=te=Mt=null,vc=!1,hl=0,Ga=null,r)throw Error(s(300));e===null||Ie||(e=e.dependencies,e!==null&&cc(e)&&(Ie=!0))}function wy(e,r,a,l){Mt=e;var f=0;do{if(Fa&&(Ga=null),hl=0,Fa=!1,25<=f)throw Error(s(301));if(f+=1,Ce=te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=s0,d=r(a,l)}while(Fa);return d}function jw(){var e=P.H,r=e.useState()[0];return r=typeof r.then=="function"?fl(r):r,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Mt.flags|=1024),r}function fd(){var e=Ec!==0;return Ec=0,e}function dd(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function md(e){if(vc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}vc=!1}er=0,Ce=te=Mt=null,Fa=!1,hl=Ec=0,Ga=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Mt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function Te(){if(te===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var r=Ce===null?Mt.memoizedState:Ce.next;if(r!==null)Ce=r,te=e;else{if(e===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ce===null?Mt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(e){var r=hl;return hl+=1,Ga===null&&(Ga=[]),e=dy(Ga,e,r),r=Mt,(Ce===null?r.memoizedState:Ce.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?r0:xd),e}function bc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===at)return Qe(e)}throw Error(s(438,String(e)))}function pd(e){var r=null,a=Mt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Tc(),Mt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=O;return r.index++,a}function nr(e,r){return typeof r=="function"?r(e):r}function wc(e){var r=Te();return gd(r,te,e)}function gd(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var w=_=null,M=null,q=r,J=!1;do{var nt=q.lane&-536870913;if(nt!==q.lane?(Pt&nt)===nt:(er&nt)===nt){var F=q.revertLane;if(F===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),nt===ja&&(J=!0);else if((er&F)===F){q=q.next,F===ja&&(J=!0);continue}else nt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(w=M=nt,_=d):M=M.next=nt,Mt.lanes|=F,Yr|=F;nt=q.action,Js&&a(d,nt),d=q.hasEagerState?q.eagerState:a(d,nt)}else F={lane:nt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(w=M=F,_=d):M=M.next=F,Mt.lanes|=nt,Yr|=nt;q=q.next}while(q!==null&&q!==r);if(M===null?_=d:M.next=w,!En(d,e.memoizedState)&&(Ie=!0,J&&(a=za,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yd(e){var r=Te(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);En(d,r.memoizedState)||(Ie=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Sy(e,r,a){var l=Mt,f=Te(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!En((te||f).memoizedState,a);if(_&&(f.memoizedState=a,Ie=!0),f=f.queue,Ed(Ry.bind(null,l,f,e),[e]),f.getSnapshot!==r||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,$a(9,{destroy:void 0},xy.bind(null,l,f,a,r),null),re===null)throw Error(s(349));d||(er&127)!==0||Ay(l,r,a)}return a}function Ay(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Mt.updateQueue,r===null?(r=Tc(),Mt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function xy(e,r,a,l){r.value=a,r.getSnapshot=l,Ny(r)&&Cy(e)}function Ry(e,r,a){return a(function(){Ny(r)&&Cy(e)})}function Ny(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!En(e,a)}catch{return!0}}function Cy(e){var r=Hs(e,2);r!==null&&mn(r,e,2)}function _d(e){var r=on();if(typeof e=="function"){var a=e;if(e=a(),Js){Dn(!0);try{a()}finally{Dn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:e},r}function Iy(e,r,a,l){return e.baseState=a,gd(e,te,typeof l=="function"?l:nr)}function zw(e,r,a,l,f){if(xc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};P.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Dy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Dy(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=P.T,_={};P.T=_;try{var w=a(f,l),M=P.S;M!==null&&M(_,w),Oy(e,r,w)}catch(q){vd(e,r,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),P.T=d}}else try{d=a(f,l),Oy(e,r,d)}catch(q){vd(e,r,q)}}function Oy(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){My(e,r,l)},function(l){return vd(e,r,l)}):My(e,r,a)}function My(e,r,a){r.status="fulfilled",r.value=a,Vy(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,Dy(e,a)))}function vd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Vy(r),r=r.next;while(r!==l)}e.action=null}function Vy(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function ky(e,r){return r}function Ly(e,r){if(qt){var a=re.formState;if(a!==null){t:{var l=Mt;if(qt){if(ae){e:{for(var f=ae,d=zn;f.nodeType!==8;){if(!d){f=null;break e}if(f=qn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ae=qn(f.nextSibling),l=f.data==="F!";break t}}jr(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ky,lastRenderedState:r},a.queue=l,a=e0.bind(null,Mt,l),l.dispatch=a,l=_d(!1),d=Ad.bind(null,Mt,!1,l.queue),l=on(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=zw.bind(null,Mt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function Py(e){var r=Te();return Uy(r,te,e)}function Uy(e,r,a){if(r=gd(e,r,ky)[0],e=wc(nr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=fl(r)}catch(_){throw _===Ba?dc:_}else l=r;r=Te();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Mt.flags|=2048,$a(9,{destroy:void 0},Bw.bind(null,f,a),null)),[l,d,e]}function Bw(e,r){e.action=r}function jy(e){var r=Te(),a=te;if(a!==null)return Uy(r,a,e);Te(),r=r.memoizedState,a=Te();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function $a(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Mt.updateQueue,r===null&&(r=Tc(),Mt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function zy(){return Te().memoizedState}function Sc(e,r,a,l){var f=on();Mt.flags|=e,f.memoizedState=$a(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ac(e,r,a,l){var f=Te();l=l===void 0?null:l;var d=f.memoizedState.inst;te!==null&&l!==null&&cd(l,te.memoizedState.deps)?f.memoizedState=$a(r,d,a,l):(Mt.flags|=e,f.memoizedState=$a(1|r,d,a,l))}function By(e,r){Sc(8390656,8,e,r)}function Ed(e,r){Ac(2048,8,e,r)}function qw(e){Mt.flags|=4;var r=Mt.updateQueue;if(r===null)r=Tc(),Mt.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function qy(e){var r=Te().memoizedState;return qw({ref:r,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Hy(e,r){return Ac(4,2,e,r)}function Fy(e,r){return Ac(4,4,e,r)}function Gy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function $y(e,r,a){a=a!=null?a.concat([e]):null,Ac(4,4,Gy.bind(null,r,e),a)}function Td(){}function Qy(e,r){var a=Te();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&cd(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Yy(e,r){var a=Te();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&cd(r,l[1]))return l[0];if(l=e(),Js){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[l,r],l}function bd(e,r,a){return a===void 0||(er&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=K0(),Mt.lanes|=e,Yr|=e,a)}function Ky(e,r,a,l){return En(a,r)?a:Ha.current!==null?(e=bd(e,a,l),En(e,r)||(Ie=!0),e):(er&42)===0||(er&1073741824)!==0&&(Pt&261930)===0?(Ie=!0,e.memoizedState=a):(e=K0(),Mt.lanes|=e,Yr|=e,r)}function Xy(e,r,a,l,f){var d=G.p;G.p=d!==0&&8>d?d:8;var _=P.T,w={};P.T=w,Ad(e,!1,r,a);try{var M=f(),q=P.S;if(q!==null&&q(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=Pw(M,l);dl(e,r,J,xn(e))}else dl(e,r,l,xn(e))}catch(nt){dl(e,r,{then:function(){},status:"rejected",reason:nt},xn())}finally{G.p=d,_!==null&&w.types!==null&&(_.types=w.types),P.T=_}}function Hw(){}function wd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=Zy(e).queue;Xy(e,f,r,et,a===null?Hw:function(){return Jy(e),a(l)})}function Zy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:et},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function Jy(e){var r=Zy(e);r.next===null&&(r=e.alternate.memoizedState),dl(e,r.next.queue,{},xn())}function Sd(){return Qe(Il)}function Wy(){return Te().memoizedState}function t0(){return Te().memoizedState}function Fw(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();e=qr(a);var l=Hr(r,e,a);l!==null&&(mn(l,r,a),ll(l,r,a)),r={cache:Wf()},e.payload=r;return}r=r.return}}function Gw(e,r,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},xc(e)?n0(r,a):(a=qf(e,r,a,l),a!==null&&(mn(a,e,l),i0(a,r,l)))}function e0(e,r,a){var l=xn();dl(e,r,a,l)}function dl(e,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(xc(e))n0(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,w=d(_,a);if(f.hasEagerState=!0,f.eagerState=w,En(w,_))return ac(e,r,f,0),re===null&&sc(),!1}catch{}finally{}if(a=qf(e,r,f,l),a!==null)return mn(a,e,l),i0(a,r,l),!0}return!1}function Ad(e,r,a,l){if(l={lane:2,revertLane:im(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xc(e)){if(r)throw Error(s(479))}else r=qf(e,a,l,2),r!==null&&mn(r,e,2)}function xc(e){var r=e.alternate;return e===Mt||r!==null&&r===Mt}function n0(e,r){Fa=vc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function i0(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,ko(e,a)}}var ml={readContext:Qe,use:bc,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};ml.useEffectEvent=pe;var r0={readContext:Qe,use:bc,useCallback:function(e,r){return on().memoizedState=[e,r===void 0?null:r],e},useContext:Qe,useEffect:By,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,Sc(4194308,4,Gy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Sc(4194308,4,e,r)},useInsertionEffect:function(e,r){Sc(4,2,e,r)},useMemo:function(e,r){var a=on();r=r===void 0?null:r;var l=e();if(Js){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=on();if(a!==void 0){var f=a(r);if(Js){Dn(!0);try{a(r)}finally{Dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Gw.bind(null,Mt,e),[l.memoizedState,e]},useRef:function(e){var r=on();return e={current:e},r.memoizedState=e},useState:function(e){e=_d(e);var r=e.queue,a=e0.bind(null,Mt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Td,useDeferredValue:function(e,r){var a=on();return bd(a,e,r)},useTransition:function(){var e=_d(!1);return e=Xy.bind(null,Mt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Mt,f=on();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),re===null)throw Error(s(349));(Pt&127)!==0||Ay(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,By(Ry.bind(null,l,d,e),[e]),l.flags|=2048,$a(9,{destroy:void 0},xy.bind(null,l,d,a,r),null),a},useId:function(){var e=on(),r=re.identifierPrefix;if(qt){var a=Ii,l=Ci;a=(l&~(1<<32-_e(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ec++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Uw++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:Sd,useFormState:Ly,useActionState:Ly,useOptimistic:function(e){var r=on();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ad.bind(null,Mt,!0,a),a.dispatch=r,[e,r]},useMemoCache:pd,useCacheRefresh:function(){return on().memoizedState=Fw.bind(null,Mt)},useEffectEvent:function(e){var r=on(),a={impl:e};return r.memoizedState=a,function(){if((Qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},xd={readContext:Qe,use:bc,useCallback:Qy,useContext:Qe,useEffect:Ed,useImperativeHandle:$y,useInsertionEffect:Hy,useLayoutEffect:Fy,useMemo:Yy,useReducer:wc,useRef:zy,useState:function(){return wc(nr)},useDebugValue:Td,useDeferredValue:function(e,r){var a=Te();return Ky(a,te.memoizedState,e,r)},useTransition:function(){var e=wc(nr)[0],r=Te().memoizedState;return[typeof e=="boolean"?e:fl(e),r]},useSyncExternalStore:Sy,useId:Wy,useHostTransitionStatus:Sd,useFormState:Py,useActionState:Py,useOptimistic:function(e,r){var a=Te();return Iy(a,te,e,r)},useMemoCache:pd,useCacheRefresh:t0};xd.useEffectEvent=qy;var s0={readContext:Qe,use:bc,useCallback:Qy,useContext:Qe,useEffect:Ed,useImperativeHandle:$y,useInsertionEffect:Hy,useLayoutEffect:Fy,useMemo:Yy,useReducer:yd,useRef:zy,useState:function(){return yd(nr)},useDebugValue:Td,useDeferredValue:function(e,r){var a=Te();return te===null?bd(a,e,r):Ky(a,te.memoizedState,e,r)},useTransition:function(){var e=yd(nr)[0],r=Te().memoizedState;return[typeof e=="boolean"?e:fl(e),r]},useSyncExternalStore:Sy,useId:Wy,useHostTransitionStatus:Sd,useFormState:jy,useActionState:jy,useOptimistic:function(e,r){var a=Te();return te!==null?Iy(a,te,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:pd,useCacheRefresh:t0};s0.useEffectEvent=qy;function Rd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Nd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=xn(),f=qr(l);f.payload=r,a!=null&&(f.callback=a),r=Hr(e,f,l),r!==null&&(mn(r,e,l),ll(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=xn(),f=qr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Hr(e,f,l),r!==null&&(mn(r,e,l),ll(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=xn(),l=qr(a);l.tag=2,r!=null&&(l.callback=r),r=Hr(e,l,a),r!==null&&(mn(r,e,a),ll(r,e,a))}};function a0(e,r,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!tl(a,l)||!tl(f,d):!0}function o0(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Nd.enqueueReplaceState(r,r.state,null)}function Ws(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=b({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function l0(e){rc(e)}function u0(e){console.error(e)}function c0(e){rc(e)}function Rc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function h0(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cd(e,r,a){return a=qr(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(e,r)},a}function f0(e){return e=qr(e),e.tag=3,e}function d0(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){h0(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){h0(r,a,l),typeof f!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function $w(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ua(r,a,f,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?jc():a.alternate===null&&ge===0&&(ge=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===mc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),tm(e,l,f)),!1;case 22:return a.flags|=65536,l===mc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),tm(e,l,f)),!1}throw Error(s(435,a.tag))}return tm(e,l,f),jc(),!1}if(qt)return r=bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Yf&&(e=Error(s(422),{cause:l}),il(Pn(e,a)))):(l!==Yf&&(r=Error(s(423),{cause:l}),il(Pn(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Pn(l,a),f=Cd(e.stateNode,l,f),sd(e,f),ge!==4&&(ge=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),bl===null?bl=[d]:bl.push(d),ge!==4&&(ge=2),r===null)return!0;l=Pn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Cd(a.stateNode,l,e),sd(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Kr===null||!Kr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=f0(f),d0(f,e,a,l),sd(a,f),!1}a=a.return}while(a!==null);return!1}var Id=Error(s(461)),Ie=!1;function Ye(e,r,a,l){r.child=e===null?yy(r,null,a,l):Zs(r,e.child,a,l)}function m0(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Qs(r),l=hd(e,r,a,_,d,f),w=fd(),e!==null&&!Ie?(dd(e,r,f),ir(e,r,f)):(qt&&w&&$f(r),r.flags|=1,Ye(e,r,l,f),r.child)}function p0(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Hf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,g0(e,r,d,l,f)):(e=lc(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Ud(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(_,l)&&e.ref===r.ref)return ir(e,r,f)}return r.flags|=1,e=Zi(d,l),e.ref=r.ref,e.return=r,r.child=e}function g0(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(tl(d,l)&&e.ref===r.ref)if(Ie=!1,r.pendingProps=l=d,Ud(e,f))(e.flags&131072)!==0&&(Ie=!0);else return r.lanes=e.lanes,ir(e,r,f)}return Dd(e,r,a,l,f)}function y0(e,r,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=r.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return _0(e,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&fc(r,d!==null?d.cachePool:null),d!==null?Ey(r,d):od(),Ty(r);else return l=r.lanes=536870912,_0(e,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(fc(r,d.cachePool),Ey(r,d),Gr(),r.memoizedState=null):(e!==null&&fc(r,null),od(),Gr());return Ye(e,r,f,a),r.child}function pl(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function _0(e,r,a,l,f){var d=ed();return d=d===null?null:{parent:Ne._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&fc(r,null),od(),Ty(r),e!==null&&Ua(e,r,l,!0),r.childLanes=f,null}function Nc(e,r){return r=Ic({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function v0(e,r,a){return Zs(r,e.child,null,a),e=Nc(r,r.pendingProps),e.flags|=2,wn(r),r.memoizedState=null,e}function Qw(e,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(qt){if(l.mode==="hidden")return e=Nc(r,l),r.lanes=536870912,pl(null,e);if(ud(r),(e=ae)?(e=D_(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Pr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=ny(e),a.return=r,r.child=a,$e=r,ae=null)):e=null,e===null)throw jr(r);return r.lanes=536870912,null}return Nc(r,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(ud(r),f)if(r.flags&256)r.flags&=-257,r=v0(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ie||Ua(e,r,a,!1),f=(a&e.childLanes)!==0,Ie||f){if(l=re,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Hs(e,_),mn(l,e,_),Id;jc(),r=v0(e,r,a)}else e=d.treeContext,ae=qn(_.nextSibling),$e=r,qt=!0,Ur=null,zn=!1,e!==null&&sy(r,e),r=Nc(r,l),r.flags|=4096;return r}return e=Zi(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Cc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Dd(e,r,a,l,f){return Qs(r),a=hd(e,r,a,l,void 0,f),l=fd(),e!==null&&!Ie?(dd(e,r,f),ir(e,r,f)):(qt&&l&&$f(r),r.flags|=1,Ye(e,r,a,f),r.child)}function E0(e,r,a,l,f,d){return Qs(r),r.updateQueue=null,a=wy(r,l,a,f),by(e),l=fd(),e!==null&&!Ie?(dd(e,r,d),ir(e,r,d)):(qt&&l&&$f(r),r.flags|=1,Ye(e,r,a,d),r.child)}function T0(e,r,a,l,f){if(Qs(r),r.stateNode===null){var d=Va,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qe(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Nd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},id(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qe(_):Va,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Rd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Nd.enqueueReplaceState(d,d.state,null),cl(r,l,d,f),ul(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var w=r.memoizedProps,M=Ws(a,w);d.props=M;var q=d.context,J=a.contextType;_=Va,typeof J=="object"&&J!==null&&(_=Qe(J));var nt=a.getDerivedStateFromProps;J=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||q!==_)&&o0(r,d,l,_),Br=!1;var F=r.memoizedState;d.state=F,cl(r,l,d,f),ul(),q=r.memoizedState,w||F!==q||Br?(typeof nt=="function"&&(Rd(r,a,nt,l),q=r.memoizedState),(M=Br||a0(r,a,M,l,F,q,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=_,l=M):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,rd(e,r),_=r.memoizedProps,J=Ws(a,_),d.props=J,nt=r.pendingProps,F=d.context,q=a.contextType,M=Va,typeof q=="object"&&q!==null&&(M=Qe(q)),w=a.getDerivedStateFromProps,(q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==nt||F!==M)&&o0(r,d,l,M),Br=!1,F=r.memoizedState,d.state=F,cl(r,l,d,f),ul();var Q=r.memoizedState;_!==nt||F!==Q||Br||e!==null&&e.dependencies!==null&&cc(e.dependencies)?(typeof w=="function"&&(Rd(r,a,w,l),Q=r.memoizedState),(J=Br||a0(r,a,J,l,F,Q,M)||e!==null&&e.dependencies!==null&&cc(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,M)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=M,l=J):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Cc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Zs(r,e.child,null,f),r.child=Zs(r,null,a,f)):Ye(e,r,a,f),r.memoizedState=d.state,e=r.child):e=ir(e,r,f),e}function b0(e,r,a,l){return Gs(),r.flags|=256,Ye(e,r,a,l),r.child}var Od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Md(e){return{baseLanes:e,cachePool:hy()}}function Vd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=An),e}function w0(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,e===null){if(qt){if(f?Fr(r):Gr(),(e=ae)?(e=D_(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Pr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=ny(e),a.return=r,r.child=a,$e=r,ae=null)):e=null,e===null)throw jr(r);return gm(e)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Gr(),f=r.mode,w=Ic({mode:"hidden",children:w},f),l=Fs(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=Md(a),l.childLanes=Vd(e,_,a),r.memoizedState=Od,pl(null,l)):(Fr(r),kd(r,w))}var M=e.memoizedState;if(M!==null&&(w=M.dehydrated,w!==null)){if(d)r.flags&256?(Fr(r),r.flags&=-257,r=Ld(e,r,a)):r.memoizedState!==null?(Gr(),r.child=e.child,r.flags|=128,r=null):(Gr(),w=l.fallback,f=r.mode,l=Ic({mode:"visible",children:l.children},f),w=Fs(w,f,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,Zs(r,e.child,null,a),l=r.child,l.memoizedState=Md(a),l.childLanes=Vd(e,_,a),r.memoizedState=Od,r=pl(null,l));else if(Fr(r),gm(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),r=Ld(e,r,a)}else if(Ie||Ua(e,r,a,!1),_=(a&e.childLanes)!==0,Ie||_){if(_=re,_!==null&&(l=Lo(_,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Hs(e,l),mn(_,e,l),Id;pm(w)||jc(),r=Ld(e,r,a)}else pm(w)?(r.flags|=192,r.child=e.child,r=null):(e=M.treeContext,ae=qn(w.nextSibling),$e=r,qt=!0,Ur=null,zn=!1,e!==null&&sy(r,e),r=kd(r,l.children),r.flags|=4096);return r}return f?(Gr(),w=l.fallback,f=r.mode,M=e.child,q=M.sibling,l=Zi(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,q!==null?w=Zi(q,w):(w=Fs(w,f,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,pl(null,l),l=r.child,w=e.child.memoizedState,w===null?w=Md(a):(f=w.cachePool,f!==null?(M=Ne._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=hy(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Vd(e,_,a),r.memoizedState=Od,pl(e.child,l)):(Fr(r),a=e.child,e=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(_=r.deletions,_===null?(r.deletions=[e],r.flags|=16):_.push(e)),r.child=a,r.memoizedState=null,a)}function kd(e,r){return r=Ic({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Ic(e,r){return e=Tn(22,e,null,r),e.lanes=0,e}function Ld(e,r,a){return Zs(r,e.child,null,a),e=kd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function S0(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Zf(e.return,r,a)}function Pd(e,r,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function A0(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Ee.current,w=(_&2)!==0;if(w?(_=_&1|2,r.flags|=128):_&=1,ut(Ee,_),Ye(e,r,l,a),l=qt?nl:0,!w&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&S0(e,a,r);else if(e.tag===19)S0(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&_c(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Pd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&_c(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Pd(r,!0,a,null,d,l);break;case"together":Pd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ir(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Yr|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Ua(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=Zi(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=Zi(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Ud(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&cc(e)))}function Yw(e,r,a){switch(r.tag){case 3:ce(r,r.stateNode.containerInfo),zr(r,Ne,e.memoizedState.cache),Gs();break;case 27:case 5:Fi(r);break;case 4:ce(r,r.stateNode.containerInfo);break;case 10:zr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ud(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Fr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?w0(e,r,a):(Fr(r),e=ir(e,r,a),e!==null?e.sibling:null);Fr(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ua(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return A0(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(Ee,Ee.current),l)break;return null;case 22:return r.lanes=0,y0(e,r,a,r.pendingProps);case 24:zr(r,Ne,e.memoizedState.cache)}return ir(e,r,a)}function x0(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ie=!0;else{if(!Ud(e,a)&&(r.flags&128)===0)return Ie=!1,Yw(e,r,a);Ie=(e.flags&131072)!==0}else Ie=!1,qt&&(r.flags&1048576)!==0&&ry(r,nl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=Ks(r.elementType),r.type=e,typeof e=="function")Hf(e)?(l=Ws(e,l),r.tag=1,r=T0(null,r,e,l,a)):(r.tag=0,r=Dd(null,r,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===ht){r.tag=11,r=m0(null,r,e,l,a);break t}else if(f===N){r.tag=14,r=p0(null,r,e,l,a);break t}}throw r=yt(e)||e,Error(s(306,r,""))}}return r;case 0:return Dd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ws(l,r.pendingProps),T0(e,r,l,f,a);case 3:t:{if(ce(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,rd(e,r),cl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,zr(r,Ne,l),l!==d.cache&&Jf(r,[Ne],a,!0),ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=b0(e,r,l,a);break t}else if(l!==f){f=Pn(Error(s(424)),r),il(f),r=b0(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=qn(e.firstChild),$e=r,qt=!0,Ur=null,zn=!0,a=yy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gs(),l===f){r=ir(e,r,a);break t}Ye(e,r,l,a)}r=r.child}return r;case 26:return Cc(e,r),e===null?(a=P_(r.type,null,r.pendingProps,null))?r.memoizedState=a:qt||(a=r.type,e=r.pendingProps,l=$c(At.current).createElement(a),l[Ae]=r,l[Ue]=e,Ke(l,a,e),xe(l),r.stateNode=l):r.memoizedState=P_(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Fi(r),e===null&&qt&&(l=r.stateNode=V_(r.type,r.pendingProps,At.current),$e=r,zn=!0,f=ae,Wr(r.type)?(ym=f,ae=qn(l.firstChild)):ae=f),Ye(e,r,r.pendingProps.children,a),Cc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&qt&&((f=l=ae)&&(l=SS(l,r.type,r.pendingProps,zn),l!==null?(r.stateNode=l,$e=r,ae=qn(l.firstChild),zn=!1,f=!0):f=!1),f||jr(r)),Fi(r),f=r.type,d=r.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,fm(f,d)?l=null:_!==null&&fm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=hd(e,r,jw,null,null,a),Il._currentValue=f),Cc(e,r),Ye(e,r,l,a),r.child;case 6:return e===null&&qt&&((e=a=ae)&&(a=AS(a,r.pendingProps,zn),a!==null?(r.stateNode=a,$e=r,ae=null,e=!0):e=!1),e||jr(r)),null;case 13:return w0(e,r,a);case 4:return ce(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Zs(r,null,l,a):Ye(e,r,l,a),r.child;case 11:return m0(e,r,r.type,r.pendingProps,a);case 7:return Ye(e,r,r.pendingProps,a),r.child;case 8:return Ye(e,r,r.pendingProps.children,a),r.child;case 12:return Ye(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,zr(r,r.type,l.value),Ye(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Qs(r),f=Qe(f),l=l(f),r.flags|=1,Ye(e,r,l,a),r.child;case 14:return p0(e,r,r.type,r.pendingProps,a);case 15:return g0(e,r,r.type,r.pendingProps,a);case 19:return A0(e,r,a);case 31:return Qw(e,r,a);case 22:return y0(e,r,a,r.pendingProps);case 24:return Qs(r),l=Qe(Ne),e===null?(f=ed(),f===null&&(f=re,d=Wf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},id(r),zr(r,Ne,f)):((e.lanes&a)!==0&&(rd(e,r),cl(r,null,null,a),ul()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),zr(r,Ne,l)):(l=d.cache,zr(r,Ne,l),l!==f.cache&&Jf(r,[Ne],a,!0))),Ye(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function rr(e){e.flags|=4}function jd(e,r,a,l,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(W0())e.flags|=8192;else throw Xs=mc,nd}else e.flags&=-16777217}function R0(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!q_(r))if(W0())e.flags|=8192;else throw Xs=mc,nd}function Dc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Pu():536870912,e.lanes|=r,Xa|=r)}function gl(e,r){if(!qt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function Kw(e,r,a){var l=r.pendingProps;switch(Qf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),tr(Ne),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Pa(r)?rr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kf())),oe(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(rr(r),d!==null?(oe(r),R0(r,d)):(oe(r),jd(r,f,null,l,a))):d?d!==e.memoizedState?(rr(r),oe(r),R0(r,d)):(oe(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&rr(r),oe(r),jd(r,f,e,l,a)),null;case 27:if(Sr(r),a=At.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&rr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}e=ft.current,Pa(r)?ay(r):(e=V_(f,l,a),r.stateNode=e,rr(r))}return oe(r),null;case 5:if(Sr(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&rr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(d=ft.current,Pa(r))ay(r);else{var _=$c(At.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Ae]=r,d[Ue]=l;t:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break t;for(;_.sibling===null;){if(_.return===null||_.return===r)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;t:switch(Ke(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&rr(r)}}return oe(r),jd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&rr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=At.current,Pa(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=$e,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ae]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||w_(e.nodeValue,a)),e||jr(r,!0)}else e=$c(e).createTextNode(l),e[Ae]=r,r.stateNode=e}return oe(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=Pa(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ae]=r}else Gs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),e=!1}else a=Kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(wn(r),r):(wn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return oe(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Pa(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ae]=r}else Gs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),f=!1}else f=Kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(wn(r),r):(wn(r),null)}return wn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Dc(r,r.updateQueue),oe(r),null);case 4:return ie(),e===null&&om(r.stateNode.containerInfo),oe(r),null;case 10:return tr(r.type),oe(r),null;case 19:if(W(Ee),l=r.memoizedState,l===null)return oe(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)gl(l,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=_c(e),d!==null){for(r.flags|=128,gl(l,!1),e=d.updateQueue,r.updateQueue=e,Dc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)ey(a,e),a=a.sibling;return ut(Ee,Ee.current&1|2),qt&&Ji(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&He()>Lc&&(r.flags|=128,f=!0,gl(l,!1),r.lanes=4194304)}else{if(!f)if(e=_c(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,Dc(r,e),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qt)return oe(r),null}else 2*He()-l.renderingStartTime>Lc&&a!==536870912&&(r.flags|=128,f=!0,gl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=He(),e.sibling=null,a=Ee.current,ut(Ee,f?a&1|2:a&1),qt&&Ji(r,l.treeForkCount),e):(oe(r),null);case 22:case 23:return wn(r),ld(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),a=r.updateQueue,a!==null&&Dc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&W(Ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),tr(Ne),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Xw(e,r){switch(Qf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return tr(Ne),ie(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Sr(r),null;case 31:if(r.memoizedState!==null){if(wn(r),r.alternate===null)throw Error(s(340));Gs()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(wn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Gs()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return W(Ee),null;case 4:return ie(),null;case 10:return tr(r.type),null;case 22:case 23:return wn(r),ld(),e!==null&&W(Ys),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return tr(Ne),null;case 25:return null;default:return null}}function N0(e,r){switch(Qf(r),r.tag){case 3:tr(Ne),ie();break;case 26:case 27:case 5:Sr(r);break;case 4:ie();break;case 31:r.memoizedState!==null&&wn(r);break;case 13:wn(r);break;case 19:W(Ee);break;case 10:tr(r.type);break;case 22:case 23:wn(r),ld(),e!==null&&W(Ys);break;case 24:tr(Ne)}}function yl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){Jt(r,r.return,w)}}function $r(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=r;var M=a,q=w;try{q()}catch(J){Jt(f,M,J)}}}l=l.next}while(l!==d)}}catch(J){Jt(r,r.return,J)}}function C0(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{vy(r,a)}catch(l){Jt(e,e.return,l)}}}function I0(e,r,a){a.props=Ws(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,r,l)}}function _l(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Jt(e,r,f)}}function Di(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Jt(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Jt(e,r,f)}else a.current=null}function D0(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Jt(e,e.return,f)}}function zd(e,r,a){try{var l=e.stateNode;_S(l,e.type,a,r),l[Ue]=r}catch(f){Jt(e,e.return,f)}}function O0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wr(e.type)||e.tag===4}function Bd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||O0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Zn));else if(l!==4&&(l===27&&Wr(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(qd(e,r,a),e=e.sibling;e!==null;)qd(e,r,a),e=e.sibling}function Oc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&Wr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Oc(e,r,a),e=e.sibling;e!==null;)Oc(e,r,a),e=e.sibling}function M0(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ke(r,l,a),r[Ae]=e,r[Ue]=a}catch(d){Jt(e,e.return,d)}}var sr=!1,De=!1,Hd=!1,V0=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Zw(e,r){if(e=e.containerInfo,cm=Wc,e=$g(e),Lf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,w=-1,M=-1,q=0,J=0,nt=e,F=null;e:for(;;){for(var Q;nt!==a||f!==0&&nt.nodeType!==3||(w=_+f),nt!==d||l!==0&&nt.nodeType!==3||(M=_+l),nt.nodeType===3&&(_+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)F=nt,nt=Q;for(;;){if(nt===e)break e;if(F===a&&++q===f&&(w=_),F===d&&++J===l&&(M=_),(Q=nt.nextSibling)!==null)break;nt=F,F=nt.parentNode}nt=Q}a=w===-1||M===-1?null:{start:w,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(hm={focusedElem:e,selectionRange:a},Wc=!1,ze=r;ze!==null;)if(r=ze,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ze=e;else for(;ze!==null;){switch(r=ze,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=Ws(a.type,f);e=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(bt){Jt(a,a.return,bt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)mm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,ze=e;break}ze=r.return}}function k0(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:or(e,a),l&4&&yl(5,a);break;case 1:if(or(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(_){Jt(a,a.return,_)}else{var f=Ws(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Jt(a,a.return,_)}}l&64&&C0(a),l&512&&_l(a,a.return);break;case 3:if(or(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{vy(e,r)}catch(_){Jt(a,a.return,_)}}break;case 27:r===null&&l&4&&M0(a);case 26:case 5:or(e,a),r===null&&l&4&&D0(a),l&512&&_l(a,a.return);break;case 12:or(e,a);break;case 31:or(e,a),l&4&&U0(e,a);break;case 13:or(e,a),l&4&&j0(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=aS.bind(null,a),xS(e,a))));break;case 22:if(l=a.memoizedState!==null||sr,!l){r=r!==null&&r.memoizedState!==null||De,f=sr;var d=De;sr=l,(De=r)&&!d?lr(e,a,(a.subtreeFlags&8772)!==0):or(e,a),sr=f,De=d}break;case 30:break;default:or(e,a)}}function L0(e){var r=e.alternate;r!==null&&(e.alternate=null,L0(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Ea(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,cn=!1;function ar(e,r,a){for(a=a.child;a!==null;)P0(e,r,a),a=a.sibling}function P0(e,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:De||Di(a,r),ar(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Di(a,r);var l=fe,f=cn;Wr(a.type)&&(fe=a.stateNode,cn=!1),ar(e,r,a),Rl(a.stateNode),fe=l,cn=f;break;case 5:De||Di(a,r);case 6:if(l=fe,f=cn,fe=null,ar(e,r,a),fe=l,cn=f,fe!==null)if(cn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(a.stateNode)}catch(d){Jt(a,r,d)}else try{fe.removeChild(a.stateNode)}catch(d){Jt(a,r,d)}break;case 18:fe!==null&&(cn?(e=fe,C_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ro(e)):C_(fe,a.stateNode));break;case 4:l=fe,f=cn,fe=a.stateNode.containerInfo,cn=!0,ar(e,r,a),fe=l,cn=f;break;case 0:case 11:case 14:case 15:$r(2,a,r),De||$r(4,a,r),ar(e,r,a);break;case 1:De||(Di(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&I0(a,r,l)),ar(e,r,a);break;case 21:ar(e,r,a);break;case 22:De=(l=De)||a.memoizedState!==null,ar(e,r,a),De=l;break;default:ar(e,r,a)}}function U0(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ro(e)}catch(a){Jt(r,r.return,a)}}}function j0(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ro(e)}catch(a){Jt(r,r.return,a)}}function Jw(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new V0),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new V0),r;default:throw Error(s(435,e.tag))}}function Mc(e,r){var a=Jw(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=oS.bind(null,e,l);l.then(f,f)}})}function hn(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=r,w=_;t:for(;w!==null;){switch(w.tag){case 27:if(Wr(w.type)){fe=w.stateNode,cn=!1;break t}break;case 5:fe=w.stateNode,cn=!1;break t;case 3:case 4:fe=w.stateNode.containerInfo,cn=!0;break t}w=w.return}if(fe===null)throw Error(s(160));P0(d,_,f),fe=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)z0(r,e),r=r.sibling}var ii=null;function z0(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(r,e),fn(e),l&4&&($r(3,e,e.return),yl(3,e),$r(5,e,e.return));break;case 1:hn(r,e),fn(e),l&512&&(De||a===null||Di(a,a.return)),l&64&&sr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ii;if(hn(r,e),fn(e),l&512&&(De||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ke(d,l,a),d[Ae]=e,xe(d),l=d;break t;case"link":var _=z_("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break e}}d=f.createElement(l),Ke(d,l,a),f.head.appendChild(d);break;case"meta":if(_=z_("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break e}}d=f.createElement(l),Ke(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ae]=e,xe(d),l=d}e.stateNode=l}else B_(f,e.type,e.stateNode);else e.stateNode=j_(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?B_(f,e.type,e.stateNode):j_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&zd(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(r,e),fn(e),l&512&&(De||a===null||Di(a,a.return)),a!==null&&l&4&&zd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(r,e),fn(e),l&512&&(De||a===null||Di(a,a.return)),e.flags&32){f=e.stateNode;try{un(f,"")}catch(pt){Jt(e,e.return,pt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,zd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Hd=!0);break;case 6:if(hn(r,e),fn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(pt){Jt(e,e.return,pt)}}break;case 3:if(Kc=null,f=ii,ii=Qc(r.containerInfo),hn(r,e),ii=f,fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(r.containerInfo)}catch(pt){Jt(e,e.return,pt)}Hd&&(Hd=!1,B0(e));break;case 4:l=ii,ii=Qc(e.stateNode.containerInfo),hn(r,e),fn(e),ii=l;break;case 12:hn(r,e),fn(e);break;case 31:hn(r,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Mc(e,l)));break;case 13:hn(r,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kc=He()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Mc(e,l)));break;case 22:f=e.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,q=sr,J=De;if(sr=q||f,De=J||M,hn(r,e),De=J,sr=q,fn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||M||sr||De||ta(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){M=a=r;try{if(d=M.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=M.stateNode;var nt=M.memoizedProps.style,F=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;w.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(pt){Jt(M,M.return,pt)}}}else if(r.tag===6){if(a===null){M=r;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(pt){Jt(M,M.return,pt)}}}else if(r.tag===18){if(a===null){M=r;try{var Q=M.stateNode;f?I_(Q,!0):I_(M.stateNode,!1)}catch(pt){Jt(M,M.return,pt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Mc(e,a))));break;case 19:hn(r,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Mc(e,l)));break;case 30:break;case 21:break;default:hn(r,e),fn(e)}}function fn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(O0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Bd(e);Oc(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var w=Bd(e);Oc(e,w,_);break;case 3:case 4:var M=a.stateNode.containerInfo,q=Bd(e);qd(e,q,M);break;default:throw Error(s(161))}}catch(J){Jt(e,e.return,J)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function B0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;B0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function or(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)k0(e,r.alternate,r),r=r.sibling}function ta(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:$r(4,r,r.return),ta(r);break;case 1:Di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&I0(r,r.return,a),ta(r);break;case 27:Rl(r.stateNode);case 26:case 5:Di(r,r.return),ta(r);break;case 22:r.memoizedState===null&&ta(r);break;case 30:ta(r);break;default:ta(r)}e=e.sibling}}function lr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:lr(f,d,a),yl(4,d);break;case 1:if(lr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Jt(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)_y(M[f],w)}catch(q){Jt(l,l.return,q)}}a&&_&64&&C0(d),_l(d,d.return);break;case 27:M0(d);case 26:case 5:lr(f,d,a),a&&l===null&&_&4&&D0(d),_l(d,d.return);break;case 12:lr(f,d,a);break;case 31:lr(f,d,a),a&&_&4&&U0(f,d);break;case 13:lr(f,d,a),a&&_&4&&j0(f,d);break;case 22:d.memoizedState===null&&lr(f,d,a),_l(d,d.return);break;case 30:break;default:lr(f,d,a)}r=r.sibling}}function Fd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rl(a))}function Gd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&rl(e))}function ri(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)q0(e,r,a,l),r=r.sibling}function q0(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ri(e,r,a,l),f&2048&&yl(9,r);break;case 1:ri(e,r,a,l);break;case 3:ri(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&rl(e)));break;case 12:if(f&2048){ri(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Jt(r,r.return,M)}}else ri(e,r,a,l);break;case 31:ri(e,r,a,l);break;case 13:ri(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ri(e,r,a,l):vl(e,r):d._visibility&2?ri(e,r,a,l):(d._visibility|=2,Qa(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Fd(_,r);break;case 24:ri(e,r,a,l),f&2048&&Gd(r.alternate,r);break;default:ri(e,r,a,l)}}function Qa(e,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,_=r,w=a,M=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Qa(d,_,w,M,f),yl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Qa(d,_,w,M,f):vl(d,_):(J._visibility|=2,Qa(d,_,w,M,f)),f&&q&2048&&Fd(_.alternate,_);break;case 24:Qa(d,_,w,M,f),f&&q&2048&&Gd(_.alternate,_);break;default:Qa(d,_,w,M,f)}r=r.sibling}}function vl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:vl(a,l),f&2048&&Fd(l.alternate,l);break;case 24:vl(a,l),f&2048&&Gd(l.alternate,l);break;default:vl(a,l)}r=r.sibling}}var El=8192;function Ya(e,r,a){if(e.subtreeFlags&El)for(e=e.child;e!==null;)H0(e,r,a),e=e.sibling}function H0(e,r,a){switch(e.tag){case 26:Ya(e,r,a),e.flags&El&&e.memoizedState!==null&&US(a,ii,e.memoizedState,e.memoizedProps);break;case 5:Ya(e,r,a);break;case 3:case 4:var l=ii;ii=Qc(e.stateNode.containerInfo),Ya(e,r,a),ii=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,Ya(e,r,a),El=l):Ya(e,r,a));break;default:Ya(e,r,a)}}function F0(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Tl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];ze=l,$0(l,e)}F0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)G0(e),e=e.sibling}function G0(e){switch(e.tag){case 0:case 11:case 15:Tl(e),e.flags&2048&&$r(9,e,e.return);break;case 3:Tl(e);break;case 12:Tl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Vc(e)):Tl(e);break;default:Tl(e)}}function Vc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];ze=l,$0(l,e)}F0(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:$r(8,r,r.return),Vc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(r));break;default:Vc(r)}e=e.sibling}}function $0(e,r){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:$r(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=e;ze!==null;){l=ze;var f=l.sibling,d=l.return;if(L0(l),l===a){ze=null;break t}if(f!==null){f.return=d,ze=f;break t}ze=d}}}var Ww={getCacheForType:function(e){var r=Qe(Ne),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Qe(Ne).controller.signal}},tS=typeof WeakMap=="function"?WeakMap:Map,Qt=0,re=null,kt=null,Pt=0,Zt=0,Sn=null,Qr=!1,Ka=!1,$d=!1,ur=0,ge=0,Yr=0,ea=0,Qd=0,An=0,Xa=0,bl=null,dn=null,Yd=!1,kc=0,Q0=0,Lc=1/0,Pc=null,Kr=null,ke=0,Xr=null,Za=null,cr=0,Kd=0,Xd=null,Y0=null,wl=0,Zd=null;function xn(){return(Qt&2)!==0&&Pt!==0?Pt&-Pt:P.T!==null?im():Uu()}function K0(){if(An===0)if((Pt&536870912)===0||qt){var e=Ns;Ns<<=1,(Ns&3932160)===0&&(Ns=262144),An=e}else An=536870912;return e=bn.current,e!==null&&(e.flags|=32),An}function mn(e,r,a){(e===re&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Ja(e,0),Zr(e,Pt,An,!1)),Cs(e,a),((Qt&2)===0||e!==re)&&(e===re&&((Qt&2)===0&&(ea|=a),ge===4&&Zr(e,Pt,An,!1)),Oi(e))}function X0(e,r,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||Yn(e,r),f=l?iS(e,r):Wd(e,r,!0),d=l;do{if(f===0){Ka&&!l&&Zr(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!eS(a)){f=Wd(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;t:{var w=e;f=bl;var M=w.current.memoizedState.isDehydrated;if(M&&(Ja(w,_).flags|=256),_=Wd(w,_,!1),_!==2){if($d&&!M){w.errorRecoveryDisabledLanes|=d,ea|=d,f=4;break t}d=dn,dn=f,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ja(e,0),Zr(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Zr(l,r,An,!Qr);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=kc+300-He(),10<f)){if(Zr(l,r,An,!Qr),mi(l,0,!0)!==0)break t;cr=r,l.timeoutHandle=R_(Z0.bind(null,l,a,dn,Pc,Yd,r,An,ea,Xa,Qr,d,"Throttled",-0,0),f);break t}Z0(l,a,dn,Pc,Yd,r,An,ea,Xa,Qr,d,null,-0,0)}}break}while(!0);Oi(e)}function Z0(e,r,a,l,f,d,_,w,M,q,J,nt,F,Q){if(e.timeoutHandle=-1,nt=r.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},H0(r,d,nt);var pt=(d&62914560)===d?kc-He():(d&4194048)===d?Q0-He():0;if(pt=jS(nt,pt),pt!==null){cr=d,e.cancelPendingCommit=pt(s_.bind(null,e,r,d,a,l,f,_,w,M,J,nt,null,F,Q)),Zr(e,d,_,!q);return}}s_(e,r,d,a,l,f,_,w,M)}function eS(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!En(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zr(e,r,a,l){r&=~Qd,r&=~ea,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-_e(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Is(e,a,r)}function Uc(){return(Qt&6)===0?(Sl(0),!1):!0}function Jd(){if(kt!==null){if(Zt===0)var e=kt.return;else e=kt,Wi=$s=null,md(e),qa=null,al=0,e=kt;for(;e!==null;)N0(e.alternate,e),e=e.return;kt=null}}function Ja(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,TS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),cr=0,Jd(),re=e,kt=a=Zi(e.current,null),Pt=r,Zt=0,Sn=null,Qr=!1,Ka=Yn(e,r),$d=!1,Xa=An=Qd=ea=Yr=ge=0,dn=bl=null,Yd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-_e(l),d=1<<f;r|=e[f],l&=~d}return ur=r,sc(),a}function J0(e,r){Mt=null,P.H=ml,r===Ba||r===dc?(r=my(),Zt=3):r===nd?(r=my(),Zt=4):Zt=r===Id?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,kt===null&&(ge=1,Rc(e,Pn(r,e.current)))}function W0(){var e=bn.current;return e===null?!0:(Pt&4194048)===Pt?Bn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===Bn:!1}function t_(){var e=P.H;return P.H=ml,e===null?ml:e}function e_(){var e=P.A;return P.A=Ww,e}function jc(){ge=4,Qr||(Pt&4194048)!==Pt&&bn.current!==null||(Ka=!0),(Yr&134217727)===0&&(ea&134217727)===0||re===null||Zr(re,Pt,An,!1)}function Wd(e,r,a){var l=Qt;Qt|=2;var f=t_(),d=e_();(re!==e||Pt!==r)&&(Pc=null,Ja(e,r)),r=!1;var _=ge;t:do try{if(Zt!==0&&kt!==null){var w=kt,M=Sn;switch(Zt){case 8:Jd(),_=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(r=!0);var q=Zt;if(Zt=0,Sn=null,Wa(e,w,M,q),a&&Ka){_=0;break t}break;default:q=Zt,Zt=0,Sn=null,Wa(e,w,M,q)}}nS(),_=ge;break}catch(J){J0(e,J)}while(!0);return r&&e.shellSuspendCounter++,Wi=$s=null,Qt=l,P.H=f,P.A=d,kt===null&&(re=null,Pt=0,sc()),_}function nS(){for(;kt!==null;)n_(kt)}function iS(e,r){var a=Qt;Qt|=2;var l=t_(),f=e_();re!==e||Pt!==r?(Pc=null,Lc=He()+500,Ja(e,r)):Ka=Yn(e,r);t:do try{if(Zt!==0&&kt!==null){r=kt;var d=Sn;e:switch(Zt){case 1:Zt=0,Sn=null,Wa(e,r,d,1);break;case 2:case 9:if(fy(d)){Zt=0,Sn=null,i_(r);break}r=function(){Zt!==2&&Zt!==9||re!==e||(Zt=7),Oi(e)},d.then(r,r);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:fy(d)?(Zt=0,Sn=null,i_(r)):(Zt=0,Sn=null,Wa(e,r,d,7));break;case 5:var _=null;switch(kt.tag){case 26:_=kt.memoizedState;case 5:case 27:var w=kt;if(_?q_(_):w.stateNode.complete){Zt=0,Sn=null;var M=w.sibling;if(M!==null)kt=M;else{var q=w.return;q!==null?(kt=q,zc(q)):kt=null}break e}}Zt=0,Sn=null,Wa(e,r,d,5);break;case 6:Zt=0,Sn=null,Wa(e,r,d,6);break;case 8:Jd(),ge=6;break t;default:throw Error(s(462))}}rS();break}catch(J){J0(e,J)}while(!0);return Wi=$s=null,P.H=l,P.A=f,Qt=a,kt!==null?0:(re=null,Pt=0,sc(),ge)}function rS(){for(;kt!==null&&!Rs();)n_(kt)}function n_(e){var r=x0(e.alternate,e,ur);e.memoizedProps=e.pendingProps,r===null?zc(e):kt=r}function i_(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=E0(a,r,r.pendingProps,r.type,void 0,Pt);break;case 11:r=E0(a,r,r.pendingProps,r.type.render,r.ref,Pt);break;case 5:md(r);default:N0(a,r),r=kt=ey(r,ur),r=x0(a,r,ur)}e.memoizedProps=e.pendingProps,r===null?zc(e):kt=r}function Wa(e,r,a,l){Wi=$s=null,md(r),qa=null,al=0;var f=r.return;try{if($w(e,f,r,a,Pt)){ge=1,Rc(e,Pn(a,e.current)),kt=null;return}}catch(d){if(f!==null)throw kt=f,d;ge=1,Rc(e,Pn(a,e.current)),kt=null;return}r.flags&32768?(qt||l===1?e=!0:Ka||(Pt&536870912)!==0?e=!1:(Qr=e=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),r_(r,e)):zc(r)}function zc(e){var r=e;do{if((r.flags&32768)!==0){r_(r,Qr);return}e=r.return;var a=Kw(r.alternate,r,ur);if(a!==null){kt=a;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=e}while(r!==null);ge===0&&(ge=5)}function r_(e,r){do{var a=Xw(e.alternate,e);if(a!==null){a.flags&=32767,kt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){kt=e;return}kt=e=a}while(e!==null);ge=6,kt=null}function s_(e,r,a,l,f,d,_,w,M){e.cancelPendingCommit=null;do Bc();while(ke!==0);if((Qt&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Bf,Of(e,a,d,_,w,M),e===re&&(kt=re=null,Pt=0),Za=r,Xr=e,cr=a,Kd=d,Xd=f,Y0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lS(Rr,function(){return c_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,f=G.p,G.p=2,_=Qt,Qt|=4;try{Zw(e,r,a)}finally{Qt=_,G.p=f,P.T=l}}ke=1,a_(),o_(),l_()}}function a_(){if(ke===1){ke=0;var e=Xr,r=Za,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var l=G.p;G.p=2;var f=Qt;Qt|=4;try{z0(r,e);var d=hm,_=$g(e.containerInfo),w=d.focusedElem,M=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&Gg(w.ownerDocument.documentElement,w)){if(M!==null&&Lf(w)){var q=M.start,J=M.end;if(J===void 0&&(J=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(J,w.value.length);else{var nt=w.ownerDocument||document,F=nt&&nt.defaultView||window;if(F.getSelection){var Q=F.getSelection(),pt=w.textContent.length,bt=Math.min(M.start,pt),ne=M.end===void 0?bt:Math.min(M.end,pt);!Q.extend&&bt>ne&&(_=ne,ne=bt,bt=_);var j=Fg(w,bt),k=Fg(w,ne);if(j&&k&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var B=nt.createRange();B.setStart(j.node,j.offset),Q.removeAllRanges(),bt>ne?(Q.addRange(B),Q.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),Q.addRange(B))}}}}for(nt=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<nt.length;w++){var tt=nt[w];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Wc=!!cm,hm=cm=null}finally{Qt=f,G.p=l,P.T=a}}e.current=r,ke=2}}function o_(){if(ke===2){ke=0;var e=Xr,r=Za,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var l=G.p;G.p=2;var f=Qt;Qt|=4;try{k0(e,r.alternate,r)}finally{Qt=f,G.p=l,P.T=a}}ke=3}}function l_(){if(ke===4||ke===3){ke=0,Gi();var e=Xr,r=Za,a=cr,l=Y0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ke=5:(ke=0,Za=Xr=null,u_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Kr=null),Qi(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Qn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=P.T,f=G.p,G.p=2,P.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{P.T=r,G.p=f}}(cr&3)!==0&&Bc(),Oi(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Zd?wl++:(wl=0,Zd=e):wl=0,Sl(0)}}function u_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,rl(r)))}function Bc(){return a_(),o_(),l_(),c_()}function c_(){if(ke!==5)return!1;var e=Xr,r=Kd;Kd=0;var a=Qi(cr),l=P.T,f=G.p;try{G.p=32>a?32:a,P.T=null,a=Xd,Xd=null;var d=Xr,_=cr;if(ke=0,Za=Xr=null,cr=0,(Qt&6)!==0)throw Error(s(331));var w=Qt;if(Qt|=4,G0(d.current),q0(d,d.current,_,a),Qt=w,Sl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{G.p=f,P.T=l,u_(e,r)}}function h_(e,r,a){r=Pn(a,r),r=Cd(e.stateNode,r,2),e=Hr(e,r,2),e!==null&&(Cs(e,2),Oi(e))}function Jt(e,r,a){if(e.tag===3)h_(e,e,a);else for(;r!==null;){if(r.tag===3){h_(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){e=Pn(a,e),a=f0(2),l=Hr(r,a,2),l!==null&&(d0(a,l,r,e),Cs(l,2),Oi(l));break}}r=r.return}}function tm(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new tS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||($d=!0,f.add(a),e=sS.bind(null,e,r,a),r.then(e,e))}function sS(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(Pt&a)===a&&(ge===4||ge===3&&(Pt&62914560)===Pt&&300>He()-kc?(Qt&2)===0&&Ja(e,0):Qd|=a,Xa===Pt&&(Xa=0)),Oi(e)}function f_(e,r){r===0&&(r=Pu()),e=Hs(e,r),e!==null&&(Cs(e,r),Oi(e))}function aS(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),f_(e,a)}function oS(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),f_(e,a)}function lS(e,r){return Kt(e,r)}var qc=null,to=null,em=!1,Hc=!1,nm=!1,Jr=0;function Oi(e){e!==to&&e.next===null&&(to===null?qc=to=e:to=to.next=e),Hc=!0,em||(em=!0,cS())}function Sl(e,r){if(!nm&&Hc){nm=!0;do for(var a=!1,l=qc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-_e(42|e)+1)-1,d&=f&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,g_(l,d))}else d=Pt,d=mi(l,l===re?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,g_(l,d));l=l.next}while(a);nm=!1}}function uS(){d_()}function d_(){Hc=em=!1;var e=0;Jr!==0&&ES()&&(e=Jr);for(var r=He(),a=null,l=qc;l!==null;){var f=l.next,d=m_(l,r);d===0?(l.next=null,a===null?qc=f:a.next=f,f===null&&(to=a)):(a=l,(e!==0||(d&3)!==0)&&(Hc=!0)),l=f}ke!==0&&ke!==5||Sl(e),Jr!==0&&(Jr=0)}function m_(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-_e(d),w=1<<_,M=f[_];M===-1?((w&a)===0||(w&l)!==0)&&(f[_]=Df(w,r)):M<=r&&(e.expiredLanes|=w),d&=~w}if(r=re,a=Pt,a=mi(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&In(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yn(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&In(l),Qi(a)){case 2:case 8:a=xr;break;case 32:a=Rr;break;case 268435456:a=Ou;break;default:a=Rr}return l=p_.bind(null,e),a=Kt(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&In(l),e.callbackPriority=2,e.callbackNode=null,2}function p_(e,r){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Bc()&&e.callbackNode!==a)return null;var l=Pt;return l=mi(e,e===re?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(X0(e,l,r),m_(e,He()),e.callbackNode!=null&&e.callbackNode===a?p_.bind(null,e):null)}function g_(e,r){if(Bc())return null;X0(e,r,!0)}function cS(){bS(function(){(Qt&6)!==0?Kt(we,uS):d_()})}function im(){if(Jr===0){var e=ja;e===0&&(e=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Jr=e}return Jr}function y_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sa(""+e)}function __(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function hS(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=y_((f[Ue]||null).action),_=l.submitter;_&&(r=(r=_[Ue]||null)?y_(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var w=new Ai("action","action",null,l,f);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jr!==0){var M=_?__(f,_):new FormData(f);wd(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(w.preventDefault(),M=_?__(f,_):new FormData(f),wd(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var rm=0;rm<zf.length;rm++){var sm=zf[rm],fS=sm.toLowerCase(),dS=sm[0].toUpperCase()+sm.slice(1);ni(fS,"on"+dS)}ni(Kg,"onAnimationEnd"),ni(Xg,"onAnimationIteration"),ni(Zg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Cw,"onTransitionRun"),ni(Iw,"onTransitionStart"),ni(Dw,"onTransitionCancel"),ni(Jg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function v_(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var w=l[_],M=w.instance,q=w.currentTarget;if(w=w.listener,M!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=q;try{d(f)}catch(J){rc(J)}f.currentTarget=null,d=M}else for(_=0;_<l.length;_++){if(w=l[_],M=w.instance,q=w.currentTarget,w=w.listener,M!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=q;try{d(f)}catch(J){rc(J)}f.currentTarget=null,d=M}}}}function Lt(e,r){var a=r[va];a===void 0&&(a=r[va]=new Set);var l=e+"__bubble";a.has(l)||(E_(r,e,2,!1),a.add(l))}function am(e,r,a){var l=0;r&&(l|=4),E_(a,e,l,r)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function om(e){if(!e[Fc]){e[Fc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(mS.has(a)||am(a,!1,e),am(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Fc]||(r[Fc]=!0,am("selectionchange",!1,r))}}function E_(e,r,a,l){switch(K_(r)){case 2:var f=qS;break;case 8:f=HS;break;default:f=bm}a=f.bind(null,r,a,e),f=void 0,!ks||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function lm(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=_i(w),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=d=_;continue t}w=w.parentNode}}l=l.return}Mr(function(){var q=d,J=Mn(a),nt=[];t:{var F=Wg.get(e);if(F!==void 0){var Q=Ai,pt=e;switch(e){case"keypress":if(Ps(a)===0)break t;case"keydown":case"keyup":Q=ec;break;case"focusin":pt="focus",Q=js;break;case"focusout":pt="blur",Q=js;break;case"beforeblur":case"afterblur":Q=js;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Kg:case Xg:case Zg:Q=Yu;break;case Jg:Q=A;break;case"scroll":case"scrollend":Q=Ko;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Xi;break;case"toggle":case"beforetoggle":Q=Ot}var bt=(r&4)!==0,ne=!bt&&(e==="scroll"||e==="scrollend"),j=bt?F!==null?F+"Capture":null:F;bt=[];for(var k=q,B;k!==null;){var tt=k;if(B=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||B===null||j===null||(tt=Jn(k,j),tt!=null&&bt.push(xl(k,tt,B))),ne)break;k=k.return}0<bt.length&&(F=new Q(F,pt,null,a,J),nt.push({event:F,listeners:bt}))}}if((r&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",F&&a!==$o&&(pt=a.relatedTarget||a.fromElement)&&(_i(pt)||pt[gi]))break t;if((Q||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(pt=a.relatedTarget||a.toElement,Q=q,pt=pt?_i(pt):null,pt!==null&&(ne=u(pt),bt=pt.tag,pt!==ne||bt!==5&&bt!==27&&bt!==6)&&(pt=null)):(Q=null,pt=q),Q!==pt)){if(bt=Xo,tt="onMouseLeave",j="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(bt=Xi,tt="onPointerLeave",j="onPointerEnter",k="pointer"),ne=Q==null?F:_n(Q),B=pt==null?F:_n(pt),F=new bt(tt,k+"leave",Q,a,J),F.target=ne,F.relatedTarget=B,tt=null,_i(J)===q&&(bt=new bt(j,k+"enter",pt,a,J),bt.target=B,bt.relatedTarget=ne,tt=bt),ne=tt,Q&&pt)e:{for(bt=pS,j=Q,k=pt,B=0,tt=j;tt;tt=bt(tt))B++;tt=0;for(var vt=k;vt;vt=bt(vt))tt++;for(;0<B-tt;)j=bt(j),B--;for(;0<tt-B;)k=bt(k),tt--;for(;B--;){if(j===k||k!==null&&j===k.alternate){bt=j;break e}j=bt(j),k=bt(k)}bt=null}else bt=null;Q!==null&&T_(nt,F,Q,bt,!1),pt!==null&&ne!==null&&T_(nt,ne,pt,bt,!0)}}t:{if(F=q?_n(q):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var Ft=Ug;else if(Lg(F))if(jg)Ft=xw;else{Ft=Sw;var gt=ww}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&wa(q.elementType)&&(Ft=Ug):Ft=Aw;if(Ft&&(Ft=Ft(e,q))){Pg(nt,Ft,a,J);break t}gt&&gt(e,F,q),e==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Ho(F,"number",F.value)}switch(gt=q?_n(q):window,e){case"focusin":(Lg(gt)||gt.contentEditable==="true")&&(Da=gt,Pf=q,el=null);break;case"focusout":el=Pf=Da=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Qg(nt,a,J);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":Qg(nt,a,J)}var Vt;if($t)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Ia?zs(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ni&&a.locale!=="ko"&&(Ia||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Ia&&(Vt=Yo()):(Si=J,Qo="value"in Si?Si.value:Si.textContent,Ia=!0)),gt=Gc(q,Ut),0<gt.length&&(Ut=new Ri(Ut,e,null,a,J),nt.push({event:Ut,listeners:gt}),Vt?Ut.data=Vt:(Vt=Ca(a),Vt!==null&&(Ut.data=Vt)))),(Vt=kn?vw(e,a):Ew(e,a))&&(Ut=Gc(q,"onBeforeInput"),0<Ut.length&&(gt=new Ri("onBeforeInput","beforeinput",null,a,J),nt.push({event:gt,listeners:Ut}),gt.data=Vt)),hS(nt,e,q,a,J)}v_(nt,r)})}function xl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Gc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Jn(e,a),f!=null&&l.unshift(xl(e,f,d)),f=Jn(e,r),f!=null&&l.push(xl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function pS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function T_(e,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var w=a,M=w.alternate,q=w.stateNode;if(w=w.tag,M!==null&&M===l)break;w!==5&&w!==26&&w!==27||q===null||(M=q,f?(q=Jn(a,d),q!=null&&_.unshift(xl(a,q,M))):f||(q=Jn(a,d),q!=null&&_.push(xl(a,q,M)))),a=a.return}_.length!==0&&e.push({event:r,listeners:_})}var gS=/\r\n?/g,yS=/\u0000|\uFFFD/g;function b_(e){return(typeof e=="string"?e:""+e).replace(gS,`
`).replace(yS,"")}function w_(e,r){return r=b_(r),b_(e)===r}function ee(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&un(e,""+l);break;case"className":vn(e,"class",l);break;case"tabIndex":vn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,a,l);break;case"style":Go(e,l,d);break;case"data":if(r!=="object"){vn(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Sa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&ee(e,r,"name",f.name,f,null),ee(e,r,"formEncType",f.formEncType,f,null),ee(e,r,"formMethod",f.formMethod,f,null),ee(e,r,"formTarget",f.formTarget,f,null)):(ee(e,r,"encType",f.encType,f,null),ee(e,r,"method",f.method,f,null),ee(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Sa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Zn);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Sa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),Ta(e,"popover",l);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gu.get(a)||a,Ta(e,a,l))}}function um(e,r,a,l,f,d){switch(a){case"style":Go(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[Ue]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ta(e,a,l)}}}function Ke(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ee(e,r,d,_,a,null)}}f&&ee(e,r,"srcSet",a.srcSet,a,null),l&&ee(e,r,"src",a.src,a,null);return;case"input":Lt("invalid",e);var w=d=_=f=null,M=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":_=J;break;case"checked":M=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:ee(e,r,l,J,a,null)}}qu(e,d,w,M,q,_,f,!1);return;case"select":Lt("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:ee(e,r,f,w,a,null)}r=d,a=_,e.multiple=!!l,r!=null?Cr(e,!!l,r,!1):a!=null&&Cr(e,!!l,a,!0);return;case"textarea":Lt("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ee(e,r,_,w,a,null)}Ir(e,l,f,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(e,r,M,l,a,null)}return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(l=0;l<Al.length;l++)Lt(Al[l],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ee(e,r,q,l,a,null)}return;default:if(wa(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&um(e,r,J,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&ee(e,r,w,l,a,null))}function _S(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,w=null,M=null,q=null,J=null;for(Q in a){var nt=a[Q];if(a.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":M=nt;default:l.hasOwnProperty(Q)||ee(e,r,Q,null,l,nt)}}for(var F in l){var Q=l[F];if(nt=a[F],l.hasOwnProperty(F)&&(Q!=null||nt!=null))switch(F){case"type":d=Q;break;case"name":f=Q;break;case"checked":q=Q;break;case"defaultChecked":J=Q;break;case"value":_=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==nt&&ee(e,r,F,Q,l,nt)}}ba(e,_,w,M,q,J,d,f);return;case"select":Q=_=w=F=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":Q=M;default:l.hasOwnProperty(d)||ee(e,r,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==M&&ee(e,r,f,d,l,M)}r=w,a=_,l=Q,F!=null?Cr(e,!!a,F,!1):!!l!=!!a&&(r!=null?Cr(e,!!a,r,!0):Cr(e,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ee(e,r,w,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&ee(e,r,_,f,l,d)}Hu(e,F,Q);return;case"option":for(var pt in a)if(F=a[pt],a.hasOwnProperty(pt)&&F!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:ee(e,r,pt,null,l,F)}for(M in l)if(F=l[M],Q=a[M],l.hasOwnProperty(M)&&F!==Q&&(F!=null||Q!=null))switch(M){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ee(e,r,M,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)F=a[bt],a.hasOwnProperty(bt)&&F!=null&&!l.hasOwnProperty(bt)&&ee(e,r,bt,null,l,F);for(q in l)if(F=l[q],Q=a[q],l.hasOwnProperty(q)&&F!==Q&&(F!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:ee(e,r,q,F,l,Q)}return;default:if(wa(r)){for(var ne in a)F=a[ne],a.hasOwnProperty(ne)&&F!==void 0&&!l.hasOwnProperty(ne)&&um(e,r,ne,void 0,l,F);for(J in l)F=l[J],Q=a[J],!l.hasOwnProperty(J)||F===Q||F===void 0&&Q===void 0||um(e,r,J,F,l,Q);return}}for(var j in a)F=a[j],a.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&ee(e,r,j,null,l,F);for(nt in l)F=l[nt],Q=a[nt],!l.hasOwnProperty(nt)||F===Q||F==null&&Q==null||ee(e,r,nt,F,l,Q)}function S_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,w=f.duration;if(d&&w&&S_(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],q=M.startTime;if(q>w)break;var J=M.transferSize,nt=M.initiatorType;J&&S_(nt)&&(M=M.responseEnd,_+=J*(M<w?1:(w-q)/(M-q)))}if(--l,r+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cm=null,hm=null;function $c(e){return e.nodeType===9?e:e.ownerDocument}function A_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function fm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var dm=null;function ES(){var e=window.event;return e&&e.type==="popstate"?e===dm?!1:(dm=e,!0):(dm=null,!1)}var R_=typeof setTimeout=="function"?setTimeout:void 0,TS=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,bS=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(e){return N_.resolve(null).then(e).catch(wS)}:R_;function wS(e){setTimeout(function(){throw e})}function Wr(e){return e==="head"}function C_(e,r){var a=r,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),ro(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[yi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(e.ownerDocument.body);a=f}while(a);ro(r)}function I_(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function mm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mm(a),Ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function SS(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[yi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function AS(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qn(e.nextSibling),e===null))return null;return e}function D_(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=qn(e.nextSibling),e===null))return null;return e}function pm(e){return e.data==="$?"||e.data==="$~"}function gm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xS(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function qn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var ym=null;function O_(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return qn(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function M_(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function V_(e,r,a){switch(r=$c(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Rl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Ea(e)}var Hn=new Map,k_=new Set;function Qc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hr=G.d;G.d={f:RS,r:NS,D:CS,C:IS,L:DS,m:OS,X:VS,S:MS,M:kS};function RS(){var e=hr.f(),r=Uc();return e||r}function NS(e){var r=On(e);r!==null&&r.tag===5&&r.type==="form"?Jy(r):hr.r(e)}var eo=typeof document>"u"?null:document;function L_(e,r,a){var l=eo;if(l&&typeof r=="string"&&r){var f=ln(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),k_.has(f)||(k_.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ke(r,"link",e),xe(r),l.head.appendChild(r)))}}function CS(e){hr.D(e),L_("dns-prefetch",e,null)}function IS(e,r){hr.C(e,r),L_("preconnect",e,r)}function DS(e,r,a){hr.L(e,r,a);var l=eo;if(l&&e&&r){var f='link[rel="preload"][as="'+ln(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ln(a.imageSizes)+'"]')):f+='[href="'+ln(e)+'"]';var d=f;switch(r){case"style":d=no(e);break;case"script":d=io(e)}Hn.has(d)||(e=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Hn.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(Nl(d))||r==="script"&&l.querySelector(Cl(d))||(r=l.createElement("link"),Ke(r,"link",e),xe(r),l.head.appendChild(r)))}}function OS(e,r){hr.m(e,r);var a=eo;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(e)}if(!Hn.has(d)&&(e=b({rel:"modulepreload",href:e},r),Hn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Ke(l,"link",e),xe(l),a.head.appendChild(l)}}}function MS(e,r,a){hr.S(e,r,a);var l=eo;if(l&&e){var f=vi(l).hoistableStyles,d=no(e);r=r||"default";var _=f.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Nl(d)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Hn.get(d))&&_m(e,a);var M=_=l.createElement("link");xe(M),Ke(M,"link",e),M._p=new Promise(function(q,J){M.onload=q,M.onerror=J}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Yc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(d,_)}}}function VS(e,r){hr.X(e,r);var a=eo;if(a&&e){var l=vi(a).hoistableScripts,f=io(e),d=l.get(f);d||(d=a.querySelector(Cl(f)),d||(e=b({src:e,async:!0},r),(r=Hn.get(f))&&vm(e,r),d=a.createElement("script"),xe(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function kS(e,r){hr.M(e,r);var a=eo;if(a&&e){var l=vi(a).hoistableScripts,f=io(e),d=l.get(f);d||(d=a.querySelector(Cl(f)),d||(e=b({src:e,async:!0,type:"module"},r),(r=Hn.get(f))&&vm(e,r),d=a.createElement("script"),xe(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function P_(e,r,a,l){var f=(f=At.current)?Qc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=no(a.href),a=vi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=no(a.href);var d=vi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Nl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Hn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(e,a),d||LS(f,e,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(a),a=vi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function no(e){return'href="'+ln(e)+'"'}function Nl(e){return'link[rel="stylesheet"]['+e+"]"}function U_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function LS(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ke(r,"link",a),xe(r),e.head.appendChild(r))}function io(e){return'[src="'+ln(e)+'"]'}function Cl(e){return"script[async]"+e}function j_(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return r.instance=l,xe(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xe(l),Ke(l,"style",f),Yc(l,a.precedence,e),r.instance=l;case"stylesheet":f=no(a.href);var d=e.querySelector(Nl(f));if(d)return r.state.loading|=4,r.instance=d,xe(d),d;l=U_(a),(f=Hn.get(f))&&_m(l,f),d=(e.ownerDocument||e).createElement("link"),xe(d);var _=d;return _._p=new Promise(function(w,M){_.onload=w,_.onerror=M}),Ke(d,"link",l),r.state.loading|=4,Yc(d,a.precedence,e),r.instance=d;case"script":return d=io(a.src),(f=e.querySelector(Cl(d)))?(r.instance=f,xe(f),f):(l=a,(f=Hn.get(d))&&(l=b({},a),vm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),xe(f),Ke(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Yc(l,a.precedence,e));return r.instance}function Yc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===r)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function _m(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function vm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Kc=null;function z_(e,r,a){if(Kc===null){var l=new Map,f=Kc=new Map;f.set(a,l)}else f=Kc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[yi]||d[Ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=e+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function B_(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function PS(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function q_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function US(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=no(l.href),d=r.querySelector(Nl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Xc.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,xe(d);return}d=r.ownerDocument||r,l=U_(l),(f=Hn.get(f))&&_m(l,f),d=d.createElement("link"),xe(d);var _=d;_._p=new Promise(function(w,M){_.onload=w,_.onerror=M}),Ke(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Xc.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var Em=0;function jS(e,r){return e.stylesheets&&e.count===0&&Jc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Jc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&Em===0&&(Em=62500*vS());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Em?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zc=null;function Jc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zc=new Map,r.forEach(zS,e),Zc=null,Xc.call(e))}function zS(e,r){if(!(r.state.loading&4)){var a=Zc.get(e);if(a)var l=a.get(null);else{a=new Map,Zc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Xc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var Il={$$typeof:at,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function BS(e,r,a,l,f,d,_,w,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function H_(e,r,a,l,f,d,_,w,M,q,J,nt){return e=new BS(e,r,a,_,M,q,J,nt,w),r=1,d===!0&&(r|=24),d=Tn(3,null,null,r),e.current=d,d.stateNode=e,r=Wf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},id(d),e}function F_(e){return e?(e=Va,e):Va}function G_(e,r,a,l,f,d){f=F_(f),l.context===null?l.context=f:l.pendingContext=f,l=qr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Hr(e,l,r),a!==null&&(mn(a,e,r),ll(a,e,r))}function $_(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Tm(e,r){$_(e,r),(e=e.alternate)&&$_(e,r)}function Q_(e){if(e.tag===13||e.tag===31){var r=Hs(e,67108864);r!==null&&mn(r,e,67108864),Tm(e,67108864)}}function Y_(e){if(e.tag===13||e.tag===31){var r=xn();r=Ds(r);var a=Hs(e,r);a!==null&&mn(a,e,r),Tm(e,r)}}var Wc=!0;function qS(e,r,a,l){var f=P.T;P.T=null;var d=G.p;try{G.p=2,bm(e,r,a,l)}finally{G.p=d,P.T=f}}function HS(e,r,a,l){var f=P.T;P.T=null;var d=G.p;try{G.p=8,bm(e,r,a,l)}finally{G.p=d,P.T=f}}function bm(e,r,a,l){if(Wc){var f=wm(l);if(f===null)lm(e,r,l,th,a),X_(e,l);else if(GS(f,e,r,a,l))l.stopPropagation();else if(X_(e,l),r&4&&-1<FS.indexOf(e)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=di(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var M=1<<31-_e(_);w.entanglements[1]|=M,_&=~M}Oi(d),(Qt&6)===0&&(Lc=He()+500,Sl(0))}}break;case 31:case 13:w=Hs(d,2),w!==null&&mn(w,d,2),Uc(),Tm(d,2)}if(d=wm(l),d===null&&lm(e,r,l,th,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else lm(e,r,l,null,a)}}function wm(e){return e=Mn(e),Sm(e)}var th=null;function Sm(e){if(th=null,e=_i(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=c(r),e!==null)return e;e=null}else if(a===31){if(e=m(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return th=e,null}function K_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($i()){case we:return 2;case xr:return 8;case Rr:case If:return 32;case Ou:return 268435456;default:return 32}default:return 32}}var Am=!1,ts=null,es=null,ns=null,Dl=new Map,Ol=new Map,is=[],FS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X_(e,r){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(r.pointerId)}}function Ml(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=On(r),r!==null&&Q_(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function GS(e,r,a,l,f){switch(r){case"focusin":return ts=Ml(ts,e,r,a,l,f),!0;case"dragenter":return es=Ml(es,e,r,a,l,f),!0;case"mouseover":return ns=Ml(ns,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Dl.set(d,Ml(Dl.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ol.set(d,Ml(Ol.get(d)||null,e,r,a,l,f)),!0}return!1}function Z_(e){var r=_i(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){e.blockedOn=r,Kn(e.priority,function(){Y_(a)});return}}else if(r===31){if(r=m(a),r!==null){e.blockedOn=r,Kn(e.priority,function(){Y_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eh(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=wm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);$o=l,a.target.dispatchEvent(l),$o=null}else return r=On(a),r!==null&&Q_(r),e.blockedOn=a,!1;r.shift()}return!0}function J_(e,r,a){eh(e)&&a.delete(r)}function $S(){Am=!1,ts!==null&&eh(ts)&&(ts=null),es!==null&&eh(es)&&(es=null),ns!==null&&eh(ns)&&(ns=null),Dl.forEach(J_),Ol.forEach(J_)}function nh(e,r){e.blockedOn===r&&(e.blockedOn=null,Am||(Am=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$S)))}var ih=null;function W_(e){ih!==e&&(ih=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ih===e&&(ih=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(Sm(l||a)===null)continue;break}var d=On(a);d!==null&&(e.splice(r,3),r-=3,wd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ro(e){function r(M){return nh(M,e)}ts!==null&&nh(ts,e),es!==null&&nh(es,e),ns!==null&&nh(ns,e),Dl.forEach(r),Ol.forEach(r);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)Z_(a),a.blockedOn===null&&is.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ue]||null;if(typeof d=="function")_||W_(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ue]||null)w=_.formAction;else if(Sm(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),W_(a)}}}function tv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function xm(e){this._internalRoot=e}rh.prototype.render=xm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=xn();G_(a,l,e,r,null,null)},rh.prototype.unmount=xm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;G_(e.current,2,null,e,null,null),Uc(),r[gi]=null}};function rh(e){this._internalRoot=e}rh.prototype.unstable_scheduleHydration=function(e){if(e){var r=Uu();e={blockedOn:null,target:e,priority:r};for(var a=0;a<is.length&&r!==0&&r<is[a].priority;a++);is.splice(a,0,e),a===0&&Z_(e)}};var ev=t.version;if(ev!=="19.2.1")throw Error(s(527,ev,"19.2.1"));G.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(r),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var QS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Qn=sh.inject(QS),Fe=sh}catch{}}return kl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=l0,d=u0,_=c0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=H_(e,1,!1,null,null,a,l,null,f,d,_,tv),e[gi]=r.current,om(e),new xm(r)},kl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=l0,_=u0,w=c0,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),r=H_(e,1,!0,r,a??null,l,f,M,d,_,w,tv),r.context=F_(null),a=r.current,l=xn(),l=Ds(l),f=qr(l),f.callback=null,Hr(a,f,l),a=l,r.current.lanes=a,Cs(r,a),Oi(r),e[gi]=r.current,om(e),new rh(r)},kl.version="19.2.1",kl}var hv;function rA(){if(hv)return Cm.exports;hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Cm.exports=iA(),Cm.exports}var sA=rA();const aA=()=>{};var fv={};const mT=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},oA=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],c=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,I=g&63;p||(I=64,c||(S=64)),s.push(n[v],n[b],n[S],n[I])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(mT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):oA(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new lA;const S=u<<2|m>>4;if(s.push(S),g!==64){const I=m<<4&240|g>>2;if(s.push(I),b!==64){const U=g<<6&192|b;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class lA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(i){const t=mT(i);return pT.encodeByteArray(t,!0)},Oh=function(i){return uA(i).replace(/\./g,"")},gT=function(i){try{return pT.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hA=()=>cA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof fv>"u")return;const i=fv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},dA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&gT(i[1]);return t&&JSON.parse(t)},sf=()=>{try{return aA()||hA()||fA()||dA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},yT=i=>sf()?.emulatorHosts?.[i],mA=i=>{const t=yT(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},_T=()=>sf()?.config,vT=i=>sf()?.[`_${i}`];class pA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function No(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ET(i){return(await fetch(i,{credentials:"include"})).ok}function gA(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Oh(JSON.stringify(n)),Oh(JSON.stringify(c)),""].join(".")}const Kl={};function yA(){const i={prod:[],emulator:[]};for(const t of Object.keys(Kl))Kl[t]?i.emulator.push(t):i.prod.push(t);return i}function _A(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let dv=!1;function TT(i,t){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||Kl[i]===t||Kl[i]||dv)return;Kl[i]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=yA().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{dv=!0,c()},S}function v(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=_A(s),I=n("text"),U=document.getElementById(I)||document.createElement("span"),H=n("learnmore"),Y=document.getElementById(H)||document.createElement("a"),lt=n("preprendIcon"),Z=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const at=S.element;m(at),v(Y,H);const ht=g();p(Z,lt),at.append(Z,U,Y,ht),document.body.appendChild(at)}u?(U.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function EA(){const i=sf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function wA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SA(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function AA(){return!EA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xA(){try{return typeof indexedDB=="object"}catch{return!1}}function RA(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const NA="FirebaseError";class Tr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=NA,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?CA(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Tr(o,m,s)}}function CA(i,t){return i.replace(IA,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const IA=/\{\$([^}]+)}/g;function DA(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function la(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],c=t[o];if(mv(u)&&mv(c)){if(!la(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function mv(i){return i!==null&&typeof i=="object"}function Eu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function zl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Bl(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function OA(i,t){const n=new MA(i,t);return n.subscribe.bind(n)}class MA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");VA(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Mm),o.error===void 0&&(o.error=Mm),o.complete===void 0&&(o.complete=Mm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VA(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Mm(){}function Je(i){return i&&i._delegate?i._delegate:i}class ua{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const na="[DEFAULT]";class kA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new pA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PA(t))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=na){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=na){return this.instances.has(t)}getOptions(t=na){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=na){return this.component?this.component.multipleInstances?t:na:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LA(i){return i===na?void 0:i}function PA(i){return i.instantiationMode==="EAGER"}class UA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new kA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var jt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(jt||(jt={}));const jA={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},zA=jt.INFO,BA={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},qA=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=BA[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pp{constructor(t){this.name=t,this._logLevel=zA,this._logHandler=qA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const HA=(i,t)=>t.some(n=>i instanceof n);let pv,gv;function FA(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GA(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bT=new WeakMap,Jm=new WeakMap,wT=new WeakMap,Vm=new WeakMap,Up=new WeakMap;function $A(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(fs(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&bT.set(n,i)}).catch(()=>{}),Up.set(t,i),t}function QA(i){if(Jm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Jm.set(i,t)}let Wm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Jm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||wT.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function YA(i){Wm=i(Wm)}function KA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(km(this),t,...n);return wT.set(s,t.sort?t.sort():[t]),fs(s)}:GA().includes(i)?function(...t){return i.apply(km(this),t),fs(bT.get(this))}:function(...t){return fs(i.apply(km(this),t))}}function XA(i){return typeof i=="function"?KA(i):(i instanceof IDBTransaction&&QA(i),HA(i,FA())?new Proxy(i,Wm):i)}function fs(i){if(i instanceof IDBRequest)return $A(i);if(Vm.has(i))return Vm.get(i);const t=XA(i);return t!==i&&(Vm.set(i,t),Up.set(t,i)),t}const km=i=>Up.get(i);function ZA(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),m=fs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(fs(c.result),p.oldVersion,p.newVersion,fs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const JA=["get","getKey","getAll","getAllKeys","count"],WA=["put","add","delete","clear"],Lm=new Map;function yv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Lm.get(t))return Lm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=WA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JA.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Lm.set(t,u),u}YA(i=>({...i,get:(t,n,s)=>yv(t,n)||i.get(t,n,s),has:(t,n)=>!!yv(t,n)||i.has(t,n)}));class tx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ex(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ex(i){return i.getComponent()?.type==="VERSION"}const tp="@firebase/app",_v="0.14.6";const gr=new Pp("@firebase/app"),nx="@firebase/app-compat",ix="@firebase/analytics-compat",rx="@firebase/analytics",sx="@firebase/app-check-compat",ax="@firebase/app-check",ox="@firebase/auth",lx="@firebase/auth-compat",ux="@firebase/database",cx="@firebase/data-connect",hx="@firebase/database-compat",fx="@firebase/functions",dx="@firebase/functions-compat",mx="@firebase/installations",px="@firebase/installations-compat",gx="@firebase/messaging",yx="@firebase/messaging-compat",_x="@firebase/performance",vx="@firebase/performance-compat",Ex="@firebase/remote-config",Tx="@firebase/remote-config-compat",bx="@firebase/storage",wx="@firebase/storage-compat",Sx="@firebase/firestore",Ax="@firebase/ai",xx="@firebase/firestore-compat",Rx="firebase",Nx="12.6.0";const ep="[DEFAULT]",Cx={[tp]:"fire-core",[nx]:"fire-core-compat",[rx]:"fire-analytics",[ix]:"fire-analytics-compat",[ax]:"fire-app-check",[sx]:"fire-app-check-compat",[ox]:"fire-auth",[lx]:"fire-auth-compat",[ux]:"fire-rtdb",[cx]:"fire-data-connect",[hx]:"fire-rtdb-compat",[fx]:"fire-fn",[dx]:"fire-fn-compat",[mx]:"fire-iid",[px]:"fire-iid-compat",[gx]:"fire-fcm",[yx]:"fire-fcm-compat",[_x]:"fire-perf",[vx]:"fire-perf-compat",[Ex]:"fire-rc",[Tx]:"fire-rc-compat",[bx]:"fire-gcs",[wx]:"fire-gcs-compat",[Sx]:"fire-fst",[xx]:"fire-fst-compat",[Ax]:"fire-vertex","fire-js":"fire-js",[Rx]:"fire-js-all"};const nu=new Map,Ix=new Map,np=new Map;function vv(i,t){try{i.container.addComponent(t)}catch(n){gr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function yo(i){const t=i.name;if(np.has(t))return gr.debug(`There were multiple attempts to register component ${t}.`),!1;np.set(t,i);for(const n of nu.values())vv(n,i);for(const n of Ix.values())vv(n,i);return!0}function jp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function Fn(i){return i==null?!1:i.settings!==void 0}const Dx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new vu("app","Firebase",Dx);class Ox{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}const Co=Nx;function ST(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:ep,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(n||(n=_T()),!n)throw ds.create("no-options");const u=nu.get(o);if(u){if(la(n,u.options)&&la(s,u.config))return u;throw ds.create("duplicate-app",{appName:o})}const c=new UA(o);for(const p of np.values())c.addComponent(p);const m=new Ox(n,s,c);return nu.set(o,m),m}function AT(i=ep){const t=nu.get(i);if(!t&&i===ep&&_T())return ST();if(!t)throw ds.create("no-app",{appName:i});return t}function Ev(){return Array.from(nu.values())}function ms(i,t,n){let s=Cx[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gr.warn(c.join(" "));return}yo(new ua(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Mx="firebase-heartbeat-database",Vx=1,iu="firebase-heartbeat-store";let Pm=null;function xT(){return Pm||(Pm=ZA(Mx,Vx,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ds.create("idb-open",{originalErrorMessage:i.message})})),Pm}async function kx(i){try{const n=(await xT()).transaction(iu),s=await n.objectStore(iu).get(RT(i));return await n.done,s}catch(t){if(t instanceof Tr)gr.warn(t.message);else{const n=ds.create("idb-get",{originalErrorMessage:t?.message});gr.warn(n.message)}}}async function Tv(i,t){try{const s=(await xT()).transaction(iu,"readwrite");await s.objectStore(iu).put(t,RT(i)),await s.done}catch(n){if(n instanceof Tr)gr.warn(n.message);else{const s=ds.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function RT(i){return`${i.name}!${i.options.appId}`}const Lx=1024,Px=30;class Ux{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Px){const o=Bx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){gr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bv(),{heartbeatsToSend:n,unsentEntries:s}=jx(this._heartbeatsCache.heartbeats),o=Oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return gr.warn(t),""}}}function bv(){return new Date().toISOString().substring(0,10)}function jx(i,t=Lx){const n=[];let s=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),wv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),wv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class zx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xA()?RA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function wv(i){return Oh(JSON.stringify({version:2,heartbeats:i})).length}function Bx(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}function qx(i){yo(new ua("platform-logger",t=>new tx(t),"PRIVATE")),yo(new ua("heartbeat",t=>new Ux(t),"PRIVATE")),ms(tp,_v,i),ms(tp,_v,"esm2020"),ms("fire-js","")}qx("");var Hx="firebase",Fx="12.7.0";ms(Hx,Fx,"app");function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gx=NT,CT=new vu("auth","Firebase",NT());const Mh=new Pp("@firebase/auth");function $x(i,...t){Mh.logLevel<=jt.WARN&&Mh.warn(`Auth (${Co}): ${i}`,...t)}function _h(i,...t){Mh.logLevel<=jt.ERROR&&Mh.error(`Auth (${Co}): ${i}`,...t)}function ci(i,...t){throw zp(i,...t)}function Vi(i,...t){return zp(i,...t)}function IT(i,t,n){const s={...Gx(),[t]:n};return new vu("auth","Firebase",s).create(t,{appName:i.name})}function pr(i){return IT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return CT.create(i,...t)}function wt(i,t,...n){if(!i)throw zp(t,...n)}function dr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw _h(t),new Error(t)}function yr(i,t){i||dr(t)}function ip(){return typeof self<"u"&&self.location?.href||""}function Qx(){return Sv()==="http:"||Sv()==="https:"}function Sv(){return typeof self<"u"&&self.location?.protocol||null}function Yx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qx()||bA()||"connection"in navigator)?navigator.onLine:!0}function Kx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Tu{constructor(t,n){this.shortDelay=t,this.longDelay=n,yr(n>t,"Short delay should be less than long delay!"),this.isMobile=vA()||wA()}get(){return Yx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bp(i,t){yr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class DT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Zx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jx=new Tu(3e4,6e4);function br(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function wr(i,t,n,s,o={}){return OT(i,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const m=Eu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return TA()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&No(i.emulatorConfig.host)&&(g.credentials="include"),DT.fetch()(await MT(i,i.config.apiHost,n,m),g)})}async function OT(i,t,n){i._canInitEmulator=!1;const s={...Xx,...t};try{const o=new t2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw ah(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ah(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw ah(i,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw IT(i,v,g);ci(i,v)}}catch(o){if(o instanceof Tr)throw o;ci(i,"network-request-failed",{message:String(o)})}}async function bu(i,t,n,s,o={}){const u=await wr(i,t,n,s,o);return"mfaPendingCredential"in u&&ci(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function MT(i,t,n,s){const o=`${t}${n}?${s}`,u=i,c=u.config.emulator?Bp(i.config,o):`${i.config.apiScheme}://${o}`;return Zx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function Wx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class t2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Vi(this.auth,"network-request-failed")),Jx.get())})}}function ah(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Vi(i,t,s);return o.customData._tokenResponse=n,o}function Av(i){return i!==void 0&&i.enterprise!==void 0}class e2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Wx(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n2(i,t){return wr(i,"GET","/v2/recaptchaConfig",br(i,t))}async function i2(i,t){return wr(i,"POST","/v1/accounts:delete",t)}async function Vh(i,t){return wr(i,"POST","/v1/accounts:lookup",t)}function Xl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function r2(i,t=!1){const n=Je(i),s=await n.getIdToken(t),o=qp(s);wt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Xl(Um(o.auth_time)),issuedAtTime:Xl(Um(o.iat)),expirationTime:Xl(Um(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Um(i){return Number(i)*1e3}function qp(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=gT(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o?.toString()),null}}function xv(i){const t=qp(i);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ru(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Tr&&s2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function s2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class a2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kh(i){const t=i.auth,n=await i.getIdToken(),s=await ru(i,Vh(t,{idToken:n}));wt(s?.users.length,t,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?VT(o.providerUserInfo):[],c=l2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function o2(i){const t=Je(i);await kh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function l2(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function VT(i){return i.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function u2(i,t){const n=await OT(i,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await MT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&No(i.emulatorConfig.host)&&(p.credentials="include"),DT.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c2(i,t){return wr(i,"POST","/v2/accounts:revokeToken",br(i,t))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):xv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const n=xv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await u2(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new co;return s&&(wt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(wt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(wt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return dr("not implemented")}}function ss(i,t){wt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new a2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await ru(this,this.stsTokenManager.getToken(this.auth,t));return wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return r2(this,t)}reload(){return o2(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(pr(this.auth));const t=await this.getIdToken();return await ru(this,i2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:I,providerData:U,stsTokenManager:H}=n;wt(b&&H,t,"internal-error");const Y=co.fromJSON(this.name,H);wt(typeof b=="string",t,"internal-error"),ss(s,t.name),ss(o,t.name),wt(typeof S=="boolean",t,"internal-error"),wt(typeof I=="boolean",t,"internal-error"),ss(u,t.name),ss(c,t.name),ss(m,t.name),ss(p,t.name),ss(g,t.name),ss(v,t.name);const lt=new ai({uid:b,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:I,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:Y,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(lt.providerData=U.map(Z=>({...Z}))),p&&(lt._redirectEventId=p),lt}static async _fromIdTokenResponse(t,n,s=!1){const o=new co;o.updateFromServerResponse(n);const u=new ai({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await kh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];wt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?VT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new co;m.updateFromIdToken(s);const p=new ai({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const Rv=new Map;function mr(i){yr(i instanceof Function,"Expected a class definition");let t=Rv.get(i);return t?(yr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,Rv.set(i,t),t)}class kT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}kT.type="NONE";const Nv=kT;function vh(i,t,n){return`firebase:${i}:${t}:${n}`}class ho{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Vh(this.auth,{idToken:t}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ho(mr(Nv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||mr(Nv);const c=vh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const S=await Vh(t,{idToken:v}).catch(()=>{});if(!S)break;b=await ai._fromGetAccountInfoResponse(t,S,v)}else b=ai._fromJSON(t,v);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ho(u,t,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new ho(u,t,s))}}function Cv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(LT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BT(t))return"Blackberry";if(qT(t))return"Webos";if(PT(t))return"Safari";if((t.includes("chrome/")||UT(t))&&!t.includes("edge/"))return"Chrome";if(zT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function LT(i=sn()){return/firefox\//i.test(i)}function PT(i=sn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UT(i=sn()){return/crios\//i.test(i)}function jT(i=sn()){return/iemobile/i.test(i)}function zT(i=sn()){return/android/i.test(i)}function BT(i=sn()){return/blackberry/i.test(i)}function qT(i=sn()){return/webos/i.test(i)}function Hp(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function h2(i=sn()){return Hp(i)&&!!window.navigator?.standalone}function f2(){return SA()&&document.documentMode===10}function HT(i=sn()){return Hp(i)||zT(i)||qT(i)||BT(i)||/windows phone/i.test(i)||jT(i)}function FT(i,t=[]){let n;switch(i){case"Browser":n=Cv(sn());break;case"Worker":n=`${Cv(sn())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${s}`}class d2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function m2(i,t={}){return wr(i,"GET","/v2/passwordPolicy",br(i,t))}const p2=6;class g2{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??p2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class y2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iv(this),this.idTokenSubscription=new Iv(this),this.beforeStateQueue=new d2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Vh(this,{idToken:t}),s=await ai._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Fn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await kh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Kx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Fn(this.app))return Promise.reject(pr(this));const n=t?Je(t):null;return n&&wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Fn(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await m2(this),n=new g2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new vu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await c2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&mr(t)||this._popupRedirectResolver;wt(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&$x(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ws(i){return Je(i)}class Iv{constructor(t){this.auth=t,this.observer=null,this.addObserver=OA(n=>this.observer=n)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _2(i){af=i}function GT(i){return af.loadJS(i)}function v2(){return af.recaptchaEnterpriseScript}function E2(){return af.gapiScript}function T2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class b2{constructor(){this.enterprise=new w2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class w2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const S2="recaptcha-enterprise",$T="NO_RECAPTCHA";class A2{constructor(t){this.type=S2,this.auth=ws(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{n2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new e2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;Av(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{c(g)}).catch(()=>{c($T)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new b2().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(m=>{if(!n&&Av(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=v2();p.length!==0&&(p+=m),GT(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function Dv(i,t,n,s=!1,o=!1){const u=new A2(i);let c;if(o)c=$T;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Lh(i,t,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Dv(i,t,n,n==="getOobCode");return s(i,u)}else return s(i,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Dv(i,t,n,n==="getOobCode");return s(i,c)}else return Promise.reject(u)})}function x2(i,t){const n=jp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(la(u,t??{}))return o;ci(o,"already-initialized")}return n.initialize({options:t})}function R2(i,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(mr);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function N2(i,t,n){const s=ws(i);wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=QT(t),{host:c,port:m}=C2(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(la(g,s.config.emulator)&&la(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,No(c)?(ET(`${u}//${c}${p}`),TT("Auth",!0)):I2()}function QT(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function C2(i){const t=QT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Ov(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:Ov(c)}}}function Ov(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function I2(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Fp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(t){return dr("not implemented")}_linkToIdToken(t,n){return dr("not implemented")}_getReauthenticationResolver(t){return dr("not implemented")}}async function D2(i,t){return wr(i,"POST","/v1/accounts:signUp",t)}async function O2(i,t){return bu(i,"POST","/v1/accounts:signInWithPassword",br(i,t))}async function M2(i,t){return wr(i,"POST","/v1/accounts:sendOobCode",br(i,t))}async function V2(i,t){return M2(i,t)}async function k2(i,t){return bu(i,"POST","/v1/accounts:signInWithEmailLink",br(i,t))}async function L2(i,t){return bu(i,"POST","/v1/accounts:signInWithEmailLink",br(i,t))}class su extends Fp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new su(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new su(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(t,n,"signInWithPassword",O2);case"emailLink":return k2(t,{email:this._email,oobCode:this._password});default:ci(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(t,s,"signUpPassword",D2);case"emailLink":return L2(t,{idToken:n,email:this._email,oobCode:this._password});default:ci(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function fo(i,t){return bu(i,"POST","/v1/accounts:signInWithIdp",br(i,t))}const P2="http://localhost";class ca extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new ca(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return fo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,fo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,fo(t,n)}buildRequest(){const t={requestUri:P2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Eu(n)}return t}}function U2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j2(i){const t=zl(Bl(i)).link,n=t?zl(Bl(t)).deep_link_id:null,s=zl(Bl(i)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||n||t||i}class Gp{constructor(t){const n=zl(Bl(t)),s=n.apiKey??null,o=n.oobCode??null,u=U2(n.mode??null);wt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=j2(t);try{return new Gp(n)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(t,n){return su._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Gp.parseLink(n);return wt(s,"argument-error"),su._fromEmailAndCode(t,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class YT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class wu extends YT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class os extends wu{constructor(){super("facebook.com")}static credential(t){return ca._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return os.credential(t.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";class ls extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ca._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";class us extends wu{constructor(){super("github.com")}static credential(t){return ca._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";class cs extends wu{constructor(){super("twitter.com")}static credential(t,n){return ca._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";async function z2(i,t){return bu(i,"POST","/v1/accounts:signUp",br(i,t))}class ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ai._fromIdTokenResponse(t,s,o),c=Mv(s);return new ha({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Mv(s);return new ha({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Mv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Ph extends Tr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Ph(t,n,s,o)}}function KT(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(i,u,t,s):u})}async function B2(i,t,n=!1){const s=await ru(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return ha._forOperation(i,"link",s)}async function q2(i,t,n=!1){const{auth:s}=i;if(Fn(s.app))return Promise.reject(pr(s));const o="reauthenticate";try{const u=await ru(i,KT(s,o,t,i),n);wt(u.idToken,s,"internal-error");const c=qp(u.idToken);wt(c,s,"internal-error");const{sub:m}=c;return wt(i.uid===m,s,"user-mismatch"),ha._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ci(s,"user-mismatch"),u}}async function XT(i,t,n=!1){if(Fn(i.app))return Promise.reject(pr(i));const s="signIn",o=await KT(i,s,t),u=await ha._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function H2(i,t){return XT(ws(i),t)}async function ZT(i){const t=ws(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function F2(i,t,n){const s=ws(i);await Lh(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",V2)}async function G2(i,t,n){if(Fn(i.app))return Promise.reject(pr(i));const s=ws(i),c=await Lh(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",z2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ZT(i),p}),m=await ha._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function $2(i,t,n){return Fn(i.app)?Promise.reject(pr(i)):H2(Je(i),Io.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ZT(i),s})}function Q2(i,t,n,s){return Je(i).onIdTokenChanged(t,n,s)}function Y2(i,t,n){return Je(i).beforeAuthStateChanged(t,n)}function K2(i,t,n,s){return Je(i).onAuthStateChanged(t,n,s)}function X2(i){return Je(i).signOut()}const Uh="__sak";class JT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Z2=1e3,J2=10;class WT extends JT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);f2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,J2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},Z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}WT.type="LOCAL";const W2=WT;class tb extends JT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}tb.type="SESSION";const eb=tb;function tR(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class of{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new of(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await tR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];function $p(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}class eR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=$p("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ki(){return window}function nR(i){ki().location.href=i}function nb(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function iR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rR(){return navigator?.serviceWorker?.controller||null}function sR(){return nb()?self:null}const ib="firebaseLocalStorageDb",aR=1,jh="firebaseLocalStorage",rb="fbase_key";class Su{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lf(i,t){return i.transaction([jh],t?"readwrite":"readonly").objectStore(jh)}function oR(){const i=indexedDB.deleteDatabase(ib);return new Su(i).toPromise()}function sp(){const i=indexedDB.open(ib,aR);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(jh,{keyPath:rb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(jh)?t(s):(s.close(),await oR(),t(await sp()))})})}async function Vv(i,t,n){const s=lf(i,!0).put({[rb]:t,value:n});return new Su(s).toPromise()}async function lR(i,t){const n=lf(i,!1).get(t),s=await new Su(n).toPromise();return s===void 0?null:s.value}function kv(i,t){const n=lf(i,!0).delete(t);return new Su(n).toPromise()}const uR=800,cR=3;class sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>cR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(sR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iR(),!this.activeServiceWorker)return;this.sender=new eR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sp();return await Vv(t,Uh,"1"),await kv(t,Uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Vv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>lR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=lf(o,!1).getAll();return new Su(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sb.type="LOCAL";const hR=sb;new Tu(3e4,6e4);function fR(i,t){return t?mr(t):(wt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Qp extends Fp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return fo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return fo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function dR(i){return XT(i.auth,new Qp(i),i.bypassAuthState)}function mR(i){const{auth:t,user:n}=i;return wt(n,t,"internal-error"),q2(n,new Qp(i),i.bypassAuthState)}async function pR(i){const{auth:t,user:n}=i;return wt(n,t,"internal-error"),B2(n,new Qp(i),i.bypassAuthState)}class ab{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dR;case"linkViaPopup":case"linkViaRedirect":return pR;case"reauthViaPopup":case"reauthViaRedirect":return mR;default:ci(this.auth,"internal-error")}}resolve(t){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gR=new Tu(2e3,1e4);class uo extends ab{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const t=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gR.get())};t()}}uo.currentPopupAction=null;const yR="pendingRedirect",Eh=new Map;class _R extends ab{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Eh.get(this.auth._key());if(!t){try{const s=await vR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Eh.set(this.auth._key(),t)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vR(i,t){const n=bR(t),s=TR(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ER(i,t){Eh.set(i._key(),t)}function TR(i){return mr(i._redirectPersistence)}function bR(i){return vh(yR,i.config.apiKey,i.name)}async function wR(i,t,n=!1){if(Fn(i.app))return Promise.reject(pr(i));const s=ws(i),o=fR(s,t),c=await new _R(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const SR=600*1e3;class AR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!ob(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Vi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=SR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lv(t))}saveEventToCache(t){this.cachedEventUids.add(Lv(t)),this.lastProcessedEventTime=Date.now()}}function Lv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function ob({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function xR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ob(i);default:return!1}}async function RR(i,t={}){return wr(i,"GET","/v1/projects",t)}const NR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CR=/^https?/;async function IR(i){if(i.config.emulator)return;const{authorizedDomains:t}=await RR(i);for(const n of t)try{if(DR(n))return}catch{}ci(i,"unauthorized-domain")}function DR(i){const t=ip(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!CR.test(n))return!1;if(NR.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const OR=new Tu(3e4,6e4);function Pv(){const i=ki().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function MR(i){return new Promise((t,n)=>{function s(){Pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Pv(),n(Vi(i,"network-request-failed"))},timeout:OR.get()})}if(ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ki().gapi?.load)s();else{const o=T2("iframefcb");return ki()[o]=()=>{gapi.load?s():n(Vi(i,"network-request-failed"))},GT(`${E2()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Th=null,t})}let Th=null;function VR(i){return Th=Th||MR(i),Th}const kR=new Tu(5e3,15e3),LR="__/auth/iframe",PR="emulator/auth/iframe",UR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zR(i){const t=i.config;wt(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Bp(t,PR):`https://${i.config.authDomain}/${LR}`,s={apiKey:t.apiKey,appName:i.name,v:Co},o=jR.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Eu(s).slice(1)}`}async function BR(i){const t=await VR(i),n=ki().gapi;return wt(n,i,"internal-error"),t.open({where:document.body,url:zR(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Vi(i,"network-request-failed"),m=ki().setTimeout(()=>{u(c)},kR.get());function p(){ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const qR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HR=500,FR=600,GR="_blank",$R="http://localhost";class Uv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QR(i,t,n,s=HR,o=FR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...qR,width:s.toString(),height:o.toString(),top:u,left:c},g=sn().toLowerCase();n&&(m=UT(g)?GR:n),LT(g)&&(t=t||$R,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[I,U])=>`${S}${I}=${U},`,"");if(h2(g)&&m!=="_self")return YR(t||"",m),new Uv(null);const b=window.open(t||"",m,v);wt(b,i,"popup-blocked");try{b.focus()}catch{}return new Uv(b)}function YR(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const KR="__/auth/handler",XR="emulator/auth/handler",ZR=encodeURIComponent("fac");async function jv(i,t,n,s,o,u){wt(i.config.authDomain,i,"auth-domain-config-required"),wt(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Co,eventId:o};if(t instanceof YT){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",DA(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(t instanceof wu){const v=t.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${ZR}=${encodeURIComponent(p)}`:"";return`${JR(i)}?${Eu(m).slice(1)}${g}`}function JR({config:i}){return i.emulator?Bp(i,XR):`https://${i.authDomain}/${KR}`}const jm="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eb,this._completeRedirectFn=wR,this._overrideRedirectResult=ER}async _openPopup(t,n,s,o){yr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await jv(t,n,s,ip(),o);return QR(t,u,$p())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await jv(t,n,s,ip(),o);return nR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await BR(t),s=new AR(t);return n.register("authEvent",o=>(wt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(jm,{type:jm},o=>{const u=o?.[0]?.[jm];u!==void 0&&n(!!u),ci(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return HT()||PT()||Hp()}}const tN=WR;var zv="@firebase/auth",Bv="1.12.0";class eN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iN(i){yo(new ua("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(i)},g=new y2(s,o,u,p);return R2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),yo(new ua("auth-internal",t=>{const n=ws(t.getProvider("auth").getImmediate());return(s=>new eN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(zv,Bv,nN(i)),ms(zv,Bv,"esm2020")}const rN=300,sN=vT("authIdTokenMaxAge")||rN;let qv=null;const aN=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sN)return;const o=n?.token;qv!==o&&(qv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function oN(i=AT()){const t=jp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=x2(i,{popupRedirectResolver:tN,persistence:[hR,W2,eb]}),s=vT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=aN(u.toString());Y2(n,c,()=>c(n.currentUser)),Q2(n,m=>c(m))}}const o=yT("auth");return o&&N2(n,`http://${o}`),n}function lN(){return document.getElementsByTagName("head")?.[0]??document}_2({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Vi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",lN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iN("Browser");var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ps,lb;(function(){var i;function t(N,x){function C(){}C.prototype=x.prototype,N.F=x.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(O,D,L){for(var R=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)R[yt-2]=arguments[yt];return x.prototype[D].apply(O,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,C){C||(C=0);const O=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)O[D]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(D=0;D<16;++D)O[D]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=N.g[0],C=N.g[1],D=N.g[2];let L=N.g[3],R;R=x+(L^C&(D^L))+O[0]+3614090360&4294967295,x=C+(R<<7&4294967295|R>>>25),R=L+(D^x&(C^D))+O[1]+3905402710&4294967295,L=x+(R<<12&4294967295|R>>>20),R=D+(C^L&(x^C))+O[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(x^D&(L^x))+O[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=x+(L^C&(D^L))+O[4]+4118548399&4294967295,x=C+(R<<7&4294967295|R>>>25),R=L+(D^x&(C^D))+O[5]+1200080426&4294967295,L=x+(R<<12&4294967295|R>>>20),R=D+(C^L&(x^C))+O[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(x^D&(L^x))+O[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=x+(L^C&(D^L))+O[8]+1770035416&4294967295,x=C+(R<<7&4294967295|R>>>25),R=L+(D^x&(C^D))+O[9]+2336552879&4294967295,L=x+(R<<12&4294967295|R>>>20),R=D+(C^L&(x^C))+O[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(x^D&(L^x))+O[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=x+(L^C&(D^L))+O[12]+1804603682&4294967295,x=C+(R<<7&4294967295|R>>>25),R=L+(D^x&(C^D))+O[13]+4254626195&4294967295,L=x+(R<<12&4294967295|R>>>20),R=D+(C^L&(x^C))+O[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=C+(x^D&(L^x))+O[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=x+(D^L&(C^D))+O[1]+4129170786&4294967295,x=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(x^C))+O[6]+3225465664&4294967295,L=x+(R<<9&4294967295|R>>>23),R=D+(x^C&(L^x))+O[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^x&(D^L))+O[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=x+(D^L&(C^D))+O[5]+3593408605&4294967295,x=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(x^C))+O[10]+38016083&4294967295,L=x+(R<<9&4294967295|R>>>23),R=D+(x^C&(L^x))+O[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^x&(D^L))+O[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=x+(D^L&(C^D))+O[9]+568446438&4294967295,x=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(x^C))+O[14]+3275163606&4294967295,L=x+(R<<9&4294967295|R>>>23),R=D+(x^C&(L^x))+O[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^x&(D^L))+O[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=x+(D^L&(C^D))+O[13]+2850285829&4294967295,x=C+(R<<5&4294967295|R>>>27),R=L+(C^D&(x^C))+O[2]+4243563512&4294967295,L=x+(R<<9&4294967295|R>>>23),R=D+(x^C&(L^x))+O[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=C+(L^x&(D^L))+O[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=x+(C^D^L)+O[5]+4294588738&4294967295,x=C+(R<<4&4294967295|R>>>28),R=L+(x^C^D)+O[8]+2272392833&4294967295,L=x+(R<<11&4294967295|R>>>21),R=D+(L^x^C)+O[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^x)+O[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=x+(C^D^L)+O[1]+2763975236&4294967295,x=C+(R<<4&4294967295|R>>>28),R=L+(x^C^D)+O[4]+1272893353&4294967295,L=x+(R<<11&4294967295|R>>>21),R=D+(L^x^C)+O[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^x)+O[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=x+(C^D^L)+O[13]+681279174&4294967295,x=C+(R<<4&4294967295|R>>>28),R=L+(x^C^D)+O[0]+3936430074&4294967295,L=x+(R<<11&4294967295|R>>>21),R=D+(L^x^C)+O[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^x)+O[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=x+(C^D^L)+O[9]+3654602809&4294967295,x=C+(R<<4&4294967295|R>>>28),R=L+(x^C^D)+O[12]+3873151461&4294967295,L=x+(R<<11&4294967295|R>>>21),R=D+(L^x^C)+O[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=C+(D^L^x)+O[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=x+(D^(C|~L))+O[0]+4096336452&4294967295,x=C+(R<<6&4294967295|R>>>26),R=L+(C^(x|~D))+O[7]+1126891415&4294967295,L=x+(R<<10&4294967295|R>>>22),R=D+(x^(L|~C))+O[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~x))+O[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=x+(D^(C|~L))+O[12]+1700485571&4294967295,x=C+(R<<6&4294967295|R>>>26),R=L+(C^(x|~D))+O[3]+2399980690&4294967295,L=x+(R<<10&4294967295|R>>>22),R=D+(x^(L|~C))+O[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~x))+O[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=x+(D^(C|~L))+O[8]+1873313359&4294967295,x=C+(R<<6&4294967295|R>>>26),R=L+(C^(x|~D))+O[15]+4264355552&4294967295,L=x+(R<<10&4294967295|R>>>22),R=D+(x^(L|~C))+O[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~x))+O[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=x+(D^(C|~L))+O[4]+4149444226&4294967295,x=C+(R<<6&4294967295|R>>>26),R=L+(C^(x|~D))+O[11]+3174756917&4294967295,L=x+(R<<10&4294967295|R>>>22),R=D+(x^(L|~C))+O[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=C+(L^(D|~x))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,x){x===void 0&&(x=N.length);const C=x-this.blockSize,O=this.C;let D=this.h,L=0;for(;L<x;){if(D==0)for(;L<=C;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<x;)if(O[D++]=N.charCodeAt(L++),D==this.blockSize){o(this,O),D=0;break}}else for(;L<x;)if(O[D++]=N[L++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=x},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)N[x++]=this.g[C]>>>O&255;return N};function u(N,x){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=x(N)}function c(N,x){this.h=x;const C=[];let O=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;O&&L==x||(C[D]=L,O=!1)}this.g=C}var m={};function p(N){return-128<=N&&N<128?u(N,function(x){return new c([x|0],x<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return Y(g(-N));const x=[];let C=1;for(let O=0;N>=C;O++)x[O]=N/C|0,C*=4294967296;return new c(x,0)}function v(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return Y(v(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(x,8));let O=b;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+D),x);D<8?(D=g(Math.pow(x,D)),O=O.j(D).add(g(R))):(O=O.j(C),O=O.add(g(R)))}return O}var b=p(0),S=p(1),I=p(16777216);i=c.prototype,i.m=function(){if(H(this))return-Y(this).m();let N=0,x=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);N+=(O>=0?O:4294967296+O)*x,x*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(U(this))return"0";if(H(this))return"-"+Y(this).toString(N);const x=g(Math.pow(N,6));var C=this;let O="";for(;;){const D=ht(C,x).g;C=lt(C,D.j(x));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,U(C))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function U(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function H(N){return N.h==-1}i.l=function(N){return N=lt(this,N),H(N)?-1:U(N)?0:1};function Y(N){const x=N.g.length,C=[];for(let O=0;O<x;O++)C[O]=~N.g[O];return new c(C,~N.h).add(S)}i.abs=function(){return H(this)?Y(this):this},i.add=function(N){const x=Math.max(this.g.length,N.g.length),C=[];let O=0;for(let D=0;D<=x;D++){let L=O+(this.i(D)&65535)+(N.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);O=R>>>16,L&=65535,R&=65535,C[D]=R<<16|L}return new c(C,C[C.length-1]&-2147483648?-1:0)};function lt(N,x){return N.add(Y(x))}i.j=function(N){if(U(this)||U(N))return b;if(H(this))return H(N)?Y(this).j(Y(N)):Y(Y(this).j(N));if(H(N))return Y(this.j(Y(N)));if(this.l(I)<0&&N.l(I)<0)return g(this.m()*N.m());const x=this.g.length+N.g.length,C=[];for(var O=0;O<2*x;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<N.g.length;D++){const L=this.i(O)>>>16,R=this.i(O)&65535,yt=N.i(D)>>>16,X=N.i(D)&65535;C[2*O+2*D]+=R*X,Z(C,2*O+2*D),C[2*O+2*D+1]+=L*X,Z(C,2*O+2*D+1),C[2*O+2*D+1]+=R*yt,Z(C,2*O+2*D+1),C[2*O+2*D+2]+=L*yt,Z(C,2*O+2*D+2)}for(N=0;N<x;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=x;N<2*x;N++)C[N]=0;return new c(C,0)};function Z(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function at(N,x){this.g=N,this.h=x}function ht(N,x){if(U(x))throw Error("division by zero");if(U(N))return new at(b,b);if(H(N))return x=ht(Y(N),x),new at(Y(x.g),Y(x.h));if(H(x))return x=ht(N,Y(x)),new at(Y(x.g),x.h);if(N.g.length>30){if(H(N)||H(x))throw Error("slowDivide_ only works with positive integers.");for(var C=S,O=x;O.l(N)<=0;)C=K(C),O=K(O);var D=ot(C,1),L=ot(O,1);for(O=ot(O,2),C=ot(C,2);!U(O);){var R=L.add(O);R.l(N)<=0&&(D=D.add(C),L=R),O=ot(O,1),C=ot(C,1)}return x=lt(N,D.j(x)),new at(D,x)}for(D=b;N.l(x)>=0;){for(C=Math.max(1,Math.floor(N.m()/x.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=g(C),R=L.j(x);H(R)||R.l(N)>0;)C-=O,L=g(C),R=L.j(x);U(L)&&(L=S),D=D.add(L),N=lt(N,R)}return new at(D,N)}i.B=function(N){return ht(this,N).h},i.and=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)&N.i(O);return new c(C,this.h&N.h)},i.or=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)|N.i(O);return new c(C,this.h|N.h)},i.xor=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<x;O++)C[O]=this.i(O)^N.i(O);return new c(C,this.h^N.h)};function K(N){const x=N.g.length+1,C=[];for(let O=0;O<x;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new c(C,N.h)}function ot(N,x){const C=x>>5;x%=32;const O=N.g.length-C,D=[];for(let L=0;L<O;L++)D[L]=x>0?N.i(L+C)>>>x|N.i(L+C+1)<<32-x:N.i(L+C);return new c(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,ps=c}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ub,ql,cb,bh,ap,hb,fb,db;(function(){var i,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)t:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var z=h[A];if(!(z in E))break t;E=E[z]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function b(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,z,$){for(var ct=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)ct[Ot-2]=arguments[Ot];return y.prototype[z].apply(A,ct)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function U(h,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=h.length||0;const $=z.length||0;h.length=E+$;for(let ct=0;ct<$;ct++)h[E+ct]=z[ct]}else h.push(z)}}class H{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(h){c.setTimeout(()=>{throw h},0)}function lt(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Z{constructor(){this.h=this.g=null}add(y,E){const A=at.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var at=new H(()=>new ht,h=>h.reset());class ht{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ot=!1,N=new Z,x=()=>{const h=Promise.resolve(void 0);K=()=>{h.then(C)}};function C(){for(var h;h=lt();){try{h.h.call(h.g)}catch(E){Y(E)}var y=at;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ot=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function yt(h,y){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}b(yt,D),yt.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&yt.Z.h.call(this)},yt.prototype.h=function(){yt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),P=0;function G(h,y,E,A,z){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=z,this.key=++P,this.da=this.fa=!1}function et(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function it(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function dt(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function V(h){const y={};for(const E in h)y[E]=h[E];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,y){let E,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(E in A)h[E]=A[E];for(let $=0;$<W.length;$++)E=W[$],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,y,E,A,z){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const ct=At(h,y,A,z);return ct>-1?(y=h[ct],E||(y.fa=!1)):(y=new G(y,this.src,$,!!A,z),y.fa=E,h.push(y)),y};function Et(h,y){const E=y.type;if(E in h.g){var A=h.g[E],z=Array.prototype.indexOf.call(A,y,void 0),$;($=z>=0)&&Array.prototype.splice.call(A,z,1),$&&(et(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function At(h,y,E,A){for(let z=0;z<h.length;++z){const $=h[z];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==A)return z}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),ce={};function ie(h,y,E,A,z){if(Array.isArray(y)){for(let $=0;$<y.length;$++)ie(h,y[$],E,A,z);return null}return E=xs(E),h&&h[X]?h.J(y,E,m(A)?!!A.capture:!1,z):Fi(h,y,E,!1,A,z)}function Fi(h,y,E,A,z,$){if(!y)throw Error("Invalid event type");const ct=m(z)?!!z.capture:!!z;let Ot=Cn(h);if(Ot||(h[xt]=Ot=new ft(h)),E=Ot.add(y,E,A,ct,$),E.proxy)return E;if(A=Sr(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)L||(z=ct),z===void 0&&(z=!1),h.addEventListener(y.toString(),A,z);else if(h.attachEvent)h.attachEvent(Nt(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Sr(){function h(E){return y.call(h.src,h.listener,E)}const y=ye;return h}function $n(h,y,E,A,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)$n(h,y[$],E,A,z);else A=m(A)?!!A.capture:!!A,E=xs(E),h&&h[X]?(h=h.i,$=String(y).toString(),$ in h.g&&(y=h.g[$],E=At(y,E,A,z),E>-1&&(et(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[$],h.h--)))):h&&(h=Cn(h))&&(y=h.g[y.toString()],h=-1,y&&(h=At(y,E,A,z)),(E=h>-1?y[h]:null)&&Ar(E))}function Ar(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[X])Et(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(Nt(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Cn(y))?(Et(E,h),E.h==0&&(E.src=null,y[xt]=null)):et(h)}}}function Nt(h){return h in ce?ce[h]:ce[h]="on"+h}function ye(h,y){if(h.da)h=!0;else{y=new yt(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&Ar(h),h=E.call(A,y)}return h}function Cn(h){return h=h[xt],h instanceof ft?h:null}var qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function xs(h){return typeof h=="function"?h:(h[qe]||(h[qe]=function(y){return h.handleEvent(y)}),h[qe])}function se(){O.call(this),this.i=new ft(this),this.M=this,this.G=null}b(se,O),se.prototype[X]=!0,se.prototype.removeEventListener=function(h,y,E,A){$n(this,h,y,E,A)};function Kt(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new D(y,h);else if(y instanceof D)y.target=y.target||h;else{var z=y;y=new D(A,h),ut(y,z)}z=!0;let $,ct;if(E)for(ct=E.length-1;ct>=0;ct--)$=y.g=E[ct],z=In($,A,!0,y)&&z;if($=y.g=h,z=In($,A,!0,y)&&z,z=In($,A,!1,y)&&z,E)for(ct=0;ct<E.length;ct++)$=y.g=E[ct],z=In($,A,!1,y)&&z}se.prototype.N=function(){if(se.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)et(E[A]);delete h.g[y],h.h--}}this.G=null},se.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},se.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function In(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let $=0;$<y.length;++$){const ct=y[$];if(ct&&!ct.da&&ct.capture==E){const Ot=ct.listener,ve=ct.ha||ct.src;ct.fa&&Et(h.i,ct),z=Ot.call(ve,A)!==!1&&z}}return z&&!A.defaultPrevented}function Rs(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Gi(h){h.g=Rs(()=>{h.g=null,h.i&&(h.i=!1,Gi(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class He extends O{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(h){O.call(this),this.h=h,this.g={}}b($i,O);var we=[];function xr(h){it(h.g,function(y,E){this.g.hasOwnProperty(E)&&Ar(y)},h),h.g={}}$i.prototype.N=function(){$i.Z.N.call(this),xr(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=c.JSON.stringify,If=c.JSON.parse,Ou=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Mu(){}function Vu(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){D.call(this,"d")}b(Fe,D);function Dn(){D.call(this,"c")}b(Dn,D);var _e={},ku=null;function _a(){return ku=ku||new se}_e.Ia="serverreachability";function Lu(h){D.call(this,_e.Ia,h)}b(Lu,D);function fi(h){const y=_a();Kt(y,new Lu(y))}_e.STAT_EVENT="statevent";function Ns(h,y){D.call(this,_e.STAT_EVENT,h),this.stat=y}b(Ns,D);function Se(h){const y=_a();Kt(y,new Ns(y,h))}_e.Ja="timingevent";function di(h,y){D.call(this,_e.Ja,h),this.size=y}b(di,D);function mi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Df(h,y,E,A,z,$){h.info(function(){if(h.g)if($){var ct="",Ot=$.split("&");for(let $t=0;$t<Ot.length;$t++){var ve=Ot[$t].split("=");if(ve.length>1){const he=ve[0];ve=ve[1];const kn=he.split("_");ct=kn.length>=2&&kn[1]=="type"?ct+(he+"="+ve+"&"):ct+(he+"=redacted&")}}}else ct=null;else ct=$;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+E+`
`+ct})}function Pu(h,y,E,A,z,$,ct){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+E+`
`+$+" "+ct})}function pi(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Of(h,E)+(A?" "+A:"")})}function Cs(h,y){h.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function Of(h,y){if(!h.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ct=1;ct<A.length;ct++)A[ct]=""}}}}return Rr($)}catch{return y}}var Is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function Ds(){}b(Ds,Mu),Ds.prototype.g=function(){return new XMLHttpRequest},Lo=new Ds;function Qi(h){return encodeURIComponent(String(h))}function Uu(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Kn(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new $i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Ae={},Ue={};function gi(h,y,E){h.M=1,h.A=Os(Re(y)),h.u=E,h.R=!0,va(h,null)}function va(h,y){h.F=Date.now(),yi(h),h.B=Re(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),wa(E.i,"t",A),h.C=0,E=h.j.L,h.h=new Xn,h.g=Wu(h.j,E?y:null,!h.u),h.P>0&&(h.O=new He(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(we[0]=z.toString()),z=we);for(let $=0;$<z.length;$++){const ct=ie(E,z[$],A||y.handleEvent,!1,y.h||y);if(!ct)break;y.g[ct.key]=ct}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),fi(),Df(h.i,h.v,h.B,h.l,h.S,h.u)}Kn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Wn(h)==3?y.j():this.Y(h)},Kn.prototype.Y=function(h){try{if(h==this.g)t:{const Ot=Wn(this.g),ve=this.g.ya(),$t=this.g.ca();if(!(Ot<3)&&(Ot!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Ot!=4||ve==7||(ve==8||$t<=0?fi(3):fi(2)),_i(this);var y=this.g.ca();this.X=y;var E=Mf(this);if(this.o=y==200,Pu(this.i,this.v,this.B,this.l,this.S,Ot,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var $=A;break e}}$=null}if(h=$)pi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,h);else{this.o=!1,this.m=3,Se(12),_n(this),On(this);break t}}if(this.R){h=!0;let he;for(;!this.K&&this.C<E.length;)if(he=zu(this,E),he==Ue){Ot==4&&(this.m=4,Se(14),h=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Ae){this.m=4,Se(15),pi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else pi(this.i,this.l,he,null),vi(this,he);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||E.length!=0||this.h.h||(this.m=1,Se(16),h=!1),this.o=this.o&&h,!h)pi(this.i,this.l,E,"[Invalid Chunked Response]"),_n(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Zo(ct),ct.P=!0,Se(11))}}else pi(this.i,this.l,E,null),vi(this,E);Ot==4&&_n(this),this.o&&!this.K&&(Ot==4?Ku(this.j,this):(this.o=!1,yi(this)))}else Ki(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),_n(this),On(this)}}}catch{}finally{}};function Mf(h){if(!ju(h))return h.g.la();const y=Ge(h.g);if(y==="")return"";let E="";const A=y.length,z=Wn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return _n(h),On(h),"";h.h.i=new c.TextDecoder}for(let $=0;$<A;$++)h.h.h=!0,E+=h.h.i.decode(y[$],{stream:!(z&&$==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function ju(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function zu(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?Ue:(E=Number(y.substring(E,A)),isNaN(E)?Ae:(A+=1,A+E>y.length?Ue:(y=y.slice(A,A+E),h.C=A+E,y)))}Kn.prototype.cancel=function(){this.K=!0,_n(this)};function yi(h){h.T=Date.now()+h.H,Ea(h,h.H)}function Ea(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=mi(g(h.aa,h),y)}function _i(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Kn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Cs(this.i,this.B),this.M!=2&&(fi(),Se(17)),_n(this),this.m=2,On(this)):Ea(this,this.T-h)};function On(h){h.j.I==0||h.K||Ku(h.j,h)}function _n(h){_i(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,xr(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function vi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ti(E.h,h))){if(!h.L&&Ti(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Na(E),kr(E);else break t;js(E),Se(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=mi(g(E.Va,E),6e3));Ei(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ri(E,11)}else if((h.L||E.g==h)&&Na(E),!R(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let $t=z[y];const he=$t[0];if(!(he<=E.K))if(E.K=he,$t=$t[1],E.I==2)if($t[0]=="c"){E.M=$t[1],E.ba=$t[2];const kn=$t[3];kn!=null&&(E.ka=kn,E.j.info("VER="+E.ka));const Ni=$t[4];Ni!=null&&(E.za=Ni,E.j.info("SVER="+E.za));const ti=$t[5];ti!=null&&typeof ti=="number"&&ti>0&&(A=1.5*ti,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ei=h.g;if(ei){const zs=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var $=A.h;$.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(jo($,$.h),$.h=null))}if(A.G){const Ca=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(A.wa=Ca,Xt(A.J,A.G,Ca))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ct=h;if(A.na=Ju(A,A.L?A.ba:null,A.W),ct.L){zo(A.h,ct);var Ot=ct,ve=A.O;ve&&(Ot.H=ve),Ot.D&&(_i(Ot),yi(Ot)),A.g=ct}else Qu(A);E.i.length>0&&xi(E)}else $t[0]!="stop"&&$t[0]!="close"||Ri(E,7);else E.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ri(E,7):Ko(E):$t[0]!="noop"&&E.l&&E.l.qa($t),E.A=0)}}fi(4)}catch{}}var xe=class{constructor(h,y){this.g=h,this.map=y}};function Po(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ei(h){return h.h?1:h.g?h.g.size:0}function Ti(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function jo(h,y){h.g?h.g.add(y):h.h=y}function zo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Po.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Bo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return I(h.i)}var Bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let z,$=null;A>=0?(z=h[E].substring(0,A),$=h[E].substring(A+1)):z=h[E],y(z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof vn?(this.l=h.l,je(this,h.j),this.o=h.o,this.g=h.g,Nr(this,h.u),this.h=h.h,qo(this,Gu(h.i)),this.m=h.m):h&&(y=String(h).match(Bu))?(this.l=!1,je(this,y[1]||"",!0),this.o=bi(y[2]||""),this.g=bi(y[3]||"",!0),Nr(this,y[4]),this.h=bi(y[5]||"",!0),qo(this,y[6]||"",!0),this.m=bi(y[7]||"")):(this.l=!1,this.i=new Ir(null,this.l))}vn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ms(y,ba,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ms(y,ba,!0),"@"),h.push(Qi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ms(E,E.charAt(0)=="/"?Ho:qu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ms(E,Hu)),h.join("")},vn.prototype.resolve=function(h){const y=Re(this);let E=!!h.j;E?je(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)Nr(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const $=[];for(let ct=0;ct<z.length;){const Ot=z[ct++];Ot=="."?A&&ct==z.length&&$.push(""):Ot==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),A&&ct==z.length&&$.push("")):($.push(Ot),A=!0)}A=$.join("/")}else A=z}return E?y.h=A:E=h.i.toString()!=="",E?qo(y,Gu(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Re(h){return new vn(h)}function je(h,y,E){h.j=E?bi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Nr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function qo(h,y,E){y instanceof Ir?(h.i=y,Sa(h.i,h.l)):(E||(y=Ms(y,Cr)),h.i=new Ir(y,h.l))}function Xt(h,y,E){h.i.set(y,E)}function Os(h){return Xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function bi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ms(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,ln),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ln(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ba=/[#\/\?@]/g,qu=/[#\?:]/g,Ho=/[#\?]/g,Cr=/[#\?@]/g,Hu=/#/g;function Ir(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function un(h){h.g||(h.g=new Map,h.h=0,h.i&&Ta(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Ir.prototype,i.add=function(h,y){un(this),this.i=null,h=Dr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Fu(h,y){un(h),y=Dr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Fo(h,y){return un(h),y=Dr(h,y),h.g.has(y)}i.forEach=function(h,y){un(this),this.g.forEach(function(E,A){E.forEach(function(z){h.call(y,z,A,this)},this)},this)};function Go(h,y){un(h);let E=[];if(typeof y=="string")Fo(h,y)&&(E=E.concat(h.g.get(Dr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return un(this),this.i=null,h=Dr(this,h),Fo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=Go(this,h),h.length>0?String(h[0]):y):y};function wa(h,y,E){Fu(h,y),E.length>0&&(h.i=null,h.g.set(Dr(h,y),I(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const z=Qi(E);E=Go(this,E);for(let $=0;$<E.length;$++){let ct=z;E[$]!==""&&(ct+="="+Qi(E[$])),h.push(ct)}}return this.i=h.join("&")};function Gu(h){const y=new Ir;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Dr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Sa(h,y){y&&!h.j&&(un(h),h.i=null,h.g.forEach(function(E,A){const z=A.toLowerCase();A!=z&&(Fu(this,A),wa(this,z,E))},h)),h.j=y}function Zn(h,y){const E=new Yn;if(c.Image){const A=new Image;A.onload=v(Mn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=v(Mn,E,"TestLoadImage: error",!1,y,A),A.onabort=v(Mn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(Mn,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function $o(h,y){const E=new Yn,A=new AbortController,z=setTimeout(()=>{A.abort(),Mn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then($=>{clearTimeout(z),$.ok?Mn(E,"TestPingServer: ok",!0,y):Mn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Mn(E,"TestPingServer: error",!1,y)})}function Mn(h,y,E,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(E)}catch{}}function Or(){this.g=new Ou}function wi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(wi,Mu),wi.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(h,y){se.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Vs,se),i=Vs.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Jn(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Mr(this):Jn(this),this.readyState==3&&Aa(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Mr(this))},i.Na=function(h){this.g&&(this.response=h,Mr(this))},i.ga=function(){this.g&&Mr(this)};function Mr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Jn(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Jn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vn(h){let y="";return it(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function ks(h,y,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=Vn(E),typeof h=="string"?E!=null&&Qi(E):Xt(h,y,E))}function Wt(h){se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Wt,se);var Si=/^https?$/i,Qo=["POST","PUT"];i=Wt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){Ls(this,$);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)E.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())E.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||A||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ct]of E)this.g.setRequestHeader($,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){Ls(this,$)}};function Ls(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Yo(h),Yi(h)}function Yo(h){h.A||(h.A=!0,Kt(h,"complete"),Kt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Kt(this,"complete"),Kt(this,"abort"),Yi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),Wt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},i.Xa=function(){Ps(this)};function Ps(h){if(h.h&&typeof u<"u"){if(h.v&&Wn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Kt(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const $=h.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var A;if(A=$===0){let ct=String(h.D).match(Bu)[1]||null;!ct&&c.self&&c.self.location&&(ct=c.self.location.protocol.slice(0,-1)),A=!Si.test(ct?ct.toLowerCase():"")}E=A}if(E)Kt(h,"complete"),Kt(h,"success");else{h.o=6;try{var z=Wn(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",Yo(h)}}finally{Yi(h)}}}}function Yi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Kt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),If(y)}};function Ge(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(h){const y={};h=(h.g&&Wn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(R(h[A]))continue;var E=Uu(h[A]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[z]||[];y[z]=$,$.push(E)}dt(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Vr(h){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,h),this.Za=Ai("retryDelaySeedMs",1e4,h),this.Ta=Ai("forwardChannelMaxRetries",2,h),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(h&&h.concurrentRequestLimit),this.Ba=new Or,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Vr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,A){Se(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Ju(this,null,this.W),xi(this)};function Ko(h){if(xa(h),h.I==3){var y=h.V++,E=Re(h.J);if(Xt(E,"SID",h.M),Xt(E,"RID",y),Xt(E,"TYPE","terminate"),Us(h,E),y=new Kn(h,h.j,y),y.M=2,y.A=Os(Re(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Wu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}Zu(h)}function kr(h){h.g&&(Zo(h),h.g.cancel(),h.g=null)}function xa(h){kr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Na(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function xi(h){if(!Uo(h.h)&&!h.m){h.m=!0;var y=h.Ea;K||x(),ot||(K(),ot=!0),N.add(y,h),h.D=0}}function Ra(h,y){return Ei(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=mi(g(h.Ea,h,y),Xu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new Kn(this,this.j,h);let $=this.o;if(this.U&&($?($=V($),ut($,this.U)):$=this.U),this.u!==null||this.R||(z.J=$,$=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=$u(this,z,y),E=Re(this.J),Xt(E,"RID",h),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),Us(this,E),$&&(this.R?y="headers="+Qi(Vn($))+"&"+y:this.u&&ks(E,this.u,$)),jo(this.h,z),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",y),Xt(E,"SID","null"),z.U=!0,gi(z,E,null)):gi(z,E,y),this.I=2}}else this.I==3&&(h?Xo(this,h):this.i.length==0||Uo(this.h)||Xo(this))};function Xo(h,y){var E;y?E=y.l:E=h.V++;const A=Re(h.J);Xt(A,"SID",h.M),Xt(A,"RID",E),Xt(A,"AID",h.K),Us(h,A),h.u&&h.o&&ks(A,h.u,h.o),E=new Kn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=$u(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),jo(h.h,E),gi(E,A,y)}function Us(h,y){h.H&&it(h.H,function(E,A){Xt(y,A,E)}),h.l&&it({},function(E,A){Xt(y,A,E)})}function $u(h,y,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;t:{var z=h.i;let Ot=-1;for(;;){const ve=["count="+E];Ot==-1?E>0?(Ot=z[0].g,ve.push("ofs="+Ot)):Ot=0:ve.push("ofs="+Ot);let $t=!0;for(let he=0;he<E;he++){var $=z[he].g;const kn=z[he].map;if($-=Ot,$<0)Ot=Math.max(0,z[he].g-100),$t=!1;else try{$="req"+$+"_"||"";try{var ct=kn instanceof Map?kn:Object.entries(kn);for(const[Ni,ti]of ct){let ei=ti;m(ti)&&(ei=Rr(ti)),ve.push($+Ni+"="+encodeURIComponent(ei))}}catch(Ni){throw ve.push($+"type="+encodeURIComponent("_badmap")),Ni}}catch{A&&A(kn)}}if($t){ct=ve.join("&");break t}}ct=void 0}return h=h.i.splice(0,E),y.G=h,ct}function Qu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;K||x(),ot||(K(),ot=!0),N.add(y,h),h.A=0}}function js(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=mi(g(h.Da,h),Xu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=mi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),kr(this),Yu(this))};function Zo(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Yu(h){h.g=new Kn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Re(h.na);Xt(y,"RID","rpc"),Xt(y,"SID",h.M),Xt(y,"AID",h.K),Xt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xt(y,"TO",h.ia),Xt(y,"TYPE","xmlhttp"),Us(h,y),h.u&&h.o&&ks(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Os(Re(y)),E.u=null,E.R=!0,va(E,h)}i.Va=function(){this.C!=null&&(this.C=null,kr(this),js(this),Se(19))};function Na(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Ku(h,y){var E=null;if(h.g==y){Na(h),Zo(h),h.g=null;var A=2}else if(Ti(h.h,y))E=y.G,zo(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;A=_a(),Kt(A,new di(A,E)),xi(h)}else Qu(h);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&Ra(h,y)||A==2&&js(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),z){case 1:Ri(h,5);break;case 4:Ri(h,10);break;case 3:Ri(h,6);break;default:Ri(h,2)}}}function Xu(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Ri(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),A=h.Ua;const z=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||je(A,"https"),Os(A),z?Zn(A.toString(),E):$o(A.toString(),E)}else Se(2);h.I=0,h.l&&h.l.pa(y),Zu(h),xa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Zu(h){if(h.I=0,h.ja=[],h.l){const y=Bo(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ja,y),U(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Ju(h,y,E){var A=E instanceof vn?Re(E):new vn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Nr(A,A.u);else{var z=c.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const $=new vn(null);A&&je($,A),y&&($.g=y),z&&Nr($,z),E&&($.h=E),A=$}return E=h.G,y=h.wa,E&&y&&Xt(A,E,y),Xt(A,"VER",h.ka),Us(h,A),A}function Wu(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Wt(new wi({ab:E})):new Wt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}i=tc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Lr(){}Lr.prototype.g=function(h,y){return new an(h,y)};function an(h,y){se.call(this),this.g=new Vr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!R(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Xi(this)}b(an,se),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Ko(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Rr(h),h=E);y.i.push(new xe(y.Ya++,h)),y.I==3&&xi(y)},an.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,an.Z.N.call(this)};function ec(h){Fe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}b(ec,Fe);function nc(){Dn.call(this),this.status=1}b(nc,Dn);function Xi(h){this.g=h}b(Xi,tc),Xi.prototype.ra=function(){Kt(this.g,"a")},Xi.prototype.qa=function(h){Kt(this.g,new ec(h))},Xi.prototype.pa=function(h){Kt(this.g,new nc)},Xi.prototype.oa=function(){Kt(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,db=function(){return new Lr},fb=function(){return _a()},hb=_e,ap={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,bh=Is,ko.COMPLETE="complete",cb=ko,Vu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",se.prototype.listen=se.prototype.J,ql=Vu,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,ub=Wt}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const Fv="@firebase/firestore",Gv="4.9.3";class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Do="12.7.0";const fa=new Pp("@firebase/firestore");function so(){return fa.logLevel}function mt(i,...t){if(fa.logLevel<=jt.DEBUG){const n=t.map(Yp);fa.debug(`Firestore (${Do}): ${i}`,...n)}}function _r(i,...t){if(fa.logLevel<=jt.ERROR){const n=t.map(Yp);fa.error(`Firestore (${Do}): ${i}`,...n)}}function _o(i,...t){if(fa.logLevel<=jt.WARN){const n=t.map(Yp);fa.warn(`Firestore (${Do}): ${i}`,...n)}}function Yp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function St(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,mb(i,s,n)}function mb(i,t,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function Yt(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||mb(t,o,s)}function Dt(i,t){return i}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Tr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class pb{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class cN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hN{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gs,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gs)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new pb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class fN{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dN{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new fN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $v{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const s=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $v(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $v(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pN(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Kp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=pN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function zt(i,t){return i<t?-1:i>t?1:0}function op(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return zm(o)===zm(u)?zt(o,u):zm(o)?1:-1}return zt(i.length,t.length)}const gN=55296,yN=57343;function zm(i){const t=i.charCodeAt(0);return t>=gN&&t<=yN}function vo(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}const Qv="__name__";class Mi{constructor(t,n,s){n===void 0?n=0:n>t.length&&St(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&St(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return zt(t.length,n.length)}static compareSegments(t,n){const s=Mi.isNumericId(t),o=Mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(t).compare(Mi.extractNumericId(n)):op(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ps.fromString(t.substring(4,t.length-2))}}class de extends Mi{construct(t,n,s){return new de(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new _t(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new de(n)}static emptyPath(){return new de([])}}const _N=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Mi{construct(t,n,s){return new Ze(t,n,s)}static isValidIdentifier(t){return _N.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qv}static keyField(){return new Ze([Qv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new _t(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new _t(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _t(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new _t(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(de.fromString(t))}static fromName(t){return new Tt(de.fromString(t).popFirst(5))}static empty(){return new Tt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return de.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new de(t.slice()))}}function vN(i,t,n){if(!n)throw new _t(st.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function EN(i,t,n,s){if(t===!0&&s===!0)throw new _t(st.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Yv(i){if(!Tt.isDocumentKey(i))throw new _t(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Xp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":St(12329,{type:typeof i})}function li(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new _t(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(i);throw new _t(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}function Me(i,t){const n={typeString:i};return t&&(n.value=t),n}function Au(i,t){if(!gb(i))throw new _t(st.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new _t(st.INVALID_ARGUMENT,n);return!0}const Kv=-62135596800,Xv=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Xv);return new ue(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new _t(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Kv)throw new _t(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Au(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Kv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Me("string",ue._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new ue(0,0))}static max(){return new Ct(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const au=-1;function TN(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(s===1e9?new ue(n+1,0):new ue(n,s));return new ys(o,Tt.empty(),t)}function bN(i){return new ys(i.readTime,i.key,au)}class ys{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ys(Ct.min(),Tt.empty(),au)}static max(){return new ys(Ct.max(),Tt.empty(),au)}}function wN(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=Tt.comparator(i.documentKey,t.documentKey),n!==0?n:zt(i.largestBatchId,t.largestBatchId))}const SN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Oo(i){if(i.code!==st.FAILED_PRECONDITION||i.message!==SN)throw i;mt("LocalStore","Unexpectedly lost primary lease")}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.reject(n)}static resolve(t){return new rt(((n,s)=>{n(t)}))}static reject(t){return new rt(((n,s)=>{s(t)}))}static waitFor(t){return new rt(((n,s)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(t){let n=rt.resolve(!1);for(const s of t)n=n.next((o=>o?rt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new rt(((s,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((v=>{c[g]=v,++m,m===u&&s(c)}),(v=>o(v)))}}))}static doWhile(t,n){return new rt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function xN(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}class uf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uf.ce=-1;const Zp=-1;function cf(i){return i==null}function zh(i){return i===0&&1/i==-1/0}function RN(i){return typeof i=="number"&&Number.isInteger(i)&&!zh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const yb="";function NN(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=Zv(t)),t=CN(i.get(n),t);return Zv(t)}function CN(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case yb:n+="";break;default:n+=u}}return n}function Zv(i){return i+yb+""}function Jv(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function Ss(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function _b(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class me{constructor(t,n){this.comparator=t,this.root=n||Xe.EMPTY}insert(t,n){return new me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lh(this.root,t,this.comparator,!0)}}class lh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Xe.RED,this.left=o??Xe.EMPTY,this.right=u??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Xe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wv(this.data.getIterator())}getIteratorFrom(t){return new Wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class Wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Rn([])}unionWith(t){let n=new Pe(Ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Rn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return vo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vb("Invalid base64 string: "+u):u}})(t);return new We(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const IN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(i){if(Yt(!!i,39018),typeof i=="string"){let t=0;const n=IN.exec(i);if(Yt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:be(i.seconds),nanos:be(i.nanos)}}function be(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function vs(i){return typeof i=="string"?We.fromBase64String(i):We.fromUint8Array(i)}const Eb="server_timestamp",Tb="__type__",bb="__previous_value__",wb="__local_write_time__";function Jp(i){return(i?.mapValue?.fields||{})[Tb]?.stringValue===Eb}function hf(i){const t=i.mapValue.fields[bb];return Jp(t)?hf(t):t}function ou(i){const t=_s(i.mapValue.fields[wb].timestampValue);return new ue(t.seconds,t.nanos)}class DN{constructor(t,n,s,o,u,c,m,p,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Bh="(default)";class lu{constructor(t,n){this.projectId=t,this.database=n||Bh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(t){return t instanceof lu&&t.projectId===this.projectId&&t.database===this.database}}const Sb="__type__",ON="__max__",uh={mapValue:{}},Ab="__vector__",qh="value";function Es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Jp(i)?4:VN(i)?9007199254740991:MN(i)?10:11:St(28295,{value:i})}function Bi(i,t){if(i===t)return!0;const n=Es(i);if(n!==Es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return ou(i).isEqual(ou(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=_s(o.timestampValue),m=_s(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return vs(o.bytesValue).isEqual(vs(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return be(o.geoPointValue.latitude)===be(u.geoPointValue.latitude)&&be(o.geoPointValue.longitude)===be(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return be(o.integerValue)===be(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=be(o.doubleValue),m=be(u.doubleValue);return c===m?zh(c)===zh(m):isNaN(c)&&isNaN(m)}return!1})(i,t);case 9:return vo(i.arrayValue.values||[],t.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Jv(c)!==Jv(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Bi(c[p],m[p])))return!1;return!0})(i,t);default:return St(52216,{left:i})}}function uu(i,t){return(i.values||[]).find((n=>Bi(n,t)))!==void 0}function Eo(i,t){if(i===t)return 0;const n=Es(i),s=Es(t);if(n!==s)return zt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=be(u.integerValue||u.doubleValue),p=be(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return tE(i.timestampValue,t.timestampValue);case 4:return tE(ou(i),ou(t));case 5:return op(i.stringValue,t.stringValue);case 6:return(function(u,c){const m=vs(u),p=vs(c);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=zt(m[g],p[g]);if(v!==0)return v}return zt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=zt(be(u.latitude),be(c.latitude));return m!==0?m:zt(be(u.longitude),be(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return eE(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[qh]?.arrayValue,v=p[qh]?.arrayValue,b=zt(g?.values?.length||0,v?.values?.length||0);return b!==0?b:eE(g,v)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===uh.mapValue&&c===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(c===uh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const S=op(p[b],v[b]);if(S!==0)return S;const I=Eo(m[p[b]],g[v[b]]);if(I!==0)return I}return zt(p.length,v.length)})(i.mapValue,t.mapValue);default:throw St(23264,{he:n})}}function tE(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return zt(i,t);const n=_s(i),s=_s(t),o=zt(n.seconds,s.seconds);return o!==0?o:zt(n.nanos,s.nanos)}function eE(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return zt(n.length,s.length)}function To(i){return lp(i)}function lp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=_s(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return vs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Tt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=lp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${lp(n.fields[c])}`;return o+"}"})(i.mapValue):St(61005,{value:i})}function wh(i){switch(Es(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hf(i);return t?16+wh(t):16;case 5:return 2*i.stringValue.length;case 6:return vs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+wh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ss(s.fields,((u,c)=>{o+=u.length+wh(c)})),o})(i.mapValue);default:throw St(13486,{value:i})}}function up(i){return!!i&&"integerValue"in i}function Wp(i){return!!i&&"arrayValue"in i}function nE(i){return!!i&&"nullValue"in i}function iE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sh(i){return!!i&&"mapValue"in i}function MN(i){return(i?.mapValue?.fields||{})[Sb]?.stringValue===Ab}function Zl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Ss(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Zl(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zl(i.arrayValue.values[n]);return t}return{...i}}function VN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ON}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Sh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zl(n)}setAll(t){let n=Ze.emptyPath(),s={},o=[];t.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=Zl(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Bi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Ss(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new gn(Zl(this.value))}}function xb(i){const t=[];return Ss(i.fields,((n,s)=>{const o=new Ze([n]);if(Sh(s)){const u=xb(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Rn(t)}class rn{constructor(t,n,s,o,u,c,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new rn(t,0,Ct.min(),Ct.min(),Ct.min(),gn.empty(),0)}static newFoundDocument(t,n,s,o){return new rn(t,1,n,Ct.min(),s,o,0)}static newNoDocument(t,n){return new rn(t,2,n,Ct.min(),Ct.min(),gn.empty(),0)}static newUnknownDocument(t,n){return new rn(t,3,n,Ct.min(),Ct.min(),gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hh{constructor(t,n){this.position=t,this.inclusive=n}}function rE(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?s=Tt.comparator(Tt.fromName(c.referenceValue),n.key):s=Eo(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Bi(i.position[n],t.position[n]))return!1;return!0}class Fh{constructor(t,n="asc"){this.field=t,this.dir=n}}function kN(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class Rb{}class Le extends Rb{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new PN(t,n,s):n==="array-contains"?new zN(t,s):n==="in"?new BN(t,s):n==="not-in"?new qN(t,s):n==="array-contains-any"?new HN(t,s):new Le(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new UN(t,s):new jN(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends Rb{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new qi(t,n)}matches(t){return Nb(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Nb(i){return i.op==="and"}function Cb(i){return LN(i)&&Nb(i)}function LN(i){for(const t of i.filters)if(t instanceof qi)return!1;return!0}function cp(i){if(i instanceof Le)return i.field.canonicalString()+i.op.toString()+To(i.value);if(Cb(i))return i.filters.map((t=>cp(t))).join(",");{const t=i.filters.map((n=>cp(n))).join(",");return`${i.op}(${t})`}}function Ib(i,t){return i instanceof Le?(function(s,o){return o instanceof Le&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(i,t):i instanceof qi?(function(s,o){return o instanceof qi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&Ib(c,o.filters[m])),!0):!1})(i,t):void St(19439)}function Db(i){return i instanceof Le?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(i):i instanceof qi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Db).join(" ,")+"}"})(i):"Filter"}class PN extends Le{constructor(t,n,s){super(t,n,s),this.key=Tt.fromName(s.referenceValue)}matches(t){const n=Tt.comparator(t.key,this.key);return this.matchesComparison(n)}}class UN extends Le{constructor(t,n){super(t,"in",n),this.keys=Ob("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class jN extends Le{constructor(t,n){super(t,"not-in",n),this.keys=Ob("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Ob(i,t){return(t.arrayValue?.values||[]).map((n=>Tt.fromName(n.referenceValue)))}class zN extends Le{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Wp(n)&&uu(n.arrayValue,this.value)}}class BN extends Le{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class qN extends Le{constructor(t,n){super(t,"not-in",n)}matches(t){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class HN extends Le{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>uu(this.value.arrayValue,s)))}}class FN{constructor(t,n=null,s=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function aE(i,t=null,n=[],s=[],o=null,u=null,c=null){return new FN(i,t,n,s,o,u,c)}function tg(i){const t=Dt(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>cp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),cf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>To(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>To(s))).join(",")),t.Te=n}return t.Te}function eg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!kN(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ib(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!sE(i.startAt,t.startAt)&&sE(i.endAt,t.endAt)}function hp(i){return Tt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class ff{constructor(t,n=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GN(i,t,n,s,o,u,c,m){return new ff(i,t,n,s,o,u,c,m)}function df(i){return new ff(i)}function oE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function $N(i){return i.collectionGroup!==null}function Jl(i){const t=Dt(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Pe(Ze.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Fh(u,s))})),n.has(Ze.keyField().canonicalString())||t.Ie.push(new Fh(Ze.keyField(),s))}return t.Ie}function Li(i){const t=Dt(i);return t.Ee||(t.Ee=QN(t,Jl(i))),t.Ee}function QN(i,t){if(i.limitType==="F")return aE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Fh(o.field,u)}));const n=i.endAt?new Hh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Hh(i.startAt.position,i.startAt.inclusive):null;return aE(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function fp(i,t,n){return new ff(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function mf(i,t){return eg(Li(i),Li(t))&&i.limitType===t.limitType}function Mb(i){return`${tg(Li(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Db(o))).join(", ")}]`),cf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(Li(i))}; limitType=${i.limitType})`}function pf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Tt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=rE(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(c,m,p){const g=rE(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,Jl(s),o))})(i,t)}function YN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Vb(i){return(t,n)=>{let s=!1;for(const o of Jl(i)){const u=KN(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function KN(i,t,n){const s=i.field.isKeyField()?Tt.comparator(t.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Eo(p,g):St(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:i.dir})}}class ga{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ss(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return _b(this.inner)}size(){return this.innerSize}}const XN=new me(Tt.comparator);function vr(){return XN}const kb=new me(Tt.comparator);function Hl(...i){let t=kb;for(const n of i)t=t.insert(n.key,n);return t}function Lb(i){let t=kb;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ra(){return Wl()}function Pb(){return Wl()}function Wl(){return new ga((i=>i.toString()),((i,t)=>i.isEqual(t)))}const ZN=new me(Tt.comparator),JN=new Pe(Tt.comparator);function Bt(...i){let t=JN;for(const n of i)t=t.add(n);return t}const WN=new Pe(zt);function tC(){return WN}function ng(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(t)?"-0":t}}function Ub(i){return{integerValue:""+i}}function eC(i,t){return RN(t)?Ub(t):ng(i,t)}class gf{constructor(){this._=void 0}}function nC(i,t,n){return i instanceof cu?(function(o,u){const c={fields:{[Tb]:{stringValue:Eb},[wb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jp(u)&&(u=hf(u)),u&&(c.fields[bb]=u),{mapValue:c}})(n,t):i instanceof hu?zb(i,t):i instanceof fu?Bb(i,t):(function(o,u){const c=jb(o,u),m=lE(c)+lE(o.Ae);return up(c)&&up(o.Ae)?Ub(m):ng(o.serializer,m)})(i,t)}function iC(i,t,n){return i instanceof hu?zb(i,t):i instanceof fu?Bb(i,t):n}function jb(i,t){return i instanceof Gh?(function(s){return up(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class cu extends gf{}class hu extends gf{constructor(t){super(),this.elements=t}}function zb(i,t){const n=qb(t);for(const s of i.elements)n.some((o=>Bi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class fu extends gf{constructor(t){super(),this.elements=t}}function Bb(i,t){let n=qb(t);for(const s of i.elements)n=n.filter((o=>!Bi(o,s)));return{arrayValue:{values:n}}}class Gh extends gf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function lE(i){return be(i.integerValue||i.doubleValue)}function qb(i){return Wp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class rC{constructor(t,n){this.field=t,this.transform=n}}function sC(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof hu&&o instanceof hu||s instanceof fu&&o instanceof fu?vo(s.elements,o.elements,Bi):s instanceof Gh&&o instanceof Gh?Bi(s.Ae,o.Ae):s instanceof cu&&o instanceof cu})(i.transform,t.transform)}class aC{constructor(t,n){this.version=t,this.transformResults=n}}class ui{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ah(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class yf{}function Hb(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new ig(i.key,ui.none()):new xu(i.key,i.data,ui.none());{const n=i.data,s=gn.empty();let o=new Pe(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new As(i.key,s,new Rn(o.toArray()),ui.none())}}function oC(i,t,n){i instanceof xu?(function(o,u,c){const m=o.value.clone(),p=cE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,n):i instanceof As?(function(o,u,c){if(!Ah(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=cE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Fb(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function tu(i,t,n,s){return i instanceof xu?(function(u,c,m,p){if(!Ah(u.precondition,c))return m;const g=u.value.clone(),v=hE(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof As?(function(u,c,m,p){if(!Ah(u.precondition,c))return m;const g=hE(u.fieldTransforms,p,c),v=c.data;return v.setAll(Fb(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,t,n,s):(function(u,c,m){return Ah(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,t,n)}function lC(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=jb(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function uE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,c)=>sC(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class xu extends yf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends yf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Fb(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function cE(i,t,n){const s=new Map;Yt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,m=t.data.field(u.field);s.set(u.field,iC(c,m,n[o]))}return s}function hE(i,t,n){const s=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);s.set(o.field,nC(u,c,t))}return s}class ig extends yf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uC extends yf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&oC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=tu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=tu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Pb();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=Hb(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ct.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&vo(this.mutations,t.mutations,((n,s)=>uE(n,s)))&&vo(this.baseMutations,t.baseMutations,((n,s)=>uE(n,s)))}}class rg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Yt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return ZN})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new rg(t,n,s,o)}}class hC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Oe,Ht;function dC(i){switch(i){case st.OK:return St(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return St(15467,{code:i})}}function Gb(i){if(i===void 0)return _r("GRPC error has no .code"),st.UNKNOWN;switch(i){case Oe.OK:return st.OK;case Oe.CANCELLED:return st.CANCELLED;case Oe.UNKNOWN:return st.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return st.INTERNAL;case Oe.UNAVAILABLE:return st.UNAVAILABLE;case Oe.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Oe.NOT_FOUND:return st.NOT_FOUND;case Oe.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Oe.ABORTED:return st.ABORTED;case Oe.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Oe.DATA_LOSS:return st.DATA_LOSS;default:return St(39323,{code:i})}}(Ht=Oe||(Oe={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function mC(){return new TextEncoder}const pC=new ps([4294967295,4294967295],0);function fE(i){const t=mC().encode(i),n=new lb;return n.update(t),new Uint8Array(n.digest())}function dE(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ps([n,s],0),new ps([o,u],0)]}class sg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ps.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(ps.fromNumber(s)));return o.compare(pC)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=fE(t),[s,o]=dE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new sg(u,o,n);return s.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const n=fE(t),[s,o]=dE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _f{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Ru.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new _f(Ct.min(),o,new me(zt),vr(),Bt())}}class Ru{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ru(s,n,Bt(),Bt(),Bt())}}class xh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class $b{constructor(t,n){this.targetId=t,this.Ce=n}}class Qb{constructor(t,n,s=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class mE{constructor(){this.ve=0,this.Fe=pE(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),n=Bt(),s=Bt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:St(38017,{changeType:u})}})),new Ru(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=pE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gC{constructor(t){this.Ge=t,this.ze=new Map,this.je=vr(),this.Je=ch(),this.He=ch(),this.Ye=new me(zt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(hp(u))if(s===0){const c=new Tt(u.path);this.et(n,c,rn.newNoDocument(c,Ct.min()))}else Yt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=vs(s).toUint8Array()}catch(p){if(p instanceof vb)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new sg(c,o,u)}catch(p){return _o(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&hp(m.target)){const p=new Tt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,rn.newNoDocument(p,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=Bt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new _f(t,n,this.Ye,this.je,s);return this.je=vr(),this.Je=ch(),this.He=ch(),this.Ye=new me(zt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new mE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Pe(zt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Pe(zt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new mE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ch(){return new me(Tt.comparator)}function pE(){return new me(Tt.comparator)}const yC={asc:"ASCENDING",desc:"DESCENDING"},_C={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vC={and:"AND",or:"OR"};class EC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function dp(i,t){return i.useProto3Json||cf(t)?t:{value:t}}function $h(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function TC(i,t){return $h(i,t.toTimestamp())}function Pi(i){return Yt(!!i,49232),Ct.fromTimestamp((function(n){const s=_s(n);return new ue(s.seconds,s.nanos)})(i))}function ag(i,t){return mp(i,t).canonicalString()}function mp(i,t){const n=(function(o){return new de(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function Kb(i){const t=de.fromString(i);return Yt(t1(t),10190,{key:t.toString()}),t}function pp(i,t){return ag(i.databaseId,t.path)}function Bm(i,t){const n=Kb(t);if(n.get(1)!==i.databaseId.projectId)throw new _t(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new _t(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Tt(Zb(n))}function Xb(i,t){return ag(i.databaseId,t)}function bC(i){const t=Kb(i);return t.length===4?de.emptyPath():Zb(t)}function gp(i){return new de(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Zb(i){return Yt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function gE(i,t,n){return{name:pp(i,t),fields:n.value.mapValue.fields}}function wC(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Yt(v===void 0||typeof v=="string",58123),We.fromBase64String(v||"")):(Yt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),We.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?st.UNKNOWN:Gb(g.code);return new _t(v,g.message||"")})(c);n=new Qb(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Bm(i,s.document.name),u=Pi(s.document.updateTime),c=s.document.createTime?Pi(s.document.createTime):Ct.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,u,c,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new xh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Bm(i,s.document),u=s.readTime?Pi(s.readTime):Ct.min(),c=rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new xh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Bm(i,s.document),u=s.removedTargetIds||[];n=new xh([],u,o,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new fC(o,u),m=s.targetId;n=new $b(m,c)}}return n}function SC(i,t){let n;if(t instanceof xu)n={update:gE(i,t.key,t.value)};else if(t instanceof ig)n={delete:pp(i,t.key)};else if(t instanceof As)n={update:gE(i,t.key,t.data),updateMask:MC(t.fieldMask)};else{if(!(t instanceof uC))return St(16599,{Vt:t.type});n={verify:pp(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof cu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof hu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw St(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:TC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)})(i,t.precondition)),n}function AC(i,t){return i&&i.length>0?(Yt(t!==void 0,14353),i.map((n=>(function(o,u){let c=o.updateTime?Pi(o.updateTime):Pi(u);return c.isEqual(Ct.min())&&(c=Pi(u)),new aC(c,o.transformResults||[])})(n,t)))):[]}function xC(i,t){return{documents:[Xb(i,t.path)]}}function RC(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Xb(i,o);const u=(function(g){if(g.length!==0)return Wb(qi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:oo(S.field),direction:IC(S.dir)}})(v)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const m=dp(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function NC(i){let t=bC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Yt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(b){const S=Jb(b);return S instanceof qi&&Cb(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((S=>(function(U){return new Fh(lo(U.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,cf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(b){const S=!!b.before,I=b.values||[];return new Hh(I,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const S=!b.before,I=b.values||[];return new Hh(I,S)})(n.endAt)),GN(t,o,c,u,m,"F",p,g)}function CC(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Jb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Le.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Le.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return Le.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=lo(n.unaryFilter.field);return Le.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Le.create(lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return qi.create(n.compositeFilter.filters.map((s=>Jb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(n.compositeFilter.op))})(i):St(30097,{filter:i})}function IC(i){return yC[i]}function DC(i){return _C[i]}function OC(i){return vC[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return Ze.fromServerFormat(i.fieldPath)}function Wb(i){return i instanceof Le?(function(n){if(n.op==="=="){if(iE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(nE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(nE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:DC(n.op),value:n.value}}})(i):i instanceof qi?(function(n){const s=n.getFilters().map((o=>Wb(o)));return s.length===1?s[0]:{compositeFilter:{op:OC(n.op),filters:s}}})(i):St(54877,{filter:i})}function MC(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function t1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class hs{constructor(t,n,s,o,u=Ct.min(),c=Ct.min(),m=We.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new hs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class VC{constructor(t){this.yt=t}}function kC(i){const t=NC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?fp(t,t.limit,"L"):t}class LC{constructor(){this.Cn=new PC}addToCollectionParentIndex(t,n){return this.Cn.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(ys.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(ys.min())}updateCollectionGroup(t,n,s){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class PC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Pe(de.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Pe(de.comparator)).toArray()}}const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e1=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(e1,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class bo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}const _E="LruGarbageCollector",UC=1048576;function vE([i,t],[n,s]){const o=zt(i,n);return o===0?zt(t,s):o}class jC{constructor(t){this.Ir=t,this.buffer=new Pe(vE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){mt(_E,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?mt(_E,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Vr(3e5)}))}}class BC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return rt.resolve(uf.ce);const s=new jC(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(yE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(t,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(g=Date.now(),so()<=jt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function qC(i,t){return new BC(i,t)}class HC{constructor(){this.changes=new ga((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?rt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class FC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class GC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&tu(s.mutation,o,Rn.empty(),ue.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Bt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Bt()){const o=ra();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let c=Hl();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=ra();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Bt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(t,n,s,o){let u=vr();const c=Wl(),m=(function(){return Wl()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof As)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),tu(v.mutation,g,v.mutation.getFieldMask(),ue.now())):c.set(g.key,Rn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>m.set(g,new FC(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Wl();let o=new me(((c,m)=>c-m)),u=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Rn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const b=(o.get(m.batchId)||Bt()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=Pb();v.forEach((S=>{if(!u.has(S)){const I=Hb(n.get(S),s.get(S));I!==null&&b.set(S,I),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,b))}return rt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(c){return Tt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$N(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):rt.resolve(ra());let m=au,p=u;return c.next((g=>rt.forEach(g,((v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?rt.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Bt()))).next((v=>({batchId:m,changes:Lb(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Tt(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let c=Hl();return this.indexManager.getCollectionParents(t,u).next((m=>rt.forEach(m,(p=>{const g=(function(b,S){return new ff(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((b,S)=>{c=c.insert(b,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,rn.newInvalidDocument(v)))}));let m=Hl();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&tu(v.mutation,g,Rn.empty(),ue.now()),pf(n,g)&&(m=m.insert(p,g))})),m}))}}class $C{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return rt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:kC(o.bundledQuery),readTime:Pi(o.readTime)}})(n)),rt.resolve()}}class QC{constructor(){this.overlays=new me(Tt.comparator),this.qr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ra();return rt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),rt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),rt.resolve()}getOverlaysForCollection(t,n,s){const o=ra(),u=n.length+1,c=new Tt(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new me(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ra(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ra(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return rt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new hC(n,s));let u=this.qr.get(n);u===void 0&&(u=Bt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class YC{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,rt.resolve()}}class og{constructor(){this.Qr=new Pe(Be.$r),this.Ur=new Pe(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Be(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Be(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new Tt(new de([])),s=new Be(n,t),o=new Be(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Tt(new de([])),s=new Be(n,t),o=new Be(n,t+1);let u=Bt();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new Be(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Be{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Tt.comparator(t.key,n.key)||zt(t.Yr,n.Yr)}static Kr(t,n){return zt(t.Yr,n.Yr)||Tt.comparator(t.key,n.key)}}class KC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(Be.$r)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new cC(u,n,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Be(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,n){return rt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return rt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Zp:this.tr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Be(n,0),o=new Be(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),rt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Pe(zt);return n.forEach((o=>{const u=new Be(o,0),c=new Be(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{s=s.add(m.Yr)}))})),rt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Tt.isDocumentKey(u)||(u=u.child(""));const c=new Be(new Tt(u),0);let m=new Pe(zt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),rt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Yt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return rt.forEach(n.mutations,(o=>{const u=new Be(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Be(n,0),o=this.Zr.firstAfterOrEqual(s);return rt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class XC{constructor(t){this.ri=t,this.docs=(function(){return new me(Tt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return rt.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(t,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),rt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=vr();const c=n.path,m=new Tt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||wN(bN(v),s)<=0||(o.has(v.key)||pf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return rt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){St(9500)}ii(t,n){return rt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new ZC(this)}getSize(t){return rt.resolve(this.size)}}class ZC extends HC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),rt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class JC{constructor(t){this.persistence=t,this.si=new ga((n=>tg(n)),eg),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new og,this.targetCount=0,this.ai=bo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),rt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.Pr(n),rt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),rt.waitFor(u).next((()=>o))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return rt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),rt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),rt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return rt.resolve(s)}containsKey(t,n){return rt.resolve(this._i.containsKey(n))}}class n1{constructor(t,n){this.ui={},this.overlays={},this.ci=new uf(0),this.li=!1,this.li=!0,this.hi=new YC,this.referenceDelegate=t(this),this.Pi=new JC(this),this.indexManager=new LC,this.remoteDocumentCache=(function(o){return new XC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new VC(n),this.Ii=new $C(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new QC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new KC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){mt("MemoryPersistence","Starting transaction:",t);const o=new WC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return rt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class WC extends AN{constructor(t){super(),this.currentSequenceNumber=t}}class lg{constructor(t){this.persistence=t,this.Ri=new og,this.Vi=null}static mi(t){return new lg(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),rt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),rt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.fi,(s=>{const o=Tt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Ct.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return rt.or([()=>rt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Qh{constructor(t,n){this.persistence=t,this.pi=new ga((s=>NN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=qC(this,n)}static mi(t,n){return new Qh(t,n)}Ei(){}di(t){return rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return rt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?rt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((m=>{m||(s++,u.removeEntry(c,Ct.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),rt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),rt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=wh(t.data.value)),n}br(t,n,s){return rt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return rt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ug{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Bt(),o=Bt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ug(t,n.fromCache,s,o)}}class tI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class eI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AA()?8:xN(sn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new tI;return this.Ss(t,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,c,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(so()<=jt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),rt.resolve()):(so()<=jt.DEBUG&&mt("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(so()<=jt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Li(n))):rt.resolve())}ys(t,n){if(oE(n))return rt.resolve(null);let s=Li(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=fp(n,null,"F"),s=Li(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=Bt(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(t,fp(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return oE(n)||o.isEqual(Ct.min())?rt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?rt.resolve(null):(so()<=jt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.vs(t,c,n,TN(o,au)).next((m=>m)))}))}Ds(t,n){let s=new Pe(Vb(t));return n.forEach(((o,u)=>{pf(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return so()<=jt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ps.getDocumentsMatchingQuery(t,n,ys.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const cg="LocalStore",nI=3e8;class iI{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new me(zt),this.xs=new ga((u=>tg(u)),eg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new GC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function rI(i,t,n,s){return new iI(i,t,n,s)}async function i1(i,t){const n=Dt(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=Bt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function sI(i,t){const n=Dt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const b=g.batch,S=b.keys();let I=rt.resolve();return S.forEach((U=>{I=I.next((()=>v.getEntry(p,U))).next((H=>{const Y=g.docVersions.get(U);Yt(Y!==null,48541),H.version.compareTo(Y)<0&&(b.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Bt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function r1(i){const t=Dt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function aI(i,t){const n=Dt(i),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((v,b)=>{const S=o.get(b);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,b))));let I=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?I=I.withResumeToken(We.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,s)),o=o.insert(b,I),(function(H,Y,lt){return H.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=nI?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(S,I,v)&&m.push(n.Pi.updateTargetData(u,I))}));let p=vr(),g=Bt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(oI(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Ct.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return rt.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function oI(i,t,n){let s=Bt(),o=Bt();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let c=vr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ct.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):mt(cg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function lI(i,t){const n=Dt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Zp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function uI(i,t){const n=Dt(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,rt.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new hs(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function yp(i,t,n){const s=Dt(i),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Mo(c))throw c;mt(cg,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function EE(i,t,n){const s=Dt(i);let o=Ct.min(),u=Bt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const b=Dt(p),S=b.xs.get(v);return S!==void 0?rt.resolve(b.Ms.get(S)):b.Pi.getTargetData(g,v)})(s,c,Li(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?o:Ct.min(),n?u:Bt()))).next((m=>(cI(s,YN(t),m),{documents:m,Qs:u})))))}function cI(i,t,n){let s=i.Os.get(t)||Ct.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(t,s)}class TE{constructor(){this.activeTargetIds=tC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hI{constructor(){this.Mo=new TE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new TE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class fI{Oo(t){}shutdown(){}}const bE="ConnectivityMonitor";class wE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(bE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){mt(bE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hh=null;function _p(){return hh===null?hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():hh++,"0x"+hh.toString(16)}const qm="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const c=_p(),m=this.zo(t,n.toUriEncodedString());mt(qm,`Sending RPC '${t}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=No(g);return this.Jo(t,m,p,s,v).then((b=>(mt(qm,`Received RPC '${t}' ${c}: `,b),b)),(b=>{throw _o(qm,`RPC '${t}' ${c} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(t,n,s,o,u,c){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=dI[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class pI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const en="WebChannelConnection";class gI extends mI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const c=_p();return new Promise(((m,p)=>{const g=new ub;g.setWithCredentials(!0),g.listenOnce(cb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case bh.NO_ERROR:const b=g.getResponseJson();mt(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),m(b);break;case bh.TIMEOUT:mt(en,`RPC '${t}' ${c} timed out`),p(new _t(st.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const S=g.getStatus();if(mt(en,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const U=I?.error;if(U&&U.status&&U.message){const H=(function(lt){const Z=lt.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Z)>=0?Z:st.UNKNOWN})(U.status);p(new _t(H,U.message))}else p(new _t(st.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new _t(st.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{mt(en,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);mt(en,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(t,n,s){const o=_p(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=db(),m=fb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");mt(en,`Creating RPC '${t}' stream ${o}: ${v}`,p);const b=c.createWebChannel(v,p);this.I_(b);let S=!1,I=!1;const U=new pI({Yo:Y=>{I?mt(en,`Not sending because RPC '${t}' stream ${o} is closed:`,Y):(S||(mt(en,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),mt(en,`RPC '${t}' stream ${o} sending:`,Y),b.send(Y))},Zo:()=>b.close()}),H=(Y,lt,Z)=>{Y.listen(lt,(at=>{try{Z(at)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return H(b,ql.EventType.OPEN,(()=>{I||(mt(en,`RPC '${t}' stream ${o} transport opened.`),U.o_())})),H(b,ql.EventType.CLOSE,(()=>{I||(I=!0,mt(en,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(b))})),H(b,ql.EventType.ERROR,(Y=>{I||(I=!0,_o(en,`RPC '${t}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),U.a_(new _t(st.UNAVAILABLE,"The operation could not be completed")))})),H(b,ql.EventType.MESSAGE,(Y=>{if(!I){const lt=Y.data[0];Yt(!!lt,16349);const Z=lt,at=Z?.error||Z[0]?.error;if(at){mt(en,`RPC '${t}' stream ${o} received error:`,at);const ht=at.status;let K=(function(x){const C=Oe[x];if(C!==void 0)return Gb(C)})(ht),ot=at.message;K===void 0&&(K=st.INTERNAL,ot="Unknown error status: "+ht+" with message "+at.message),I=!0,U.a_(new _t(K,ot)),b.close()}else mt(en,`RPC '${t}' stream ${o} received:`,lt),U.u_(lt)}})),H(m,hb.STAT_EVENT,(Y=>{Y.stat===ap.PROXY?mt(en,`RPC '${t}' stream ${o} detected buffering proxy`):Y.stat===ap.NOPROXY&&mt(en,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Hm(){return typeof document<"u"?document:null}function vf(i){return new EC(i,!0)}class s1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const SE="PersistentStream";class a1{constructor(t,n,s,o,u,c,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new _t(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(SE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(mt(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yI extends a1{constructor(t,n,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=wC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Ct.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ct.min():c.readTime?Pi(c.readTime):Ct.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=gp(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=hp(p)?{documents:xC(u,p)}:{query:RC(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Yb(u,c.resumeToken);const g=dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ct.min())>0){m.readTime=$h(u,c.snapshotVersion.toTimestamp());const g=dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=CC(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=gp(this.serializer),n.removeTarget=t,this.q_(n)}}class _I extends a1{constructor(t,n,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=AC(t.writeResults,t.commitTime),s=Pi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=gp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>SC(this.serializer,s)))};this.q_(n)}}class vI{}class EI extends vI{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _t(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,mp(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _t(st.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,mp(n,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(st.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class bI{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{ya(this)&&(mt(da,"Restarting streams for network reachability change."),await(async function(p){const g=Dt(p);g.Ea.add(4),await Nu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Ef(g)})(this))}))})),this.Ra=new TI(s,o)}}async function Ef(i){if(ya(i))for(const t of i.da)await t(!0)}async function Nu(i){for(const t of i.da)await t(!1)}function o1(i,t){const n=Dt(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),mg(n)?dg(n):Vo(n).O_()&&fg(n,t))}function hg(i,t){const n=Dt(i),s=Vo(n);n.Ia.delete(t),s.O_()&&l1(n,t),n.Ia.size===0&&(s.O_()?s.L_():ya(n)&&n.Ra.set("Unknown"))}function fg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Vo(i).Y_(t)}function l1(i,t){i.Va.Ue(t),Vo(i).Z_(t)}function dg(i){i.Va=new gC({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Vo(i).start(),i.Ra.ua()}function mg(i){return ya(i)&&!Vo(i).x_()&&i.Ia.size>0}function ya(i){return Dt(i).Ea.size===0}function u1(i){i.Va=void 0}async function wI(i){i.Ra.set("Online")}async function SI(i){i.Ia.forEach(((t,n)=>{fg(i,t)}))}async function AI(i,t){u1(i),mg(i)?(i.Ra.ha(t),dg(i)):i.Ra.set("Unknown")}async function xI(i,t,n){if(i.Ra.set("Online"),t instanceof Qb&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(s){mt(da,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Yh(i,s)}else if(t instanceof xh?i.Va.Ze(t):t instanceof $b?i.Va.st(t):i.Va.tt(t),!n.isEqual(Ct.min()))try{const s=await r1(i.localStore);n.compareTo(s)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(We.EMPTY_BYTE_STRING,v.snapshotVersion)),l1(u,p);const b=new hs(v.target,p,g,v.sequenceNumber);fg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){mt(da,"Failed to raise snapshot:",s),await Yh(i,s)}}async function Yh(i,t,n){if(!Mo(t))throw t;i.Ea.add(1),await Nu(i),i.Ra.set("Offline"),n||(n=()=>r1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{mt(da,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Ef(i)}))}function c1(i,t){return t().catch((n=>Yh(i,n,t)))}async function Tf(i){const t=Dt(i),n=Ts(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zp;for(;RI(t);)try{const o=await lI(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,NI(t,o)}catch(o){await Yh(t,o)}h1(t)&&f1(t)}function RI(i){return ya(i)&&i.Ta.length<10}function NI(i,t){i.Ta.push(t);const n=Ts(i);n.O_()&&n.X_&&n.ea(t.mutations)}function h1(i){return ya(i)&&!Ts(i).x_()&&i.Ta.length>0}function f1(i){Ts(i).start()}async function CI(i){Ts(i).ra()}async function II(i){const t=Ts(i);for(const n of i.Ta)t.ea(n.mutations)}async function DI(i,t,n){const s=i.Ta.shift(),o=rg.from(s,t,n);await c1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Tf(i)}async function OI(i,t){t&&Ts(i).X_&&await(async function(s,o){if((function(c){return dC(c)&&c!==st.ABORTED})(o.code)){const u=s.Ta.shift();Ts(s).B_(),await c1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Tf(s)}})(i,t),h1(i)&&f1(i)}async function AE(i,t){const n=Dt(i);n.asyncQueue.verifyOperationInProgress(),mt(da,"RemoteStore received new credentials");const s=ya(n);n.Ea.add(3),await Nu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ef(n)}async function MI(i,t){const n=Dt(i);t?(n.Ea.delete(2),await Ef(n)):t||(n.Ea.add(2),await Nu(n),n.Ra.set("Unknown"))}function Vo(i){return i.ma||(i.ma=(function(n,s,o){const u=Dt(n);return u.sa(),new yI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:wI.bind(null,i),t_:SI.bind(null,i),r_:AI.bind(null,i),H_:xI.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),mg(i)?dg(i):i.Ra.set("Unknown")):(await i.ma.stop(),u1(i))}))),i.ma}function Ts(i){return i.fa||(i.fa=(function(n,s,o){const u=Dt(n);return u.sa(),new _I(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:CI.bind(null,i),r_:OI.bind(null,i),ta:II.bind(null,i),na:DI.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await Tf(i)):(await i.fa.stop(),i.Ta.length>0&&(mt(da,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class pg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const c=Date.now()+s,m=new pg(t,n,c,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(i,t){if(_r("AsyncQueue",`${t}: ${i}`),Mo(i))return new _t(st.UNAVAILABLE,`${t}: ${i}`);throw i}class mo{static emptySet(t){return new mo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Tt.comparator(n.key,s.key):(n,s)=>Tt.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class xE{constructor(){this.ga=new me(Tt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class wo{constructor(t,n,s,o,u,c,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new wo(t,n,mo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class VI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class kI{constructor(){this.queries=RE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Dt(n),u=o.queries;o.queries=RE(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new _t(st.ABORTED,"Firestore shutting down"))}}function RE(){return new ga((i=>Mb(i)),mf)}async function d1(i,t){const n=Dt(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new VI,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=gg(c,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&yg(n)}async function m1(i,t){const n=Dt(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function LI(i,t){const n=Dt(i);let s=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&yg(n)}function PI(i,t,n){const s=Dt(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function yg(i){i.Ca.forEach((t=>{t.next()}))}var vp,NE;(NE=vp||(vp={})).Ma="default",NE.Cache="cache";class p1{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new wo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vp.Cache}}class g1{constructor(t){this.key=t}}class y1{constructor(t){this.key=t}}class UI{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=Vb(t),this.tu=new mo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new xE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,b)=>{const S=o.get(v),I=pf(this.query,b)?b:null,U=!!S&&this.mutatedKeys.has(S.key),H=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let Y=!1;S&&I?S.data.isEqual(I.data)?U!==H&&(s.track({type:3,doc:I}),Y=!0):this.su(S,I)||(s.track({type:2,doc:I}),Y=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(m=!0)):!S&&I?(s.track({type:0,doc:I}),Y=!0):S&&!I&&(s.track({type:1,doc:S}),Y=!0,(p||g)&&(m=!0)),Y&&(I?(c=c.add(I),u=H?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,b)=>(function(I,U){const H=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:Y})}};return H(I)-H(U)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new wo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new y1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new g1(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Bt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _g="SyncEngine";class jI{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class zI{constructor(t){this.key=t,this.hu=!1}}class BI{constructor(t,n,s,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ga((m=>Mb(m)),mf),this.Iu=new Map,this.Eu=new Set,this.du=new me(Tt.comparator),this.Au=new Map,this.Ru=new og,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qI(i,t,n=!0){const s=w1(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await _1(s,t,n,!0),o}async function HI(i,t){const n=w1(i);await _1(n,t,!0,!1)}async function _1(i,t,n,s){const o=await uI(i.localStore,Li(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await FI(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&o1(i.remoteStore,o),m}async function FI(i,t,n,s,o){i.pu=(b,S,I)=>(async function(H,Y,lt,Z){let at=Y.view.ru(lt);at.Cs&&(at=await EE(H.localStore,Y.query,!1).then((({documents:N})=>Y.view.ru(N,at))));const ht=Z&&Z.targetChanges.get(Y.targetId),K=Z&&Z.targetMismatches.get(Y.targetId)!=null,ot=Y.view.applyChanges(at,H.isPrimaryClient,ht,K);return IE(H,Y.targetId,ot.au),ot.snapshot})(i,b,S,I);const u=await EE(i.localStore,t,!0),c=new UI(t,u.Qs),m=c.ru(u.documents),p=Ru.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);IE(i,n,g.au);const v=new jI(t,n,c);return i.Tu.set(t,v),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),g.snapshot}async function GI(i,t,n){const s=Dt(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!mf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await yp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hg(s.remoteStore,o.targetId),Ep(s,o.targetId)})).catch(Oo)):(Ep(s,o.targetId),await yp(s.localStore,o.targetId,!0))}async function $I(i,t){const n=Dt(i),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hg(n.remoteStore,s.targetId))}async function QI(i,t,n){const s=tD(i);try{const o=await(function(c,m){const p=Dt(c),g=ue.now(),v=m.reduce(((I,U)=>I.add(U.key)),Bt());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let U=vr(),H=Bt();return p.Ns.getEntries(I,v).next((Y=>{U=Y,U.forEach(((lt,Z)=>{Z.isValidDocument()||(H=H.add(lt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,U))).next((Y=>{b=Y;const lt=[];for(const Z of m){const at=lC(Z,b.get(Z.key).overlayedDocument);at!=null&&lt.push(new As(Z.key,at,xb(at.value.mapValue),ui.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,lt,m)})).next((Y=>{S=Y;const lt=Y.applyToLocalDocumentSet(b,H);return p.documentOverlayCache.saveOverlays(I,Y.batchId,lt)}))})).then((()=>({batchId:S.batchId,changes:Lb(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new me(zt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Cu(s,o.changes),await Tf(s.remoteStore)}catch(o){const u=gg(o,"Failed to persist write");n.reject(u)}}async function v1(i,t){const n=Dt(i);try{const s=await aI(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Yt(c.hu,14607):o.removedDocuments.size>0&&(Yt(c.hu,42227),c.hu=!1))})),await Cu(n,s,t)}catch(s){await Oo(s)}}function CE(i,t,n){const s=Dt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Dt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,b)=>{for(const S of b.Sa)S.va(m)&&(g=!0)})),g&&yg(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function YI(i,t,n){const s=Dt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new me(Tt.comparator);c=c.insert(u,rn.newNoDocument(u,Ct.min()));const m=Bt().add(u),p=new _f(Ct.min(),new Map,new me(zt),c,m);await v1(s,p),s.du=s.du.remove(u),s.Au.delete(t),vg(s)}else await yp(s.localStore,t,!1).then((()=>Ep(s,t,n))).catch(Oo)}async function KI(i,t){const n=Dt(i),s=t.batch.batchId;try{const o=await sI(n.localStore,t);T1(n,s,null),E1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cu(n,o)}catch(o){await Oo(o)}}async function XI(i,t,n){const s=Dt(i);try{const o=await(function(c,m){const p=Dt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Yt(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);T1(s,t,n),E1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Cu(s,o)}catch(o){await Oo(o)}}function E1(i,t){(i.mu.get(t)||[]).forEach((n=>{n.resolve()})),i.mu.delete(t)}function T1(i,t,n){const s=Dt(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Ep(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||b1(i,s)}))}function b1(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(hg(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),vg(i))}function IE(i,t,n){for(const s of n)s instanceof g1?(i.Ru.addReference(s.key,t),ZI(i,s)):s instanceof y1?(mt(_g,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||b1(i,s.key)):St(19791,{wu:s})}function ZI(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(mt(_g,"New document in limbo: "+n),i.Eu.add(s),vg(i))}function vg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new Tt(de.fromString(t)),s=i.fu.next();i.Au.set(s,new zI(n)),i.du=i.du.insert(n,s),o1(i.remoteStore,new hs(Li(df(n.path)),s,"TargetPurposeLimboResolution",uf.ce))}}async function Cu(i,t,n){const s=Dt(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=ug.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const v=Dt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>rt.forEach(g,(S=>rt.forEach(S.Es,(I=>v.persistence.referenceDelegate.addReference(b,S.targetId,I))).next((()=>rt.forEach(S.ds,(I=>v.persistence.referenceDelegate.removeReference(b,S.targetId,I)))))))))}catch(b){if(!Mo(b))throw b;mt(cg,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const I=v.Ms.get(S),U=I.snapshotVersion,H=I.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(S,H)}}})(s.localStore,u))}async function JI(i,t){const n=Dt(i);if(!n.currentUser.isEqual(t)){mt(_g,"User change. New user:",t.toKey());const s=await i1(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new _t(st.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Cu(n,s.Ls)}}function WI(i,t){const n=Dt(i),s=n.Au.get(t);if(s&&s.hu)return Bt().add(s.key);{let o=Bt();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function w1(i){const t=Dt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=v1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YI.bind(null,t),t.Pu.H_=LI.bind(null,t.eventManager),t.Pu.yu=PI.bind(null,t.eventManager),t}function tD(i){const t=Dt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XI.bind(null,t),t}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return rI(this.persistence,new eI,t.initialUser,this.serializer)}Cu(t){return new n1(lg.mi,this.serializer)}Du(t){return new hI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class eD extends Kh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof Qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new zC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new n1((s=>Qh.mi(s,n)),this.serializer)}}class Tp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>CE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JI.bind(null,this.syncEngine),await MI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kI})()}createDatastore(t){const n=vf(t.databaseInfo.databaseId),s=(function(u){return new gI(u)})(t.databaseInfo);return(function(u,c,m,p){return new EI(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,c,m){return new bI(s,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>CE(this.syncEngine,n,0)),(function(){return wE.v()?new wE:new fI})())}createSyncEngine(t,n){return(function(o,u,c,m,p,g,v){const b=new BI(o,u,c,m,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Dt(n);mt(da,"RemoteStore shutting down."),s.Ea.add(5),await Nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tp.provider={build:()=>new Tp};class S1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_r("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const bs="FirestoreClient";class nD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{mt(bs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(mt(bs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=gg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Fm(i,t){i.asyncQueue.verifyOperationInProgress(),mt(bs,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await i1(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function DE(i,t){i.asyncQueue.verifyOperationInProgress();const n=await iD(i);mt(bs,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>AE(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>AE(t.remoteStore,o))),i._onlineComponents=t}async function iD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){mt(bs,"Using user provided OfflineComponentProvider");try{await Fm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===st.FAILED_PRECONDITION||o.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Fm(i,new Kh)}}else mt(bs,"Using default OfflineComponentProvider"),await Fm(i,new eD(void 0));return i._offlineComponents}async function A1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(mt(bs,"Using user provided OnlineComponentProvider"),await DE(i,i._uninitializedComponentsProvider._online)):(mt(bs,"Using default OnlineComponentProvider"),await DE(i,new Tp))),i._onlineComponents}function rD(i){return A1(i).then((t=>t.syncEngine))}async function bp(i){const t=await A1(i),n=t.eventManager;return n.onListen=qI.bind(null,t.syncEngine),n.onUnlisten=GI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=HI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$I.bind(null,t.syncEngine),n}function sD(i,t,n={}){const s=new gs;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new S1({next:S=>{v.Nu(),c.enqueueAndForget((()=>m1(u,b)));const I=S.docs.has(m);!I&&S.fromCache?g.reject(new _t(st.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&p&&p.source==="server"?g.reject(new _t(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new p1(df(m.path),v,{includeMetadataChanges:!0,qa:!0});return d1(u,b)})(await bp(i),i.asyncQueue,t,n,s))),s.promise}function x1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const OE=new Map;const R1="firestore.googleapis.com",ME=!0;class VE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new _t(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R1,this.ssl=ME}else this.host=t.host,this.ssl=t.ssl??ME;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=e1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<UC)throw new _t(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}EN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _t(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _t(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _t(st.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eg{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new uN;switch(s.type){case"firstParty":return new dN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _t(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=OE.get(n);s&&(mt("ComponentProvider","Removing Datastore"),OE.delete(n),s.terminate())})(this),Promise.resolve()}}function aD(i,t,n,s={}){i=li(i,Eg);const o=No(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${n}`;o&&(ET(`https://${m}`),TT("Firestore",!0)),u.host!==R1&&u.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!la(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=nn.MOCK_USER;else{g=gA(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new _t(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(b)}i._authCredentials=new cN(new pb(g,v))}}class bf{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new bf(this.firestore,t,this._query)}}class Ve{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Au(n,Ve._jsonSchema))return new Ve(t,s||null,new Tt(de.fromString(n.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Me("string",Ve._jsonSchemaVersion),referencePath:Me("string")};class du extends bf{constructor(t,n,s){super(t,n,df(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new Tt(t))}withConverter(t){return new du(this.firestore,t,this._path)}}function So(i,t,...n){if(i=Je(i),arguments.length===1&&(t=Kp.newId()),vN("doc","path",t),i instanceof Eg){const s=de.fromString(t,...n);return Yv(s),new Ve(i,null,new Tt(s))}{if(!(i instanceof Ve||i instanceof du))throw new _t(st.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(de.fromString(t,...n));return Yv(s),new Ve(i.firestore,i instanceof du?i.converter:null,new Tt(s))}}const kE="AsyncQueue";class LE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s1(this,"async_queue_retry"),this._c=()=>{const s=Hm();s&&mt(kE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Mo(t))throw t;mt(kE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",PE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=pg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&St(47125,{Pc:PE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function PE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}function UE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class ma extends Eg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new LE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new LE(t),this._firestoreClient=void 0,await t}}}function oD(i,t){const n=typeof i=="object"?i:AT(),s=typeof i=="string"?i:Bh,o=jp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=mA("firestore");u&&aD(o,...u)}return o}function Tg(i){if(i._terminated)throw new _t(st.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||lD(i),i._firestoreClient}function lD(i){const t=i._freezeSettings(),n=(function(o,u,c,m){return new DN(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,x1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new nD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(We.fromBase64String(t))}catch(n){throw new _t(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Au(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Me("string",Gn._jsonSchemaVersion),bytes:Me("string")};class wf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new _t(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Sf{constructor(t){this._methodName=t}}class Ui{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new _t(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _t(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(Au(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Me("string",Ui._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class ji{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Au(t,ji._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ji(t.vectorValues);throw new _t(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Me("string",ji._jsonSchemaVersion),vectorValues:Me("object")};const uD=/^__.*__$/;class cD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new As(t,this.data,this.fieldMask,n,this.fieldTransforms):new xu(t,this.data,n,this.fieldTransforms)}}class N1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new As(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function C1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:i})}}class bg{constructor(t,n,s,o,u,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new bg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Xh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(C1(this.Ac)&&uD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class hD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||vf(t)}Cc(t,n,s,o=!1){return new bg({Ac:t,methodName:n,Dc:s,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I1(i){const t=i._freezeSettings(),n=vf(i._databaseId);return new hD(i._databaseId,!!t.ignoreUndefinedProperties,n)}function fD(i,t,n,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,t,n,o);Sg("Data must be an object, but it was:",c,s);const m=D1(s,c);let p,g;if(u.merge)p=new Rn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const S=wp(t,b,n);if(!c.contains(S))throw new _t(st.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);M1(v,S)||v.push(S)}p=new Rn(v),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new cD(new gn(m),p,g)}class Af extends Sf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Af}}class wg extends Sf{_toFieldTransform(t){return new rC(t.path,new cu)}isEqual(t){return t instanceof wg}}function dD(i,t,n,s){const o=i.Cc(1,t,n);Sg("Data must be an object, but it was:",o,s);const u=[],c=gn.empty();Ss(s,((p,g)=>{const v=Ag(t,p,n);g=Je(g);const b=o.yc(v);if(g instanceof Af)u.push(v);else{const S=xf(g,b);S!=null&&(u.push(v),c.set(v,S))}}));const m=new Rn(u);return new N1(c,m,o.fieldTransforms)}function mD(i,t,n,s,o,u){const c=i.Cc(1,t,n),m=[wp(t,s,n)],p=[o];if(u.length%2!=0)throw new _t(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(wp(t,u[S])),p.push(u[S+1]);const g=[],v=gn.empty();for(let S=m.length-1;S>=0;--S)if(!M1(g,m[S])){const I=m[S];let U=p[S];U=Je(U);const H=c.yc(I);if(U instanceof Af)g.push(I);else{const Y=xf(U,H);Y!=null&&(g.push(I),v.set(I,Y))}}const b=new Rn(g);return new N1(v,b,c.fieldTransforms)}function xf(i,t){if(O1(i=Je(i)))return Sg("Unsupported field value:",t,i),D1(i,t);if(i instanceof Sf)return(function(s,o){if(!C1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=xf(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Je(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ue.fromDate(s);return{timestampValue:$h(o.serializer,u)}}if(s instanceof ue){const u=new ue(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$h(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:Yb(o.serializer,s._byteString)};if(s instanceof Ve){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ji)return(function(c,m){return{mapValue:{fields:{[Sb]:{stringValue:Ab},[qh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return ng(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Xp(s)}`)})(i,t)}function D1(i,t){const n={};return _b(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ss(i,((s,o)=>{const u=xf(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function O1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ue||i instanceof Ui||i instanceof Gn||i instanceof Ve||i instanceof Sf||i instanceof ji)}function Sg(i,t,n){if(!O1(n)||!gb(n)){const s=Xp(n);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function wp(i,t,n){if((t=Je(t))instanceof wf)return t._internalPath;if(typeof t=="string")return Ag(i,t);throw Xh("Field path arguments must be of type string or ",i,!1,void 0,n)}const pD=new RegExp("[~\\*/\\[\\]]");function Ag(i,t,n){if(t.search(pD)>=0)throw Xh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new wf(...t.split("."))._internalPath}catch{throw Xh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Xh(i,t,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new _t(st.INVALID_ARGUMENT,m+i+p)}function M1(i,t){return i.some((n=>n.isEqual(t)))}class V1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(k1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gD extends V1{data(){return super.data()}}function k1(i,t){return typeof t=="string"?Ag(i,t):t instanceof wf?t._internalPath:t._delegate._internalPath}function yD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new _t(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _D{convertValue(t,n="none"){switch(Es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(vs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ss(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[qh].arrayValue?.values?.map((s=>be(s.doubleValue)));return new ji(n)}convertGeoPoint(t){return new Ui(be(t.latitude),be(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=hf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ou(t));default:return null}}convertTimestamp(t){const n=_s(t);return new ue(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=de.fromString(t);Yt(t1(s),9688,{name:t});const o=new lu(s.get(1),s.get(3)),u=new Tt(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function vD(i,t,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(t,n):i.toFirestore(t):t,s}class Gl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class aa extends V1{constructor(t,n,s,o,u,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(k1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Me("string",aa._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Rh extends aa{data(t={}){return super.data(t)}}class po{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Rh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:ED(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=po._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ED(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:i})}}function xg(i){i=li(i,Ve);const t=li(i.firestore,ma);return sD(Tg(t),i._key).then((n=>U1(t,i,n)))}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:Me("string",po._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class L1 extends _D{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,n)}}function P1(i,t,n){i=li(i,Ve);const s=li(i.firestore,ma),o=vD(i.converter,t,n);return Rg(s,[fD(I1(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,ui.none())])}function TD(i,t,n,...s){i=li(i,Ve);const o=li(i.firestore,ma),u=I1(o);let c;return c=typeof(t=Je(t))=="string"||t instanceof wf?mD(u,"updateDoc",i._key,t,n,s):dD(u,"updateDoc",i._key,t),Rg(o,[c.toMutation(i._key,ui.exists(!0))])}function bD(i){return Rg(li(i.firestore,ma),[new ig(i._key,ui.none())])}function wD(i,...t){i=Je(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||UE(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(UE(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,c,m;if(i instanceof Ve)c=li(i.firestore,ma),m=df(i._key.path),u={next:p=>{t[s]&&t[s](U1(c,i,p))},error:t[s+1],complete:t[s+2]};else{const p=li(i,bf);c=li(p.firestore,ma),m=p._query;const g=new L1(c);u={next:v=>{t[s]&&t[s](new po(c,g,p,v))},error:t[s+1],complete:t[s+2]},yD(i._query)}return(function(g,v,b,S){const I=new S1(S),U=new p1(v,I,b);return g.asyncQueue.enqueueAndForget((async()=>d1(await bp(g),U))),()=>{I.Nu(),g.asyncQueue.enqueueAndForget((async()=>m1(await bp(g),U)))}})(Tg(c),m,o,u)}function Rg(i,t){return(function(s,o){const u=new gs;return s.asyncQueue.enqueueAndForget((async()=>QI(await rD(s),o,u))),u.promise})(Tg(i),t)}function U1(i,t,n){const s=n.docs.get(t._key),o=new L1(i);return new aa(i,o,t._key,s,new Gl(n.hasPendingWrites,n.fromCache),t.converter)}function j1(){return new wg("serverTimestamp")}(function(t,n=!0){(function(o){Do=o})(Co),yo(new ua("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new ma(new hN(s.getProvider("auth-internal")),new mN(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _t(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ms(Fv,Gv,t),ms(Fv,Gv,"esm2020")})();const SD={apiKey:"AIzaSyDJLZ07IsSV0efiWNzZDvSDltscm7yFMGc",authDomain:"flowmetrics-a7669.firebaseapp.com",projectId:"flowmetrics-a7669",storageBucket:"flowmetrics-a7669.appspot.com",messagingSenderId:"13206232192",appId:"1:13206232192:web:97d4b158974350ed5ada65"},z1=Ev().length?Ev()[0]:ST(SD),Ll=oN(z1),Ao=oD(z1),B1=Rt.createContext(null);function AD({children:i}){const[t,n]=Rt.useState(null),[s,o]=Rt.useState(!0);Rt.useEffect(()=>{const g=K2(Ll,v=>{n(v??null),o(!1)});return()=>g()},[]);async function u(g,v){await $2(Ll,g,v)}async function c(g,v){return await G2(Ll,g,v)}async function m(){await X2(Ll),n(null)}async function p(g){await F2(Ll,g)}return T.jsx(B1.Provider,{value:{user:t,authLoading:s,signInWithEmail:u,signUpWithEmail:c,signOut:m,resetPassword:p},children:i})}function xD(){const i=Rt.useContext(B1);if(!i)throw new Error("useFirebaseAuth must be used inside FirebaseAuthProvider");return i}async function RD(i){if(!i)return null;const t=So(Ao,"workspaces",i),n=await xg(t);return n.exists()?n.data().state??null:null}async function ND(i,t){if(!i)return;const n=So(Ao,"workspaces",i);await P1(n,{state:t,updatedAt:j1()},{merge:!0})}const eu=["","","","","","","","","",""];function CD(i=""){let t=0;for(let n=0;n<i.length;n++)t=(t<<5)-t+i.charCodeAt(n),t|=0;return Math.abs(t)}function q1(i,t="Budgeteer"){if(!i)return t;const n=i.trim();return n&&n.replace(/[^a-zA-Z0-9_\- ]+/g,"").slice(0,32)||t}function ID(i){const t=i?.email?.split("@")[0]??"",n=q1(t,"Budgeteer"),s=i?.uid||i?.email||n||String(Date.now()),o=CD(s)%eu.length;return{username:n,avatarEmoji:eu[o]}}async function DD(i){const t=i?.uid;if(!t)return null;const n=So(Ao,"users",t),s=await xg(n);if(s.exists())return s.data();const o=ID(i);return await P1(n,{...o,createdAt:j1()},{merge:!0}),o}async function OD(i,{username:t,avatarEmoji:n}={}){if(!i)throw new Error("Missing uid");const s={};typeof t=="string"&&(s.username=q1(t)),typeof n=="string"&&(s.avatarEmoji=n);const o=So(Ao,"users",i);return await TD(o,s),(await xg(o)).data()}function MD({label:i,active:t,onClick:n}){return T.jsx("button",{onClick:n,className:`px-3 py-1 rounded-full border text-xs transition
      ${t?"border-cyan-400 bg-cyan-500/10 text-cyan-200":"border-slate-600/60 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200"}`,children:i})}const Sp=[{key:"dark",label:"Cyber Dark",description:"Charcoal with neon cyan highlights",shellClass:"bg-[#05060A] text-slate-100",headerClass:"border-[#1f2937] bg-[#05060F]/90",pillClass:"border-slate-600/70 bg-black/20 hover:bg-black/40",previewGradient:"from-[#020617] via-[#05060f] to-[#020617]"},{key:"light",label:"Soft Light",description:"Warm whites with slate ink",shellClass:"bg-slate-50 text-slate-900",headerClass:"border-slate-200 bg-white/80",pillClass:"border-slate-300 bg-white/70 hover:bg-slate-100",previewGradient:"from-white via-slate-100 to-slate-200"},{key:"midnight",label:"Midnight Pulse",description:"Indigo mist with electric purple",shellClass:"bg-[#070718] text-indigo-100",headerClass:"border-[#191d3a] bg-gradient-to-r from-[#0f1032cc] to-[#1b0d3fcc]",pillClass:"border-indigo-600/50 bg-indigo-900/40 hover:bg-indigo-900/70",previewGradient:"from-[#0b1433] via-[#25124f] to-[#3b0f49]"},{key:"aurora",label:"Aurora Mist",description:"Deep teal with aurora glow",shellClass:"bg-gradient-to-br from-[#041b1f] via-[#082831] to-[#041b1f] text-emerald-50",headerClass:"border-emerald-900/40 bg-[#051f25]/90",pillClass:"border-emerald-500/40 bg-emerald-900/40 hover:bg-emerald-900/70",previewGradient:"from-[#052528] via-[#0b4b4f] to-[#0f766e]"},{key:"crimson",label:"Crimson Bloom",description:"Deep burgundy with neon rose edges",shellClass:"bg-gradient-to-br from-[#19070a] via-[#2b0d12] to-[#19070a] text-rose-50",headerClass:"border-rose-900/40 bg-[#2b0d12]/90",pillClass:"border-rose-500/50 bg-rose-900/40 hover:bg-rose-900/70",previewGradient:"from-[#300911] via-[#5b0a1c] to-[#be123c]"}];function H1(i){return Sp.find(t=>t.key===i)||Sp[0]}function VD({option:i,active:t,onSelect:n}){return T.jsxs("button",{type:"button",onClick:()=>n(i.key),className:`w-full text-left rounded-xl border px-3 py-2 transition ${t?"border-cyan-400 bg-cyan-500/10":"border-white/10 hover:border-cyan-400/60"}`,children:[T.jsx("div",{className:`h-10 rounded-lg bg-gradient-to-r ${i.previewGradient} mb-2`}),T.jsx("p",{className:"text-sm font-semibold text-white",children:i.label}),T.jsx("p",{className:"text-[11px] text-slate-300",children:i.description})]})}function kD({value:i,onChange:t,variant:n="default",onAfterSelect:s=()=>{}}){const[o,u]=Rt.useState(!1),c=Rt.useMemo(()=>H1(i),[i]),m=n==="menu";function p(b){t?.(b),u(!1),s?.()}const g=m?"w-full text-left px-3 py-2 text-slate-200 hover:bg-slate-800/80 rounded-md transition":`px-2 py-1 rounded border transition ${c.pillClass}`,v=`absolute ${m?"left-0":"right-0"} ${m?"mt-1":"mt-2"} w-64 rounded-2xl border border-white/15 bg-[#05060F]/95 p-3 shadow-xl backdrop-blur z-50 transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`;return T.jsxs("div",{className:`relative text-xs ${m?"w-full":""}`,children:[T.jsxs("button",{type:"button",onClick:()=>u(b=>!b),className:g,children:["Theme: ",c.label]}),T.jsx("div",{className:v,children:T.jsx("div",{className:"space-y-2",children:Sp.map(b=>T.jsx(VD,{option:b,active:b.key===c.key,onSelect:p},b.key))})})]})}function LD({customizeMode:i,setCustomizeMode:t,onReset:n,onSignOut:s,themeValue:o,onChangeTheme:u=()=>{}}){const[c,m]=Rt.useState(!1);return T.jsxs("div",{className:"relative",children:[T.jsx("button",{type:"button",className:"flex items-center justify-center w-9 h-9 rounded-full border border-slate-600/70 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200 transition",onClick:()=>m(p=>!p),children:T.jsxs("span",{className:"relative flex flex-col justify-between w-4 h-3",children:[T.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${c?"translate-y-[5px] rotate-45":""}`}),T.jsx("span",{className:`h-[2px] rounded-full bg-current transition-opacity duration-200 ${c?"opacity-0":"opacity-100"}`}),T.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${c?"-translate-y-[5px] -rotate-45":""}`})]})}),T.jsxs("div",{className:`absolute right-0 mt-2 w-52 bg-[#0B0C14] border border-slate-700/70 rounded-lg shadow-lg z-50 text-xs origin-top-right transform transition-all duration-150 ${c?"opacity-100 scale-100 translate-y-0 pointer-events-auto":"opacity-0 scale-95 -translate-y-1 pointer-events-none"}`,children:[T.jsx("div",{className:"px-2 py-2 border-b border-slate-800/70",children:T.jsx(kD,{value:o,onChange:u,variant:"menu",onAfterSelect:()=>m(!1)})}),T.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:()=>{t(p=>!p),m(!1)},children:i?"Finish Customizing":"Customize Layout"}),T.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-rose-300",onClick:()=>{m(!1),n()},children:"Reset Data"}),T.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:async()=>{m(!1);try{await s()}catch(p){console.error("Sign out failed:",p)}},children:"Sign Out"})]})]})}function PD({onSignIn:i,onSignUp:t,onResetPassword:n,loading:s}){const[o,u]=le.useState("signin"),[c,m]=le.useState(""),[p,g]=le.useState(""),[v,b]=le.useState(null),[S,I]=le.useState(null),[U,H]=le.useState(!1),[Y,lt]=le.useState(!1);async function Z(){if(b(null),I(null),!c){b("Please enter your email first, then click 'Forgot password?'.");return}if(n){lt(!0);try{await n(c),I("If an account exists with that email, a reset link has been sent. Check your inbox.")}catch(ht){b(ht.message||"Failed to start password reset.")}finally{lt(!1)}}}async function at(ht){ht.preventDefault(),b(null),I(null),H(!0);try{if(o==="signin")await i(c,p);else{const K=await t(c,p),ot=K?.user||null,N=K?.session||null;I(ot&&!N?"Account created! Check your email and click the confirmation link.":"Account created!")}}catch(K){b(K.message||"Something went wrong.")}finally{H(!1)}}return s?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-200",children:T.jsx("div",{className:"text-sm text-slate-400",children:"Checking session..."})}):T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-100 px-4",children:T.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-2xl border border-white/10 bg-black/30 p-8 shadow-[0_20px_50px_rgba(8,8,12,0.8)]",children:[T.jsxs("div",{className:"space-y-2 text-center",children:[T.jsx("p",{className:"text-xs tracking-[0.4em] uppercase text-cyan-300",children:"Budget Center"}),T.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Access portal"}),T.jsx("p",{className:"text-sm text-slate-400",children:o==="signin"?"Sign in to load your encrypted budgets.":"Create an account to sync your budgets and goals across devices."})]}),T.jsxs("div",{className:"grid grid-cols-2 rounded-full bg-white/5 p-1 text-sm",children:[T.jsx("button",{type:"button",onClick:()=>u("signin"),className:`rounded-full py-2 font-medium transition ${o==="signin"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Sign in"}),T.jsx("button",{type:"button",onClick:()=>u("signup"),className:`rounded-full py-2 font-medium transition ${o==="signup"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Create account"})]}),v&&T.jsx("div",{className:"rounded border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-100",children:v}),S&&T.jsx("div",{className:"rounded border border-emerald-400/60 bg-emerald-400/10 px-3 py-2 text-sm text-emerald-100",children:S}),T.jsxs("form",{onSubmit:at,className:"space-y-4",children:[T.jsxs("label",{className:"block text-sm",children:[T.jsx("span",{className:"text-slate-300",children:"Email"}),T.jsx("input",{type:"email",required:!0,value:c,onChange:ht=>m(ht.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"you@email.com",autoComplete:"email"})]}),T.jsxs("label",{className:"block text-sm",children:[T.jsx("span",{className:"text-slate-300",children:"Password"}),T.jsx("input",{type:"password",required:!0,minLength:6,value:p,onChange:ht=>g(ht.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"",autoComplete:o==="signin"?"current-password":"new-password"})]}),T.jsx("button",{type:"submit",disabled:U,className:"w-full rounded-lg bg-cyan-500 py-2 text-sm font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:U?"Please wait...":o==="signin"?"Sign in":"Create account"})]}),T.jsx("div",{className:"text-center text-sm text-slate-400",children:T.jsx("button",{type:"button",className:"font-medium text-cyan-300 hover:text-cyan-200 disabled:opacity-60",onClick:Z,disabled:Y,children:Y?"Sending reset link...":"Forgot password?"})})]})})}function UD({message:i,variant:t="info",actionLabel:n,onAction:s,onClose:o}){const u=t==="success";return T.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-xs sm:max-w-sm",children:T.jsxs("div",{className:`toast-enter flex items-start gap-3 rounded-xl border px-4 py-3 text-xs shadow-xl bg-[#05060F]/95 backdrop-blur
        ${u?"border-emerald-400/80 text-emerald-100":"border-cyan-400/80 text-cyan-100"}`,children:[T.jsx("div",{className:"mt-[2px] text-lg",children:u?"":""}),T.jsxs("div",{className:"flex-1 space-y-1",children:[T.jsx("p",{className:"leading-snug",children:i}),n&&s&&T.jsxs("button",{onClick:s,className:"inline-flex items-center gap-1 text-[0.7rem] mt-1 px-2 py-1 rounded-full border border-cyan-400/70 text-cyan-100 hover:bg-cyan-500/10 hover:border-cyan-300 transition",children:[T.jsx("span",{children:n}),T.jsx("span",{className:"text-[0.75rem]",children:""})]})]}),o&&T.jsx("button",{className:"ml-1 text-[0.7rem] text-slate-500 hover:text-slate-200",onClick:o,children:""})]})})}function jD({emoji:i,active:t,onSelect:n}){return T.jsx("button",{type:"button",onClick:()=>n(i),className:`w-9 h-9 text-lg rounded-full border transition flex items-center justify-center
      ${t?"border-cyan-400/80 bg-cyan-500/10":"border-slate-600/60 bg-black/30 hover:border-cyan-400/40"}`,children:i})}function zD({profile:i,email:t,loading:n,onUpdateProfile:s}){const[o,u]=Rt.useState(!1),[c,m]=Rt.useState(i?.username??""),[p,g]=Rt.useState(i?.avatar_emoji??eu[0]),[v,b]=Rt.useState(!1);Rt.useEffect(()=>{m(i?.username??""),g(i?.avatar_emoji??eu[0])},[i?.username,i?.avatar_emoji]);async function S(H){if(H.preventDefault(),!s)return;b(!0);const Y=await s({username:c,avatar_emoji:p});b(!1),Y&&u(!1)}const I=i?.avatar_emoji??"",U=i?.username||"Budgeteer";return T.jsxs("div",{className:"relative",children:[T.jsxs("button",{type:"button",onClick:()=>u(H=>!H),className:"flex items-center gap-2 rounded-full border border-slate-600/70 bg-black/20 px-2 py-1 text-left hover:border-cyan-400/60 transition",children:[T.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-cyan-500/10 text-lg",children:I}),T.jsxs("span",{className:"flex flex-col leading-tight text-xs text-slate-300",children:[T.jsx("span",{className:"text-cyan-200",children:U}),T.jsx("span",{className:"text-[10px] text-slate-500",children:n?"Syncing...":"Profile"})]})]}),T.jsxs("form",{className:`absolute right-0 mt-2 w-64 rounded-xl border border-slate-700/70 bg-[#05060F] p-4 text-xs shadow-xl transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,onSubmit:S,children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-[11px] text-slate-400",children:t?`Signed in as ${t}`:"Signed in"}),T.jsxs("label",{className:"block",children:[T.jsx("span",{className:"text-slate-300",children:"Display name"}),T.jsx("input",{type:"text",value:c,onChange:H=>m(H.target.value),placeholder:"Budgeteer",className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-xs text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none"})]})]}),T.jsxs("div",{className:"mt-3",children:[T.jsx("p",{className:"mb-2 text-slate-300",children:"Avatar"}),T.jsx("div",{className:"grid grid-cols-5 gap-2",children:eu.map(H=>T.jsx(jD,{emoji:H,active:p===H,onSelect:g},H))})]}),T.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[T.jsx("button",{type:"button",className:"text-[11px] text-slate-500 hover:text-slate-200",onClick:()=>u(!1),children:"Cancel"}),T.jsx("button",{type:"submit",disabled:v,className:"rounded-full bg-cyan-500 px-3 py-1 text-[11px] font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:v?"Saving...":"Save changes"})]})]})]})}function oi({title:i,children:t}){return T.jsxs("section",{className:"card-surface border rounded-xl p-4",children:[i&&T.jsx("h2",{className:"text-xs font-semibold tracking-[0.25em] text-slate-400 mb-3 uppercase",children:i}),t]})}function Ng({value:i=0}){const t=Math.max(0,Math.min(100,Number.isNaN(i)?0:i));return T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress-bar-filled",style:{width:`${t}%`},children:t>2&&T.jsx("div",{className:"progress-shine shine"})})})}function BD(i){switch(i){case"sunset":return"bg-gradient-to-br from-orange-500/70 via-pink-500/60 to-rose-500/60 border-rose-400/60";case"forest":return"bg-gradient-to-br from-emerald-900/70 via-emerald-800/60 to-emerald-700/60 border-emerald-400/60";case"midnight":return"bg-gradient-to-br from-indigo-900/70 via-purple-900/60 to-indigo-900/70 border-indigo-400/60";case"cyber":default:return"bg-[#090a11] border-slate-800"}}function qD({goal:i,onClick:t}){const n=Number(i?.saved??i?.current??0),s=Number(i?.target??0),o=Number(i?.monthlyPlan??0),u=i?.icon||i?.emoji||"",c=i?.name||"Untitled Goal",m=s>0?Math.min(100,n/s*100):0,p=BD(i?.theme);return T.jsxs("button",{onClick:t,className:`text-left rounded-xl p-3 hover:border-cyan-400/70 hover:shadow-[0_0_18px_rgba(34,211,238,0.35)] transition ${p}`,children:[T.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-lg",children:u}),T.jsx("span",{className:"text-sm font-medium text-slate-100",children:c})]}),T.jsxs("span",{className:"text-[0.7rem] text-slate-400",children:["Plan: $",o.toFixed(0),"/mo"]})]}),T.jsxs("div",{className:"text-xs text-slate-400 mb-1",children:["$",n.toFixed(0)," / $",s.toFixed(0)]}),T.jsx(Ng,{value:m})]})}const HD="modulepreload",FD=function(i){return"/budget-app/"+i},jE={},GD=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),m=c?.nonce||c?.getAttribute("nonce");o=p(n.map(g=>{if(g=FD(g),g in jE)return;jE[g]=!0;const v=g.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":HD,v||(S.as="script"),S.crossOrigin="",S.href=g,m&&S.setAttribute("nonce",m),document.head.appendChild(S),v)return new Promise((I,U)=>{S.addEventListener("load",I),S.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},$D=[{key:"chase",label:"Chase"},{key:"capitalone",label:"Capital One"},{key:"wellsfargo",label:"Wells Fargo"},{key:"americanexpress",label:"Amex"},{key:"discover",label:"Discover"},{key:"navyfederal",label:"Navy Federal"},{key:"mountainamerica",label:"Mountain America"},{key:"bankofamerica",label:"Bank of America"},{key:"usbank",label:"US Bank"},{key:"pnc",label:"PNC"}];function QD(i=""){return i.toLowerCase().replace(/[^a-z0-9]/g,"")}function zE(i="",t=""){const n=QD((t||"")+" "+i.slice(0,4e3));for(const s of $D)if(n.includes(s.key))return s.label;return null}function mu(i){const t=[];let n="",s=!1;for(let o=0;o<i.length;o++){const u=i[o];if(u==='"'){s=!s;continue}u===","&&!s?(t.push(n),n=""):n+=u}return t.push(n),t}function Nh(i){if(i==null)return NaN;let t=String(i).trim();t=t.replace(/"/g,"");let n=!1;if(t.startsWith("(")&&t.endsWith(")")&&(n=!0,t=t.slice(1,-1)),t=t.replace(/[$,]/g,""),t==="")return NaN;const s=Number(t);return Number.isNaN(s)?NaN:n?-s:s}function F1(i,t){const n=(i||"").toLowerCase();return t>0?n.includes("payroll")||n.includes("direct deposit")?"Income  Paycheck":n.includes("refund")||n.includes("rebate")?"Income  Refund":"Income  Other":n.includes("uber")||n.includes("lyft")||n.includes("taxi")?"Transport  Rideshare":n.includes("shell")||n.includes("chevron")||n.includes("exxon")||n.includes("gas")||n.includes("fuel")?"Transport  Gas":n.includes("walmart")||n.includes("costco")||n.includes("grocery")||n.includes("smith")||n.includes("kroger")?"Groceries":n.includes("starbucks")||n.includes("coffee")||n.includes("mcdonald")||n.includes("taco bell")||n.includes("restaurant")||n.includes("cafe")?"Food & Dining":n.includes("netflix")||n.includes("spotify")||n.includes("hulu")||n.includes("disney")||n.includes("subscription")||n.includes("prime")?"Subscriptions":n.includes("rent")||n.includes("landlord")||n.includes("mortgage")?"Housing  Rent/Mortgage":n.includes("power")||n.includes("electric")||n.includes("water")||n.includes("utility")||n.includes("utilities")?"Utilities":n.includes("gym")||n.includes("fitness")?"Health & Fitness":n.includes("insurance")||n.includes("geico")||n.includes("allstate")?"Insurance":n.includes("amazon")||n.includes("target")||n.includes("best buy")||n.includes("shop")?"Shopping":"Other"}const Pl={date:["date","transaction date","posted date","posting date","trans date"],description:["description","details","memo","payee","transaction description","narrative"],debit:["debit","withdrawal","outflow","money out","charge"],credit:["credit","deposit","inflow","money in","payment","credit amount"],amount:["amount","amt","transaction amount","value"]};function YD(i){return mu(i).map(n=>n.trim()).map(n=>{let s=n.toLowerCase().replace(/"/g,"");return s=s.replace(/\s+/g," ").trim(),s})}function Ul(i,t){return i.findIndex(n=>t.includes(n))}function G1(i){if(!i)return"";let t=String(i).trim().replace(/"/g,"");if(!t)return"";let n=t.match(/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/);if(n){const[,o,u,c]=n;return`${o}-${u.padStart(2,"0")}-${c.padStart(2,"0")}`}if(n=t.match(/^(\d{4})(\d{2})(\d{2})$/),n){const[,o,u,c]=n;return`${o}-${u}-${c}`}if(n=t.match(/^(\d{1,2})[\/.-](\d{1,2})[\/.-](\d{2,4})$/),n){let[,o,u,c]=n,m=c.length===2?Number(c)>=70?`19${c}`:`20${c}`:c;const p=Number(o),g=Number(u);let v,b;return p>12&&g<=12?(b=p,v=g):(v=p,b=g),`${m}-${String(v).padStart(2,"0")}-${String(b).padStart(2,"0")}`}if(n=t.match(/^(\d{1,2})\s+([A-Za-z]{3,})\s+(\d{2,4})$/),n){const[,o,u,c]=n,m=c.length===2?`20${c}`:c,g=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(u.toLowerCase().slice(0,3));if(g>=0){const v=String(g+1).padStart(2,"0"),b=String(o).padStart(2,"0");return`${m}-${v}-${b}`}}if(n=t.match(/^([A-Za-z]{3,})\s+(\d{1,2}),?\s+(\d{2,4})$/),n){const[,o,u,c]=n,m=c.length===2?`20${c}`:c,g=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(o.toLowerCase().slice(0,3));if(g>=0){const v=String(g+1).padStart(2,"0"),b=String(u).padStart(2,"0");return`${m}-${v}-${b}`}}const s=new Date(t);return Number.isNaN(s.getTime())?t:s.toISOString().slice(0,10)}function KD(i){const t=i.split(/\r?\n/).find(o=>o.trim().length>0)||"";if(!t)return[];const n=mu(t).map(o=>o.trim().replace(/^"|"$/g,""));return n.some(o=>/[a-zA-Z]/.test(o))?n.map((o,u)=>o||`Column ${u+1}`):n.map((o,u)=>`Column ${u+1}`)}function XD(i){const t=i.split(/\r?\n/).filter(S=>S.trim()!=="");if(t.length===0)return[];let n=YD(t[0]),s=1;function o(S){const I=Ul(S,Pl.date),U=Ul(S,Pl.description),H=Ul(S,Pl.amount),Y=Ul(S,Pl.debit),lt=Ul(S,Pl.credit);return{dateIndex:I,descIndex:U,amountIndex:H,debitIndex:Y,creditIndex:lt}}let{dateIndex:u,descIndex:c,amountIndex:m,debitIndex:p,creditIndex:g}=o(n);if(u<0&&c<0&&m<0&&p<0&&g<0){const S=mu(t[0]).map(U=>U.trim());n=S.map((U,H)=>H===0?"date":H===1?"description":H===2||H===S.length-1?"amount":`col${H+1}`),s=0,{dateIndex:u,descIndex:c,amountIndex:m,debitIndex:p,creditIndex:g}=o(n)}const b=[];for(let S=s;S<t.length;S++){const I=t[S],U=mu(I).map(ht=>ht.trim());if(U.length===0||U.every(ht=>ht===""))continue;const H=u>=0?U[u]:"",Y=G1(H),lt=c>=0?U[c]:"";let Z=NaN;if(m>=0)Z=Nh(U[m]);else if(p>=0||g>=0){const ht=p>=0?Nh(U[p]):0;Z=(g>=0?Nh(U[g]):0)-ht}if(!Y&&!lt&&Number.isNaN(Z)||typeof Z!="number"||Number.isNaN(Z))continue;const at=F1(lt,Z);b.push({date:Y,description:lt,amount:Z,category:at})}return b}function ZD(i,{dateIndex:t=null,descIndex:n=null,amountIndex:s=null}={}){const o=i.split(/\r?\n/).filter(c=>c.trim()!=="");if(o.length===0)return[];const u=[];for(let c=1;c<o.length;c++){const m=o[c],p=mu(m).map(U=>U.trim());if(p.length===0||p.every(U=>U===""))continue;const g=t!=null&&t>=0?p[t]:"",v=G1(g),b=n!=null&&n>=0?p[n]:"";let S=NaN;if(s!=null&&s>=0&&(S=Nh(p[s])),!v&&!b&&Number.isNaN(S)||typeof S!="number"||Number.isNaN(S))continue;const I=F1(b,S);u.push({date:v,description:b,amount:S,category:I})}return u}function JD(i){return new Promise((t,n)=>{const s=new FileReader;s.onload=o=>t(String(o.target?.result||"")),s.onerror=()=>n(new Error("Failed to read file")),s.readAsText(i)})}function fh(i){i.preventDefault(),i.stopPropagation()}function WD(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`f-${Date.now()}-${Math.random().toString(16).slice(2)}`}function tO(i){return(i?.name||"").toLowerCase().endsWith(".pdf")||i?.type==="application/pdf"?"pdf":"csv"}function eO(i){return{id:WD(),file:i,name:i?.name||"unknown",kind:tO(i),detectedBank:"",rawText:"",columns:[],mapping:{date:"",description:"",amount:""},previewRows:[],status:"pending",error:"",importedCount:0,createdAt:Date.now()}}function nO({onTransactionsParsed:i=()=>{}}){const[t,n]=le.useState([]),[s,o]=le.useState(null),[u,c]=le.useState(!1),m=le.useMemo(()=>t.find(K=>K.id===s)||null,[t,s]),p=t.filter(K=>K.status==="imported").length,g=t.filter(K=>K.status==="ready").length,v=t.filter(K=>K.status==="error").length;function b(K=[]){const ot=Array.from(K||[]).filter(Boolean);if(!ot.length)return;const N=ot.map(eO);n(x=>{const C=new Set(x.map(D=>`${D.name}::${D.file?.size}::${D.file?.lastModified}`)),O=N.filter(D=>{const L=`${D.name}::${D.file?.size}::${D.file?.lastModified}`;return C.has(L)?!1:(C.add(L),!0)});return[...x,...O]}),o(x=>x||N[0].id)}async function S(K){n(N=>N.map(x=>x.id===K?{...x,status:"parsing",error:""}:x));const ot=t.find(N=>N.id===K);if(ot)try{if(ot.kind==="pdf"){const{parsePdfTransactions:D}=await GD(async()=>{const{parsePdfTransactions:P}=await import("./pdf-CRD54DSY.js");return{parsePdfTransactions:P}},[]),{text:L,rows:R}=await D(ot.file),yt=zE(L,ot.name||""),X=Array.isArray(R)?R:[];n(P=>P.map(G=>G.id!==K?G:X.length?{...G,rawText:L||"",detectedBank:yt||"",previewRows:X,columns:[],status:"ready",error:""}:{...G,rawText:L||"",detectedBank:yt||"",previewRows:[],columns:[],status:"error",error:"We couldn't detect any transactions in that PDF. Try a different export or use CSV."}));return}const N=await JD(ot.file),x=zE(N,ot.name||""),C=XD(N),O=KD(N);n(D=>D.map(L=>L.id!==K?L:C.length?{...L,rawText:N,detectedBank:x||"",columns:O,previewRows:C,status:"ready",error:""}:{...L,rawText:N,detectedBank:x||"",columns:O,previewRows:[],status:"needsMapping",error:"We couldn't automatically detect the right columns. Use the mapping controls and click Re-parse."}))}catch(N){console.error("Parse error:",N),n(x=>x.map(C=>C.id===K?{...C,status:"error",error:C.kind==="pdf"?"We couldn't read this PDF. Try downloading it as a CSV or a different PDF format.":"We couldn't understand this CSV. Try a different export format."}:C))}}le.useEffect(()=>{const K=t.find(N=>N.status==="pending");if(!K)return;const ot=setTimeout(()=>S(K.id),0);return()=>clearTimeout(ot)},[t]);function I(K,ot){m&&n(N=>N.map(x=>x.id===m.id?{...x,mapping:{...x.mapping,[K]:ot}}:x))}function U(){if(!m?.rawText)return;const K={dateIndex:m.mapping.date===""?null:Number.parseInt(m.mapping.date,10),descIndex:m.mapping.description===""?null:Number.parseInt(m.mapping.description,10),amountIndex:m.mapping.amount===""?null:Number.parseInt(m.mapping.amount,10)},ot=ZD(m.rawText,K);if(!ot.length){n(N=>N.map(x=>x.id===m.id?{...x,previewRows:[],status:"needsMapping",error:"No rows were parsed with that mapping. Try different columns or reset to auto-detect."}:x));return}n(N=>N.map(x=>x.id===m.id?{...x,previewRows:ot,status:"ready",error:""}:x))}function H(K){n(ot=>{const N=ot.find(C=>C.id===K);if(!N||N.status!=="ready")return ot;const x=ot.map(C=>C.id===K?{...C,status:"importing"}:C);return queueMicrotask(()=>{try{const C={sourceText:N.rawText,detectedBank:N.detectedBank,fileName:N.name,kind:N.kind};i(N.previewRows,{rawText:N.rawText,bank:N.detectedBank||"",filename:N.name||"",kind:N.kind||"csv"}),n(O=>O.map(D=>D.id===K?{...D,status:"imported",importedCount:N.previewRows.length,error:""}:D))}catch(C){console.error("Import error:",C),n(O=>O.map(D=>D.id===K?{...D,status:"error",error:C?.message||"Import failed."}:D))}}),x})}async function Y(){const K=t.filter(ot=>ot.status==="ready");for(const ot of K)await new Promise(N=>setTimeout(N,0)),H(ot.id)}function lt(K){if(n(ot=>ot.filter(N=>N.id!==K)),s===K){const ot=t.filter(N=>N.id!==K);o(ot[0]?.id||null)}}function Z(){n([]),o(null),c(!1)}const at=Math.min(10,m?.previewRows?.length||0),ht=(m?.previewRows||[]).reduce((K,ot)=>K+(typeof ot.amount=="number"?ot.amount:0),0);return T.jsxs("div",{className:`space-y-2 text-xs rounded-xl border p-3 transition ${u?"border-cyan-400/70 bg-cyan-500/5":"border-slate-800 bg-slate-950/30"}`,onDragEnter:K=>{fh(K),c(!0)},onDragOver:K=>{fh(K),c(!0)},onDragLeave:K=>{fh(K),c(!1)},onDrop:K=>{fh(K),c(!1),b(K.dataTransfer?.files||[])},children:[T.jsxs("p",{className:"text-slate-400",children:["Upload"," ",T.jsx("span",{className:"text-cyan-300 font-semibold",children:".csv"})," or"," ",T.jsx("span",{className:"text-cyan-300 font-semibold",children:".pdf"})," bank statements. You can drop multiple files here. Click a file to preview/match columns before importing."]}),T.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[T.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md border border-cyan-400/70 text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 cursor-pointer transition",children:[T.jsx("span",{children:"Choose file(s)"}),T.jsx("input",{type:"file",accept:".csv,.pdf,text/csv,application/pdf,text/plain",multiple:!0,className:"hidden",onChange:K=>{b(K.target.files||[]),K.target.value=""}})]}),t.length>0&&T.jsxs(T.Fragment,{children:[T.jsxs("button",{type:"button",onClick:Y,disabled:g===0,className:"px-3 py-1.5 rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:["Import all ready (",g,")"]}),T.jsx("button",{type:"button",onClick:Z,className:"px-3 py-1.5 rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Clear"}),T.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["Imported"," ",T.jsx("span",{className:"text-slate-200 font-mono",children:p}),"/",T.jsx("span",{className:"text-slate-200 font-mono",children:t.length}),v?T.jsxs("span",{className:"ml-2 text-rose-400",children:["(",v," error",v===1?"":"s",")"]}):null]})]})]}),t.length>0&&T.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:t.slice().sort((K,ot)=>K.createdAt-ot.createdAt).map(K=>{const ot=K.id===s,N=K.status==="imported"?"text-emerald-300":K.status==="ready"?"text-cyan-300":K.status==="error"?"text-rose-400":K.status==="needsMapping"?"text-amber-300":"text-slate-400";return T.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-md border text-[0.7rem] whitespace-nowrap ${ot?"border-cyan-400/70 bg-cyan-500/10 text-cyan-200":"border-slate-700 text-slate-300 hover:border-slate-500"}`,children:[T.jsxs("button",{type:"button",onClick:()=>o(K.id),children:[K.name,T.jsxs("span",{className:`ml-2 ${N}`,children:[" ",K.status]})]}),T.jsx("button",{type:"button",className:"ml-1 text-slate-500 hover:text-slate-200",title:"Remove",onClick:()=>lt(K.id),children:""})]},K.id)})}),m&&T.jsxs("div",{className:"mt-1 space-y-2",children:[T.jsxs("div",{className:"rounded-md border border-slate-800 bg-black/20 p-2 text-[0.7rem] text-slate-400",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-slate-200 font-semibold",children:m.name})," ",T.jsxs("span",{className:"text-slate-500",children:["(",m.kind.toUpperCase(),")"]})]}),T.jsxs("div",{className:"text-slate-500",children:["Rows:"," ",T.jsx("span",{className:"text-slate-200 font-mono",children:m.previewRows?.length||0}),m.detectedBank?T.jsxs(T.Fragment,{children:[" "," Bank:"," ",T.jsx("span",{className:"text-cyan-300 font-semibold",children:m.detectedBank})]}):null]})]}),m.error?T.jsx("div",{className:"mt-1 text-rose-400",children:m.error}):null]}),m.kind==="csv"&&m.rawText&&m.columns.length>0&&T.jsxs("div",{className:"border border-slate-700 rounded-md p-2 space-y-2",children:[T.jsx("p",{className:"text-[0.7rem] text-slate-400",children:"If dates/amounts look wrong, override the mapping:"}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:["date","description","amount"].map(K=>T.jsxs("label",{className:"flex flex-col gap-1 text-[0.7rem]",children:[T.jsx("span",{className:"uppercase tracking-[0.16em] text-slate-500",children:K}),T.jsxs("select",{className:"bg-[#05060F] border border-slate-700 rounded px-2 py-1 text-slate-200",value:m.mapping?.[K]??"",onChange:ot=>I(K,ot.target.value),children:[T.jsx("option",{value:"",children:"Auto detect"}),m.columns.map((ot,N)=>T.jsxs("option",{value:N,children:[ot," (column ",N+1,")"]},N))]})]},K))}),T.jsx("button",{type:"button",onClick:U,className:"mt-1 px-3 py-1.5 text-[0.7rem] rounded-md border border-cyan-400/70 text-cyan-100 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"Re-parse with mapping"}),m.status==="needsMapping"?T.jsx("p",{className:"text-[0.7rem] text-amber-300",children:"This file needs mapping before it can be imported."}):null]}),m.previewRows?.length>0&&T.jsxs("div",{className:"border border-slate-700 rounded-md p-2 space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-between text-[0.7rem] text-slate-400",children:[T.jsxs("span",{children:["Previewing ",at," of ",m.previewRows.length," rows"]}),T.jsxs("span",{children:["Net amount:"," ",T.jsxs("span",{className:ht<0?"text-rose-300":"text-emerald-300",children:[ht<0?"-":"","$",Math.abs(ht).toFixed(2)]})]})]}),T.jsx("div",{className:"max-h-40 overflow-auto text-[0.7rem]",children:T.jsxs("table",{className:"w-full text-left border-collapse",children:[T.jsx("thead",{className:"sticky top-0 bg-[#05060F]",children:T.jsxs("tr",{className:"border-b border-slate-700",children:[T.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Date"}),T.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Description"}),T.jsx("th",{className:"py-1 text-right font-semibold text-slate-300",children:"Amount"})]})}),T.jsx("tbody",{children:m.previewRows.slice(0,at).map((K,ot)=>T.jsxs("tr",{className:"border-b border-slate-800/60",children:[T.jsx("td",{className:"py-1 pr-2 text-slate-200",children:K.date}),T.jsx("td",{className:"py-1 pr-2 text-slate-300",children:K.description}),T.jsxs("td",{className:`py-1 text-right ${K.amount<0?"text-rose-300":"text-emerald-300"}`,children:[K.amount<0?"-":"","$",Math.abs(K.amount).toFixed(2)]})]},ot))})]})}),T.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[T.jsx("button",{type:"button",onClick:()=>H(m.id),disabled:m.status!=="ready",className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:"Import this file"}),T.jsx("button",{type:"button",onClick:()=>S(m.id),className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Re-parse"})]})]}),m.previewRows?.length===0&&m.status==="ready"?T.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"No rows to preview. If this seems wrong, try re-parsing or mapping."}):null]}),T.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"Tip: Most banks let you export recent transactions as CSV from their website."})]})}function dh({label:i,value:t,accent:n}){return T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.22em] text-slate-500",children:i}),T.jsxs("span",{className:`text-base font-semibold ${n}`,children:["$",t.toFixed(2)]})]})}const iO=["monthOverview","accountSnapshot","goals","csvImport"];function rO({month:i="",income:t=0,fixed:n=0,variable:s=0,leftover:o=0,goals:u=[],transactions:c=[],accounts:m=[],currentAccountId:p,onChangeCurrentAccount:g=()=>{},onOpenGoal:v=()=>{},onCreateGoal:b=()=>{},onCsvImported:S=()=>{},currentAccountBalance:I=0,totalBalance:U=0,sectionsOrder:H}){const Y=Number(t)||0,lt=Number(n)||0,Z=Number(s)||0,at=Number(o)||0,ht=Y>0?(Y-at)/Y*100:0,K=H&&H.length?H:iO,ot=Array.isArray(c)&&c.length>0,[N,x]=le.useState(!1);return le.useEffect(()=>{x(!1)},[c]),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:i}),T.jsx("span",{className:"text-xs text-slate-400",children:"Overview of this month's money flow"})]}),K.map(C=>{switch(C){case"monthOverview":return T.jsxs(oi,{title:"MONTH OVERVIEW",children:[T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[T.jsx(dh,{label:"Income",value:Y,accent:"text-emerald-300"}),T.jsx(dh,{label:"Fixed",value:lt,accent:"text-rose-300"}),T.jsx(dh,{label:"Variable",value:Z,accent:"text-amber-300"}),T.jsx(dh,{label:"Leftover",value:at,accent:"text-cyan-300"})]}),T.jsxs("div",{className:"mt-4",children:[T.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Allocation this month"}),T.jsx(Ng,{value:ht})]})]},"monthOverview");case"accountSnapshot":return T.jsxs(oi,{title:"ACCOUNT SNAPSHOT",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Current account"}),T.jsx("select",{className:"mt-1 bg-[#05060F] border border-slate-700 rounded-md px-2 py-1 text-[0.75rem] text-slate-100",value:p,onChange:O=>g(O.target.value),children:(m||[]).map(O=>T.jsx("option",{value:O.id,children:O.name},O.id))})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Balance"}),T.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",I.toFixed(2)]}),T.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["of $",U.toFixed(2)," total"]})]})]}),T.jsx("hr",{className:"my-3 border-slate-800"}),T.jsxs("div",{children:[T.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.2em] text-slate-500",children:"All accounts"}),T.jsxs("div",{className:"mt-1 text-xl font-semibold text-emerald-300",children:["$",U.toFixed(2)]}),T.jsx("p",{className:"mt-1 text-[0.7rem] text-slate-500",children:"Total estimated cash across all linked accounts."})]})]},"accountSnapshot");case"goals":return T.jsxs("div",{className:"space-y-3",children:[T.jsx("h2",{className:"text-xs tracking-[0.25em] text-slate-400 uppercase",children:"Goals"}),T.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:u.map(O=>T.jsx(qD,{goal:O,onClick:()=>v(O.id)},O.id))}),T.jsx("button",{type:"button",onClick:b,className:"mt-1 px-4 py-2 rounded-lg border border-cyan-400/70 text-xs text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"+ Add Goal"})]},"goals");case"csvImport":return T.jsxs(oi,{title:"BANK STATEMENT IMPORT (CSV)",children:[T.jsx(nO,{onTransactionsParsed:(O,D)=>{x(!1),S(O,D)}}),ot&&T.jsxs("div",{className:"mt-4 space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h3",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Current account transactions"}),T.jsx("button",{type:"button",className:"text-[0.7rem] px-2 py-1 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 transition",onClick:()=>x(O=>!O),children:N?"Hide":"Show"})]}),N&&T.jsx("div",{className:"max-h-64 overflow-auto border border-slate-800 rounded-lg",children:T.jsxs("table",{className:"w-full text-xs text-left",children:[T.jsx("thead",{className:"bg-slate-900 text-slate-300",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-2 py-1",children:"Date"}),T.jsx("th",{className:"px-2 py-1",children:"Description"}),T.jsx("th",{className:"px-2 py-1",children:"Category"}),T.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-800",children:c.map((O,D)=>T.jsxs("tr",{className:"hover:bg-slate-900/70",children:[T.jsx("td",{className:"px-2 py-1 text-slate-300",children:O.date||"-"}),T.jsx("td",{className:"px-2 py-1 text-slate-200",children:O.description||"-"}),T.jsx("td",{className:"px-2 py-1 text-slate-300",children:O.category||"Other"}),T.jsx("td",{className:`px-2 py-1 text-right ${typeof O.amount=="number"&&O.amount<0?"text-rose-300":"text-emerald-300"}`,children:typeof O.amount!="number"||Number.isNaN(O.amount)?"-":`$${O.amount.toFixed(2)}`})]},D))})]})})]})]},"csvImport");default:return null}})]})}function BE(i){return i.reduce((t,n)=>t+n.amount,0)}function sO(i){return(Array.isArray(i?.transactions)?i.transactions:[]).reduce((n,s)=>n+(typeof s.amount=="number"?s.amount:0),0)}function Gm(i){return(i||[]).map(t=>({...t,startingBalance:typeof t.startingBalance=="number"?t.startingBalance:0}))}function aO({accounts:i=[],currentAccountId:t,onChangeCurrentAccount:n=()=>{},onCreateAccount:s=()=>{},onDeleteAccount:o=()=>{},onSetAccountBalance:u=()=>{},onRenameAccount:c=()=>{}}){const m=Array.isArray(i)&&i.length>0,[p,g]=Rt.useState([]),v=b=>{g(S=>S.includes(b)?S.filter(I=>I!==b):[...S,b])};return T.jsxs("div",{className:"space-y-4",children:[T.jsxs("header",{className:"flex items-center justify-between",children:[T.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:"Accounts"}),T.jsx("button",{type:"button",onClick:s,className:"px-2 py-1 rounded-md bg-emerald-500 hover:bg-emerald-400 text-xs font-medium text-slate-900",children:"+ New account"})]}),T.jsxs(oi,{title:"ALL ACCOUNTS",children:[!m&&T.jsx("p",{className:"text-xs text-slate-400",children:"No accounts yet. Create one to start tracking balances."}),m&&T.jsx("div",{className:"space-y-2",children:i.map(b=>{const S=Array.isArray(b.transactions)?b.transactions.length:0,I=sO(b),U=(typeof b.startingBalance=="number"?b.startingBalance:0)+I,H=Array.isArray(b.transactions)?b.transactions.slice().filter(Z=>Z&&typeof Z=="object").sort((Z,at)=>{const ht=Date.parse(Z.date),K=Date.parse(at.date),ot=Number.isFinite(ht),N=Number.isFinite(K);return!ot&&!N?0:ot?N?K-ht:-1:1}):[],Y=H.length>0,lt=p.includes(b.id);return T.jsxs("div",{className:`space-y-2 rounded-md px-3 py-2 text-xs ${b.id===t?"bg-slate-800/70 border border-cyan-400/50":"bg-slate-900/60 border border-slate-700/70"}`,children:[T.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("input",{className:"bg-transparent text-slate-100 font-medium text-xs w-full focus:outline-none",value:b.name,onChange:Z=>c(b.id,Z.target.value)}),T.jsxs("p",{className:"text-[11px] text-slate-400",children:["Type: ",b.type||"checking"]}),T.jsxs("p",{className:"text-[11px] text-slate-400",children:["Transactions:"," ",T.jsx("span",{className:"text-slate-200",children:S}),"  Net:"," ",T.jsxs("span",{className:U>=0?"text-emerald-300":"text-rose-300",children:["$",U.toFixed(2)]})]})]}),T.jsxs("div",{className:"flex flex-col items-end",children:[T.jsx("label",{className:"text-[11px] text-slate-400",children:"Starting balance"}),T.jsx("input",{type:"number",className:"w-24 bg-slate-900/80 border border-slate-700 rounded px-1 py-0.5 text-right text-xs font-mono text-slate-100 focus:outline-none focus:ring-1 focus:ring-cyan-400",value:b.startingBalance??0,onChange:Z=>u(b.id,parseFloat(Z.target.value||"0"))})]}),T.jsxs("div",{className:"flex flex-col items-end gap-1",children:[T.jsx("button",{type:"button",onClick:()=>{n(b.id),v(b.id)},className:"px-2 py-0.5 rounded text-[11px] border border-slate-500 hover:border-cyan-400",children:lt?"Hide":"View"}),T.jsx("button",{type:"button",onClick:()=>o(b.id),className:"px-2 py-0.5 rounded text-[11px] text-red-300 hover:bg-red-500/10",children:"Delete"})]})]}),T.jsxs("div",{className:"border-t border-slate-800/70 pt-2",children:[!Y&&T.jsx("p",{className:"mt-1 text-[0.65rem] text-slate-500",children:"No transactions imported yet."}),lt&&Y&&T.jsx("div",{className:"mt-2 max-h-72 overflow-auto rounded-md border border-slate-800/50",children:T.jsxs("table",{className:"w-full text-[0.7rem] text-left",children:[T.jsx("thead",{className:"bg-slate-900 text-slate-300 sticky top-0",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-2 py-1",children:"Date"}),T.jsx("th",{className:"px-2 py-1",children:"Description"}),T.jsx("th",{className:"px-2 py-1",children:"Category"}),T.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-800/70",children:H.map((Z,at)=>{const ht=Number(Z.amount),K=Number.isFinite(ht)?`$${ht.toFixed(2)}`:"-";return T.jsxs("tr",{children:[T.jsx("td",{className:"px-2 py-1 text-slate-300",children:Z.date||"-"}),T.jsx("td",{className:"px-2 py-1 text-slate-200",children:Z.description||"Transaction"}),T.jsx("td",{className:"px-2 py-1 text-slate-400",children:Z.category||"Other"}),T.jsx("td",{className:`px-2 py-1 text-right ${ht<0?"text-rose-300":"text-emerald-300"}`,children:K})]},Z.id||`${b.id}-full-${at}`)})})]})})]})]},b.id)})})]})]})}function oO({month:i,budget:t,totals:n={},onBudgetChange:s}){n?.fixedTotal,n?.variableTotal,n?.leftover;const o=Number(t?.income??0),u=Array.isArray(t?.fixed)?t.fixed:[],c=Array.isArray(t?.variable)?t.variable:[];function m(){const v=window.prompt("Monthly income amount:",o.toString());if(v===null)return;const b=Number(v);if(!Number.isFinite(b)){window.alert("Enter a valid number for income.");return}s({...t,income:b})}function p(v){const b=window.prompt(`New ${v} item name:`);if(!b)return;const S=window.prompt(`Amount for "${b}" (numbers only):`),I=Number(S);if(!Number.isFinite(I)){window.alert("That didn't look like a valid number.");return}const U={id:`budget-${v}-${Date.now()}`,label:b,amount:I},Y=[...v==="fixed"?u:c,U],lt={...t,[v]:Y};s(lt)}function g(v,b){if(!window.confirm("Delete this item?"))return;const I=(v==="fixed"?u:c).filter((H,Y)=>Y!==b),U={...t,[v]:I};s(U)}return T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("h1",{className:"text-lg font-semibold text-slate-100",children:[i," Budget"]}),T.jsx("span",{className:"text-xs text-slate-400",children:"Income  Expenses  Goals"})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[T.jsxs(oi,{title:"INCOME",children:[T.jsxs("div",{className:"text-3xl font-semibold text-emerald-300",children:["$",o.toFixed(2)]}),T.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Total take-home income for the active month."}),T.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-emerald-400/70 text-emerald-200 bg-emerald-500/10 hover:bg-emerald-500/20 transition",onClick:m,children:"Edit Income"})]}),T.jsxs(oi,{title:"FIXED EXPENSES",children:[T.jsx(qE,{items:u,total:n.fixedTotal,onDelete:v=>g("fixed",v)}),T.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-rose-400/70 text-rose-200 bg-rose-500/10 hover:bg-rose-500/20 transition",onClick:()=>p("fixed"),children:"+ Add Fixed Expense"})]}),T.jsxs(oi,{title:"VARIABLE SPENDING",children:[T.jsx(qE,{items:c,total:n.variableTotal,onDelete:v=>g("variable",v)}),T.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-amber-400/70 text-amber-200 bg-amber-500/10 hover:bg-amber-500/20 transition",onClick:()=>p("variable"),children:"+ Add Variable Expense"})]}),T.jsxs(oi,{title:"REMAINING FOR GOALS",children:[T.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",n.leftover.toFixed(2)]}),T.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"This is what's left after income minus all listed expenses."})]})]})]})}function qE({items:i=[],total:t=0,onDelete:n}){return T.jsxs("div",{className:"space-y-2 text-sm",children:[i.length===0&&T.jsx("p",{className:"text-xs text-slate-500",children:"No items yet."}),i.map((s,o)=>{const u=Number(s?.amount??0),c=s?.label||s?.name||`Item ${o+1}`;return T.jsxs("div",{className:"flex items-center justify-between text-slate-200 gap-2",children:[T.jsxs("div",{className:"flex-1 flex justify-between",children:[T.jsx("span",{children:c}),T.jsxs("span",{className:"text-slate-300",children:["$",u.toFixed(2)]})]}),n&&T.jsx("button",{className:"text-[0.65rem] text-slate-500 hover:text-rose-400",onClick:()=>n(o),children:""})]},(s?.id||c)+o)}),T.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-700 flex items-center justify-between text-xs",children:[T.jsx("span",{className:"uppercase tracking-[0.18em] text-slate-500",children:"Total"}),T.jsxs("span",{className:"text-slate-100",children:["$",t.toFixed(2)]})]})]})}const lO=[{value:"auto",label:"Auto (detect)"},{value:"income",label:"Income"},{value:"expense",label:"Expense"},{value:"transfer",label:"Transfer"},{value:"ignore",label:"Ignore"}],uO={income:"Income",expense:"Expense",transfer:"Transfer",ignore:"Ignored",unknown:"Unknown"};function cO(i){const{transactions:t=[],accountName:n="",onUpdateTransaction:s=()=>{},onDeleteTransaction:o=()=>{},typeHints:u=[],filter:c,onFilterChange:m,filterText:p,onChangeFilterText:g}=i,v=(p??c??"").toString(),b=g??m??(()=>{}),S=Array.isArray(t)&&t.length>0,[I,U]=Rt.useState({query:"",minAmount:"",maxAmount:""}),[H,Y]=Rt.useState("date"),[lt,Z]=Rt.useState("desc");Rt.useEffect(()=>{const x=(v||"").trim();x&&U(C=>({...C,query:x}))},[v]);const at=x=>C=>{const O=C.target.value;U(D=>({...D,[x]:O})),x==="query"&&b(O)},ht=()=>{U({query:"",minAmount:"",maxAmount:""}),b("")},K=I.query||I.minAmount||I.maxAmount,ot=()=>{Z(x=>x==="asc"?"desc":"asc")},N=Rt.useMemo(()=>S?[...t.map((D,L)=>({tx:D,index:L})).filter(({tx:D})=>{const L=I.query.trim().toLowerCase(),R=Number(D.amount);if(L&&![D.description||"",D.category||""].join(" ").toLowerCase().includes(L))return!1;if(I.minAmount!==""){const yt=Number(I.minAmount);if(!Number.isNaN(yt)&&!Number.isNaN(R)&&R<yt)return!1}if(I.maxAmount!==""){const yt=Number(I.maxAmount);if(!Number.isNaN(yt)&&!Number.isNaN(R)&&R>yt)return!1}return!0})].sort((D,L)=>{const R=D.tx,yt=L.tx,X=lt==="asc"?1:-1;if(H==="amount"){const et=Number(R.amount)||0,it=Number(yt.amount)||0;return(et-it)*X}if(H==="description"||H==="category"){const et=(R[H]||"").toLowerCase(),it=(yt[H]||"").toLowerCase();return et.localeCompare(it)*X}const P=Date.parse(R.date)||0,G=Date.parse(yt.date)||0;return(P-G)*X}):[],[t,I,H,lt,S]);return T.jsxs("div",{className:"space-y-4 w-full",children:[T.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:"Transactions"}),T.jsx("span",{className:"text-xs text-slate-400",children:"Imported from your bank CSV files"}),T.jsxs("p",{className:"text-[0.65rem] text-slate-500",children:["Currently viewing:"," ",T.jsx("span",{className:"font-semibold text-cyan-200",children:n||"None"})]}),!!v.trim()&&T.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-lg border border-cyan-500/40 bg-cyan-500/10 px-2 py-1 text-[0.65rem] text-cyan-200",children:[T.jsx("span",{className:"font-mono",children:"Report filter:"}),T.jsx("span",{className:"text-slate-100",children:v}),T.jsx("button",{type:"button",onClick:ht,className:"ml-1 rounded border border-cyan-500/40 px-2 py-[2px] text-[0.65rem] hover:bg-cyan-500/10",children:"Clear"})]})]}),S&&T.jsxs("span",{className:"text-[0.65rem] text-slate-500",children:["Showing ",N.length," of ",t.length]})]}),T.jsxs(oi,{title:"ALL TRANSACTIONS",children:[!S&&T.jsx("p",{className:"text-xs text-slate-400",children:"No transactions yet. Import a CSV on the Dashboard to see them here."}),S&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"mb-3 flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[T.jsxs("div",{className:"flex flex-col gap-1 w-full md:w-auto",children:[T.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Search"}),T.jsx("input",{type:"text",value:I.query,onChange:at("query"),placeholder:"Search description or category...",className:"h-8 w-full md:w-64 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]}),T.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-end md:justify-end",children:[T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Min"}),T.jsx("input",{type:"number",value:I.minAmount,onChange:at("minAmount"),className:"h-8 w-24 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]}),T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Max"}),T.jsx("input",{type:"number",value:I.maxAmount,onChange:at("maxAmount"),className:"h-8 w-24 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]})]}),T.jsx("button",{type:"button",onClick:ht,disabled:!K,className:"h-8 px-3 rounded-md border text-[0.7rem] font-medium transition border-slate-600 text-slate-200 hover:border-cyan-400 hover:text-cyan-200 disabled:opacity-40 disabled:cursor-not-allowed",children:"Clear filters"})]})]}),T.jsx("div",{className:"mb-3 flex flex-col sm:flex-row sm:items-center sm:justify-end gap-2 text-[0.7rem]",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"uppercase tracking-[0.18em] text-slate-500",children:"Sort by"}),T.jsxs("select",{value:H,onChange:x=>Y(x.target.value),className:"h-8 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500",children:[T.jsx("option",{value:"date",children:"Date"}),T.jsx("option",{value:"amount",children:"Amount"}),T.jsx("option",{value:"description",children:"Description"}),T.jsx("option",{value:"category",children:"Category"})]}),T.jsx("button",{type:"button",onClick:ot,className:"h-8 px-3 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 hover:text-cyan-200 transition",children:lt==="asc"?"Asc ":"Desc "})]})})]}),S&&N.length===0&&T.jsx("p",{className:"text-xs text-slate-400",children:"No transactions match your current filters."}),S&&N.length>0&&T.jsx("div",{className:"hScroll",children:T.jsx("div",{className:"min-w-[640px] max-h-[65vh] overflow-y-auto border border-slate-800 rounded-lg",children:T.jsxs("table",{className:"w-full text-[0.7rem] sm:text-xs text-left",children:[T.jsx("thead",{className:"bg-slate-900 text-slate-300 sticky top-0",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-2 py-1",children:"Date"}),T.jsx("th",{className:"px-2 py-1",children:"Description"}),T.jsx("th",{className:"px-2 py-1 hidden sm:table-cell",children:"Category"}),T.jsx("th",{className:"px-2 py-1 hidden sm:table-cell",children:"Type"}),T.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"}),T.jsx("th",{className:"px-2 py-1 text-right",children:"Actions"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-800",children:N.map(({tx:x,index:C})=>T.jsxs("tr",{className:"hover:bg-slate-900/70",children:[T.jsx("td",{className:"px-2 py-1 text-slate-300 whitespace-nowrap",children:x.date||"-"}),T.jsxs("td",{className:"px-2 py-1 text-slate-200",children:[T.jsx("input",{className:"w-full bg-transparent border-b border-slate-700 focus:outline-none focus:border-cyan-400 text-[0.7rem] sm:text-xs",value:x.description||"",onChange:O=>s(C,{description:O.target.value})}),T.jsx("div",{className:"sm:hidden mt-1 text-[0.65rem] text-slate-500",children:(x.category||"").trim()?x.category:"Uncategorized"})]}),T.jsx("td",{className:"px-2 py-1 text-slate-300 hidden sm:table-cell",children:T.jsx("input",{className:"w-full bg-transparent border-b border-slate-700 focus:outline-none focus:border-cyan-400 text-[0.7rem] sm:text-xs",value:x.category||"",onChange:O=>s(C,{category:O.target.value})})}),T.jsx("td",{className:"px-2 py-1 text-slate-300 hidden sm:table-cell",children:T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("select",{className:"w-full bg-slate-900/40 rounded-md border border-slate-700 px-2 py-1 text-[0.65rem] focus:outline-none focus:border-cyan-400",value:x.flowType||"auto",onChange:O=>{const D=O.target.value;s(C,{flowType:D==="auto"?void 0:D})},children:lO.map(O=>T.jsx("option",{value:O.value,children:O.label},O.value))}),T.jsxs("span",{className:"text-[0.6rem] text-slate-500",children:["Detected:"," ",uO[u[C]]||"Unknown"]})]})}),T.jsx("td",{className:`px-2 py-1 text-right whitespace-nowrap ${x.amount<0?"text-rose-300":"text-emerald-300"}`,children:Number.isFinite(Number(x.amount))?`$${Number(x.amount).toFixed(2)}`:"-"}),T.jsx("td",{className:"px-2 py-1 text-right",children:T.jsx("button",{className:"text-[0.7rem] px-2 py-1 rounded-md border border-rose-500/60 text-rose-300 hover:bg-rose-400/10",onClick:()=>{window.confirm("Delete this transaction from this account?")&&o(C)},children:"Delete"})})]},C))})]})})})]})]})}function hO({onEdit:i,onDelete:t,onDuplicate:n,onExport:s}){const[o,u]=Rt.useState(!1);function c(){u(!1),t?.()}return T.jsxs("div",{className:"relative",children:[T.jsx("button",{type:"button",className:"rounded-full border border-slate-600/70 px-3 py-1 text-xs text-slate-300 hover:border-cyan-400/60",onClick:()=>u(m=>!m),children:"Manage goal "}),T.jsxs("div",{className:`absolute right-0 mt-2 w-40 rounded-xl border border-slate-700/70 bg-[#05060F] text-xs shadow-lg transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,children:[T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),i?.()},children:"Edit goal"}),T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),n?.()},children:"Duplicate goal"}),T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),s?.()},children:"Export progress"}),T.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-rose-300 hover:bg-slate-800/70",onClick:()=>{window.confirm("Delete this goal?")&&c()},children:"Delete goal"})]})]})}function fO({goal:i,onEditGoal:t=()=>{},onDeleteGoal:n=()=>{},onDuplicateGoal:s=()=>{},onExportGoal:o=()=>{},onAddContributionRequest:u=()=>{}}){const c=Number(i?.saved??i?.current??0),m=Number(i?.target??0),p=Number(i?.monthlyPlan??0),g=i?.icon||i?.emoji||"",v=i?.name||"Untitled Goal",b=m>0?Math.min(100,c/m*100):0;return T.jsxs("div",{className:"space-y-5",children:[T.jsxs("header",{className:"flex items-center justify-between gap-3",children:[T.jsx("div",{className:"space-y-1",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-2xl",children:g}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:v}),T.jsx("p",{className:"text-xs text-slate-400",children:"Personalized goal view  future: themed backgrounds & animations."})]})]})}),T.jsx(hO,{onEdit:()=>t(i?.id),onDelete:()=>{i?.id&&n(i.id)},onDuplicate:()=>s(i?.id),onExport:()=>o(i?.id)})]}),T.jsx(oi,{title:"PROGRESS",children:T.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[T.jsxs("span",{className:"text-slate-200",children:["$",c.toFixed(2)," / $",m.toFixed(2)]}),T.jsx(Ng,{value:b}),T.jsxs("span",{className:"text-xs text-slate-400",children:[b.toFixed(1),"% complete"]})]})}),T.jsxs(oi,{title:"PLAN",children:[T.jsxs("p",{className:"text-sm text-slate-200",children:["Recommended monthly contribution:",T.jsxs("span",{className:"ml-1 text-cyan-300 font-semibold",children:["$",p.toFixed(2)]})]}),T.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Later we'll calculate this based on your income, expenses and due date."}),T.jsx("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:T.jsx("button",{className:"px-3 py-1.5 text-xs rounded-md border border-pink-400/70 text-pink-200 bg-pink-500/10 hover:bg-pink-500/20 transition",onClick:()=>u(i?.id),children:"Add Contribution"})})]})]})}var dO={value:()=>{}};function $1(){for(var i=0,t=arguments.length,n={},s;i<t;++i){if(!(s=arguments[i]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Ch(n)}function Ch(i){this._=i}function mO(i,t){return i.trim().split(/^|\s+/).map(function(n){var s="",o=n.indexOf(".");if(o>=0&&(s=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Ch.prototype=$1.prototype={constructor:Ch,on:function(i,t){var n=this._,s=mO(i+"",n),o,u=-1,c=s.length;if(arguments.length<2){for(;++u<c;)if((o=(i=s[u]).type)&&(o=pO(n[o],i.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<c;)if(o=(i=s[u]).type)n[o]=HE(n[o],i.name,t);else if(t==null)for(o in n)n[o]=HE(n[o],i.name,null);return this},copy:function(){var i={},t=this._;for(var n in t)i[n]=t[n].slice();return new Ch(i)},call:function(i,t){if((o=arguments.length-2)>0)for(var n=new Array(o),s=0,o,u;s<o;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(u=this._[i],s=0,o=u.length;s<o;++s)u[s].value.apply(t,n)},apply:function(i,t,n){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var s=this._[i],o=0,u=s.length;o<u;++o)s[o].value.apply(t,n)}};function pO(i,t){for(var n=0,s=i.length,o;n<s;++n)if((o=i[n]).name===t)return o.value}function HE(i,t,n){for(var s=0,o=i.length;s<o;++s)if(i[s].name===t){i[s]=dO,i=i.slice(0,s).concat(i.slice(s+1));break}return n!=null&&i.push({name:t,value:n}),i}var Ap="http://www.w3.org/1999/xhtml";const FE={svg:"http://www.w3.org/2000/svg",xhtml:Ap,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rf(i){var t=i+="",n=t.indexOf(":");return n>=0&&(t=i.slice(0,n))!=="xmlns"&&(i=i.slice(n+1)),FE.hasOwnProperty(t)?{space:FE[t],local:i}:i}function gO(i){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ap&&t.documentElement.namespaceURI===Ap?t.createElement(i):t.createElementNS(n,i)}}function yO(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function Q1(i){var t=Rf(i);return(t.local?yO:gO)(t)}function _O(){}function Cg(i){return i==null?_O:function(){return this.querySelector(i)}}function vO(i){typeof i!="function"&&(i=Cg(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],c=u.length,m=s[o]=new Array(c),p,g,v=0;v<c;++v)(p=u[v])&&(g=i.call(p,p.__data__,v,u))&&("__data__"in p&&(g.__data__=p.__data__),m[v]=g);return new Nn(s,this._parents)}function EO(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function TO(){return[]}function Y1(i){return i==null?TO:function(){return this.querySelectorAll(i)}}function bO(i){return function(){return EO(i.apply(this,arguments))}}function wO(i){typeof i=="function"?i=bO(i):i=Y1(i);for(var t=this._groups,n=t.length,s=[],o=[],u=0;u<n;++u)for(var c=t[u],m=c.length,p,g=0;g<m;++g)(p=c[g])&&(s.push(i.call(p,p.__data__,g,c)),o.push(p));return new Nn(s,o)}function K1(i){return function(){return this.matches(i)}}function X1(i){return function(t){return t.matches(i)}}var SO=Array.prototype.find;function AO(i){return function(){return SO.call(this.children,i)}}function xO(){return this.firstElementChild}function RO(i){return this.select(i==null?xO:AO(typeof i=="function"?i:X1(i)))}var NO=Array.prototype.filter;function CO(){return Array.from(this.children)}function IO(i){return function(){return NO.call(this.children,i)}}function DO(i){return this.selectAll(i==null?CO:IO(typeof i=="function"?i:X1(i)))}function OO(i){typeof i!="function"&&(i=K1(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],c=u.length,m=s[o]=[],p,g=0;g<c;++g)(p=u[g])&&i.call(p,p.__data__,g,u)&&m.push(p);return new Nn(s,this._parents)}function Z1(i){return new Array(i.length)}function MO(){return new Nn(this._enter||this._groups.map(Z1),this._parents)}function Zh(i,t){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=t}Zh.prototype={constructor:Zh,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,t){return this._parent.insertBefore(i,t)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function VO(i){return function(){return i}}function kO(i,t,n,s,o,u){for(var c=0,m,p=t.length,g=u.length;c<g;++c)(m=t[c])?(m.__data__=u[c],s[c]=m):n[c]=new Zh(i,u[c]);for(;c<p;++c)(m=t[c])&&(o[c]=m)}function LO(i,t,n,s,o,u,c){var m,p,g=new Map,v=t.length,b=u.length,S=new Array(v),I;for(m=0;m<v;++m)(p=t[m])&&(S[m]=I=c.call(p,p.__data__,m,t)+"",g.has(I)?o[m]=p:g.set(I,p));for(m=0;m<b;++m)I=c.call(i,u[m],m,u)+"",(p=g.get(I))?(s[m]=p,p.__data__=u[m],g.delete(I)):n[m]=new Zh(i,u[m]);for(m=0;m<v;++m)(p=t[m])&&g.get(S[m])===p&&(o[m]=p)}function PO(i){return i.__data__}function UO(i,t){if(!arguments.length)return Array.from(this,PO);var n=t?LO:kO,s=this._parents,o=this._groups;typeof i!="function"&&(i=VO(i));for(var u=o.length,c=new Array(u),m=new Array(u),p=new Array(u),g=0;g<u;++g){var v=s[g],b=o[g],S=b.length,I=jO(i.call(v,v&&v.__data__,g,s)),U=I.length,H=m[g]=new Array(U),Y=c[g]=new Array(U),lt=p[g]=new Array(S);n(v,b,H,Y,lt,I,t);for(var Z=0,at=0,ht,K;Z<U;++Z)if(ht=H[Z]){for(Z>=at&&(at=Z+1);!(K=Y[at])&&++at<U;);ht._next=K||null}}return c=new Nn(c,s),c._enter=m,c._exit=p,c}function jO(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function zO(){return new Nn(this._exit||this._groups.map(Z1),this._parents)}function BO(i,t,n){var s=this.enter(),o=this,u=this.exit();return typeof i=="function"?(s=i(s),s&&(s=s.selection())):s=s.append(i+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?u.remove():n(u),s&&o?s.merge(o).order():o}function qO(i){for(var t=i.selection?i.selection():i,n=this._groups,s=t._groups,o=n.length,u=s.length,c=Math.min(o,u),m=new Array(o),p=0;p<c;++p)for(var g=n[p],v=s[p],b=g.length,S=m[p]=new Array(b),I,U=0;U<b;++U)(I=g[U]||v[U])&&(S[U]=I);for(;p<o;++p)m[p]=n[p];return new Nn(m,this._parents)}function HO(){for(var i=this._groups,t=-1,n=i.length;++t<n;)for(var s=i[t],o=s.length-1,u=s[o],c;--o>=0;)(c=s[o])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function FO(i){i||(i=GO);function t(b,S){return b&&S?i(b.__data__,S.__data__):!b-!S}for(var n=this._groups,s=n.length,o=new Array(s),u=0;u<s;++u){for(var c=n[u],m=c.length,p=o[u]=new Array(m),g,v=0;v<m;++v)(g=c[v])&&(p[v]=g);p.sort(t)}return new Nn(o,this._parents).order()}function GO(i,t){return i<t?-1:i>t?1:i>=t?0:NaN}function $O(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function QO(){return Array.from(this)}function YO(){for(var i=this._groups,t=0,n=i.length;t<n;++t)for(var s=i[t],o=0,u=s.length;o<u;++o){var c=s[o];if(c)return c}return null}function KO(){let i=0;for(const t of this)++i;return i}function XO(){return!this.node()}function ZO(i){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var o=t[n],u=0,c=o.length,m;u<c;++u)(m=o[u])&&i.call(m,m.__data__,u,o);return this}function JO(i){return function(){this.removeAttribute(i)}}function WO(i){return function(){this.removeAttributeNS(i.space,i.local)}}function t4(i,t){return function(){this.setAttribute(i,t)}}function e4(i,t){return function(){this.setAttributeNS(i.space,i.local,t)}}function n4(i,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(i):this.setAttribute(i,n)}}function i4(i,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,n)}}function r4(i,t){var n=Rf(i);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?WO:JO:typeof t=="function"?n.local?i4:n4:n.local?e4:t4)(n,t))}function J1(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function s4(i){return function(){this.style.removeProperty(i)}}function a4(i,t,n){return function(){this.style.setProperty(i,t,n)}}function o4(i,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(i):this.style.setProperty(i,s,n)}}function l4(i,t,n){return arguments.length>1?this.each((t==null?s4:typeof t=="function"?o4:a4)(i,t,n??"")):xo(this.node(),i)}function xo(i,t){return i.style.getPropertyValue(t)||J1(i).getComputedStyle(i,null).getPropertyValue(t)}function u4(i){return function(){delete this[i]}}function c4(i,t){return function(){this[i]=t}}function h4(i,t){return function(){var n=t.apply(this,arguments);n==null?delete this[i]:this[i]=n}}function f4(i,t){return arguments.length>1?this.each((t==null?u4:typeof t=="function"?h4:c4)(i,t)):this.node()[i]}function W1(i){return i.trim().split(/^|\s+/)}function Ig(i){return i.classList||new tw(i)}function tw(i){this._node=i,this._names=W1(i.getAttribute("class")||"")}tw.prototype={add:function(i){var t=this._names.indexOf(i);t<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var t=this._names.indexOf(i);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function ew(i,t){for(var n=Ig(i),s=-1,o=t.length;++s<o;)n.add(t[s])}function nw(i,t){for(var n=Ig(i),s=-1,o=t.length;++s<o;)n.remove(t[s])}function d4(i){return function(){ew(this,i)}}function m4(i){return function(){nw(this,i)}}function p4(i,t){return function(){(t.apply(this,arguments)?ew:nw)(this,i)}}function g4(i,t){var n=W1(i+"");if(arguments.length<2){for(var s=Ig(this.node()),o=-1,u=n.length;++o<u;)if(!s.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?p4:t?d4:m4)(n,t))}function y4(){this.textContent=""}function _4(i){return function(){this.textContent=i}}function v4(i){return function(){var t=i.apply(this,arguments);this.textContent=t??""}}function E4(i){return arguments.length?this.each(i==null?y4:(typeof i=="function"?v4:_4)(i)):this.node().textContent}function T4(){this.innerHTML=""}function b4(i){return function(){this.innerHTML=i}}function w4(i){return function(){var t=i.apply(this,arguments);this.innerHTML=t??""}}function S4(i){return arguments.length?this.each(i==null?T4:(typeof i=="function"?w4:b4)(i)):this.node().innerHTML}function A4(){this.nextSibling&&this.parentNode.appendChild(this)}function x4(){return this.each(A4)}function R4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function N4(){return this.each(R4)}function C4(i){var t=typeof i=="function"?i:Q1(i);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function I4(){return null}function D4(i,t){var n=typeof i=="function"?i:Q1(i),s=t==null?I4:typeof t=="function"?t:Cg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function O4(){var i=this.parentNode;i&&i.removeChild(this)}function M4(){return this.each(O4)}function V4(){var i=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function k4(){var i=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function L4(i){return this.select(i?k4:V4)}function P4(i){return arguments.length?this.property("__data__",i):this.node().__data__}function U4(i){return function(t){i.call(this,t,this.__data__)}}function j4(i){return i.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function z4(i){return function(){var t=this.__on;if(t){for(var n=0,s=-1,o=t.length,u;n<o;++n)u=t[n],(!i.type||u.type===i.type)&&u.name===i.name?this.removeEventListener(u.type,u.listener,u.options):t[++s]=u;++s?t.length=s:delete this.__on}}}function B4(i,t,n){return function(){var s=this.__on,o,u=U4(t);if(s){for(var c=0,m=s.length;c<m;++c)if((o=s[c]).type===i.type&&o.name===i.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=n),o.value=t;return}}this.addEventListener(i.type,u,n),o={type:i.type,name:i.name,value:t,listener:u,options:n},s?s.push(o):this.__on=[o]}}function q4(i,t,n){var s=j4(i+""),o,u=s.length,c;if(arguments.length<2){var m=this.node().__on;if(m){for(var p=0,g=m.length,v;p<g;++p)for(o=0,v=m[p];o<u;++o)if((c=s[o]).type===v.type&&c.name===v.name)return v.value}return}for(m=t?B4:z4,o=0;o<u;++o)this.each(m(s[o],t,n));return this}function iw(i,t,n){var s=J1(i),o=s.CustomEvent;typeof o=="function"?o=new o(t,n):(o=s.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),i.dispatchEvent(o)}function H4(i,t){return function(){return iw(this,i,t)}}function F4(i,t){return function(){return iw(this,i,t.apply(this,arguments))}}function G4(i,t){return this.each((typeof t=="function"?F4:H4)(i,t))}function*$4(){for(var i=this._groups,t=0,n=i.length;t<n;++t)for(var s=i[t],o=0,u=s.length,c;o<u;++o)(c=s[o])&&(yield c)}var rw=[null];function Nn(i,t){this._groups=i,this._parents=t}function Iu(){return new Nn([[document.documentElement]],rw)}function Q4(){return this}Nn.prototype=Iu.prototype={constructor:Nn,select:vO,selectAll:wO,selectChild:RO,selectChildren:DO,filter:OO,data:UO,enter:MO,exit:zO,join:BO,merge:qO,selection:Q4,order:HO,sort:FO,call:$O,nodes:QO,node:YO,size:KO,empty:XO,each:ZO,attr:r4,style:l4,property:f4,classed:g4,text:E4,html:S4,raise:x4,lower:N4,append:C4,insert:D4,remove:M4,clone:L4,datum:P4,on:q4,dispatch:G4,[Symbol.iterator]:$4};function Y4(i){return typeof i=="string"?new Nn([[document.querySelector(i)]],[document.documentElement]):new Nn([[i]],rw)}function Dg(i,t,n){i.prototype=t.prototype=n,n.constructor=i}function sw(i,t){var n=Object.create(i.prototype);for(var s in t)n[s]=t[s];return n}function Du(){}var pu=.7,Jh=1/pu,go="\\s*([+-]?\\d+)\\s*",gu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K4=/^#([0-9a-f]{3,8})$/,X4=new RegExp(`^rgb\\(${go},${go},${go}\\)$`),Z4=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),J4=new RegExp(`^rgba\\(${go},${go},${go},${gu}\\)$`),W4=new RegExp(`^rgba\\(${zi},${zi},${zi},${gu}\\)$`),tM=new RegExp(`^hsl\\(${gu},${zi},${zi}\\)$`),eM=new RegExp(`^hsla\\(${gu},${zi},${zi},${gu}\\)$`),GE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dg(Du,yu,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:$E,formatHex:$E,formatHex8:nM,formatHsl:iM,formatRgb:QE,toString:QE});function $E(){return this.rgb().formatHex()}function nM(){return this.rgb().formatHex8()}function iM(){return aw(this).formatHsl()}function QE(){return this.rgb().formatRgb()}function yu(i){var t,n;return i=(i+"").trim().toLowerCase(),(t=K4.exec(i))?(n=t[1].length,t=parseInt(t[1],16),n===6?YE(t):n===3?new yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?mh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?mh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=X4.exec(i))?new yn(t[1],t[2],t[3],1):(t=Z4.exec(i))?new yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=J4.exec(i))?mh(t[1],t[2],t[3],t[4]):(t=W4.exec(i))?mh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tM.exec(i))?ZE(t[1],t[2]/100,t[3]/100,1):(t=eM.exec(i))?ZE(t[1],t[2]/100,t[3]/100,t[4]):GE.hasOwnProperty(i)?YE(GE[i]):i==="transparent"?new yn(NaN,NaN,NaN,0):null}function YE(i){return new yn(i>>16&255,i>>8&255,i&255,1)}function mh(i,t,n,s){return s<=0&&(i=t=n=NaN),new yn(i,t,n,s)}function rM(i){return i instanceof Du||(i=yu(i)),i?(i=i.rgb(),new yn(i.r,i.g,i.b,i.opacity)):new yn}function xp(i,t,n,s){return arguments.length===1?rM(i):new yn(i,t,n,s??1)}function yn(i,t,n,s){this.r=+i,this.g=+t,this.b=+n,this.opacity=+s}Dg(yn,xp,sw(Du,{brighter(i){return i=i==null?Jh:Math.pow(Jh,i),new yn(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?pu:Math.pow(pu,i),new yn(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new yn(oa(this.r),oa(this.g),oa(this.b),Wh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KE,formatHex:KE,formatHex8:sM,formatRgb:XE,toString:XE}));function KE(){return`#${sa(this.r)}${sa(this.g)}${sa(this.b)}`}function sM(){return`#${sa(this.r)}${sa(this.g)}${sa(this.b)}${sa((isNaN(this.opacity)?1:this.opacity)*255)}`}function XE(){const i=Wh(this.opacity);return`${i===1?"rgb(":"rgba("}${oa(this.r)}, ${oa(this.g)}, ${oa(this.b)}${i===1?")":`, ${i})`}`}function Wh(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function oa(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function sa(i){return i=oa(i),(i<16?"0":"")+i.toString(16)}function ZE(i,t,n,s){return s<=0?i=t=n=NaN:n<=0||n>=1?i=t=NaN:t<=0&&(i=NaN),new si(i,t,n,s)}function aw(i){if(i instanceof si)return new si(i.h,i.s,i.l,i.opacity);if(i instanceof Du||(i=yu(i)),!i)return new si;if(i instanceof si)return i;i=i.rgb();var t=i.r/255,n=i.g/255,s=i.b/255,o=Math.min(t,n,s),u=Math.max(t,n,s),c=NaN,m=u-o,p=(u+o)/2;return m?(t===u?c=(n-s)/m+(n<s)*6:n===u?c=(s-t)/m+2:c=(t-n)/m+4,m/=p<.5?u+o:2-u-o,c*=60):m=p>0&&p<1?0:c,new si(c,m,p,i.opacity)}function aM(i,t,n,s){return arguments.length===1?aw(i):new si(i,t,n,s??1)}function si(i,t,n,s){this.h=+i,this.s=+t,this.l=+n,this.opacity=+s}Dg(si,aM,sw(Du,{brighter(i){return i=i==null?Jh:Math.pow(Jh,i),new si(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?pu:Math.pow(pu,i),new si(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,t=isNaN(i)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,o=2*n-s;return new yn($m(i>=240?i-240:i+120,o,s),$m(i,o,s),$m(i<120?i+240:i-120,o,s),this.opacity)},clamp(){return new si(JE(this.h),ph(this.s),ph(this.l),Wh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=Wh(this.opacity);return`${i===1?"hsl(":"hsla("}${JE(this.h)}, ${ph(this.s)*100}%, ${ph(this.l)*100}%${i===1?")":`, ${i})`}`}}));function JE(i){return i=(i||0)%360,i<0?i+360:i}function ph(i){return Math.max(0,Math.min(1,i||0))}function $m(i,t,n){return(i<60?t+(n-t)*i/60:i<180?n:i<240?t+(n-t)*(240-i)/60:t)*255}const ow=i=>()=>i;function oM(i,t){return function(n){return i+n*t}}function lM(i,t,n){return i=Math.pow(i,n),t=Math.pow(t,n)-i,n=1/n,function(s){return Math.pow(i+s*t,n)}}function uM(i){return(i=+i)==1?lw:function(t,n){return n-t?lM(t,n,i):ow(isNaN(t)?n:t)}}function lw(i,t){var n=t-i;return n?oM(i,n):ow(isNaN(i)?t:i)}const WE=(function i(t){var n=uM(t);function s(o,u){var c=n((o=xp(o)).r,(u=xp(u)).r),m=n(o.g,u.g),p=n(o.b,u.b),g=lw(o.opacity,u.opacity);return function(v){return o.r=c(v),o.g=m(v),o.b=p(v),o.opacity=g(v),o+""}}return s.gamma=i,s})(1);function as(i,t){return i=+i,t=+t,function(n){return i*(1-n)+t*n}}var Rp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qm=new RegExp(Rp.source,"g");function cM(i){return function(){return i}}function hM(i){return function(t){return i(t)+""}}function fM(i,t){var n=Rp.lastIndex=Qm.lastIndex=0,s,o,u,c=-1,m=[],p=[];for(i=i+"",t=t+"";(s=Rp.exec(i))&&(o=Qm.exec(t));)(u=o.index)>n&&(u=t.slice(n,u),m[c]?m[c]+=u:m[++c]=u),(s=s[0])===(o=o[0])?m[c]?m[c]+=o:m[++c]=o:(m[++c]=null,p.push({i:c,x:as(s,o)})),n=Qm.lastIndex;return n<t.length&&(u=t.slice(n),m[c]?m[c]+=u:m[++c]=u),m.length<2?p[0]?hM(p[0].x):cM(t):(t=p.length,function(g){for(var v=0,b;v<t;++v)m[(b=p[v]).i]=b.x(g);return m.join("")})}var tT=180/Math.PI,Np={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uw(i,t,n,s,o,u){var c,m,p;return(c=Math.sqrt(i*i+t*t))&&(i/=c,t/=c),(p=i*n+t*s)&&(n-=i*p,s-=t*p),(m=Math.sqrt(n*n+s*s))&&(n/=m,s/=m,p/=m),i*s<t*n&&(i=-i,t=-t,p=-p,c=-c),{translateX:o,translateY:u,rotate:Math.atan2(t,i)*tT,skewX:Math.atan(p)*tT,scaleX:c,scaleY:m}}var gh;function dM(i){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return t.isIdentity?Np:uw(t.a,t.b,t.c,t.d,t.e,t.f)}function mM(i){return i==null||(gh||(gh=document.createElementNS("http://www.w3.org/2000/svg","g")),gh.setAttribute("transform",i),!(i=gh.transform.baseVal.consolidate()))?Np:(i=i.matrix,uw(i.a,i.b,i.c,i.d,i.e,i.f))}function cw(i,t,n,s){function o(g){return g.length?g.pop()+" ":""}function u(g,v,b,S,I,U){if(g!==b||v!==S){var H=I.push("translate(",null,t,null,n);U.push({i:H-4,x:as(g,b)},{i:H-2,x:as(v,S)})}else(b||S)&&I.push("translate("+b+t+S+n)}function c(g,v,b,S){g!==v?(g-v>180?v+=360:v-g>180&&(g+=360),S.push({i:b.push(o(b)+"rotate(",null,s)-2,x:as(g,v)})):v&&b.push(o(b)+"rotate("+v+s)}function m(g,v,b,S){g!==v?S.push({i:b.push(o(b)+"skewX(",null,s)-2,x:as(g,v)}):v&&b.push(o(b)+"skewX("+v+s)}function p(g,v,b,S,I,U){if(g!==b||v!==S){var H=I.push(o(I)+"scale(",null,",",null,")");U.push({i:H-4,x:as(g,b)},{i:H-2,x:as(v,S)})}else(b!==1||S!==1)&&I.push(o(I)+"scale("+b+","+S+")")}return function(g,v){var b=[],S=[];return g=i(g),v=i(v),u(g.translateX,g.translateY,v.translateX,v.translateY,b,S),c(g.rotate,v.rotate,b,S),m(g.skewX,v.skewX,b,S),p(g.scaleX,g.scaleY,v.scaleX,v.scaleY,b,S),g=v=null,function(I){for(var U=-1,H=S.length,Y;++U<H;)b[(Y=S[U]).i]=Y.x(I);return b.join("")}}}var pM=cw(dM,"px, ","px)","deg)"),gM=cw(mM,", ",")",")"),Ro=0,$l=0,jl=0,hw=1e3,tf,Ql,ef=0,pa=0,Nf=0,_u=typeof performance=="object"&&performance.now?performance:Date,fw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function Og(){return pa||(fw(yM),pa=_u.now()+Nf)}function yM(){pa=0}function nf(){this._call=this._time=this._next=null}nf.prototype=dw.prototype={constructor:nf,restart:function(i,t,n){if(typeof i!="function")throw new TypeError("callback is not a function");n=(n==null?Og():+n)+(t==null?0:+t),!this._next&&Ql!==this&&(Ql?Ql._next=this:tf=this,Ql=this),this._call=i,this._time=n,Cp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Cp())}};function dw(i,t,n){var s=new nf;return s.restart(i,t,n),s}function _M(){Og(),++Ro;for(var i=tf,t;i;)(t=pa-i._time)>=0&&i._call.call(void 0,t),i=i._next;--Ro}function eT(){pa=(ef=_u.now())+Nf,Ro=$l=0;try{_M()}finally{Ro=0,EM(),pa=0}}function vM(){var i=_u.now(),t=i-ef;t>hw&&(Nf-=t,ef=i)}function EM(){for(var i,t=tf,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),i=t,t=t._next):(n=t._next,t._next=null,t=i?i._next=n:tf=n);Ql=i,Cp(s)}function Cp(i){if(!Ro){$l&&($l=clearTimeout($l));var t=i-pa;t>24?(i<1/0&&($l=setTimeout(eT,i-_u.now()-Nf)),jl&&(jl=clearInterval(jl))):(jl||(ef=_u.now(),jl=setInterval(vM,hw)),Ro=1,fw(eT))}}function nT(i,t,n){var s=new nf;return t=t==null?0:+t,s.restart(o=>{s.stop(),i(o+t)},t,n),s}var TM=$1("start","end","cancel","interrupt"),bM=[],mw=0,iT=1,Ip=2,Ih=3,rT=4,Dp=5,Dh=6;function Cf(i,t,n,s,o,u){var c=i.__transition;if(!c)i.__transition={};else if(n in c)return;wM(i,n,{name:t,index:s,group:o,on:TM,tween:bM,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:mw})}function Mg(i,t){var n=hi(i,t);if(n.state>mw)throw new Error("too late; already scheduled");return n}function Hi(i,t){var n=hi(i,t);if(n.state>Ih)throw new Error("too late; already running");return n}function hi(i,t){var n=i.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function wM(i,t,n){var s=i.__transition,o;s[t]=n,n.timer=dw(u,0,n.time);function u(g){n.state=iT,n.timer.restart(c,n.delay,n.time),n.delay<=g&&c(g-n.delay)}function c(g){var v,b,S,I;if(n.state!==iT)return p();for(v in s)if(I=s[v],I.name===n.name){if(I.state===Ih)return nT(c);I.state===rT?(I.state=Dh,I.timer.stop(),I.on.call("interrupt",i,i.__data__,I.index,I.group),delete s[v]):+v<t&&(I.state=Dh,I.timer.stop(),I.on.call("cancel",i,i.__data__,I.index,I.group),delete s[v])}if(nT(function(){n.state===Ih&&(n.state=rT,n.timer.restart(m,n.delay,n.time),m(g))}),n.state=Ip,n.on.call("start",i,i.__data__,n.index,n.group),n.state===Ip){for(n.state=Ih,o=new Array(S=n.tween.length),v=0,b=-1;v<S;++v)(I=n.tween[v].value.call(i,i.__data__,n.index,n.group))&&(o[++b]=I);o.length=b+1}}function m(g){for(var v=g<n.duration?n.ease.call(null,g/n.duration):(n.timer.restart(p),n.state=Dp,1),b=-1,S=o.length;++b<S;)o[b].call(i,v);n.state===Dp&&(n.on.call("end",i,i.__data__,n.index,n.group),p())}function p(){n.state=Dh,n.timer.stop(),delete s[t];for(var g in s)return;delete i.__transition}}function SM(i,t){var n=i.__transition,s,o,u=!0,c;if(n){t=t==null?null:t+"";for(c in n){if((s=n[c]).name!==t){u=!1;continue}o=s.state>Ip&&s.state<Dp,s.state=Dh,s.timer.stop(),s.on.call(o?"interrupt":"cancel",i,i.__data__,s.index,s.group),delete n[c]}u&&delete i.__transition}}function AM(i){return this.each(function(){SM(this,i)})}function xM(i,t){var n,s;return function(){var o=Hi(this,i),u=o.tween;if(u!==n){s=n=u;for(var c=0,m=s.length;c<m;++c)if(s[c].name===t){s=s.slice(),s.splice(c,1);break}}o.tween=s}}function RM(i,t,n){var s,o;if(typeof n!="function")throw new Error;return function(){var u=Hi(this,i),c=u.tween;if(c!==s){o=(s=c).slice();for(var m={name:t,value:n},p=0,g=o.length;p<g;++p)if(o[p].name===t){o[p]=m;break}p===g&&o.push(m)}u.tween=o}}function NM(i,t){var n=this._id;if(i+="",arguments.length<2){for(var s=hi(this.node(),n).tween,o=0,u=s.length,c;o<u;++o)if((c=s[o]).name===i)return c.value;return null}return this.each((t==null?xM:RM)(n,i,t))}function Vg(i,t,n){var s=i._id;return i.each(function(){var o=Hi(this,s);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return hi(o,s).value[t]}}function pw(i,t){var n;return(typeof t=="number"?as:t instanceof yu?WE:(n=yu(t))?(t=n,WE):fM)(i,t)}function CM(i){return function(){this.removeAttribute(i)}}function IM(i){return function(){this.removeAttributeNS(i.space,i.local)}}function DM(i,t,n){var s,o=n+"",u;return function(){var c=this.getAttribute(i);return c===o?null:c===s?u:u=t(s=c,n)}}function OM(i,t,n){var s,o=n+"",u;return function(){var c=this.getAttributeNS(i.space,i.local);return c===o?null:c===s?u:u=t(s=c,n)}}function MM(i,t,n){var s,o,u;return function(){var c,m=n(this),p;return m==null?void this.removeAttribute(i):(c=this.getAttribute(i),p=m+"",c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,m)))}}function VM(i,t,n){var s,o,u;return function(){var c,m=n(this),p;return m==null?void this.removeAttributeNS(i.space,i.local):(c=this.getAttributeNS(i.space,i.local),p=m+"",c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,m)))}}function kM(i,t){var n=Rf(i),s=n==="transform"?gM:pw;return this.attrTween(i,typeof t=="function"?(n.local?VM:MM)(n,s,Vg(this,"attr."+i,t)):t==null?(n.local?IM:CM)(n):(n.local?OM:DM)(n,s,t))}function LM(i,t){return function(n){this.setAttribute(i,t.call(this,n))}}function PM(i,t){return function(n){this.setAttributeNS(i.space,i.local,t.call(this,n))}}function UM(i,t){var n,s;function o(){var u=t.apply(this,arguments);return u!==s&&(n=(s=u)&&PM(i,u)),n}return o._value=t,o}function jM(i,t){var n,s;function o(){var u=t.apply(this,arguments);return u!==s&&(n=(s=u)&&LM(i,u)),n}return o._value=t,o}function zM(i,t){var n="attr."+i;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=Rf(i);return this.tween(n,(s.local?UM:jM)(s,t))}function BM(i,t){return function(){Mg(this,i).delay=+t.apply(this,arguments)}}function qM(i,t){return t=+t,function(){Mg(this,i).delay=t}}function HM(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?BM:qM)(t,i)):hi(this.node(),t).delay}function FM(i,t){return function(){Hi(this,i).duration=+t.apply(this,arguments)}}function GM(i,t){return t=+t,function(){Hi(this,i).duration=t}}function $M(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?FM:GM)(t,i)):hi(this.node(),t).duration}function QM(i,t){if(typeof t!="function")throw new Error;return function(){Hi(this,i).ease=t}}function YM(i){var t=this._id;return arguments.length?this.each(QM(t,i)):hi(this.node(),t).ease}function KM(i,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Hi(this,i).ease=n}}function XM(i){if(typeof i!="function")throw new Error;return this.each(KM(this._id,i))}function ZM(i){typeof i!="function"&&(i=K1(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],c=u.length,m=s[o]=[],p,g=0;g<c;++g)(p=u[g])&&i.call(p,p.__data__,g,u)&&m.push(p);return new Er(s,this._parents,this._name,this._id)}function JM(i){if(i._id!==this._id)throw new Error;for(var t=this._groups,n=i._groups,s=t.length,o=n.length,u=Math.min(s,o),c=new Array(s),m=0;m<u;++m)for(var p=t[m],g=n[m],v=p.length,b=c[m]=new Array(v),S,I=0;I<v;++I)(S=p[I]||g[I])&&(b[I]=S);for(;m<s;++m)c[m]=t[m];return new Er(c,this._parents,this._name,this._id)}function WM(i){return(i+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function t3(i,t,n){var s,o,u=WM(t)?Mg:Hi;return function(){var c=u(this,i),m=c.on;m!==s&&(o=(s=m).copy()).on(t,n),c.on=o}}function e3(i,t){var n=this._id;return arguments.length<2?hi(this.node(),n).on.on(i):this.each(t3(n,i,t))}function n3(i){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==i)return;t&&t.removeChild(this)}}function i3(){return this.on("end.remove",n3(this._id))}function r3(i){var t=this._name,n=this._id;typeof i!="function"&&(i=Cg(i));for(var s=this._groups,o=s.length,u=new Array(o),c=0;c<o;++c)for(var m=s[c],p=m.length,g=u[c]=new Array(p),v,b,S=0;S<p;++S)(v=m[S])&&(b=i.call(v,v.__data__,S,m))&&("__data__"in v&&(b.__data__=v.__data__),g[S]=b,Cf(g[S],t,n,S,g,hi(v,n)));return new Er(u,this._parents,t,n)}function s3(i){var t=this._name,n=this._id;typeof i!="function"&&(i=Y1(i));for(var s=this._groups,o=s.length,u=[],c=[],m=0;m<o;++m)for(var p=s[m],g=p.length,v,b=0;b<g;++b)if(v=p[b]){for(var S=i.call(v,v.__data__,b,p),I,U=hi(v,n),H=0,Y=S.length;H<Y;++H)(I=S[H])&&Cf(I,t,n,H,S,U);u.push(S),c.push(v)}return new Er(u,c,t,n)}var a3=Iu.prototype.constructor;function o3(){return new a3(this._groups,this._parents)}function l3(i,t){var n,s,o;return function(){var u=xo(this,i),c=(this.style.removeProperty(i),xo(this,i));return u===c?null:u===n&&c===s?o:o=t(n=u,s=c)}}function gw(i){return function(){this.style.removeProperty(i)}}function u3(i,t,n){var s,o=n+"",u;return function(){var c=xo(this,i);return c===o?null:c===s?u:u=t(s=c,n)}}function c3(i,t,n){var s,o,u;return function(){var c=xo(this,i),m=n(this),p=m+"";return m==null&&(p=m=(this.style.removeProperty(i),xo(this,i))),c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,m))}}function h3(i,t){var n,s,o,u="style."+t,c="end."+u,m;return function(){var p=Hi(this,i),g=p.on,v=p.value[u]==null?m||(m=gw(t)):void 0;(g!==n||o!==v)&&(s=(n=g).copy()).on(c,o=v),p.on=s}}function f3(i,t,n){var s=(i+="")=="transform"?pM:pw;return t==null?this.styleTween(i,l3(i,s)).on("end.style."+i,gw(i)):typeof t=="function"?this.styleTween(i,c3(i,s,Vg(this,"style."+i,t))).each(h3(this._id,i)):this.styleTween(i,u3(i,s,t),n).on("end.style."+i,null)}function d3(i,t,n){return function(s){this.style.setProperty(i,t.call(this,s),n)}}function m3(i,t,n){var s,o;function u(){var c=t.apply(this,arguments);return c!==o&&(s=(o=c)&&d3(i,c,n)),s}return u._value=t,u}function p3(i,t,n){var s="style."+(i+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,m3(i,t,n??""))}function g3(i){return function(){this.textContent=i}}function y3(i){return function(){var t=i(this);this.textContent=t??""}}function _3(i){return this.tween("text",typeof i=="function"?y3(Vg(this,"text",i)):g3(i==null?"":i+""))}function v3(i){return function(t){this.textContent=i.call(this,t)}}function E3(i){var t,n;function s(){var o=i.apply(this,arguments);return o!==n&&(t=(n=o)&&v3(o)),t}return s._value=i,s}function T3(i){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(i==null)return this.tween(t,null);if(typeof i!="function")throw new Error;return this.tween(t,E3(i))}function b3(){for(var i=this._name,t=this._id,n=yw(),s=this._groups,o=s.length,u=0;u<o;++u)for(var c=s[u],m=c.length,p,g=0;g<m;++g)if(p=c[g]){var v=hi(p,t);Cf(p,i,n,g,c,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Er(s,this._parents,i,n)}function w3(){var i,t,n=this,s=n._id,o=n.size();return new Promise(function(u,c){var m={value:c},p={value:function(){--o===0&&u()}};n.each(function(){var g=Hi(this,s),v=g.on;v!==i&&(t=(i=v).copy(),t._.cancel.push(m),t._.interrupt.push(m),t._.end.push(p)),g.on=t}),o===0&&u()})}var S3=0;function Er(i,t,n,s){this._groups=i,this._parents=t,this._name=n,this._id=s}function yw(){return++S3}var fr=Iu.prototype;Er.prototype={constructor:Er,select:r3,selectAll:s3,selectChild:fr.selectChild,selectChildren:fr.selectChildren,filter:ZM,merge:JM,selection:o3,transition:b3,call:fr.call,nodes:fr.nodes,node:fr.node,size:fr.size,empty:fr.empty,each:fr.each,on:e3,attr:kM,attrTween:zM,style:f3,styleTween:p3,text:_3,textTween:T3,remove:i3,tween:NM,delay:HM,duration:$M,ease:YM,easeVarying:XM,end:w3,[Symbol.iterator]:fr[Symbol.iterator]};function A3(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var x3={time:null,delay:0,duration:250,ease:A3};function R3(i,t){for(var n;!(n=i.__transition)||!(n=n[t]);)if(!(i=i.parentNode))throw new Error(`transition ${t} not found`);return n}function N3(i){var t,n;i instanceof Er?(t=i._id,i=i._name):(t=yw(),(n=x3).time=Og(),i=i==null?null:i+"");for(var s=this._groups,o=s.length,u=0;u<o;++u)for(var c=s[u],m=c.length,p,g=0;g<m;++g)(p=c[g])&&Cf(p,i,t,g,c,n||R3(p,t));return new Er(s,this._parents,i,t)}Iu.prototype.interrupt=AM;Iu.prototype.transition=N3;function Yl(i,t,n){this.k=i,this.x=t,this.y=n}Yl.prototype={constructor:Yl,scale:function(i){return i===1?this:new Yl(this.k*i,this.x,this.y)},translate:function(i,t){return i===0&t===0?this:new Yl(this.k,this.x+this.k*i,this.y+this.k*t)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Yl.prototype;function sT(i,t){let n;if(t===void 0)for(const s of i)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);else{let s=-1;for(let o of i)(o=t(o,++s,i))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function C3(i,t){let n;if(t===void 0)for(const s of i)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);else{let s=-1;for(let o of i)(o=t(o,++s,i))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function Ym(i,t){let n=0;if(t===void 0)for(let s of i)(s=+s)&&(n+=s);else{let s=-1;for(let o of i)(o=+t(o,++s,i))&&(n+=o)}return n}function I3(i,t){return i.sourceLinks.length?i.depth:t-1}function yh(i){return function(){return i}}function aT(i,t){return rf(i.source,t.source)||i.index-t.index}function oT(i,t){return rf(i.target,t.target)||i.index-t.index}function rf(i,t){return i.y0-t.y0}function Km(i){return i.value}function D3(i){return i.index}function O3(i){return i.nodes}function M3(i){return i.links}function lT(i,t){const n=i.get(t);if(!n)throw new Error("missing: "+t);return n}function uT({nodes:i}){for(const t of i){let n=t.y0,s=n;for(const o of t.sourceLinks)o.y0=n+o.width/2,n+=o.width;for(const o of t.targetLinks)o.y1=s+o.width/2,s+=o.width}}function V3(){let i=0,t=0,n=1,s=1,o=24,u=8,c,m=D3,p=I3,g,v,b=O3,S=M3,I=6;function U(){const X={nodes:b.apply(null,arguments),links:S.apply(null,arguments)};return H(X),Y(X),lt(X),Z(X),K(X),uT(X),X}U.update=function(X){return uT(X),X},U.nodeId=function(X){return arguments.length?(m=typeof X=="function"?X:yh(X),U):m},U.nodeAlign=function(X){return arguments.length?(p=typeof X=="function"?X:yh(X),U):p},U.nodeSort=function(X){return arguments.length?(g=X,U):g},U.nodeWidth=function(X){return arguments.length?(o=+X,U):o},U.nodePadding=function(X){return arguments.length?(u=c=+X,U):u},U.nodes=function(X){return arguments.length?(b=typeof X=="function"?X:yh(X),U):b},U.links=function(X){return arguments.length?(S=typeof X=="function"?X:yh(X),U):S},U.linkSort=function(X){return arguments.length?(v=X,U):v},U.size=function(X){return arguments.length?(i=t=0,n=+X[0],s=+X[1],U):[n-i,s-t]},U.extent=function(X){return arguments.length?(i=+X[0][0],n=+X[1][0],t=+X[0][1],s=+X[1][1],U):[[i,t],[n,s]]},U.iterations=function(X){return arguments.length?(I=+X,U):I};function H({nodes:X,links:P}){for(const[et,it]of X.entries())it.index=et,it.sourceLinks=[],it.targetLinks=[];const G=new Map(X.map((et,it)=>[m(et,it,X),et]));for(const[et,it]of P.entries()){it.index=et;let{source:dt,target:V}=it;typeof dt!="object"&&(dt=it.source=lT(G,dt)),typeof V!="object"&&(V=it.target=lT(G,V)),dt.sourceLinks.push(it),V.targetLinks.push(it)}if(v!=null)for(const{sourceLinks:et,targetLinks:it}of X)et.sort(v),it.sort(v)}function Y({nodes:X}){for(const P of X)P.value=P.fixedValue===void 0?Math.max(Ym(P.sourceLinks,Km),Ym(P.targetLinks,Km)):P.fixedValue}function lt({nodes:X}){const P=X.length;let G=new Set(X),et=new Set,it=0;for(;G.size;){for(const dt of G){dt.depth=it;for(const{target:V}of dt.sourceLinks)et.add(V)}if(++it>P)throw new Error("circular link");G=et,et=new Set}}function Z({nodes:X}){const P=X.length;let G=new Set(X),et=new Set,it=0;for(;G.size;){for(const dt of G){dt.height=it;for(const{source:V}of dt.targetLinks)et.add(V)}if(++it>P)throw new Error("circular link");G=et,et=new Set}}function at({nodes:X}){const P=sT(X,it=>it.depth)+1,G=(n-i-o)/(P-1),et=new Array(P);for(const it of X){const dt=Math.max(0,Math.min(P-1,Math.floor(p.call(null,it,P))));it.layer=dt,it.x0=i+dt*G,it.x1=it.x0+o,et[dt]?et[dt].push(it):et[dt]=[it]}if(g)for(const it of et)it.sort(g);return et}function ht(X){const P=C3(X,G=>(s-t-(G.length-1)*c)/Ym(G,Km));for(const G of X){let et=t;for(const it of G){it.y0=et,it.y1=et+it.value*P,et=it.y1+c;for(const dt of it.sourceLinks)dt.width=dt.value*P}et=(s-et+c)/(G.length+1);for(let it=0;it<G.length;++it){const dt=G[it];dt.y0+=et*(it+1),dt.y1+=et*(it+1)}L(G)}}function K(X){const P=at(X);c=Math.min(u,(s-t)/(sT(P,G=>G.length)-1)),ht(P);for(let G=0;G<I;++G){const et=Math.pow(.99,G),it=Math.max(1-et,(G+1)/I);N(P,et,it),ot(P,et,it)}}function ot(X,P,G){for(let et=1,it=X.length;et<it;++et){const dt=X[et];for(const V of dt){let W=0,ut=0;for(const{source:Et,value:At}of V.targetLinks){let xt=At*(V.layer-Et.layer);W+=R(Et,V)*xt,ut+=xt}if(!(ut>0))continue;let ft=(W/ut-V.y0)*P;V.y0+=ft,V.y1+=ft,D(V)}g===void 0&&dt.sort(rf),x(dt,G)}}function N(X,P,G){for(let et=X.length,it=et-2;it>=0;--it){const dt=X[it];for(const V of dt){let W=0,ut=0;for(const{target:Et,value:At}of V.sourceLinks){let xt=At*(Et.layer-V.layer);W+=yt(V,Et)*xt,ut+=xt}if(!(ut>0))continue;let ft=(W/ut-V.y0)*P;V.y0+=ft,V.y1+=ft,D(V)}g===void 0&&dt.sort(rf),x(dt,G)}}function x(X,P){const G=X.length>>1,et=X[G];O(X,et.y0-c,G-1,P),C(X,et.y1+c,G+1,P),O(X,s,X.length-1,P),C(X,t,0,P)}function C(X,P,G,et){for(;G<X.length;++G){const it=X[G],dt=(P-it.y0)*et;dt>1e-6&&(it.y0+=dt,it.y1+=dt),P=it.y1+c}}function O(X,P,G,et){for(;G>=0;--G){const it=X[G],dt=(it.y1-P)*et;dt>1e-6&&(it.y0-=dt,it.y1-=dt),P=it.y0-c}}function D({sourceLinks:X,targetLinks:P}){if(v===void 0){for(const{source:{sourceLinks:G}}of P)G.sort(oT);for(const{target:{targetLinks:G}}of X)G.sort(aT)}}function L(X){if(v===void 0)for(const{sourceLinks:P,targetLinks:G}of X)P.sort(oT),G.sort(aT)}function R(X,P){let G=X.y0-(X.sourceLinks.length-1)*c/2;for(const{target:et,width:it}of X.sourceLinks){if(et===P)break;G+=it+c}for(const{source:et,width:it}of P.targetLinks){if(et===X)break;G-=it}return G}function yt(X,P){let G=P.y0-(P.targetLinks.length-1)*c/2;for(const{source:et,width:it}of P.targetLinks){if(et===X)break;G+=it+c}for(const{target:et,width:it}of X.sourceLinks){if(et===P)break;G-=it}return G}return U}var Op=Math.PI,Mp=2*Op,ia=1e-6,k3=Mp-ia;function Vp(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _w(){return new Vp}Vp.prototype=_w.prototype={constructor:Vp,moveTo:function(i,t){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(i,t){this._+="L"+(this._x1=+i)+","+(this._y1=+t)},quadraticCurveTo:function(i,t,n,s){this._+="Q"+ +i+","+ +t+","+(this._x1=+n)+","+(this._y1=+s)},bezierCurveTo:function(i,t,n,s,o,u){this._+="C"+ +i+","+ +t+","+ +n+","+ +s+","+(this._x1=+o)+","+(this._y1=+u)},arcTo:function(i,t,n,s,o){i=+i,t=+t,n=+n,s=+s,o=+o;var u=this._x1,c=this._y1,m=n-i,p=s-t,g=u-i,v=c-t,b=g*g+v*v;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=i)+","+(this._y1=t);else if(b>ia)if(!(Math.abs(v*m-p*g)>ia)||!o)this._+="L"+(this._x1=i)+","+(this._y1=t);else{var S=n-u,I=s-c,U=m*m+p*p,H=S*S+I*I,Y=Math.sqrt(U),lt=Math.sqrt(b),Z=o*Math.tan((Op-Math.acos((U+b-H)/(2*Y*lt)))/2),at=Z/lt,ht=Z/Y;Math.abs(at-1)>ia&&(this._+="L"+(i+at*g)+","+(t+at*v)),this._+="A"+o+","+o+",0,0,"+ +(v*S>g*I)+","+(this._x1=i+ht*m)+","+(this._y1=t+ht*p)}},arc:function(i,t,n,s,o,u){i=+i,t=+t,n=+n,u=!!u;var c=n*Math.cos(s),m=n*Math.sin(s),p=i+c,g=t+m,v=1^u,b=u?s-o:o-s;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+p+","+g:(Math.abs(this._x1-p)>ia||Math.abs(this._y1-g)>ia)&&(this._+="L"+p+","+g),n&&(b<0&&(b=b%Mp+Mp),b>k3?this._+="A"+n+","+n+",0,1,"+v+","+(i-c)+","+(t-m)+"A"+n+","+n+",0,1,"+v+","+(this._x1=p)+","+(this._y1=g):b>ia&&(this._+="A"+n+","+n+",0,"+ +(b>=Op)+","+v+","+(this._x1=i+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(i,t,n,s){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +s+"h"+-n+"Z"},toString:function(){return this._}};function cT(i){return function(){return i}}function L3(i){return i[0]}function P3(i){return i[1]}var U3=Array.prototype.slice;function j3(i){return i.source}function z3(i){return i.target}function B3(i){var t=j3,n=z3,s=L3,o=P3,u=null;function c(){var m,p=U3.call(arguments),g=t.apply(this,p),v=n.apply(this,p);if(u||(u=m=_w()),i(u,+s.apply(this,(p[0]=g,p)),+o.apply(this,p),+s.apply(this,(p[0]=v,p)),+o.apply(this,p)),m)return u=null,m+""||null}return c.source=function(m){return arguments.length?(t=m,c):t},c.target=function(m){return arguments.length?(n=m,c):n},c.x=function(m){return arguments.length?(s=typeof m=="function"?m:cT(+m),c):s},c.y=function(m){return arguments.length?(o=typeof m=="function"?m:cT(+m),c):o},c.context=function(m){return arguments.length?(u=m??null,c):u},c}function q3(i,t,n,s,o){i.moveTo(t,n),i.bezierCurveTo(t=(t+s)/2,n,t,o,s,o)}function H3(){return B3(q3)}function F3(i){return[i.source.x1,i.y0]}function G3(i){return[i.target.x0,i.y1]}function $3(){return H3().source(F3).target(G3)}function Q3({data:i,height:t=560,nodeWidth:n=16,nodePadding:s=18,onNodeClick:o}){const u=le.useRef(null),[c,m]=le.useState(0);return le.useEffect(()=>{const p=u.current;if(!p)return;const g=new ResizeObserver(v=>{const b=Math.floor(v[0]?.contentRect?.width||0);m(b)});return g.observe(p),m(Math.floor(p.clientWidth||0)),()=>g.disconnect()},[]),le.useEffect(()=>{const p=u.current;if(!p)return;p.innerHTML="";const g=Math.max(320,c||p.clientWidth||0),v=Y4(p).append("svg").attr("width",g).attr("height",t).attr("viewBox",`0 0 ${g} ${t}`).style("display","block"),b=Z=>{v.append("text").attr("x",16).attr("y",28).attr("fill","#e2e8f0").attr("font-size",12).text(Z)},S={Income:"#22c55e",Fixed:"#f97316",Essential:"#3b82f6",Variable:"#a855f7",Transfers:"#eab308",Leftover:"#10b981"},I=Number(i?.meta?.incomeTotal||0),U=Z=>I>0?Z/I*100:0,H=Z=>`$${Number(Z||0).toFixed(2)}`,Y=g<420?10:12;let lt=requestAnimationFrame(()=>{try{const Z=Array.isArray(i?.nodes)?i.nodes:[],at=Array.isArray(i?.links)?i.links:[];if(!Z.length||!at.length){b("No report data yet  import transactions to see cash flow.");return}const ht=new Set(Z.map(R=>R?.name).filter(Boolean));for(const R of at)typeof R?.source=="string"&&ht.add(R.source),typeof R?.target=="string"&&ht.add(R.target);const K=[...ht],ot=new Map(K.map((R,yt)=>[R,yt])),N=K.map(R=>({name:R})),x=at.map(R=>{const yt=typeof R.source=="string"?ot.get(R.source):R.source,X=typeof R.target=="string"?ot.get(R.target):R.target,P=Number(R.value||0);return typeof yt!="number"||typeof X!="number"||!Number.isFinite(P)||P<=0?null:{source:yt,target:X,value:P}}).filter(Boolean);if(!x.length){b("Report links are empty after validation.");return}const O=V3().nodeWidth(n).nodePadding(s).extent([[12,12],[g-12,t-12]])({nodes:N.map(R=>({...R})),links:x.map(R=>({...R}))});v.append("g").attr("fill","none").attr("stroke-opacity",.35).selectAll("path").data(O.links).join("path").attr("d",$3()).attr("stroke",R=>{const yt=O.nodes[R.source.index]?.name;return S[yt]||"#94a3b8"}).attr("stroke-width",R=>Math.max(1,R.width)).append("title").text(R=>{const yt=Number(R.value||0),X=O.nodes[R.source.index]?.name,P=O.nodes[R.target.index]?.name;return`${X}  ${P}
${H(yt)} (${U(yt).toFixed(1)}% of income)`});const L=v.append("g").selectAll("g").data(O.nodes).join("g");L.append("rect").attr("x",R=>R.x0).attr("y",R=>R.y0).attr("height",R=>Math.max(1,R.y1-R.y0)).attr("width",R=>R.x1-R.x0).attr("rx",6).attr("fill",R=>S[R.name]||"#64748b").attr("opacity",.9).style("cursor",typeof o=="function"?"pointer":"default").on("click",(R,yt)=>{typeof o=="function"&&o(yt.name,yt)}).append("title").text(R=>{const yt=Number(R.value||0);return`${R.name}
${H(yt)} (${U(yt).toFixed(1)}% of income)`}),L.append("text").attr("x",R=>R.x0<g/2?R.x1+8:R.x0-8).attr("y",R=>(R.y0+R.y1)/2).attr("dy","0.35em").attr("text-anchor",R=>R.x0<g/2?"start":"end").attr("font-size",Y).attr("fill","#e2e8f0").text(R=>R.name)}catch(Z){console.error("FlowSankey render error:",Z),b(`Sankey render error: ${Z?.message||String(Z)}`)}});return()=>cancelAnimationFrame(lt)},[i,t,n,s,o,c]),T.jsx("div",{ref:u,style:{width:"100%"}})}const Xm={topNPerBucket:10,maxRows:2e4,includeTransfers:!0,preset:"Detailed"};function Y3(i){return!i||typeof i!="string"||i.length<7?null:i.slice(0,7)}function Zm(i){const t=Number(i);return Number.isFinite(t)?t:0}function K3(i=""){let t=String(i).trim().toLowerCase();return t=t.replace(/\s+/g," "),t}function X3(i=""){let t=String(i).trim();return t=t.replace(/[*#]{3,}\w{2,}$/g,"").trim(),t=t.replace(/\b(?:\d{3,}|x{3,}\d+)\b/gi,"").trim(),t=t.replace(/\s+/g," "),t.length>28&&(t=t.slice(0,26)+""),t||"Uncategorized"}const Z3=["rent","mortgage","apts","apt","apartment","lease","property management","hoa","insurance","internet","phone","utilities","loan","payment"],J3=["amazon prime","prime membership","netflix","hulu","spotify","youtube premium","rocket money","membership","subscription","icloud","google one","dropbox"],W3=["grocery","costco","walmart","gas","fuel","medical","pharmacy","power","water"],tV=["transfer","zelle","venmo","cash app","withdrawal","deposit"];function eV(i=""){const t=i.toLowerCase();return tV.some(n=>t.includes(n))?"Transfers":Z3.some(n=>t.includes(n))?"Fixed":J3.some(n=>t.includes(n))?"Subscriptions":W3.some(n=>t.includes(n))?"Essential":"Variable"}function nV(i,t){const n=[];for(const s of i.entries())n.push(s),n.sort((o,u)=>u[1]-o[1]),n.length>t&&(n.length=t);return n}function iV({accounts:i=[],monthKey:t,topNPerBucket:n=10,maxRows:s=2e4,includeTransfers:o=!0}){const u=(i||[]).flatMap(Z=>Z.transactions||[]),c=t?u.filter(Z=>Y3(Z.date)===t):u,m=c.length>s?c.slice(-s):c,p=m.reduce((Z,at)=>Z+(Zm(at.amount)>0?Zm(at.amount):0),0),g=new Map,v=new Map;for(const Z of m){const at=Zm(Z.amount);if(!(at<0))continue;const ht=K3(Z.description||""),K=X3(Z.description||""),ot=eV(ht);if(!o&&ot==="Transfers")continue;const N=Math.abs(at);g.set(ot,(g.get(ot)||0)+N),v.has(ot)||v.set(ot,new Map);const x=v.get(ot);x.set(K,(x.get(K)||0)+N)}if(p<=0&&g.size===0)return{nodes:[],links:[],meta:{incomeTotal:0}};const b=o?["Fixed","Subscriptions","Essential","Variable","Transfers"]:["Fixed","Subscriptions","Essential","Variable"],S=[{name:"Income"},...b.map(Z=>({name:Z}))],I=[];for(const Z of b){const at=g.get(Z)||0;at>0&&I.push({source:"Income",target:Z,value:at})}for(const Z of b){const at=v.get(Z);if(at)for(const[ht,K]of nV(at,n))S.push({name:ht}),I.push({source:Z,target:ht,value:K})}const U=b.reduce((Z,at)=>at==="Transfers"?Z:Z+(g.get(at)||0),0),H=Math.max(0,p-U);H>0&&(S.push({name:"Leftover"}),I.push({source:"Income",target:"Leftover",value:H}));const Y=new Set,lt=[];for(const Z of S)Y.has(Z.name)||(Y.add(Z.name),lt.push(Z));return{nodes:lt,links:I,meta:{incomeTotal:p,totalIncome:p,spentTotal:U,totalSpent:U,transfersTotal:g.get("Transfers")||0,leftover:H}}}const hT="budgetApp_reportSettings_v1",rV={Minimal:{topNPerBucket:5,maxRows:1e4,includeTransfers:!1,preset:"Minimal"},Detailed:{topNPerBucket:12,maxRows:6e4,includeTransfers:!0,preset:"Detailed"},Audit:{topNPerBucket:30,maxRows:2e5,includeTransfers:!0,preset:"Audit"}};function fT(i,t,n,s){const o=Number(i);return Number.isFinite(o)?Math.max(t,Math.min(n,Math.trunc(o))):s}function sV({accounts:i=[],monthKey:t,onMerchantPick:n}){const[s,o]=le.useState("overview"),[u,c]=le.useState({nodes:[],links:[],meta:{incomeTotal:0}}),[m,p]=le.useState(560);le.useEffect(()=>{function S(){const I=Math.max(380,Math.min(680,Math.round(window.innerHeight*.55)));p(I)}return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const[g,v]=le.useState(()=>{try{const S=localStorage.getItem(hT),I=S?JSON.parse(S):null;return{...Xm,...I||{}}}catch{return{...Xm}}});le.useEffect(()=>{const S=setTimeout(()=>{c(iV({accounts:i,monthKey:t,topNPerBucket:g.topNPerBucket,maxRows:g.maxRows,includeTransfers:g.includeTransfers}))},0);return()=>clearTimeout(S)},[i,t,g.topNPerBucket,g.maxRows,g.includeTransfers]),le.useEffect(()=>{const S=setTimeout(()=>{try{localStorage.setItem(hT,JSON.stringify(g))}catch{}},300);return()=>clearTimeout(S)},[g]);function b(S){const I=rV[S];I&&v(U=>({...U,...I,preset:S}))}return T.jsxs("div",{className:"space-y-3",children:[T.jsx("div",{className:"flex items-center justify-between gap-3",children:T.jsxs("div",{className:"inline-flex rounded-xl border border-slate-800 bg-slate-950/40 p-1",children:[T.jsx("button",{onClick:()=>o("overview"),className:`px-3 py-1.5 text-sm rounded-lg ${s==="overview"?"bg-slate-900 text-slate-100":"text-slate-300 hover:text-slate-100"}`,children:"Overview"}),T.jsx("button",{onClick:()=>o("settings"),className:`px-3 py-1.5 text-sm rounded-lg ${s==="settings"?"bg-slate-900 text-slate-100":"text-slate-300 hover:text-slate-100"}`,children:"Settings"})]})}),s==="overview"&&T.jsx("div",{className:"rounded-2xl border border-slate-800 bg-slate-950/40 p-3",children:T.jsx("div",{className:"hScroll",children:T.jsx("div",{style:{minHeight:m},children:T.jsx(Q3,{data:u,height:m,onNodeClick:S=>{!["Income","Fixed","Subscriptions","Essential","Variable","Transfers","Leftover"].includes(S)&&typeof n=="function"&&n(S)}})})})}),s==="settings"&&T.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-950/40 p-4 space-y-5",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("div",{className:"text-sm font-medium text-slate-100",children:"Presets"}),T.jsxs("div",{className:"flex flex-wrap gap-2",children:[["Minimal","Detailed","Audit"].map(S=>T.jsx("button",{onClick:()=>b(S),className:"text-sm px-3 py-2 rounded-md border border-slate-800 bg-slate-900 hover:bg-slate-800 text-slate-100",children:S},S)),T.jsx("button",{onClick:()=>v({...Xm,preset:"Custom"}),className:"text-sm px-3 py-2 rounded-md border border-slate-800 bg-slate-900 hover:bg-slate-800 text-slate-100",children:"Reset"})]})]}),T.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-slate-100 text-sm font-medium",children:"Top merchants per bucket"}),T.jsx("input",{type:"number",min:1,max:50,value:g.topNPerBucket,onChange:S=>v(I=>({...I,topNPerBucket:fT(S.target.value,1,50,10),preset:"Custom"})),className:"w-full bg-slate-900 border border-slate-800 rounded-md px-3 py-2 text-slate-100"})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-slate-100 text-sm font-medium",children:"Max rows to process"}),T.jsx("input",{type:"number",min:1e3,max:2e5,step:1e3,value:g.maxRows,onChange:S=>v(I=>({...I,maxRows:fT(S.target.value,1e3,2e5,2e4),preset:"Custom"})),className:"w-full bg-slate-900 border border-slate-800 rounded-md px-3 py-2 text-slate-100"})]}),T.jsxs("div",{className:"flex items-center justify-between gap-4 md:col-span-2",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-slate-100 text-sm font-medium",children:"Include Transfers"}),T.jsx("p",{className:"text-slate-400 text-xs",children:"Show/hide Transfers bucket in the chart."})]}),T.jsx("input",{type:"checkbox",checked:!!g.includeTransfers,onChange:S=>v(I=>({...I,includeTransfers:S.target.checked,preset:"Custom"})),className:"h-5 w-5"})]})]})]})]})}const kg="budgetAppState_v1";function aV(){if(typeof window>"u")return null;try{const i=window.localStorage.getItem(kg);return i?JSON.parse(i):null}catch(i){return console.error("Failed to load stored state",i),null}}function oV(i){if(!(typeof window>"u"))try{window.localStorage.setItem(kg,JSON.stringify(i))}catch(t){console.error("Failed to save state",t)}}function lV(i){if(!i)return null;if(i.accounts&&Array.isArray(i.accounts))return i;const t={id:"main",name:"Main Account",type:"checking",transactions:Array.isArray(i.transactions)?i.transactions:[]};return{...i,accounts:[t],currentAccountId:i.currentAccountId||"main"}}const kp=[{key:"dashboard",label:"Dashboard"},{key:"balances",label:"Accounts"},{key:"budget",label:"Budget"},{key:"transactions",label:"Transactions"},{key:"goalDetail",label:"Goals"},{key:"reports",label:"Reports"}],uV=Object.fromEntries(kp.map(i=>[i.key,i.label])),dT=["monthOverview","accountSnapshot","goals","csvImport"];function cV(){const i=new Date;return`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`}function hV(){const{user:i,authLoading:t,signInWithEmail:n,signUpWithEmail:s,signOut:o,resetPassword:u}=xD(),c=i?.uid||null,m=Rt.useRef(!1),p=Rt.useRef(null),g=Rt.useRef(null);g.current===null&&(g.current=lV(aV()));const v=g.current,[b,S]=Rt.useState(v?.theme||"dark"),[I,U]=Rt.useState(v?.budgetsByMonth||{}),[H,Y]=Rt.useState(v?.activeMonth||cV()),[lt,Z]=Rt.useState(v?.goals||[]),[at,ht]=Rt.useState(Gm(v?.accounts||[])),[K,ot]=Rt.useState(v?.currentAccountId||"main"),[N,x]=Rt.useState(v?.navOrder||kp.map(Nt=>Nt.key));Rt.useEffect(()=>{(!Array.isArray(N)||N.length===0)&&x(kp.map(Nt=>Nt.key))},[N]);const[C,O]=Rt.useState(v?.homePage||"dashboard"),[D,L]=Rt.useState(v?.dashboardSectionsOrder||dT),[R,yt]=Rt.useState(C),[X,P]=Rt.useState(v?.selectedGoalId||null),[G,et]=Rt.useState(v?.txFilter||""),[it,dt]=Rt.useState(null),[V,W]=Rt.useState(null),[ut,ft]=Rt.useState(null),[Et,At]=Rt.useState(!1),xt=I[H]||{month:H,income:0},ce=Rt.useMemo(()=>{const Nt=BE(xt.fixed||[]),ye=BE(xt.variable||[]);return{fixed:Nt,variable:ye,leftover:xt.income-Nt-ye}},[xt]),ie=Rt.useMemo(()=>H1(b),[b]);Rt.useEffect(()=>{i?.uid&&(At(!0),DD(i).then(ft).finally(()=>At(!1)))},[i?.uid]),Rt.useEffect(()=>{if(!c)return;const Nt=So(Ao,"workspaces",c),ye=wD(Nt,Cn=>{const qe=Cn.data()?.state;qe&&(m.current=!0,U(qe.budgetsByMonth||{}),Y(qe.activeMonth||H),Z(qe.goals||[]),ht(Gm(qe.accounts||[])),ot(qe.currentAccountId||"main"),x(qe.navOrder||N),L(qe.dashboardSectionsOrder||dT),S(qe.theme||"dark"))});return()=>ye()},[c]),Rt.useEffect(()=>{c&&RD(c).then(Nt=>{Nt&&(m.current=!0,U(Nt.budgetsByMonth||{}),Y(Nt.activeMonth||H),Z(Nt.goals||[]),ht(Gm(Nt.accounts||[])))})},[c]),Rt.useEffect(()=>{const Nt={budgetsByMonth:I,activeMonth:H,goals:lt,accounts:at,currentAccountId:K,navOrder:N,homePage:C,dashboardSectionsOrder:D,theme:b,txFilter:G};if(oV(Nt),!!c){if(m.current){m.current=!1;return}clearTimeout(p.current),p.current=setTimeout(()=>{ND(c,Nt).then(()=>W(new Date().toLocaleTimeString()))},600)}},[c,I,H,lt,at,K,N,C,D,b,G]);async function Fi(){window.confirm("Reset all data?")&&(c&&await bD(So(Ao,"workspaces",c)),localStorage.removeItem(kg),window.location.reload())}if(!i)return T.jsx(PD,{loading:t,onSignIn:n,onSignUp:s,onResetPassword:u});function Sr(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`tx-${Date.now()}-${Math.random().toString(16).slice(2)}`}function $n(Nt){return Array.isArray(Nt)?Nt:[]}function Ar(Nt=[],ye={}){const Cn=$n(Nt).filter(Kt=>Kt&&typeof Kt.amount=="number");if(!Cn.length)return;const qe=(ye.bank||"import").toLowerCase().replace(/[^a-z0-9]+/g,"-"),xs=(ye.filename||"file").toLowerCase().replace(/[^a-z0-9]+/g,"-"),se=`${qe}-${xs}`.slice(0,60);ht(Kt=>$n(Kt).some(Gi=>Gi.id===se)?Kt:[...$n(Kt),{id:se,name:ye.bank?`${ye.bank} (${ye.filename})`:ye.filename||"Imported Account",type:"checking",balance:0}]),U(Kt=>{const In=Kt?.[H]||{month:H,income:0,fixed:[],variable:[],transactions:[]},Rs=$n(In.transactions),Gi=new Set(Rs.map(we=>`${we.date}|${we.description}|${we.amount}|${we.accountId||""}`)),He=Cn.map(we=>({id:we.id||Sr(),date:we.date,description:we.description,amount:we.amount,accountId:se})).filter(we=>{const xr=`${we.date}|${we.description}|${we.amount}|${we.accountId}`;return Gi.has(xr)?!1:(Gi.add(xr),!0)}),$i={...In,transactions:[...Rs,...He]};return{...Kt,[H]:$i}}),ot(se)}return T.jsxs("div",{className:`app-shell ${ie.shellClass}`,children:[T.jsx("header",{className:ie.headerClass,children:T.jsxs("div",{className:"content headerRow",children:[T.jsxs("div",{className:"brandAndNav",children:[T.jsx("span",{className:"appTitle",children:"BUDGET CENTER"}),T.jsx("div",{className:"navRow","aria-label":"Primary navigation",children:N.map(Nt=>T.jsx(MD,{label:uV[Nt],active:R===Nt,onClick:()=>yt(Nt)},Nt))})]}),T.jsxs("div",{className:"headerRight",children:[T.jsx(zD,{profile:ut,email:i.email,loading:Et,onUpdateProfile:Nt=>OD(i.uid,Nt).then(ft)}),T.jsx(LD,{onReset:Fi,onSignOut:o,themeValue:b,onChangeTheme:S})]})]})}),T.jsxs("main",{className:"content",children:[R==="dashboard"&&T.jsx(rO,{month:H,income:xt.income,fixed:ce.fixed,variable:ce.variable,leftover:ce.leftover,goals:lt,accounts:at,currentAccountId:K,onChangeCurrentAccount:ot,onTransactionsParsed:Ar}),R==="balances"&&T.jsx(aO,{accounts:at,currentAccountId:K,onChangeCurrentAccount:ot,onAccountsChange:ht}),R==="budget"&&T.jsx(oO,{month:H,budget:xt,totals:ce,budgetsByMonth:I,onBudgetChange:Nt=>U(ye=>({...ye,[H]:Nt}))}),R==="transactions"&&T.jsx(cO,{accounts:at,currentAccountId:K,transactions:xt.transactions||[],filter:G,onFilterChange:et,onUpdateBudget:Nt=>U(ye=>({...ye,[H]:Nt}))}),R==="goalDetail"&&T.jsx(fO,{goals:lt,selectedGoalId:X,onSelectGoal:P,onGoalsChange:Z}),R==="reports"&&T.jsx(sV,{accounts:at,monthKey:H,onMerchantPick:Nt=>{et(Nt),yt("transactions")}})]}),it&&T.jsx(UD,{...it,onClose:()=>dt(null)})]})}sA.createRoot(document.getElementById("root")).render(T.jsx(Rt.StrictMode,{children:T.jsx(AD,{children:T.jsx(hV,{})})}));export{Nh as a,F1 as c,G1 as p};
//# sourceMappingURL=index-C_HHHLFu.js.map
