(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function C1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Sm={exports:{}},Nl={};var F0;function I1(){if(F0)return Nl;F0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=t,Nl.jsx=n,Nl.jsxs=n,Nl}var G0;function x1(){return G0||(G0=1,Sm.exports=I1()),Sm.exports}var N=x1(),Am={exports:{}},St={};var Q0;function N1(){if(Q0)return St;Q0=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,Z={};function at(V,X,rt){this.props=V,this.context=X,this.refs=Z,this.updater=rt||F}at.prototype.isReactComponent={},at.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},at.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ut(){}ut.prototype=at.prototype;function lt(V,X,rt){this.props=V,this.context=X,this.refs=Z,this.updater=rt||F}var mt=lt.prototype=new ut;mt.constructor=lt,Q(mt,at.prototype),mt.isPureReactComponent=!0;var J=Array.isArray;function et(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(V,X,rt){var st=rt.ref;return{$$typeof:i,type:V,key:X,ref:st!==void 0?st:null,props:rt}}function O(V,X){return C(V.type,X,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function P(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(rt){return X[rt]})}var I=/\/+/g;function Xt(V,X){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):X.toString(36)}function le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(et,et):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,X,rt,st,Et){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var It=!1;if(V===null)It=!0;else switch(bt){case"bigint":case"string":case"number":It=!0;break;case"object":switch(V.$$typeof){case i:case t:It=!0;break;case E:return It=V._init,G(It(V._payload),X,rt,st,Et)}}if(It)return Et=Et(V),It=st===""?"."+Xt(V,0):st,J(Et)?(rt="",It!=null&&(rt=It.replace(I,"$&/")+"/"),G(Et,X,rt,"",function(zi){return zi})):Et!=null&&(D(Et)&&(Et=O(Et,rt+(Et.key==null||V&&V.key===Et.key?"":(""+Et.key).replace(I,"$&/")+"/")+It)),X.push(Et)),1;It=0;var ue=st===""?".":st+":";if(J(V))for(var te=0;te<V.length;te++)st=V[te],bt=ue+Xt(st,te),It+=G(st,X,rt,bt,Et);else if(te=k(V),typeof te=="function")for(V=te.call(V),te=0;!(st=V.next()).done;)st=st.value,bt=ue+Xt(st,te++),It+=G(st,X,rt,bt,Et);else if(bt==="object"){if(typeof V.then=="function")return G(le(V),X,rt,st,Et);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return It}function nt(V,X,rt){if(V==null)return V;var st=[],Et=0;return G(V,st,"","",function(bt){return X.call(rt,bt,Et++)}),st}function pt(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(rt){(V._status===0||V._status===-1)&&(V._status=1,V._result=rt)},function(rt){(V._status===0||V._status===-1)&&(V._status=2,V._result=rt)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Ot=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},qt={map:nt,forEach:function(V,X,rt){nt(V,function(){X.apply(this,arguments)},rt)},count:function(V){var X=0;return nt(V,function(){X++}),X},toArray:function(V){return nt(V,function(X){return X})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return St.Activity=T,St.Children=qt,St.Component=at,St.Fragment=n,St.Profiler=o,St.PureComponent=lt,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},St.cache=function(V){return function(){return V.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(V,X,rt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=Q({},V.props),Et=V.key;if(X!=null)for(bt in X.key!==void 0&&(Et=""+X.key),X)!w.call(X,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&X.ref===void 0||(st[bt]=X[bt]);var bt=arguments.length-2;if(bt===1)st.children=rt;else if(1<bt){for(var It=Array(bt),ue=0;ue<bt;ue++)It[ue]=arguments[ue+2];st.children=It}return C(V.type,Et,st)},St.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},St.createElement=function(V,X,rt){var st,Et={},bt=null;if(X!=null)for(st in X.key!==void 0&&(bt=""+X.key),X)w.call(X,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(Et[st]=X[st]);var It=arguments.length-2;if(It===1)Et.children=rt;else if(1<It){for(var ue=Array(It),te=0;te<It;te++)ue[te]=arguments[te+2];Et.children=ue}if(V&&V.defaultProps)for(st in It=V.defaultProps,It)Et[st]===void 0&&(Et[st]=It[st]);return C(V,bt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(V){return{$$typeof:m,render:V}},St.isValidElement=D,St.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:pt}},St.memo=function(V,X){return{$$typeof:g,type:V,compare:X===void 0?null:X}},St.startTransition=function(V){var X=R.T,rt={};R.T=rt;try{var st=V(),Et=R.S;Et!==null&&Et(rt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(et,Ot)}catch(bt){Ot(bt)}finally{X!==null&&rt.types!==null&&(X.types=rt.types),R.T=X}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(V){return R.H.use(V)},St.useActionState=function(V,X,rt){return R.H.useActionState(V,X,rt)},St.useCallback=function(V,X){return R.H.useCallback(V,X)},St.useContext=function(V){return R.H.useContext(V)},St.useDebugValue=function(){},St.useDeferredValue=function(V,X){return R.H.useDeferredValue(V,X)},St.useEffect=function(V,X){return R.H.useEffect(V,X)},St.useEffectEvent=function(V){return R.H.useEffectEvent(V)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(V,X,rt){return R.H.useImperativeHandle(V,X,rt)},St.useInsertionEffect=function(V,X){return R.H.useInsertionEffect(V,X)},St.useLayoutEffect=function(V,X){return R.H.useLayoutEffect(V,X)},St.useMemo=function(V,X){return R.H.useMemo(V,X)},St.useOptimistic=function(V,X){return R.H.useOptimistic(V,X)},St.useReducer=function(V,X,rt){return R.H.useReducer(V,X,rt)},St.useRef=function(V){return R.H.useRef(V)},St.useState=function(V){return R.H.useState(V)},St.useSyncExternalStore=function(V,X,rt){return R.H.useSyncExternalStore(V,X,rt)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.1",St}var Y0;function wp(){return Y0||(Y0=1,Am.exports=N1()),Am.exports}var xt=wp();const dn=C1(xt);var wm={exports:{}},Dl={},Rm={exports:{}},Cm={};var K0;function D1(){return K0||(K0=1,(function(i){function t(G,nt){var pt=G.length;G.push(nt);t:for(;0<pt;){var Ot=pt-1>>>1,qt=G[Ot];if(0<o(qt,nt))G[Ot]=nt,G[pt]=qt,pt=Ot;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var nt=G[0],pt=G.pop();if(pt!==nt){G[0]=pt;t:for(var Ot=0,qt=G.length,V=qt>>>1;Ot<V;){var X=2*(Ot+1)-1,rt=G[X],st=X+1,Et=G[st];if(0>o(rt,pt))st<qt&&0>o(Et,rt)?(G[Ot]=Et,G[st]=pt,Ot=st):(G[Ot]=rt,G[X]=pt,Ot=X);else if(st<qt&&0>o(Et,pt))G[Ot]=Et,G[st]=pt,Ot=st;else break t}}return nt}function o(G,nt){var pt=G.sortIndex-nt.sortIndex;return pt!==0?pt:G.id-nt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,A=3,k=!1,F=!1,Q=!1,Z=!1,at=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function mt(G){for(var nt=n(g);nt!==null;){if(nt.callback===null)s(g);else if(nt.startTime<=G)s(g),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=n(g)}}function J(G){if(Q=!1,mt(G),!F)if(n(p)!==null)F=!0,et||(et=!0,P());else{var nt=n(g);nt!==null&&le(J,nt.startTime-G)}}var et=!1,R=-1,w=5,C=-1;function O(){return Z?!0:!(i.unstable_now()-C<w)}function D(){if(Z=!1,et){var G=i.unstable_now();C=G;var nt=!0;try{t:{F=!1,Q&&(Q=!1,ut(R),R=-1),k=!0;var pt=A;try{e:{for(mt(G),T=n(p);T!==null&&!(T.expirationTime>G&&O());){var Ot=T.callback;if(typeof Ot=="function"){T.callback=null,A=T.priorityLevel;var qt=Ot(T.expirationTime<=G);if(G=i.unstable_now(),typeof qt=="function"){T.callback=qt,mt(G),nt=!0;break e}T===n(p)&&s(p),mt(G)}else s(p);T=n(p)}if(T!==null)nt=!0;else{var V=n(g);V!==null&&le(J,V.startTime-G),nt=!1}}break t}finally{T=null,A=pt,k=!1}nt=void 0}}finally{nt?P():et=!1}}}var P;if(typeof lt=="function")P=function(){lt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Xt=I.port2;I.port1.onmessage=D,P=function(){Xt.postMessage(null)}}else P=function(){at(D,0)};function le(G,nt){R=at(function(){G(i.unstable_now())},nt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(G){switch(A){case 1:case 2:case 3:var nt=3;break;default:nt=A}var pt=A;A=nt;try{return G()}finally{A=pt}},i.unstable_requestPaint=function(){Z=!0},i.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pt=A;A=G;try{return nt()}finally{A=pt}},i.unstable_scheduleCallback=function(G,nt,pt){var Ot=i.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Ot+pt:Ot):pt=Ot,G){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=pt+qt,G={id:E++,callback:nt,priorityLevel:G,startTime:pt,expirationTime:qt,sortIndex:-1},pt>Ot?(G.sortIndex=pt,t(g,G),n(p)===null&&G===n(g)&&(Q?(ut(R),R=-1):Q=!0,le(J,pt-Ot))):(G.sortIndex=qt,t(p,G),F||k||(F=!0,et||(et=!0,P()))),G},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(G){var nt=A;return function(){var pt=A;A=nt;try{return G.apply(this,arguments)}finally{A=pt}}}})(Cm)),Cm}var X0;function O1(){return X0||(X0=1,Rm.exports=D1()),Rm.exports}var Im={exports:{}},$e={};var $0;function M1(){if($0)return $e;$0=1;var i=wp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$e.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},$e.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},$e.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$e.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$e.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$e.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$e.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$e.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$e.requestFormReset=function(p){s.d.r(p)},$e.unstable_batchedUpdates=function(p,g){return p(g)},$e.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},$e.useFormStatus=function(){return h.H.useHostTransitionStatus()},$e.version="19.2.1",$e}var Z0;function V1(){if(Z0)return Im.exports;Z0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Im.exports=M1(),Im.exports}var J0;function k1(){if(J0)return Dl;J0=1;var i=O1(),t=wp(),n=V1();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function E(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=E(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case at:return"Profiler";case Z:return"StrictMode";case J:return"Suspense";case et:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case lt:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case mt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return r=e.displayName||null,r!==null?r:Xt(e.type)||"Memo";case w:r=e._payload,e=e._init;try{return Xt(e(r))}catch{}}return null}var le=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Ot=[],qt=-1;function V(e){return{current:e}}function X(e){0>qt||(e.current=Ot[qt],Ot[qt]=null,qt--)}function rt(e,r){qt++,Ot[qt]=e.current,e.current=r}var st=V(null),Et=V(null),bt=V(null),It=V(null);function ue(e,r){switch(rt(bt,r),rt(Et,e),rt(st,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?d0(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=d0(r),e=m0(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(st),rt(st,e)}function te(){X(st),X(Et),X(bt)}function zi(e){e.memoizedState!==null&&rt(It,e);var r=st.current,a=m0(r,e.type);r!==a&&(rt(Et,e),rt(st,a))}function se(e){Et.current===e&&(X(st),X(Et)),It.current===e&&(X(It),Rl._currentValue=pt)}var Bn,yr;function ve(e){if(Bn===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Bn=r&&r[1]||"",yr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bn+e+yr}var Ro=!1;function _s(e,r){if(!e||Ro)return"";Ro=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){B=H}e.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var x=_.split(`
`),j=b.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===j.length)for(l=x.length-1,f=j.length-1;1<=l&&0<=f&&x[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==j[f]){var Y=`
`+x[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Ro=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ve(a):""}function Co(e,r){switch(e.tag){case 26:case 27:case 5:return ve(e.type);case 16:return ve("Lazy");case 13:return e.child!==r&&r!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return _s(e.type,!1);case 11:return _s(e.type.render,!1);case 1:return _s(e.type,!0);case 31:return ve("Activity");default:return""}}function Io(e){try{var r="",a=null;do r+=Co(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Oe=i.unstable_scheduleCallback,_r=i.unstable_cancelCallback,wf=i.unstable_shouldYield,Cu=i.unstable_requestPaint,en=i.unstable_now,vs=i.unstable_getCurrentPriorityLevel,xo=i.unstable_ImmediatePriority,No=i.unstable_UserBlockingPriority,vr=i.unstable_NormalPriority,Rf=i.unstable_LowPriority,Iu=i.unstable_IdlePriority,xu=i.log,Nu=i.unstable_setDisableYieldValue,qn=null,je=null;function Rn(e){if(typeof xu=="function"&&Nu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(qn,e)}catch{}}var me=Math.clz32?Math.clz32:Ou,Du=Math.log,ua=Math.LN2;function Ou(e){return e>>>=0,e===0?32:31-(Du(e)/ua|0)|0}var oi=256,Es=262144,Te=4194304;function li(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=li(l):(_&=b,_!==0?f=li(_):a||(a=b&~e,a!==0&&(f=li(a))))):(b=l&~d,b!==0?f=li(b):_!==0?f=li(_):a||(a=l&~e,a!==0&&(f=li(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Hn(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Cf(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function ci(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Ts(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function If(e,r,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,x=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-me(a),$=1<<Y;b[Y]=0,x[Y]=-1;var B=j[Y];if(B!==null)for(j[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}a&=~$}l!==0&&bs(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~r))}function bs(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-me(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Do(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-me(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function Oo(e,r){var a=r&-r;return a=(a&42)!==0?1:Ss(a),(a&(e.suspendedLanes|r))!==0?0:a}function Ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:U0(e.type))}function Fn(e,r){var a=nt.p;try{return nt.p=e,r()}finally{nt.p=a}}var Gn=Math.random().toString(36).slice(2),be="__reactFiber$"+Gn,Pe="__reactProps$"+Gn,hi="__reactContainer$"+Gn,ca="__reactEvents$"+Gn,xf="__reactListeners$"+Gn,ku="__reactHandles$"+Gn,Pu="__reactResources$"+Gn,fi="__reactMarker$"+Gn;function ha(e){delete e[be],delete e[Pe],delete e[ca],delete e[xf],delete e[ku]}function di(e){var r=e[be];if(r)return r;for(var a=e.parentNode;a;){if(r=a[hi]||a[be]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=T0(e);e!==null;){if(a=e[be])return a;e=T0(e)}return r}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[be]||e[hi]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function gn(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function mi(e){var r=e[Pu];return r||(r=e[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Se(e){e[fi]=!0}var Mo=new Set,Vo={};function pi(e,r){gi(e,r),gi(e+"Capture",r)}function gi(e,r){for(Vo[e]=r,e=0;e<r.length;e++)Mo.add(r[e])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},Uo={};function Uu(e){return Ee.call(Uo,e)?!0:Ee.call(Po,e)?!1:ko.test(e)?Uo[e]=!0:(Po[e]=!0,!1)}function fa(e,r,a){if(Uu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function yn(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function Ae(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Er(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Lo(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Qt(e){if(!e._valueTracker){var r=Er(e)?"checked":"value";e._valueTracker=Lo(e,r,""+e[r])}}function As(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Er(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ws=/[\n"\\]/g;function sn(e){return e.replace(ws,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function da(e,r,a,l,f,d,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),r!=null?_==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+Ue(r)):e.value!==""+Ue(r)&&(e.value=""+Ue(r)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),r!=null?zo(e,_,Ue(r)):a!=null?zo(e,_,Ue(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ue(b):e.removeAttribute("name")}function Lu(e,r,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Qt(e);return}a=a!=null?""+Ue(a):"",r=r!=null?""+Ue(r):a,b||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Qt(e)}function zo(e,r,a){r==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Tr(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function zu(e,r,a){if(r!=null&&(r=""+Ue(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+Ue(a):""}function br(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ue(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Qt(e)}function an(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||ju.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Bo(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&jo(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&jo(e,d,r[d])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return Sr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var qo=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ar=null,_i=null;function Rs(e){var r=Cn(e);if(r&&(e=r.stateNode)){var a=e[Pe]||null;t:switch(e=r.stateNode,r.type){case"input":if(da(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[Pe]||null;if(!f)throw Error(s(90));da(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&As(l)}break t;case"textarea":zu(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Tr(e,!!a.multiple,r,!1)}}}var ga=!1;function wr(e,r,a){if(ga)return e(r,a);ga=!0;try{var l=e(r);return l}finally{if(ga=!1,(Ar!==null||_i!==null)&&(Vc(),Ar&&(r=Ar,e=_i,_i=Ar=null,Rs(r),e)))for(r=0;r<e.length;r++)Rs(e[r])}}function Yn(e,r){var a=e.stateNode;if(a===null)return null;var l=a[Pe]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(xn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Cs=!1}var vi=null,Ho=null,Is=null;function Fo(){if(Is)return Is;var e,r=Ho,a=r.length,l,f="value"in vi?vi.value:vi.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Is=f.slice(e,1<l?1-l:void 0)}function xs(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Kn(){return!1}function Be(e){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Kn,this.isPropagationStopped=Kn,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),r}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Be(qi),Rr=T({},qi,{view:0,detail:0}),Go=Be(Rr),Cr,ya,Ti,_a=T({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Cr=e.screenX-Ti.screenX,ya=e.screenY-Ti.screenY):ya=Cr=0,Ti=e),Cr)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Qo=Be(_a),Ns=T({},_a,{dataTransfer:0}),qu=Be(Ns),Hu=T({},Rr,{relatedTarget:0}),Ds=Be(Hu),Yo=T({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fu=Be(Yo),va=T({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gu=Be(va),Qu=T({},qi,{data:0}),bi=Be(Qu),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Xu[e])?!!r[e]:!1}function Ir(){return $u}var nn=T({},Rr,{key:function(e){if(e.key){var r=Yu[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ku[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(e){return e.type==="keypress"?xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zu=Be(nn),Ju=T({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Be(Ju),c=T({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),y=Be(c),v=T({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Be(v),L=T({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(L),it=T({},qi,{newState:0,oldState:0}),wt=Be(it),pe=[9,13,27,32],Ht=xn&&"CompositionEvent"in window,ae=null;xn&&"documentMode"in document&&(ae=document.documentMode);var Nn=xn&&"TextEvent"in window&&!ae,Si=xn&&(!Ht||ae&&8<ae&&11>=ae),Xn=" ",$n=!1;function Os(e,r){switch(e){case"keyup":return pe.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function ZS(e,r){switch(e){case"compositionend":return Ea(r);case"keypress":return r.which!==32?null:($n=!0,Xn);case"textInput":return e=r.data,e===Xn&&$n?null:e;default:return null}}function JS(e,r){if(Ta)return e==="compositionend"||!Ht&&Os(e,r)?(e=Fo(),Is=Ho=vi=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Si&&r.locale!=="ko"?null:r.data;default:return null}}var WS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!WS[e.type]:r==="textarea"}function wg(e,r,a,l){Ar?_i?_i.push(l):_i=[l]:Ar=l,r=Bc(r,"onChange"),0<r.length&&(a=new Ei("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var Ko=null,Xo=null;function tA(e){o0(e,0)}function Wu(e){var r=gn(e);if(As(r))return e}function Rg(e,r){if(e==="change")return r}var Cg=!1;if(xn){var Nf;if(xn){var Df="oninput"in document;if(!Df){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Df=typeof Ig.oninput=="function"}Nf=Df}else Nf=!1;Cg=Nf&&(!document.documentMode||9<document.documentMode)}function xg(){Ko&&(Ko.detachEvent("onpropertychange",Ng),Xo=Ko=null)}function Ng(e){if(e.propertyName==="value"&&Wu(Xo)){var r=[];wg(r,Xo,e,In(e)),wr(tA,r)}}function eA(e,r,a){e==="focusin"?(xg(),Ko=r,Xo=a,Ko.attachEvent("onpropertychange",Ng)):e==="focusout"&&xg()}function nA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wu(Xo)}function iA(e,r){if(e==="click")return Wu(r)}function rA(e,r){if(e==="input"||e==="change")return Wu(r)}function sA(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var _n=typeof Object.is=="function"?Object.is:sA;function $o(e,r){if(_n(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ee.call(r,f)||!_n(e[f],r[f]))return!1}return!0}function Dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Og(e,r){var a=Dg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Dg(a)}}function Mg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Mg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=yi(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=yi(e.document)}return r}function Of(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var aA=xn&&"documentMode"in document&&11>=document.documentMode,ba=null,Mf=null,Zo=null,Vf=!1;function kg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vf||ba==null||ba!==yi(l)||(l=ba,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&$o(Zo,l)||(Zo=l,l=Bc(Mf,"onSelect"),0<l.length&&(r=new Ei("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=ba)))}function Ms(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Sa={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},kf={},Pg={};xn&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Vs(e){if(kf[e])return kf[e];if(!Sa[e])return e;var r=Sa[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Pg)return kf[e]=r[a];return e}var Ug=Vs("animationend"),Lg=Vs("animationiteration"),zg=Vs("animationstart"),oA=Vs("transitionrun"),lA=Vs("transitionstart"),uA=Vs("transitioncancel"),jg=Vs("transitionend"),Bg=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function Zn(e,r){Bg.set(e,r),pi(r,[e])}var tc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],Aa=0,Uf=0;function ec(){for(var e=Aa,r=Uf=Aa=0;r<e;){var a=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var f=Dn[r];Dn[r++]=null;var d=Dn[r];if(Dn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&qg(a,f,d)}}function nc(e,r,a,l){Dn[Aa++]=e,Dn[Aa++]=r,Dn[Aa++]=a,Dn[Aa++]=l,Uf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Lf(e,r,a,l){return nc(e,r,a,l),ic(e)}function ks(e,r){return nc(e,null,null,r),ic(e)}function qg(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-me(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function ic(e){if(50<vl)throw vl=0,Yd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var wa={};function cA(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,r,a,l){return new cA(e,r,a,l)}function zf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fi(e,r){var a=e.alternate;return a===null?(a=vn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Hg(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function rc(e,r,a,l,f,d){var _=0;if(l=e,typeof e=="function")zf(e)&&(_=1);else if(typeof e=="string")_=p1(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=vn(31,a,r,f),e.elementType=C,e.lanes=d,e;case Q:return Ps(a.children,f,d,r);case Z:_=8,f|=24;break;case at:return e=vn(12,a,r,f|2),e.elementType=at,e.lanes=d,e;case J:return e=vn(13,a,r,f),e.elementType=J,e.lanes=d,e;case et:return e=vn(19,a,r,f),e.elementType=et,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:_=10;break t;case ut:_=9;break t;case mt:_=11;break t;case R:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=vn(_,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function Ps(e,r,a,l){return e=vn(7,e,l,r),e.lanes=a,e}function jf(e,r,a){return e=vn(6,e,null,r),e.lanes=a,e}function Fg(e){var r=vn(18,null,null,0);return r.stateNode=e,r}function Bf(e,r,a){return r=vn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Gg=new WeakMap;function On(e,r){if(typeof e=="object"&&e!==null){var a=Gg.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Io(r)},Gg.set(e,r),r)}return{value:e,source:r,stack:Io(r)}}var Ra=[],Ca=0,sc=null,Jo=0,Mn=[],Vn=0,xr=null,Ai=1,wi="";function Gi(e,r){Ra[Ca++]=Jo,Ra[Ca++]=sc,sc=e,Jo=r}function Qg(e,r,a){Mn[Vn++]=Ai,Mn[Vn++]=wi,Mn[Vn++]=xr,xr=e;var l=Ai;e=wi;var f=32-me(l)-1;l&=~(1<<f),a+=1;var d=32-me(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ai=1<<32-me(r)+f|a<<f|l,wi=d+e}else Ai=1<<d|a<<f|l,wi=e}function qf(e){e.return!==null&&(Gi(e,1),Qg(e,1,0))}function Hf(e){for(;e===sc;)sc=Ra[--Ca],Ra[Ca]=null,Jo=Ra[--Ca],Ra[Ca]=null;for(;e===xr;)xr=Mn[--Vn],Mn[Vn]=null,wi=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null}function Yg(e,r){Mn[Vn++]=Ai,Mn[Vn++]=wi,Mn[Vn++]=xr,Ai=r.id,wi=r.overflow,xr=e}var qe=null,ne=null,Lt=!1,Nr=null,kn=!1,Ff=Error(s(519));function Dr(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(On(r,e)),Ff}function Kg(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[be]=e,r[Pe]=l,a){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Dt(Tl[a],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":Dt("invalid",r),Lu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",r);break;case"textarea":Dt("invalid",r),br(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||h0(r.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",r),Dt("toggle",r)),l.onScroll!=null&&Dt("scroll",r),l.onScrollEnd!=null&&Dt("scrollend",r),l.onClick!=null&&(r.onclick=Qn),r=!0):r=!1,r||Dr(e,!0)}function Xg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qe=qe.return}}function Ia(e){if(e!==qe)return!1;if(!Lt)return Xg(e),Lt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||lm(e.type,e.memoizedProps)),a=!a),a&&ne&&Dr(e),Xg(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=E0(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=E0(e)}else r===27?(r=ne,Gr(e.type)?(e=dm,dm=null,ne=e):ne=r):ne=qe?Un(e.stateNode.nextSibling):null;return!0}function Us(){ne=qe=null,Lt=!1}function Gf(){var e=Nr;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Nr=null),e}function Wo(e){Nr===null?Nr=[e]:Nr.push(e)}var Qf=V(null),Ls=null,Qi=null;function Or(e,r,a){rt(Qf,r._currentValue),r._currentValue=a}function Yi(e){e._currentValue=Qf.current,X(Qf)}function Yf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Kf(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=f;for(var x=0;x<r.length;x++)if(b.context===r[x]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Yf(d.return,a,e),l||(_=null);break t}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Yf(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function xa(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;_n(f.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(f===It.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Rl):e=[Rl])}f=f.return}e!==null&&Kf(r,e,a,l),r.flags|=262144}function ac(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zs(e){Ls=e,Qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return $g(Ls,e)}function oc(e,r){return Ls===null&&zs(e),$g(e,r)}function $g(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Qi===null){if(e===null)throw Error(s(308));Qi=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Qi=Qi.next=r;return a}var hA=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},fA=i.unstable_scheduleCallback,dA=i.unstable_NormalPriority,we={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new hA,data:new Map,refCount:0}}function tl(e){e.refCount--,e.refCount===0&&fA(dA,function(){e.controller.abort()})}var el=null,$f=0,Na=0,Da=null;function mA(e,r){if(el===null){var a=el=[];$f=0,Na=Wd(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $f++,r.then(Zg,Zg),r}function Zg(){if(--$f===0&&el!==null){Da!==null&&(Da.status="fulfilled");var e=el;el=null,Na=0,Da=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function pA(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Jg=G.S;G.S=function(e,r){k_=en(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&mA(e,r),Jg!==null&&Jg(e,r)};var js=V(null);function Zf(){var e=js.current;return e!==null?e:ee.pooledCache}function lc(e,r){r===null?rt(js,js.current):rt(js,r.pool)}function Wg(){var e=Zf();return e===null?null:{parent:we._currentValue,pool:e}}var Oa=Error(s(460)),Jf=Error(s(474)),uc=Error(s(542)),cc={then:function(){}};function ty(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ey(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(Qn,Qn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,iy(e),e;default:if(typeof r.status=="string")r.then(Qn,Qn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,iy(e),e}throw qs=r,Oa}}function Bs(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qs=a,Oa):a}}var qs=null;function ny(){if(qs===null)throw Error(s(459));var e=qs;return qs=null,e}function iy(e){if(e===Oa||e===uc)throw Error(s(483))}var Ma=null,nl=0;function hc(e){var r=nl;return nl+=1,Ma===null&&(Ma=[]),ey(Ma,e,r)}function il(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function fc(e,r){throw r.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function ry(e){function r(U,M){if(e){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function a(U,M){if(!e)return null;for(;M!==null;)r(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=Fi(U,M),U.index=0,U.sibling=null,U}function d(U,M,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function b(U,M,z,K){return M===null||M.tag!==6?(M=jf(z,U.mode,K),M.return=U,M):(M=f(M,z),M.return=U,M)}function x(U,M,z,K){var dt=z.type;return dt===Q?Y(U,M,z.props.children,K,z.key):M!==null&&(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&Bs(dt)===M.type)?(M=f(M,z.props),il(M,z),M.return=U,M):(M=rc(z.type,z.key,z.props,null,U.mode,K),il(M,z),M.return=U,M)}function j(U,M,z,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Bf(z,U.mode,K),M.return=U,M):(M=f(M,z.children||[]),M.return=U,M)}function Y(U,M,z,K,dt){return M===null||M.tag!==7?(M=Ps(z,U.mode,K,dt),M.return=U,M):(M=f(M,z),M.return=U,M)}function $(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=jf(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return z=rc(M.type,M.key,M.props,null,U.mode,z),il(z,M),z.return=U,z;case F:return M=Bf(M,U.mode,z),M.return=U,M;case w:return M=Bs(M),$(U,M,z)}if(le(M)||P(M))return M=Ps(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return $(U,hc(M),z);if(M.$$typeof===lt)return $(U,oc(U,M),z);fc(U,M)}return null}function B(U,M,z,K){var dt=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:b(U,M,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===dt?x(U,M,z,K):null;case F:return z.key===dt?j(U,M,z,K):null;case w:return z=Bs(z),B(U,M,z,K)}if(le(z)||P(z))return dt!==null?null:Y(U,M,z,K,null);if(typeof z.then=="function")return B(U,M,hc(z),K);if(z.$$typeof===lt)return B(U,M,oc(U,z),K);fc(U,z)}return null}function H(U,M,z,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,b(M,U,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return U=U.get(K.key===null?z:K.key)||null,x(M,U,K,dt);case F:return U=U.get(K.key===null?z:K.key)||null,j(M,U,K,dt);case w:return K=Bs(K),H(U,M,z,K,dt)}if(le(K)||P(K))return U=U.get(z)||null,Y(M,U,K,dt,null);if(typeof K.then=="function")return H(U,M,z,hc(K),dt);if(K.$$typeof===lt)return H(U,M,z,oc(M,K),dt);fc(M,K)}return null}function ct(U,M,z,K){for(var dt=null,jt=null,ht=M,Ct=M=0,Vt=null;ht!==null&&Ct<z.length;Ct++){ht.index>Ct?(Vt=ht,ht=null):Vt=ht.sibling;var Bt=B(U,ht,z[Ct],K);if(Bt===null){ht===null&&(ht=Vt);break}e&&ht&&Bt.alternate===null&&r(U,ht),M=d(Bt,M,Ct),jt===null?dt=Bt:jt.sibling=Bt,jt=Bt,ht=Vt}if(Ct===z.length)return a(U,ht),Lt&&Gi(U,Ct),dt;if(ht===null){for(;Ct<z.length;Ct++)ht=$(U,z[Ct],K),ht!==null&&(M=d(ht,M,Ct),jt===null?dt=ht:jt.sibling=ht,jt=ht);return Lt&&Gi(U,Ct),dt}for(ht=l(ht);Ct<z.length;Ct++)Vt=H(ht,U,Ct,z[Ct],K),Vt!==null&&(e&&Vt.alternate!==null&&ht.delete(Vt.key===null?Ct:Vt.key),M=d(Vt,M,Ct),jt===null?dt=Vt:jt.sibling=Vt,jt=Vt);return e&&ht.forEach(function($r){return r(U,$r)}),Lt&&Gi(U,Ct),dt}function yt(U,M,z,K){if(z==null)throw Error(s(151));for(var dt=null,jt=null,ht=M,Ct=M=0,Vt=null,Bt=z.next();ht!==null&&!Bt.done;Ct++,Bt=z.next()){ht.index>Ct?(Vt=ht,ht=null):Vt=ht.sibling;var $r=B(U,ht,Bt.value,K);if($r===null){ht===null&&(ht=Vt);break}e&&ht&&$r.alternate===null&&r(U,ht),M=d($r,M,Ct),jt===null?dt=$r:jt.sibling=$r,jt=$r,ht=Vt}if(Bt.done)return a(U,ht),Lt&&Gi(U,Ct),dt;if(ht===null){for(;!Bt.done;Ct++,Bt=z.next())Bt=$(U,Bt.value,K),Bt!==null&&(M=d(Bt,M,Ct),jt===null?dt=Bt:jt.sibling=Bt,jt=Bt);return Lt&&Gi(U,Ct),dt}for(ht=l(ht);!Bt.done;Ct++,Bt=z.next())Bt=H(ht,U,Ct,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ht.delete(Bt.key===null?Ct:Bt.key),M=d(Bt,M,Ct),jt===null?dt=Bt:jt.sibling=Bt,jt=Bt);return e&&ht.forEach(function(R1){return r(U,R1)}),Lt&&Gi(U,Ct),dt}function Wt(U,M,z,K){if(typeof z=="object"&&z!==null&&z.type===Q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:t:{for(var dt=z.key;M!==null;){if(M.key===dt){if(dt=z.type,dt===Q){if(M.tag===7){a(U,M.sibling),K=f(M,z.props.children),K.return=U,U=K;break t}}else if(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&Bs(dt)===M.type){a(U,M.sibling),K=f(M,z.props),il(K,z),K.return=U,U=K;break t}a(U,M);break}else r(U,M);M=M.sibling}z.type===Q?(K=Ps(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=rc(z.type,z.key,z.props,null,U.mode,K),il(K,z),K.return=U,U=K)}return _(U);case F:t:{for(dt=z.key;M!==null;){if(M.key===dt)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(U,M.sibling),K=f(M,z.children||[]),K.return=U,U=K;break t}else{a(U,M);break}else r(U,M);M=M.sibling}K=Bf(z,U.mode,K),K.return=U,U=K}return _(U);case w:return z=Bs(z),Wt(U,M,z,K)}if(le(z))return ct(U,M,z,K);if(P(z)){if(dt=P(z),typeof dt!="function")throw Error(s(150));return z=dt.call(z),yt(U,M,z,K)}if(typeof z.then=="function")return Wt(U,M,hc(z),K);if(z.$$typeof===lt)return Wt(U,M,oc(U,z),K);fc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(U,M.sibling),K=f(M,z),K.return=U,U=K):(a(U,M),K=jf(z,U.mode,K),K.return=U,U=K),_(U)):a(U,M)}return function(U,M,z,K){try{nl=0;var dt=Wt(U,M,z,K);return Ma=null,dt}catch(ht){if(ht===Oa||ht===uc)throw ht;var jt=vn(29,ht,null,U.mode);return jt.lanes=K,jt.return=U,jt}finally{}}}var Hs=ry(!0),sy=ry(!1),Mr=!1;function Wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kr(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ic(e),qg(e,null,a),r}return nc(e,l,r,a),ic(e)}function rl(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Do(e,a)}}function ed(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var nd=!1;function sl(){if(nd){var e=Da;if(e!==null)throw e}}function al(e,r,a,l){nd=!1;var f=e.updateQueue;Mr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var x=b,j=x.next;x.next=null,_===null?d=j:_.next=j,_=x;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==_&&(b===null?Y.firstBaseUpdate=j:b.next=j,Y.lastBaseUpdate=x))}if(d!==null){var $=f.baseState;_=0,Y=j=x=null,b=d;do{var B=b.lane&-536870913,H=B!==b.lane;if(H?(Mt&B)===B:(l&B)===B){B!==0&&B===Na&&(nd=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var ct=e,yt=b;B=r;var Wt=a;switch(yt.tag){case 1:if(ct=yt.payload,typeof ct=="function"){$=ct.call(Wt,$,B);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=yt.payload,B=typeof ct=="function"?ct.call(Wt,$,B):ct,B==null)break t;$=T({},$,B);break t;case 2:Mr=!0}}B=b.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[B]:H.push(B))}else H={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(j=Y=H,x=$):Y=Y.next=H,_|=B;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;H=b,b=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);Y===null&&(x=$),f.baseState=x,f.firstBaseUpdate=j,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),jr|=_,e.lanes=_,e.memoizedState=$}}function ay(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function oy(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ay(a[e],r)}var Va=V(null),dc=V(0);function ly(e,r){e=nr,rt(dc,e),rt(Va,r),nr=e|r.baseLanes}function id(){rt(dc,nr),rt(Va,Va.current)}function rd(){nr=dc.current,X(Va),X(dc)}var En=V(null),Pn=null;function Pr(e){var r=e.alternate;rt(ge,ge.current&1),rt(En,e),Pn===null&&(r===null||Va.current!==null||r.memoizedState!==null)&&(Pn=e)}function sd(e){rt(ge,ge.current),rt(En,e),Pn===null&&(Pn=e)}function uy(e){e.tag===22?(rt(ge,ge.current),rt(En,e),Pn===null&&(Pn=e)):Ur()}function Ur(){rt(ge,ge.current),rt(En,En.current)}function Tn(e){X(En),Pn===e&&(Pn=null),X(ge)}var ge=V(0);function mc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hm(a)||fm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ki=0,Rt=null,Zt=null,Re=null,pc=!1,ka=!1,Fs=!1,gc=0,ol=0,Pa=null,gA=0;function fe(){throw Error(s(321))}function ad(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!_n(e[a],r[a]))return!1;return!0}function od(e,r,a,l,f,d){return Ki=d,Rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=e===null||e.memoizedState===null?Qy:bd,Fs=!1,d=a(l,f),Fs=!1,ka&&(d=hy(r,a,l,f)),cy(e),d}function cy(e){G.H=cl;var r=Zt!==null&&Zt.next!==null;if(Ki=0,Re=Zt=Rt=null,pc=!1,ol=0,Pa=null,r)throw Error(s(300));e===null||Ce||(e=e.dependencies,e!==null&&ac(e)&&(Ce=!0))}function hy(e,r,a,l){Rt=e;var f=0;do{if(ka&&(Pa=null),ol=0,ka=!1,25<=f)throw Error(s(301));if(f+=1,Re=Zt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Yy,d=r(a,l)}while(ka);return d}function yA(){var e=G.H,r=e.useState()[0];return r=typeof r.then=="function"?ll(r):r,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Rt.flags|=1024),r}function ld(){var e=gc!==0;return gc=0,e}function ud(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function cd(e){if(pc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}pc=!1}Ki=0,Re=Zt=Rt=null,ka=!1,ol=gc=0,Pa=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Rt.memoizedState=Re=e:Re=Re.next=e,Re}function ye(){if(Zt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var r=Re===null?Rt.memoizedState:Re.next;if(r!==null)Re=r,Zt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Re===null?Rt.memoizedState=Re=e:Re=Re.next=e}return Re}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(e){var r=ol;return ol+=1,Pa===null&&(Pa=[]),e=ey(Pa,e,r),r=Rt,(Re===null?r.memoizedState:Re.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?Qy:bd),e}function _c(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ll(e);if(e.$$typeof===lt)return He(e)}throw Error(s(438,String(e)))}function hd(e){var r=null,a=Rt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=yc(),Rt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=O;return r.index++,a}function Xi(e,r){return typeof r=="function"?r(e):r}function vc(e){var r=ye();return fd(r,Zt,e)}function fd(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var b=_=null,x=null,j=r,Y=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Mt&$)===$:(Ki&$)===$){var B=j.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Na&&(Y=!0);else if((Ki&B)===B){j=j.next,B===Na&&(Y=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(b=x=$,_=d):x=x.next=$,Rt.lanes|=B,jr|=B;$=j.action,Fs&&a(d,$),d=j.hasEagerState?j.eagerState:a(d,$)}else B={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(b=x=B,_=d):x=x.next=B,Rt.lanes|=$,jr|=$;j=j.next}while(j!==null&&j!==r);if(x===null?_=d:x.next=b,!_n(d,e.memoizedState)&&(Ce=!0,Y&&(a=Da,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function dd(e){var r=ye(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);_n(d,r.memoizedState)||(Ce=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function fy(e,r,a){var l=Rt,f=ye(),d=Lt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!_n((Zt||f).memoizedState,a);if(_&&(f.memoizedState=a,Ce=!0),f=f.queue,gd(py.bind(null,l,f,e),[e]),f.getSnapshot!==r||_||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},my.bind(null,l,f,a,r),null),ee===null)throw Error(s(349));d||(Ki&127)!==0||dy(l,r,a)}return a}function dy(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Rt.updateQueue,r===null?(r=yc(),Rt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function my(e,r,a,l){r.value=a,r.getSnapshot=l,gy(r)&&yy(e)}function py(e,r,a){return a(function(){gy(r)&&yy(e)})}function gy(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!_n(e,a)}catch{return!0}}function yy(e){var r=ks(e,2);r!==null&&hn(r,e,2)}function md(e){var r=rn();if(typeof e=="function"){var a=e;if(e=a(),Fs){Rn(!0);try{a()}finally{Rn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},r}function _y(e,r,a,l){return e.baseState=a,fd(e,Zt,typeof l=="function"?l:Xi)}function _A(e,r,a,l,f){if(bc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,vy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function vy(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=G.T,_={};G.T=_;try{var b=a(f,l),x=G.S;x!==null&&x(_,b),Ey(e,r,b)}catch(j){pd(e,r,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(f,l),Ey(e,r,d)}catch(j){pd(e,r,j)}}function Ey(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ty(e,r,l)},function(l){return pd(e,r,l)}):Ty(e,r,a)}function Ty(e,r,a){r.status="fulfilled",r.value=a,by(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,vy(e,a)))}function pd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,by(r),r=r.next;while(r!==l)}e.action=null}function by(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Sy(e,r){return r}function Ay(e,r){if(Lt){var a=ee.formState;if(a!==null){t:{var l=Rt;if(Lt){if(ne){e:{for(var f=ne,d=kn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Un(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ne=Un(f.nextSibling),l=f.data==="F!";break t}}Dr(l)}l=!1}l&&(r=a[0])}}return a=rn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:r},a.queue=l,a=Hy.bind(null,Rt,l),l.dispatch=a,l=md(!1),d=Td.bind(null,Rt,!1,l.queue),l=rn(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=_A.bind(null,Rt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function wy(e){var r=ye();return Ry(r,Zt,e)}function Ry(e,r,a){if(r=fd(e,r,Sy)[0],e=vc(Xi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ll(r)}catch(_){throw _===Oa?uc:_}else l=r;r=ye();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Rt.flags|=2048,Ua(9,{destroy:void 0},vA.bind(null,f,a),null)),[l,d,e]}function vA(e,r){e.action=r}function Cy(e){var r=ye(),a=Zt;if(a!==null)return Ry(r,a,e);ye(),r=r.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Ua(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Rt.updateQueue,r===null&&(r=yc(),Rt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function Iy(){return ye().memoizedState}function Ec(e,r,a,l){var f=rn();Rt.flags|=e,f.memoizedState=Ua(1|r,{destroy:void 0},a,l===void 0?null:l)}function Tc(e,r,a,l){var f=ye();l=l===void 0?null:l;var d=f.memoizedState.inst;Zt!==null&&l!==null&&ad(l,Zt.memoizedState.deps)?f.memoizedState=Ua(r,d,a,l):(Rt.flags|=e,f.memoizedState=Ua(1|r,d,a,l))}function xy(e,r){Ec(8390656,8,e,r)}function gd(e,r){Tc(2048,8,e,r)}function EA(e){Rt.flags|=4;var r=Rt.updateQueue;if(r===null)r=yc(),Rt.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function Ny(e){var r=ye().memoizedState;return EA({ref:r,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Dy(e,r){return Tc(4,2,e,r)}function Oy(e,r){return Tc(4,4,e,r)}function My(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Vy(e,r,a){a=a!=null?a.concat([e]):null,Tc(4,4,My.bind(null,r,e),a)}function yd(){}function ky(e,r){var a=ye();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ad(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Py(e,r){var a=ye();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ad(r,l[1]))return l[0];if(l=e(),Fs){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[l,r],l}function _d(e,r,a){return a===void 0||(Ki&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=U_(),Rt.lanes|=e,jr|=e,a)}function Uy(e,r,a,l){return _n(a,r)?a:Va.current!==null?(e=_d(e,a,l),_n(e,r)||(Ce=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(Mt&261930)===0?(Ce=!0,e.memoizedState=a):(e=U_(),Rt.lanes|=e,jr|=e,r)}function Ly(e,r,a,l,f){var d=nt.p;nt.p=d!==0&&8>d?d:8;var _=G.T,b={};G.T=b,Td(e,!1,r,a);try{var x=f(),j=G.S;if(j!==null&&j(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Y=pA(x,l);ul(e,r,Y,An(e))}else ul(e,r,l,An(e))}catch($){ul(e,r,{then:function(){},status:"rejected",reason:$},An())}finally{nt.p=d,_!==null&&b.types!==null&&(_.types=b.types),G.T=_}}function TA(){}function vd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=zy(e).queue;Ly(e,f,r,pt,a===null?TA:function(){return jy(e),a(l)})}function zy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:pt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function jy(e){var r=zy(e);r.next===null&&(r=e.alternate.memoizedState),ul(e,r.next.queue,{},An())}function Ed(){return He(Rl)}function By(){return ye().memoizedState}function qy(){return ye().memoizedState}function bA(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=An();e=Vr(a);var l=kr(r,e,a);l!==null&&(hn(l,r,a),rl(l,r,a)),r={cache:Xf()},e.payload=r;return}r=r.return}}function SA(e,r,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},bc(e)?Fy(r,a):(a=Lf(e,r,a,l),a!==null&&(hn(a,e,l),Gy(a,r,l)))}function Hy(e,r,a){var l=An();ul(e,r,a,l)}function ul(e,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(e))Fy(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,_n(b,_))return nc(e,r,f,0),ee===null&&ec(),!1}catch{}finally{}if(a=Lf(e,r,f,l),a!==null)return hn(a,e,l),Gy(a,r,l),!0}return!1}function Td(e,r,a,l){if(l={lane:2,revertLane:Wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bc(e)){if(r)throw Error(s(479))}else r=Lf(e,a,l,2),r!==null&&hn(r,e,2)}function bc(e){var r=e.alternate;return e===Rt||r!==null&&r===Rt}function Fy(e,r){ka=pc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Gy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Do(e,a)}}var cl={readContext:He,use:_c,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};cl.useEffectEvent=fe;var Qy={readContext:He,use:_c,useCallback:function(e,r){return rn().memoizedState=[e,r===void 0?null:r],e},useContext:He,useEffect:xy,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,Ec(4194308,4,My.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Ec(4194308,4,e,r)},useInsertionEffect:function(e,r){Ec(4,2,e,r)},useMemo:function(e,r){var a=rn();r=r===void 0?null:r;var l=e();if(Fs){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=rn();if(a!==void 0){var f=a(r);if(Fs){Rn(!0);try{a(r)}finally{Rn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=SA.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var r=rn();return e={current:e},r.memoizedState=e},useState:function(e){e=md(e);var r=e.queue,a=Hy.bind(null,Rt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:yd,useDeferredValue:function(e,r){var a=rn();return _d(a,e,r)},useTransition:function(){var e=md(!1);return e=Ly.bind(null,Rt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Rt,f=rn();if(Lt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ee===null)throw Error(s(349));(Mt&127)!==0||dy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,xy(py.bind(null,l,d,e),[e]),l.flags|=2048,Ua(9,{destroy:void 0},my.bind(null,l,d,a,r),null),a},useId:function(){var e=rn(),r=ee.identifierPrefix;if(Lt){var a=wi,l=Ai;a=(l&~(1<<32-me(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=gc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=gA++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:Ed,useFormState:Ay,useActionState:Ay,useOptimistic:function(e){var r=rn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Td.bind(null,Rt,!0,a),a.dispatch=r,[e,r]},useMemoCache:hd,useCacheRefresh:function(){return rn().memoizedState=bA.bind(null,Rt)},useEffectEvent:function(e){var r=rn(),a={impl:e};return r.memoizedState=a,function(){if((Ft&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},bd={readContext:He,use:_c,useCallback:ky,useContext:He,useEffect:gd,useImperativeHandle:Vy,useInsertionEffect:Dy,useLayoutEffect:Oy,useMemo:Py,useReducer:vc,useRef:Iy,useState:function(){return vc(Xi)},useDebugValue:yd,useDeferredValue:function(e,r){var a=ye();return Uy(a,Zt.memoizedState,e,r)},useTransition:function(){var e=vc(Xi)[0],r=ye().memoizedState;return[typeof e=="boolean"?e:ll(e),r]},useSyncExternalStore:fy,useId:By,useHostTransitionStatus:Ed,useFormState:wy,useActionState:wy,useOptimistic:function(e,r){var a=ye();return _y(a,Zt,e,r)},useMemoCache:hd,useCacheRefresh:qy};bd.useEffectEvent=Ny;var Yy={readContext:He,use:_c,useCallback:ky,useContext:He,useEffect:gd,useImperativeHandle:Vy,useInsertionEffect:Dy,useLayoutEffect:Oy,useMemo:Py,useReducer:dd,useRef:Iy,useState:function(){return dd(Xi)},useDebugValue:yd,useDeferredValue:function(e,r){var a=ye();return Zt===null?_d(a,e,r):Uy(a,Zt.memoizedState,e,r)},useTransition:function(){var e=dd(Xi)[0],r=ye().memoizedState;return[typeof e=="boolean"?e:ll(e),r]},useSyncExternalStore:fy,useId:By,useHostTransitionStatus:Ed,useFormState:Cy,useActionState:Cy,useOptimistic:function(e,r){var a=ye();return Zt!==null?_y(a,Zt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:hd,useCacheRefresh:qy};Yy.useEffectEvent=Ny;function Sd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ad={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=An(),f=Vr(l);f.payload=r,a!=null&&(f.callback=a),r=kr(e,f,l),r!==null&&(hn(r,e,l),rl(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=An(),f=Vr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=kr(e,f,l),r!==null&&(hn(r,e,l),rl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=An(),l=Vr(a);l.tag=2,r!=null&&(l.callback=r),r=kr(e,l,a),r!==null&&(hn(r,e,a),rl(r,e,a))}};function Ky(e,r,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!$o(a,l)||!$o(f,d):!0}function Xy(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Ad.enqueueReplaceState(r,r.state,null)}function Gs(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function $y(e){tc(e)}function Zy(e){console.error(e)}function Jy(e){tc(e)}function Sc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Wy(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function wd(e,r,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(e,r)},a}function t_(e){return e=Vr(e),e.tag=3,e}function e_(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){Wy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Wy(r,a,l),typeof f!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function AA(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&xa(r,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?kc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===cc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),$d(e,l,f)),!1;case 22:return a.flags|=65536,l===cc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),$d(e,l,f)),!1}throw Error(s(435,a.tag))}return $d(e,l,f),kc(),!1}if(Lt)return r=En.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Ff&&(e=Error(s(422),{cause:l}),Wo(On(e,a)))):(l!==Ff&&(r=Error(s(423),{cause:l}),Wo(On(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=On(l,a),f=wd(e.stateNode,l,f),ed(e,f),de!==4&&(de=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),_l===null?_l=[d]:_l.push(d),de!==4&&(de=2),r===null)return!0;l=On(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=wd(a.stateNode,l,e),ed(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=t_(f),e_(f,e,a,l),ed(a,f),!1}a=a.return}while(a!==null);return!1}var Rd=Error(s(461)),Ce=!1;function Fe(e,r,a,l){r.child=e===null?sy(r,null,a,l):Hs(r,e.child,a,l)}function n_(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return zs(r),l=od(e,r,a,_,d,f),b=ld(),e!==null&&!Ce?(ud(e,r,f),$i(e,r,f)):(Lt&&b&&qf(r),r.flags|=1,Fe(e,r,l,f),r.child)}function i_(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!zf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,r_(e,r,d,l,f)):(e=rc(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Vd(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(_,l)&&e.ref===r.ref)return $i(e,r,f)}return r.flags|=1,e=Fi(d,l),e.ref=r.ref,e.return=r,r.child=e}function r_(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if($o(d,l)&&e.ref===r.ref)if(Ce=!1,r.pendingProps=l=d,Vd(e,f))(e.flags&131072)!==0&&(Ce=!0);else return r.lanes=e.lanes,$i(e,r,f)}return Cd(e,r,a,l,f)}function s_(e,r,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=r.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return a_(e,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&lc(r,d!==null?d.cachePool:null),d!==null?ly(r,d):id(),uy(r);else return l=r.lanes=536870912,a_(e,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(lc(r,d.cachePool),ly(r,d),Ur(),r.memoizedState=null):(e!==null&&lc(r,null),id(),Ur());return Fe(e,r,f,a),r.child}function hl(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function a_(e,r,a,l,f){var d=Zf();return d=d===null?null:{parent:we._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&lc(r,null),id(),uy(r),e!==null&&xa(e,r,l,!0),r.childLanes=f,null}function Ac(e,r){return r=Rc({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function o_(e,r,a){return Hs(r,e.child,null,a),e=Ac(r,r.pendingProps),e.flags|=2,Tn(r),r.memoizedState=null,e}function wA(e,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Lt){if(l.mode==="hidden")return e=Ac(r,l),r.lanes=536870912,hl(null,e);if(sd(r),(e=ne)?(e=v0(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:xr!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Fg(e),a.return=r,r.child=a,qe=r,ne=null)):e=null,e===null)throw Dr(r);return r.lanes=536870912,null}return Ac(r,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(sd(r),f)if(r.flags&256)r.flags&=-257,r=o_(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ce||xa(e,r,a,!1),f=(a&e.childLanes)!==0,Ce||f){if(l=ee,l!==null&&(_=Oo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ks(e,_),hn(l,e,_),Rd;kc(),r=o_(e,r,a)}else e=d.treeContext,ne=Un(_.nextSibling),qe=r,Lt=!0,Nr=null,kn=!1,e!==null&&Yg(r,e),r=Ac(r,l),r.flags|=4096;return r}return e=Fi(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function wc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Cd(e,r,a,l,f){return zs(r),a=od(e,r,a,l,void 0,f),l=ld(),e!==null&&!Ce?(ud(e,r,f),$i(e,r,f)):(Lt&&l&&qf(r),r.flags|=1,Fe(e,r,a,f),r.child)}function l_(e,r,a,l,f,d){return zs(r),r.updateQueue=null,a=hy(r,l,a,f),cy(e),l=ld(),e!==null&&!Ce?(ud(e,r,d),$i(e,r,d)):(Lt&&l&&qf(r),r.flags|=1,Fe(e,r,a,d),r.child)}function u_(e,r,a,l,f){if(zs(r),r.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ad,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Wf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):wa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Sd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Ad.enqueueReplaceState(d,d.state,null),al(r,l,d,f),sl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var b=r.memoizedProps,x=Gs(a,b);d.props=x;var j=d.context,Y=a.contextType;_=wa,typeof Y=="object"&&Y!==null&&(_=He(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||j!==_)&&Xy(r,d,l,_),Mr=!1;var B=r.memoizedState;d.state=B,al(r,l,d,f),sl(),j=r.memoizedState,b||B!==j||Mr?(typeof $=="function"&&(Sd(r,a,$,l),j=r.memoizedState),(x=Mr||Ky(r,a,x,l,B,j,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,td(e,r),_=r.memoizedProps,Y=Gs(a,_),d.props=Y,$=r.pendingProps,B=d.context,j=a.contextType,x=wa,typeof j=="object"&&j!==null&&(x=He(j)),b=a.getDerivedStateFromProps,(j=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||B!==x)&&Xy(r,d,l,x),Mr=!1,B=r.memoizedState,d.state=B,al(r,l,d,f),sl();var H=r.memoizedState;_!==$||B!==H||Mr||e!==null&&e.dependencies!==null&&ac(e.dependencies)?(typeof b=="function"&&(Sd(r,a,b,l),H=r.memoizedState),(Y=Mr||Ky(r,a,Y,l,B,H,x)||e!==null&&e.dependencies!==null&&ac(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=x,l=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,wc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Hs(r,e.child,null,f),r.child=Hs(r,null,a,f)):Fe(e,r,a,f),r.memoizedState=d.state,e=r.child):e=$i(e,r,f),e}function c_(e,r,a,l){return Us(),r.flags|=256,Fe(e,r,a,l),r.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(e){return{baseLanes:e,cachePool:Wg()}}function Nd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Sn),e}function h_(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,e===null){if(Lt){if(f?Pr(r):Ur(),(e=ne)?(e=v0(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:xr!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Fg(e),a.return=r,r.child=a,qe=r,ne=null)):e=null,e===null)throw Dr(r);return fm(e)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Ur(),f=r.mode,b=Rc({mode:"hidden",children:b},f),l=Ps(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=xd(a),l.childLanes=Nd(e,_,a),r.memoizedState=Id,hl(null,l)):(Pr(r),Dd(r,b))}var x=e.memoizedState;if(x!==null&&(b=x.dehydrated,b!==null)){if(d)r.flags&256?(Pr(r),r.flags&=-257,r=Od(e,r,a)):r.memoizedState!==null?(Ur(),r.child=e.child,r.flags|=128,r=null):(Ur(),b=l.fallback,f=r.mode,l=Rc({mode:"visible",children:l.children},f),b=Ps(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,Hs(r,e.child,null,a),l=r.child,l.memoizedState=xd(a),l.childLanes=Nd(e,_,a),r.memoizedState=Id,r=hl(null,l));else if(Pr(r),fm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,Wo({value:l,source:null,stack:null}),r=Od(e,r,a)}else if(Ce||xa(e,r,a,!1),_=(a&e.childLanes)!==0,Ce||_){if(_=ee,_!==null&&(l=Oo(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,ks(e,l),hn(_,e,l),Rd;hm(b)||kc(),r=Od(e,r,a)}else hm(b)?(r.flags|=192,r.child=e.child,r=null):(e=x.treeContext,ne=Un(b.nextSibling),qe=r,Lt=!0,Nr=null,kn=!1,e!==null&&Yg(r,e),r=Dd(r,l.children),r.flags|=4096);return r}return f?(Ur(),b=l.fallback,f=r.mode,x=e.child,j=x.sibling,l=Fi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,j!==null?b=Fi(j,b):(b=Ps(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,hl(null,l),l=r.child,b=e.child.memoizedState,b===null?b=xd(a):(f=b.cachePool,f!==null?(x=we._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=Wg(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Nd(e,_,a),r.memoizedState=Id,hl(e.child,l)):(Pr(r),a=e.child,e=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(_=r.deletions,_===null?(r.deletions=[e],r.flags|=16):_.push(e)),r.child=a,r.memoizedState=null,a)}function Dd(e,r){return r=Rc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Rc(e,r){return e=vn(22,e,null,r),e.lanes=0,e}function Od(e,r,a){return Hs(r,e.child,null,a),e=Dd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function f_(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Yf(e.return,r,a)}function Md(e,r,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function d_(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ge.current,b=(_&2)!==0;if(b?(_=_&1|2,r.flags|=128):_&=1,rt(ge,_),Fe(e,r,l,a),l=Lt?Jo:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&f_(e,a,r);else if(e.tag===19)f_(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&mc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Md(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&mc(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Md(r,!0,a,null,d,l);break;case"together":Md(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function $i(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),jr|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(xa(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=Fi(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=Fi(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Vd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&ac(e)))}function RA(e,r,a){switch(r.tag){case 3:ue(r,r.stateNode.containerInfo),Or(r,we,e.memoizedState.cache),Us();break;case 27:case 5:zi(r);break;case 4:ue(r,r.stateNode.containerInfo);break;case 10:Or(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,sd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?h_(e,r,a):(Pr(r),e=$i(e,r,a),e!==null?e.sibling:null);Pr(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(xa(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return d_(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(ge,ge.current),l)break;return null;case 22:return r.lanes=0,s_(e,r,a,r.pendingProps);case 24:Or(r,we,e.memoizedState.cache)}return $i(e,r,a)}function m_(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ce=!0;else{if(!Vd(e,a)&&(r.flags&128)===0)return Ce=!1,RA(e,r,a);Ce=(e.flags&131072)!==0}else Ce=!1,Lt&&(r.flags&1048576)!==0&&Qg(r,Jo,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=Bs(r.elementType),r.type=e,typeof e=="function")zf(e)?(l=Gs(e,l),r.tag=1,r=u_(null,r,e,l,a)):(r.tag=0,r=Cd(null,r,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===mt){r.tag=11,r=n_(null,r,e,l,a);break t}else if(f===R){r.tag=14,r=i_(null,r,e,l,a);break t}}throw r=Xt(e)||e,Error(s(306,r,""))}}return r;case 0:return Cd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Gs(l,r.pendingProps),u_(e,r,l,f,a);case 3:t:{if(ue(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,td(e,r),al(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Or(r,we,l),l!==d.cache&&Kf(r,[we],a,!0),sl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=c_(e,r,l,a);break t}else if(l!==f){f=On(Error(s(424)),r),Wo(f),r=c_(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=Un(e.firstChild),qe=r,Lt=!0,Nr=null,kn=!0,a=sy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Us(),l===f){r=$i(e,r,a);break t}Fe(e,r,l,a)}r=r.child}return r;case 26:return wc(e,r),e===null?(a=w0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Lt||(a=r.type,e=r.pendingProps,l=qc(bt.current).createElement(a),l[be]=r,l[Pe]=e,Ge(l,a,e),Se(l),r.stateNode=l):r.memoizedState=w0(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return zi(r),e===null&&Lt&&(l=r.stateNode=b0(r.type,r.pendingProps,bt.current),qe=r,kn=!0,f=ne,Gr(r.type)?(dm=f,ne=Un(l.firstChild)):ne=f),Fe(e,r,r.pendingProps.children,a),wc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Lt&&((f=l=ne)&&(l=n1(l,r.type,r.pendingProps,kn),l!==null?(r.stateNode=l,qe=r,ne=Un(l.firstChild),kn=!1,f=!0):f=!1),f||Dr(r)),zi(r),f=r.type,d=r.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,lm(f,d)?l=null:_!==null&&lm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=od(e,r,yA,null,null,a),Rl._currentValue=f),wc(e,r),Fe(e,r,l,a),r.child;case 6:return e===null&&Lt&&((e=a=ne)&&(a=i1(a,r.pendingProps,kn),a!==null?(r.stateNode=a,qe=r,ne=null,e=!0):e=!1),e||Dr(r)),null;case 13:return h_(e,r,a);case 4:return ue(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Hs(r,null,l,a):Fe(e,r,l,a),r.child;case 11:return n_(e,r,r.type,r.pendingProps,a);case 7:return Fe(e,r,r.pendingProps,a),r.child;case 8:return Fe(e,r,r.pendingProps.children,a),r.child;case 12:return Fe(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Or(r,r.type,l.value),Fe(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,zs(r),f=He(f),l=l(f),r.flags|=1,Fe(e,r,l,a),r.child;case 14:return i_(e,r,r.type,r.pendingProps,a);case 15:return r_(e,r,r.type,r.pendingProps,a);case 19:return d_(e,r,a);case 31:return wA(e,r,a);case 22:return s_(e,r,a,r.pendingProps);case 24:return zs(r),l=He(we),e===null?(f=Zf(),f===null&&(f=ee,d=Xf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Wf(r),Or(r,we,f)):((e.lanes&a)!==0&&(td(e,r),al(r,null,null,a),sl()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Or(r,we,l)):(l=d.cache,Or(r,we,l),l!==f.cache&&Kf(r,[we],a,!0))),Fe(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zi(e){e.flags|=4}function kd(e,r,a,l,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(B_())e.flags|=8192;else throw qs=cc,Jf}else e.flags&=-16777217}function p_(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!N0(r))if(B_())e.flags|=8192;else throw qs=cc,Jf}function Cc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Mu():536870912,e.lanes|=r,Ba|=r)}function fl(e,r){if(!Lt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function CA(e,r,a){var l=r.pendingProps;switch(Hf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(r),null;case 1:return ie(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Yi(we),te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ia(r)?Zi(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Gf())),ie(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(Zi(r),d!==null?(ie(r),p_(r,d)):(ie(r),kd(r,f,null,l,a))):d?d!==e.memoizedState?(Zi(r),ie(r),p_(r,d)):(ie(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&Zi(r),ie(r),kd(r,f,e,l,a)),null;case 27:if(se(r),a=bt.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ie(r),null}e=st.current,Ia(r)?Kg(r):(e=b0(f,l,a),r.stateNode=e,Zi(r))}return ie(r),null;case 5:if(se(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ie(r),null}if(d=st.current,Ia(r))Kg(r);else{var _=qc(bt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[be]=r,d[Pe]=l;t:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break t;for(;_.sibling===null;){if(_.return===null||_.return===r)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;t:switch(Ge(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Zi(r)}}return ie(r),kd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&Zi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=bt.current,Ia(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=qe,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[be]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||h0(e.nodeValue,a)),e||Dr(r,!0)}else e=qc(e).createTextNode(l),e[be]=r,r.stateNode=e}return ie(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[be]=r}else Us(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),e=!1}else a=Gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(Tn(r),r):(Tn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ie(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ia(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[be]=r}else Us(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),f=!1}else f=Gf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Tn(r),r):(Tn(r),null)}return Tn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Cc(r,r.updateQueue),ie(r),null);case 4:return te(),e===null&&im(r.stateNode.containerInfo),ie(r),null;case 10:return Yi(r.type),ie(r),null;case 19:if(X(ge),l=r.memoizedState,l===null)return ie(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)fl(l,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=mc(e),d!==null){for(r.flags|=128,fl(l,!1),e=d.updateQueue,r.updateQueue=e,Cc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)Hg(a,e),a=a.sibling;return rt(ge,ge.current&1|2),Lt&&Gi(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&en()>Oc&&(r.flags|=128,f=!0,fl(l,!1),r.lanes=4194304)}else{if(!f)if(e=mc(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,Cc(r,e),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Lt)return ie(r),null}else 2*en()-l.renderingStartTime>Oc&&a!==536870912&&(r.flags|=128,f=!0,fl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=en(),e.sibling=null,a=ge.current,rt(ge,f?a&1|2:a&1),Lt&&Gi(r,l.treeForkCount),e):(ie(r),null);case 22:case 23:return Tn(r),rd(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ie(r),r.subtreeFlags&6&&(r.flags|=8192)):ie(r),a=r.updateQueue,a!==null&&Cc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&X(js),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Yi(we),ie(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function IA(e,r){switch(Hf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Yi(we),te(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return se(r),null;case 31:if(r.memoizedState!==null){if(Tn(r),r.alternate===null)throw Error(s(340));Us()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(Tn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Us()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return X(ge),null;case 4:return te(),null;case 10:return Yi(r.type),null;case 22:case 23:return Tn(r),rd(),e!==null&&X(js),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Yi(we),null;case 25:return null;default:return null}}function g_(e,r){switch(Hf(r),r.tag){case 3:Yi(we),te();break;case 26:case 27:case 5:se(r);break;case 4:te();break;case 31:r.memoizedState!==null&&Tn(r);break;case 13:Tn(r);break;case 19:X(ge);break;case 10:Yi(r.type);break;case 22:case 23:Tn(r),rd(),e!==null&&X(js);break;case 24:Yi(we)}}function dl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Kt(r,r.return,b)}}function Lr(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var x=a,j=b;try{j()}catch(Y){Kt(f,x,Y)}}}l=l.next}while(l!==d)}}catch(Y){Kt(r,r.return,Y)}}function y_(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{oy(r,a)}catch(l){Kt(e,e.return,l)}}}function __(e,r,a){a.props=Gs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(e,r,l)}}function ml(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Kt(e,r,f)}}function Ri(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Kt(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Kt(e,r,f)}else a.current=null}function v_(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Kt(e,e.return,f)}}function Pd(e,r,a){try{var l=e.stateNode;$A(l,e.type,a,r),l[Pe]=r}catch(f){Kt(e,e.return,f)}}function E_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gr(e.type)||e.tag===4}function Ud(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||E_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ld(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Qn));else if(l!==4&&(l===27&&Gr(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Ld(e,r,a),e=e.sibling;e!==null;)Ld(e,r,a),e=e.sibling}function Ic(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&Gr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ic(e,r,a),e=e.sibling;e!==null;)Ic(e,r,a),e=e.sibling}function T_(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ge(r,l,a),r[be]=e,r[Pe]=a}catch(d){Kt(e,e.return,d)}}var Ji=!1,Ie=!1,zd=!1,b_=typeof WeakSet=="function"?WeakSet:Set,Le=null;function xA(e,r){if(e=e.containerInfo,am=Xc,e=Vg(e),Of(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,b=-1,x=-1,j=0,Y=0,$=e,B=null;e:for(;;){for(var H;$!==a||f!==0&&$.nodeType!==3||(b=_+f),$!==d||l!==0&&$.nodeType!==3||(x=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===e)break e;if(B===a&&++j===f&&(b=_),B===d&&++Y===l&&(x=_),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(om={focusedElem:e,selectionRange:a},Xc=!1,Le=r;Le!==null;)if(r=Le,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Le=e;else for(;Le!==null;){switch(r=Le,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=Gs(a.type,f);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Kt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)cm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Le=e;break}Le=r.return}}function S_(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(e,a),l&4&&dl(5,a);break;case 1:if(tr(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(_){Kt(a,a.return,_)}else{var f=Gs(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Kt(a,a.return,_)}}l&64&&y_(a),l&512&&ml(a,a.return);break;case 3:if(tr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{oy(e,r)}catch(_){Kt(a,a.return,_)}}break;case 27:r===null&&l&4&&T_(a);case 26:case 5:tr(e,a),r===null&&l&4&&v_(a),l&512&&ml(a,a.return);break;case 12:tr(e,a);break;case 31:tr(e,a),l&4&&R_(e,a);break;case 13:tr(e,a),l&4&&C_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=LA.bind(null,a),r1(e,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){r=r!==null&&r.memoizedState!==null||Ie,f=Ji;var d=Ie;Ji=l,(Ie=r)&&!d?er(e,a,(a.subtreeFlags&8772)!==0):tr(e,a),Ji=f,Ie=d}break;case 30:break;default:tr(e,a)}}function A_(e){var r=e.alternate;r!==null&&(e.alternate=null,A_(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&ha(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,on=!1;function Wi(e,r,a){for(a=a.child;a!==null;)w_(e,r,a),a=a.sibling}function w_(e,r,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ie||Ri(a,r),Wi(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Ri(a,r);var l=oe,f=on;Gr(a.type)&&(oe=a.stateNode,on=!1),Wi(e,r,a),Sl(a.stateNode),oe=l,on=f;break;case 5:Ie||Ri(a,r);case 6:if(l=oe,f=on,oe=null,Wi(e,r,a),oe=l,on=f,oe!==null)if(on)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Kt(a,r,d)}else try{oe.removeChild(a.stateNode)}catch(d){Kt(a,r,d)}break;case 18:oe!==null&&(on?(e=oe,y0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Xa(e)):y0(oe,a.stateNode));break;case 4:l=oe,f=on,oe=a.stateNode.containerInfo,on=!0,Wi(e,r,a),oe=l,on=f;break;case 0:case 11:case 14:case 15:Lr(2,a,r),Ie||Lr(4,a,r),Wi(e,r,a);break;case 1:Ie||(Ri(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&__(a,r,l)),Wi(e,r,a);break;case 21:Wi(e,r,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,Wi(e,r,a),Ie=l;break;default:Wi(e,r,a)}}function R_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(a){Kt(r,r.return,a)}}}function C_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(a){Kt(r,r.return,a)}}function NA(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new b_),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new b_),r;default:throw Error(s(435,e.tag))}}function xc(e,r){var a=NA(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=zA.bind(null,e,l);l.then(f,f)}})}function ln(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=r,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(Gr(b.type)){oe=b.stateNode,on=!1;break t}break;case 5:oe=b.stateNode,on=!1;break t;case 3:case 4:oe=b.stateNode.containerInfo,on=!0;break t}b=b.return}if(oe===null)throw Error(s(160));w_(d,_,f),oe=null,on=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)I_(r,e),r=r.sibling}var Jn=null;function I_(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(r,e),un(e),l&4&&(Lr(3,e,e.return),dl(3,e),Lr(5,e,e.return));break;case 1:ln(r,e),un(e),l&512&&(Ie||a===null||Ri(a,a.return)),l&64&&Ji&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Jn;if(ln(r,e),un(e),l&512&&(Ie||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[fi]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ge(d,l,a),d[be]=e,Se(d),l=d;break t;case"link":var _=I0("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break e}}d=f.createElement(l),Ge(d,l,a),f.head.appendChild(d);break;case"meta":if(_=I0("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break e}}d=f.createElement(l),Ge(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[be]=e,Se(d),l=d}e.stateNode=l}else x0(f,e.type,e.stateNode);else e.stateNode=C0(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?x0(f,e.type,e.stateNode):C0(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Pd(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(r,e),un(e),l&512&&(Ie||a===null||Ri(a,a.return)),a!==null&&l&4&&Pd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(r,e),un(e),l&512&&(Ie||a===null||Ri(a,a.return)),e.flags&32){f=e.stateNode;try{an(f,"")}catch(ct){Kt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Pd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(zd=!0);break;case 6:if(ln(r,e),un(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Kt(e,e.return,ct)}}break;case 3:if(Gc=null,f=Jn,Jn=Hc(r.containerInfo),ln(r,e),Jn=f,un(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(r.containerInfo)}catch(ct){Kt(e,e.return,ct)}zd&&(zd=!1,x_(e));break;case 4:l=Jn,Jn=Hc(e.stateNode.containerInfo),ln(r,e),un(e),Jn=l;break;case 12:ln(r,e),un(e);break;case 31:ln(r,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xc(e,l)));break;case 13:ln(r,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dc=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xc(e,l)));break;case 22:f=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=Ji,Y=Ie;if(Ji=j||f,Ie=Y||x,ln(r,e),Ie=Y,Ji=j,un(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||x||Ji||Ie||Qs(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(d=x.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=x.stateNode;var $=x.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){Kt(x,x.return,ct)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(ct){Kt(x,x.return,ct)}}}else if(r.tag===18){if(a===null){x=r;try{var H=x.stateNode;f?_0(H,!0):_0(x.stateNode,!1)}catch(ct){Kt(x,x.return,ct)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xc(e,a))));break;case 19:ln(r,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xc(e,l)));break;case 30:break;case 21:break;default:ln(r,e),un(e)}}function un(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(E_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ud(e);Ic(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var b=Ud(e);Ic(e,b,_);break;case 3:case 4:var x=a.stateNode.containerInfo,j=Ud(e);Ld(e,j,x);break;default:throw Error(s(161))}}catch(Y){Kt(e,e.return,Y)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function x_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;x_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function tr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)S_(e,r.alternate,r),r=r.sibling}function Qs(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Lr(4,r,r.return),Qs(r);break;case 1:Ri(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&__(r,r.return,a),Qs(r);break;case 27:Sl(r.stateNode);case 26:case 5:Ri(r,r.return),Qs(r);break;case 22:r.memoizedState===null&&Qs(r);break;case 30:Qs(r);break;default:Qs(r)}e=e.sibling}}function er(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:er(f,d,a),dl(4,d);break;case 1:if(er(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Kt(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)ay(x[f],b)}catch(j){Kt(l,l.return,j)}}a&&_&64&&y_(d),ml(d,d.return);break;case 27:T_(d);case 26:case 5:er(f,d,a),a&&l===null&&_&4&&v_(d),ml(d,d.return);break;case 12:er(f,d,a);break;case 31:er(f,d,a),a&&_&4&&R_(f,d);break;case 13:er(f,d,a),a&&_&4&&C_(f,d);break;case 22:d.memoizedState===null&&er(f,d,a),ml(d,d.return);break;case 30:break;default:er(f,d,a)}r=r.sibling}}function jd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&tl(a))}function Bd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&tl(e))}function Wn(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)N_(e,r,a,l),r=r.sibling}function N_(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Wn(e,r,a,l),f&2048&&dl(9,r);break;case 1:Wn(e,r,a,l);break;case 3:Wn(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&tl(e)));break;case 12:if(f&2048){Wn(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Kt(r,r.return,x)}}else Wn(e,r,a,l);break;case 31:Wn(e,r,a,l);break;case 13:Wn(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?Wn(e,r,a,l):pl(e,r):d._visibility&2?Wn(e,r,a,l):(d._visibility|=2,La(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&jd(_,r);break;case 24:Wn(e,r,a,l),f&2048&&Bd(r.alternate,r);break;default:Wn(e,r,a,l)}}function La(e,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,_=r,b=a,x=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:La(d,_,b,x,f),dl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?La(d,_,b,x,f):pl(d,_):(Y._visibility|=2,La(d,_,b,x,f)),f&&j&2048&&jd(_.alternate,_);break;case 24:La(d,_,b,x,f),f&&j&2048&&Bd(_.alternate,_);break;default:La(d,_,b,x,f)}r=r.sibling}}function pl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:pl(a,l),f&2048&&jd(l.alternate,l);break;case 24:pl(a,l),f&2048&&Bd(l.alternate,l);break;default:pl(a,l)}r=r.sibling}}var gl=8192;function za(e,r,a){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)D_(e,r,a),e=e.sibling}function D_(e,r,a){switch(e.tag){case 26:za(e,r,a),e.flags&gl&&e.memoizedState!==null&&g1(a,Jn,e.memoizedState,e.memoizedProps);break;case 5:za(e,r,a);break;case 3:case 4:var l=Jn;Jn=Hc(e.stateNode.containerInfo),za(e,r,a),Jn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=gl,gl=16777216,za(e,r,a),gl=l):za(e,r,a));break;default:za(e,r,a)}}function O_(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function yl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Le=l,V_(l,e)}O_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)M_(e),e=e.sibling}function M_(e){switch(e.tag){case 0:case 11:case 15:yl(e),e.flags&2048&&Lr(9,e,e.return);break;case 3:yl(e);break;case 12:yl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Nc(e)):yl(e);break;default:yl(e)}}function Nc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Le=l,V_(l,e)}O_(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Lr(8,r,r.return),Nc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(r));break;default:Nc(r)}e=e.sibling}}function V_(e,r){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Lr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Le=l;else t:for(a=e;Le!==null;){l=Le;var f=l.sibling,d=l.return;if(A_(l),l===a){Le=null;break t}if(f!==null){f.return=d,Le=f;break t}Le=d}}}var DA={getCacheForType:function(e){var r=He(we),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return He(we).controller.signal}},OA=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,Nt=null,Mt=0,Yt=0,bn=null,zr=!1,ja=!1,qd=!1,nr=0,de=0,jr=0,Ys=0,Hd=0,Sn=0,Ba=0,_l=null,cn=null,Fd=!1,Dc=0,k_=0,Oc=1/0,Mc=null,Br=null,Me=0,qr=null,qa=null,ir=0,Gd=0,Qd=null,P_=null,vl=0,Yd=null;function An(){return(Ft&2)!==0&&Mt!==0?Mt&-Mt:G.T!==null?Wd():Vu()}function U_(){if(Sn===0)if((Mt&536870912)===0||Lt){var e=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),Sn=e}else Sn=536870912;return e=En.current,e!==null&&(e.flags|=32),Sn}function hn(e,r,a){(e===ee&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Hr(e,Mt,Sn,!1)),Ts(e,a),((Ft&2)===0||e!==ee)&&(e===ee&&((Ft&2)===0&&(Ys|=a),de===4&&Hr(e,Mt,Sn,!1)),Ci(e))}function L_(e,r,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||Hn(e,r),f=l?kA(e,r):Xd(e,r,!0),d=l;do{if(f===0){ja&&!l&&Hr(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!MA(a)){f=Xd(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;t:{var b=e;f=_l;var x=b.current.memoizedState.isDehydrated;if(x&&(Ha(b,_).flags|=256),_=Xd(b,_,!1),_!==2){if(qd&&!x){b.errorRecoveryDisabledLanes|=d,Ys|=d,f=4;break t}d=cn,cn=f,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ha(e,0),Hr(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Hr(l,r,Sn,!zr);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Dc+300-en(),10<f)){if(Hr(l,r,Sn,!zr),ui(l,0,!0)!==0)break t;ir=r,l.timeoutHandle=p0(z_.bind(null,l,a,cn,Mc,Fd,r,Sn,Ys,Ba,zr,d,"Throttled",-0,0),f);break t}z_(l,a,cn,Mc,Fd,r,Sn,Ys,Ba,zr,d,null,-0,0)}}break}while(!0);Ci(e)}function z_(e,r,a,l,f,d,_,b,x,j,Y,$,B,H){if(e.timeoutHandle=-1,$=r.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},D_(r,d,$);var ct=(d&62914560)===d?Dc-en():(d&4194048)===d?k_-en():0;if(ct=y1($,ct),ct!==null){ir=d,e.cancelPendingCommit=ct(Y_.bind(null,e,r,d,a,l,f,_,b,x,Y,$,null,B,H)),Hr(e,d,_,!j);return}}Y_(e,r,d,a,l,f,_,b,x)}function MA(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Hr(e,r,a,l){r&=~Hd,r&=~Ys,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-me(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&bs(e,a,r)}function Vc(){return(Ft&6)===0?(El(0),!1):!0}function Kd(){if(Nt!==null){if(Yt===0)var e=Nt.return;else e=Nt,Qi=Ls=null,cd(e),Ma=null,nl=0,e=Nt;for(;e!==null;)g_(e.alternate,e),e=e.return;Nt=null}}function Ha(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,WA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ir=0,Kd(),ee=e,Nt=a=Fi(e.current,null),Mt=r,Yt=0,bn=null,zr=!1,ja=Hn(e,r),qd=!1,Ba=Sn=Hd=Ys=jr=de=0,cn=_l=null,Fd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-me(l),d=1<<f;r|=e[f],l&=~d}return nr=r,ec(),a}function j_(e,r){Rt=null,G.H=cl,r===Oa||r===uc?(r=ny(),Yt=3):r===Jf?(r=ny(),Yt=4):Yt=r===Rd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Nt===null&&(de=1,Sc(e,On(r,e.current)))}function B_(){var e=En.current;return e===null?!0:(Mt&4194048)===Mt?Pn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Pn:!1}function q_(){var e=G.H;return G.H=cl,e===null?cl:e}function H_(){var e=G.A;return G.A=DA,e}function kc(){de=4,zr||(Mt&4194048)!==Mt&&En.current!==null||(ja=!0),(jr&134217727)===0&&(Ys&134217727)===0||ee===null||Hr(ee,Mt,Sn,!1)}function Xd(e,r,a){var l=Ft;Ft|=2;var f=q_(),d=H_();(ee!==e||Mt!==r)&&(Mc=null,Ha(e,r)),r=!1;var _=de;t:do try{if(Yt!==0&&Nt!==null){var b=Nt,x=bn;switch(Yt){case 8:Kd(),_=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(r=!0);var j=Yt;if(Yt=0,bn=null,Fa(e,b,x,j),a&&ja){_=0;break t}break;default:j=Yt,Yt=0,bn=null,Fa(e,b,x,j)}}VA(),_=de;break}catch(Y){j_(e,Y)}while(!0);return r&&e.shellSuspendCounter++,Qi=Ls=null,Ft=l,G.H=f,G.A=d,Nt===null&&(ee=null,Mt=0,ec()),_}function VA(){for(;Nt!==null;)F_(Nt)}function kA(e,r){var a=Ft;Ft|=2;var l=q_(),f=H_();ee!==e||Mt!==r?(Mc=null,Oc=en()+500,Ha(e,r)):ja=Hn(e,r);t:do try{if(Yt!==0&&Nt!==null){r=Nt;var d=bn;e:switch(Yt){case 1:Yt=0,bn=null,Fa(e,r,d,1);break;case 2:case 9:if(ty(d)){Yt=0,bn=null,G_(r);break}r=function(){Yt!==2&&Yt!==9||ee!==e||(Yt=7),Ci(e)},d.then(r,r);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:ty(d)?(Yt=0,bn=null,G_(r)):(Yt=0,bn=null,Fa(e,r,d,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var b=Nt;if(_?N0(_):b.stateNode.complete){Yt=0,bn=null;var x=b.sibling;if(x!==null)Nt=x;else{var j=b.return;j!==null?(Nt=j,Pc(j)):Nt=null}break e}}Yt=0,bn=null,Fa(e,r,d,5);break;case 6:Yt=0,bn=null,Fa(e,r,d,6);break;case 8:Kd(),de=6;break t;default:throw Error(s(462))}}PA();break}catch(Y){j_(e,Y)}while(!0);return Qi=Ls=null,G.H=l,G.A=f,Ft=a,Nt!==null?0:(ee=null,Mt=0,ec(),de)}function PA(){for(;Nt!==null&&!wf();)F_(Nt)}function F_(e){var r=m_(e.alternate,e,nr);e.memoizedProps=e.pendingProps,r===null?Pc(e):Nt=r}function G_(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=l_(a,r,r.pendingProps,r.type,void 0,Mt);break;case 11:r=l_(a,r,r.pendingProps,r.type.render,r.ref,Mt);break;case 5:cd(r);default:g_(a,r),r=Nt=Hg(r,nr),r=m_(a,r,nr)}e.memoizedProps=e.pendingProps,r===null?Pc(e):Nt=r}function Fa(e,r,a,l){Qi=Ls=null,cd(r),Ma=null,nl=0;var f=r.return;try{if(AA(e,f,r,a,Mt)){de=1,Sc(e,On(a,e.current)),Nt=null;return}}catch(d){if(f!==null)throw Nt=f,d;de=1,Sc(e,On(a,e.current)),Nt=null;return}r.flags&32768?(Lt||l===1?e=!0:ja||(Mt&536870912)!==0?e=!1:(zr=e=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Q_(r,e)):Pc(r)}function Pc(e){var r=e;do{if((r.flags&32768)!==0){Q_(r,zr);return}e=r.return;var a=CA(r.alternate,r,nr);if(a!==null){Nt=a;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=e}while(r!==null);de===0&&(de=5)}function Q_(e,r){do{var a=IA(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);de=6,Nt=null}function Y_(e,r,a,l,f,d,_,b,x){e.cancelPendingCommit=null;do Uc();while(Me!==0);if((Ft&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Uf,If(e,a,d,_,b,x),e===ee&&(Nt=ee=null,Mt=0),qa=r,qr=e,ir=a,Gd=d,Qd=f,P_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jA(vr,function(){return J_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=nt.p,nt.p=2,_=Ft,Ft|=4;try{xA(e,r,a)}finally{Ft=_,nt.p=f,G.T=l}}Me=1,K_(),X_(),$_()}}function K_(){if(Me===1){Me=0;var e=qr,r=qa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=nt.p;nt.p=2;var f=Ft;Ft|=4;try{I_(r,e);var d=om,_=Vg(e.containerInfo),b=d.focusedElem,x=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Mg(b.ownerDocument.documentElement,b)){if(x!==null&&Of(b)){var j=x.start,Y=x.end;if(Y===void 0&&(Y=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(Y,b.value.length);else{var $=b.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=b.textContent.length,yt=Math.min(x.start,ct),Wt=x.end===void 0?yt:Math.min(x.end,ct);!H.extend&&yt>Wt&&(_=Wt,Wt=yt,yt=_);var U=Og(b,yt),M=Og(b,Wt);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var z=$.createRange();z.setStart(U.node,U.offset),H.removeAllRanges(),yt>Wt?(H.addRange(z),H.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),H.addRange(z))}}}}for($=[],H=b;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var K=$[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Xc=!!am,om=am=null}finally{Ft=f,nt.p=l,G.T=a}}e.current=r,Me=2}}function X_(){if(Me===2){Me=0;var e=qr,r=qa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=nt.p;nt.p=2;var f=Ft;Ft|=4;try{S_(e,r.alternate,r)}finally{Ft=f,nt.p=l,G.T=a}}Me=3}}function $_(){if(Me===4||Me===3){Me=0,Cu();var e=qr,r=qa,a=ir,l=P_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Me=5:(Me=0,qa=qr=null,Z_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Br=null),ji(a),r=r.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(qn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=G.T,f=nt.p,nt.p=2,G.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{G.T=r,nt.p=f}}(ir&3)!==0&&Uc(),Ci(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Yd?vl++:(vl=0,Yd=e):vl=0,El(0)}}function Z_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,tl(r)))}function Uc(){return K_(),X_(),$_(),J_()}function J_(){if(Me!==5)return!1;var e=qr,r=Gd;Gd=0;var a=ji(ir),l=G.T,f=nt.p;try{nt.p=32>a?32:a,G.T=null,a=Qd,Qd=null;var d=qr,_=ir;if(Me=0,qa=qr=null,ir=0,(Ft&6)!==0)throw Error(s(331));var b=Ft;if(Ft|=4,M_(d.current),N_(d,d.current,_,a),Ft=b,El(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{nt.p=f,G.T=l,Z_(e,r)}}function W_(e,r,a){r=On(a,r),r=wd(e.stateNode,r,2),e=kr(e,r,2),e!==null&&(Ts(e,2),Ci(e))}function Kt(e,r,a){if(e.tag===3)W_(e,e,a);else for(;r!==null;){if(r.tag===3){W_(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){e=On(a,e),a=t_(2),l=kr(r,a,2),l!==null&&(e_(a,l,r,e),Ts(l,2),Ci(l));break}}r=r.return}}function $d(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new OA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(qd=!0,f.add(a),e=UA.bind(null,e,r,a),r.then(e,e))}function UA(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Mt&a)===a&&(de===4||de===3&&(Mt&62914560)===Mt&&300>en()-Dc?(Ft&2)===0&&Ha(e,0):Hd|=a,Ba===Mt&&(Ba=0)),Ci(e)}function t0(e,r){r===0&&(r=Mu()),e=ks(e,r),e!==null&&(Ts(e,r),Ci(e))}function LA(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),t0(e,a)}function zA(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),t0(e,a)}function jA(e,r){return Oe(e,r)}var Lc=null,Ga=null,Zd=!1,zc=!1,Jd=!1,Fr=0;function Ci(e){e!==Ga&&e.next===null&&(Ga===null?Lc=Ga=e:Ga=Ga.next=e),zc=!0,Zd||(Zd=!0,qA())}function El(e,r){if(!Jd&&zc){Jd=!0;do for(var a=!1,l=Lc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-me(42|e)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,r0(l,d))}else d=Mt,d=ui(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,r0(l,d));l=l.next}while(a);Jd=!1}}function BA(){e0()}function e0(){zc=Zd=!1;var e=0;Fr!==0&&JA()&&(e=Fr);for(var r=en(),a=null,l=Lc;l!==null;){var f=l.next,d=n0(l,r);d===0?(l.next=null,a===null?Lc=f:a.next=f,f===null&&(Ga=a)):(a=l,(e!==0||(d&3)!==0)&&(zc=!0)),l=f}Me!==0&&Me!==5||El(e),Fr!==0&&(Fr=0)}function n0(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-me(d),b=1<<_,x=f[_];x===-1?((b&a)===0||(b&l)!==0)&&(f[_]=Cf(b,r)):x<=r&&(e.expiredLanes|=b),d&=~b}if(r=ee,a=Mt,a=ui(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&_r(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&_r(l),ji(a)){case 2:case 8:a=No;break;case 32:a=vr;break;case 268435456:a=Iu;break;default:a=vr}return l=i0.bind(null,e),a=Oe(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&_r(l),e.callbackPriority=2,e.callbackNode=null,2}function i0(e,r){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Uc()&&e.callbackNode!==a)return null;var l=Mt;return l=ui(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(L_(e,l,r),n0(e,en()),e.callbackNode!=null&&e.callbackNode===a?i0.bind(null,e):null)}function r0(e,r){if(Uc())return null;L_(e,r,!0)}function qA(){t1(function(){(Ft&6)!==0?Oe(xo,BA):e0()})}function Wd(){if(Fr===0){var e=Na;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Fr=e}return Fr}function s0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function a0(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function HA(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=s0((f[Pe]||null).action),_=l.submitter;_&&(r=(r=_[Pe]||null)?s0(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new Ei("action","action",null,l,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fr!==0){var x=_?a0(f,_):new FormData(f);vd(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=_?a0(f,_):new FormData(f),vd(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var tm=0;tm<Pf.length;tm++){var em=Pf[tm],FA=em.toLowerCase(),GA=em[0].toUpperCase()+em.slice(1);Zn(FA,"on"+GA)}Zn(Ug,"onAnimationEnd"),Zn(Lg,"onAnimationIteration"),Zn(zg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(oA,"onTransitionRun"),Zn(lA,"onTransitionStart"),Zn(uA,"onTransitionCancel"),Zn(jg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function o0(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],x=b.instance,j=b.currentTarget;if(b=b.listener,x!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=j;try{d(f)}catch(Y){tc(Y)}f.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(b=l[_],x=b.instance,j=b.currentTarget,b=b.listener,x!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=j;try{d(f)}catch(Y){tc(Y)}f.currentTarget=null,d=x}}}}function Dt(e,r){var a=r[ca];a===void 0&&(a=r[ca]=new Set);var l=e+"__bubble";a.has(l)||(l0(r,e,2,!1),a.add(l))}function nm(e,r,a){var l=0;r&&(l|=4),l0(a,e,l,r)}var jc="_reactListening"+Math.random().toString(36).slice(2);function im(e){if(!e[jc]){e[jc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(QA.has(a)||nm(a,!1,e),nm(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[jc]||(r[jc]=!0,nm("selectionchange",!1,r))}}function l0(e,r,a,l){switch(U0(r)){case 2:var f=E1;break;case 8:f=T1;break;default:f=_m}a=f.bind(null,r,a,e),f=void 0,!Cs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function rm(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=di(b),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue t}b=b.parentNode}}l=l.return}wr(function(){var j=d,Y=In(a),$=[];t:{var B=Bg.get(e);if(B!==void 0){var H=Ei,ct=e;switch(e){case"keypress":if(xs(a)===0)break t;case"keydown":case"keyup":H=Zu;break;case"focusin":ct="focus",H=Ds;break;case"focusout":ct="blur",H=Ds;break;case"beforeblur":case"afterblur":H=Ds;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=y;break;case Ug:case Lg:case zg:H=Fu;break;case jg:H=S;break;case"scroll":case"scrollend":H=Go;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Hi;break;case"toggle":case"beforetoggle":H=wt}var yt=(r&4)!==0,Wt=!yt&&(e==="scroll"||e==="scrollend"),U=yt?B!==null?B+"Capture":null:B;yt=[];for(var M=j,z;M!==null;){var K=M;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=Yn(M,U),K!=null&&yt.push(bl(M,K,z))),Wt)break;M=M.return}0<yt.length&&(B=new H(B,ct,null,a,Y),$.push({event:B,listeners:yt}))}}if((r&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==qo&&(ct=a.relatedTarget||a.fromElement)&&(di(ct)||ct[hi]))break t;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=j,ct=ct?di(ct):null,ct!==null&&(Wt=u(ct),yt=ct.tag,ct!==Wt||yt!==5&&yt!==27&&yt!==6)&&(ct=null)):(H=null,ct=j),H!==ct)){if(yt=Qo,K="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Hi,K="onPointerLeave",U="onPointerEnter",M="pointer"),Wt=H==null?B:gn(H),z=ct==null?B:gn(ct),B=new yt(K,M+"leave",H,a,Y),B.target=Wt,B.relatedTarget=z,K=null,di(Y)===j&&(yt=new yt(U,M+"enter",ct,a,Y),yt.target=z,yt.relatedTarget=Wt,K=yt),Wt=K,H&&ct)e:{for(yt=YA,U=H,M=ct,z=0,K=U;K;K=yt(K))z++;K=0;for(var dt=M;dt;dt=yt(dt))K++;for(;0<z-K;)U=yt(U),z--;for(;0<K-z;)M=yt(M),K--;for(;z--;){if(U===M||M!==null&&U===M.alternate){yt=U;break e}U=yt(U),M=yt(M)}yt=null}else yt=null;H!==null&&u0($,B,H,yt,!1),ct!==null&&Wt!==null&&u0($,Wt,ct,yt,!0)}}t:{if(B=j?gn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var jt=Rg;else if(Ag(B))if(Cg)jt=rA;else{jt=nA;var ht=eA}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ma(j.elementType)&&(jt=Rg):jt=iA;if(jt&&(jt=jt(e,j))){wg($,jt,a,Y);break t}ht&&ht(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&zo(B,"number",B.value)}switch(ht=j?gn(j):window,e){case"focusin":(Ag(ht)||ht.contentEditable==="true")&&(ba=ht,Mf=j,Zo=null);break;case"focusout":Zo=Mf=ba=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,kg($,a,Y);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":kg($,a,Y)}var Ct;if(Ht)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Ta?Os(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(Si&&a.locale!=="ko"&&(Ta||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Ta&&(Ct=Fo()):(vi=Y,Ho="value"in vi?vi.value:vi.textContent,Ta=!0)),ht=Bc(j,Vt),0<ht.length&&(Vt=new bi(Vt,e,null,a,Y),$.push({event:Vt,listeners:ht}),Ct?Vt.data=Ct:(Ct=Ea(a),Ct!==null&&(Vt.data=Ct)))),(Ct=Nn?ZS(e,a):JS(e,a))&&(Vt=Bc(j,"onBeforeInput"),0<Vt.length&&(ht=new bi("onBeforeInput","beforeinput",null,a,Y),$.push({event:ht,listeners:Vt}),ht.data=Ct)),HA($,e,j,a,Y)}o0($,r)})}function bl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Bc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Yn(e,a),f!=null&&l.unshift(bl(e,f,d)),f=Yn(e,r),f!=null&&l.push(bl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function YA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function u0(e,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,x=b.alternate,j=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||j===null||(x=j,f?(j=Yn(a,d),j!=null&&_.unshift(bl(a,j,x))):f||(j=Yn(a,d),j!=null&&_.push(bl(a,j,x)))),a=a.return}_.length!==0&&e.push({event:r,listeners:_})}var KA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function c0(e){return(typeof e=="string"?e:""+e).replace(KA,`
`).replace(XA,"")}function h0(e,r){return r=c0(r),c0(e)===r}function Jt(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||an(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&an(e,""+l);break;case"className":yn(e,"class",l);break;case"tabIndex":yn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,l);break;case"style":Bo(e,l,d);break;case"data":if(r!=="object"){yn(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Jt(e,r,"name",f.name,f,null),Jt(e,r,"formEncType",f.formEncType,f,null),Jt(e,r,"formMethod",f.formMethod,f,null),Jt(e,r,"formTarget",f.formTarget,f,null)):(Jt(e,r,"encType",f.encType,f,null),Jt(e,r,"method",f.method,f,null),Jt(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=pa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bu.get(a)||a,fa(e,a,l))}}function sm(e,r,a,l,f,d){switch(a){case"style":Bo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?an(e,l):(typeof l=="number"||typeof l=="bigint")&&an(e,""+l);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[Pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fa(e,a,l)}}}function Ge(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Jt(e,r,d,_,a,null)}}f&&Jt(e,r,"srcSet",a.srcSet,a,null),l&&Jt(e,r,"src",a.src,a,null);return;case"input":Dt("invalid",e);var b=d=_=f=null,x=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":x=Y;break;case"defaultChecked":j=Y;break;case"value":d=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Jt(e,r,l,Y,a,null)}}Lu(e,d,b,x,j,_,f,!1);return;case"select":Dt("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Jt(e,r,f,b,a,null)}r=d,a=_,e.multiple=!!l,r!=null?Tr(e,!!l,r,!1):a!=null&&Tr(e,!!l,a,!0);return;case"textarea":Dt("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Jt(e,r,_,b,a,null)}br(e,l,f,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,r,x,l,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Dt(Tl[l],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Jt(e,r,j,l,a,null)}return;default:if(ma(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&sm(e,r,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Jt(e,r,b,l,a,null))}function $A(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,x=null,j=null,Y=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=$;default:l.hasOwnProperty(H)||Jt(e,r,H,null,l,$)}}for(var B in l){var H=l[B];if($=a[B],l.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":d=H;break;case"name":f=H;break;case"checked":j=H;break;case"defaultChecked":Y=H;break;case"value":_=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==$&&Jt(e,r,B,H,l,$)}}da(e,_,b,x,j,Y,d,f);return;case"select":H=_=b=B=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":H=x;default:l.hasOwnProperty(d)||Jt(e,r,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":B=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==x&&Jt(e,r,f,d,l,x)}r=b,a=_,l=H,B!=null?Tr(e,!!a,B,!1):!!l!=!!a&&(r!=null?Tr(e,!!a,r,!0):Tr(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Jt(e,r,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":B=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Jt(e,r,_,f,l,d)}zu(e,B,H);return;case"option":for(var ct in a)if(B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Jt(e,r,ct,null,l,B)}for(x in l)if(B=l[x],H=a[x],l.hasOwnProperty(x)&&B!==H&&(B!=null||H!=null))switch(x){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Jt(e,r,x,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt)&&Jt(e,r,yt,null,l,B);for(j in l)if(B=l[j],H=a[j],l.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:Jt(e,r,j,B,l,H)}return;default:if(ma(r)){for(var Wt in a)B=a[Wt],a.hasOwnProperty(Wt)&&B!==void 0&&!l.hasOwnProperty(Wt)&&sm(e,r,Wt,void 0,l,B);for(Y in l)B=l[Y],H=a[Y],!l.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||sm(e,r,Y,B,l,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Jt(e,r,U,null,l,B);for($ in l)B=l[$],H=a[$],!l.hasOwnProperty($)||B===H||B==null&&H==null||Jt(e,r,$,B,l,H)}function f0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&f0(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var x=a[l],j=x.startTime;if(j>b)break;var Y=x.transferSize,$=x.initiatorType;Y&&f0($)&&(x=x.responseEnd,_+=Y*(x<b?1:(b-j)/(x-j)))}if(--l,r+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var am=null,om=null;function qc(e){return e.nodeType===9?e:e.ownerDocument}function d0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m0(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function lm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var um=null;function JA(){var e=window.event;return e&&e.type==="popstate"?e===um?!1:(um=e,!0):(um=null,!1)}var p0=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(e){return g0.resolve(null).then(e).catch(e1)}:p0;function e1(e){setTimeout(function(){throw e})}function Gr(e){return e==="head"}function y0(e,r){var a=r,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),Xa(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Sl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Sl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[fi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Sl(e.ownerDocument.body);a=f}while(a);Xa(r)}function _0(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function cm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cm(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function n1(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[fi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function i1(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function v0(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Un(e.nextSibling),e===null))return null;return e}function hm(e){return e.data==="$?"||e.data==="$~"}function fm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function r1(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var dm=null;function E0(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return Un(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function T0(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function b0(e,r,a){switch(r=qc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Sl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ha(e)}var Ln=new Map,S0=new Set;function Hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rr=nt.d;nt.d={f:s1,r:a1,D:o1,C:l1,L:u1,m:c1,X:f1,S:h1,M:d1};function s1(){var e=rr.f(),r=Vc();return e||r}function a1(e){var r=Cn(e);r!==null&&r.tag===5&&r.type==="form"?jy(r):rr.r(e)}var Qa=typeof document>"u"?null:document;function A0(e,r,a){var l=Qa;if(l&&typeof r=="string"&&r){var f=sn(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),S0.has(f)||(S0.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ge(r,"link",e),Se(r),l.head.appendChild(r)))}}function o1(e){rr.D(e),A0("dns-prefetch",e,null)}function l1(e,r){rr.C(e,r),A0("preconnect",e,r)}function u1(e,r,a){rr.L(e,r,a);var l=Qa;if(l&&e&&r){var f='link[rel="preload"][as="'+sn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+sn(a.imageSizes)+'"]')):f+='[href="'+sn(e)+'"]';var d=f;switch(r){case"style":d=Ya(e);break;case"script":d=Ka(e)}Ln.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Ln.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(Al(d))||r==="script"&&l.querySelector(wl(d))||(r=l.createElement("link"),Ge(r,"link",e),Se(r),l.head.appendChild(r)))}}function c1(e,r){rr.m(e,r);var a=Qa;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(e)}if(!Ln.has(d)&&(e=T({rel:"modulepreload",href:e},r),Ln.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),Ge(l,"link",e),Se(l),a.head.appendChild(l)}}}function h1(e,r,a){rr.S(e,r,a);var l=Qa;if(l&&e){var f=mi(l).hoistableStyles,d=Ya(e);r=r||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Al(d)))b.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Ln.get(d))&&mm(e,a);var x=_=l.createElement("link");Se(x),Ge(x,"link",e),x._p=new Promise(function(j,Y){x.onload=j,x.onerror=Y}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Fc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function f1(e,r){rr.X(e,r);var a=Qa;if(a&&e){var l=mi(a).hoistableScripts,f=Ka(e),d=l.get(f);d||(d=a.querySelector(wl(f)),d||(e=T({src:e,async:!0},r),(r=Ln.get(f))&&pm(e,r),d=a.createElement("script"),Se(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function d1(e,r){rr.M(e,r);var a=Qa;if(a&&e){var l=mi(a).hoistableScripts,f=Ka(e),d=l.get(f);d||(d=a.querySelector(wl(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=Ln.get(f))&&pm(e,r),d=a.createElement("script"),Se(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function w0(e,r,a,l){var f=(f=bt.current)?Hc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ya(a.href),a=mi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ya(a.href);var d=mi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Al(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),d||m1(f,e,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ka(a),a=mi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ya(e){return'href="'+sn(e)+'"'}function Al(e){return'link[rel="stylesheet"]['+e+"]"}function R0(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function m1(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ge(r,"link",a),Se(r),e.head.appendChild(r))}function Ka(e){return'[src="'+sn(e)+'"]'}function wl(e){return"script[async]"+e}function C0(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return r.instance=l,Se(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Se(l),Ge(l,"style",f),Fc(l,a.precedence,e),r.instance=l;case"stylesheet":f=Ya(a.href);var d=e.querySelector(Al(f));if(d)return r.state.loading|=4,r.instance=d,Se(d),d;l=R0(a),(f=Ln.get(f))&&mm(l,f),d=(e.ownerDocument||e).createElement("link"),Se(d);var _=d;return _._p=new Promise(function(b,x){_.onload=b,_.onerror=x}),Ge(d,"link",l),r.state.loading|=4,Fc(d,a.precedence,e),r.instance=d;case"script":return d=Ka(a.src),(f=e.querySelector(wl(d)))?(r.instance=f,Se(f),f):(l=a,(f=Ln.get(d))&&(l=T({},a),pm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Se(f),Ge(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Fc(l,a.precedence,e));return r.instance}function Fc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function mm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function pm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Gc=null;function I0(e,r,a){if(Gc===null){var l=new Map,f=Gc=new Map;f.set(a,l)}else f=Gc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[fi]||d[be]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=e+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function x0(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function p1(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function N0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function g1(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ya(l.href),d=r.querySelector(Al(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Qc.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,Se(d);return}d=r.ownerDocument||r,l=R0(l),(f=Ln.get(f))&&mm(l,f),d=d.createElement("link"),Se(d);var _=d;_._p=new Promise(function(b,x){_.onload=b,_.onerror=x}),Ge(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Qc.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var gm=0;function y1(e,r){return e.stylesheets&&e.count===0&&Kc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Kc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&gm===0&&(gm=62500*ZA());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Kc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>gm?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yc=null;function Kc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yc=new Map,r.forEach(_1,e),Yc=null,Qc.call(e))}function _1(e,r){if(!(r.state.loading&4)){var a=Yc.get(e);if(a)var l=a.get(null);else{a=new Map,Yc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var Rl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function v1(e,r,a,l,f,d,_,b,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function D0(e,r,a,l,f,d,_,b,x,j,Y,$){return e=new v1(e,r,a,_,x,j,Y,$,b),r=1,d===!0&&(r|=24),d=vn(3,null,null,r),e.current=d,d.stateNode=e,r=Xf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Wf(d),e}function O0(e){return e?(e=wa,e):wa}function M0(e,r,a,l,f,d){f=O0(f),l.context===null?l.context=f:l.pendingContext=f,l=Vr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(e,l,r),a!==null&&(hn(a,e,r),rl(a,e,r))}function V0(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function ym(e,r){V0(e,r),(e=e.alternate)&&V0(e,r)}function k0(e){if(e.tag===13||e.tag===31){var r=ks(e,67108864);r!==null&&hn(r,e,67108864),ym(e,67108864)}}function P0(e){if(e.tag===13||e.tag===31){var r=An();r=Ss(r);var a=ks(e,r);a!==null&&hn(a,e,r),ym(e,r)}}var Xc=!0;function E1(e,r,a,l){var f=G.T;G.T=null;var d=nt.p;try{nt.p=2,_m(e,r,a,l)}finally{nt.p=d,G.T=f}}function T1(e,r,a,l){var f=G.T;G.T=null;var d=nt.p;try{nt.p=8,_m(e,r,a,l)}finally{nt.p=d,G.T=f}}function _m(e,r,a,l){if(Xc){var f=vm(l);if(f===null)rm(e,r,l,$c,a),L0(e,l);else if(S1(f,e,r,a,l))l.stopPropagation();else if(L0(e,l),r&4&&-1<b1.indexOf(e)){for(;f!==null;){var d=Cn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=li(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var x=1<<31-me(_);b.entanglements[1]|=x,_&=~x}Ci(d),(Ft&6)===0&&(Oc=en()+500,El(0))}}break;case 31:case 13:b=ks(d,2),b!==null&&hn(b,d,2),Vc(),ym(d,2)}if(d=vm(l),d===null&&rm(e,r,l,$c,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else rm(e,r,l,null,a)}}function vm(e){return e=In(e),Em(e)}var $c=null;function Em(e){if($c=null,e=di(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===31){if(e=m(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return $c=e,null}function U0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case xo:return 2;case No:return 8;case vr:case Rf:return 32;case Iu:return 268435456;default:return 32}default:return 32}}var Tm=!1,Qr=null,Yr=null,Kr=null,Cl=new Map,Il=new Map,Xr=[],b1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L0(e,r){switch(e){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(r.pointerId)}}function xl(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Cn(r),r!==null&&k0(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function S1(e,r,a,l,f){switch(r){case"focusin":return Qr=xl(Qr,e,r,a,l,f),!0;case"dragenter":return Yr=xl(Yr,e,r,a,l,f),!0;case"mouseover":return Kr=xl(Kr,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Cl.set(d,xl(Cl.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Il.set(d,xl(Il.get(d)||null,e,r,a,l,f)),!0}return!1}function z0(e){var r=di(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,Fn(e.priority,function(){P0(a)});return}}else if(r===31){if(r=m(a),r!==null){e.blockedOn=r,Fn(e.priority,function(){P0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=vm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);qo=l,a.target.dispatchEvent(l),qo=null}else return r=Cn(a),r!==null&&k0(r),e.blockedOn=a,!1;r.shift()}return!0}function j0(e,r,a){Zc(e)&&a.delete(r)}function A1(){Tm=!1,Qr!==null&&Zc(Qr)&&(Qr=null),Yr!==null&&Zc(Yr)&&(Yr=null),Kr!==null&&Zc(Kr)&&(Kr=null),Cl.forEach(j0),Il.forEach(j0)}function Jc(e,r){e.blockedOn===r&&(e.blockedOn=null,Tm||(Tm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,A1)))}var Wc=null;function B0(e){Wc!==e&&(Wc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wc===e&&(Wc=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(Em(l||a)===null)continue;break}var d=Cn(a);d!==null&&(e.splice(r,3),r-=3,vd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Xa(e){function r(x){return Jc(x,e)}Qr!==null&&Jc(Qr,e),Yr!==null&&Jc(Yr,e),Kr!==null&&Jc(Kr,e),Cl.forEach(r),Il.forEach(r);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)z0(a),a.blockedOn===null&&Xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Pe]||null;if(typeof d=="function")_||B0(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Pe]||null)b=_.formAction;else if(Em(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),B0(a)}}}function q0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function bm(e){this._internalRoot=e}th.prototype.render=bm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=An();M0(a,l,e,r,null,null)},th.prototype.unmount=bm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;M0(e.current,2,null,e,null,null),Vc(),r[hi]=null}};function th(e){this._internalRoot=e}th.prototype.unstable_scheduleHydration=function(e){if(e){var r=Vu();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Xr.length&&r!==0&&r<Xr[a].priority;a++);Xr.splice(a,0,e),a===0&&z0(e)}};var H0=t.version;if(H0!=="19.2.1")throw Error(s(527,H0,"19.2.1"));nt.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(r),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var w1={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{qn=eh.inject(w1),je=eh}catch{}}return Dl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=$y,d=Zy,_=Jy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=D0(e,1,!1,null,null,a,l,null,f,d,_,q0),e[hi]=r.current,im(e),new bm(r)},Dl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=$y,_=Zy,b=Jy,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),r=D0(e,1,!0,r,a??null,l,f,x,d,_,b,q0),r.context=O0(null),a=r.current,l=An(),l=Ss(l),f=Vr(l),f.callback=null,kr(a,f,l),a=l,r.current.lanes=a,Ts(r,a),Ci(r),e[hi]=r.current,im(e),new th(r)},Dl.version="19.2.1",Dl}var W0;function P1(){if(W0)return wm.exports;W0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),wm.exports=k1(),wm.exports}var U1=P1();const L1=()=>{};var tv={};const QE=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},z1=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(A=64)),s.push(n[E],n[T],n[A],n[k])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(QE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):z1(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new j1;const A=u<<2|m>>4;if(s.push(A),g!==64){const k=m<<4&240|g>>2;if(s.push(k),T!==64){const F=g<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class j1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(i){const t=QE(i);return YE.encodeByteArray(t,!0)},Ch=function(i){return B1(i).replace(/\./g,"")},KE=function(i){try{return YE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const H1=()=>q1().__FIREBASE_DEFAULTS__,F1=()=>{if(typeof process>"u"||typeof tv>"u")return;const i=tv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},G1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&KE(i[1]);return t&&JSON.parse(t)},Wh=()=>{try{return L1()||H1()||F1()||G1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},XE=i=>Wh()?.emulatorHosts?.[i],Q1=i=>{const t=XE(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},$E=()=>Wh()?.config,ZE=i=>Wh()?.[`_${i}`];class Y1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function vo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JE(i){return(await fetch(i,{credentials:"include"})).ok}function K1(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(h)),""].join(".")}const Gl={};function X1(){const i={prod:[],emulator:[]};for(const t of Object.keys(Gl))Gl[t]?i.emulator.push(t):i.prod.push(t);return i}function $1(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let ev=!1;function WE(i,t){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Gl[i]===t||Gl[i]||ev)return;Gl[i]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=X1().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{ev=!0,h()},A}function E(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=$1(s),k=n("text"),F=document.getElementById(k)||document.createElement("span"),Q=n("learnmore"),Z=document.getElementById(Q)||document.createElement("a"),at=n("preprendIcon"),ut=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const lt=A.element;m(lt),E(Z,Q);const mt=g();p(ut,at),lt.append(ut,F,Z,mt),document.body.appendChild(lt)}u?(F.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function J1(){const i=Wh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function ew(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nw(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function iw(){return!J1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rw(){try{return typeof indexedDB=="object"}catch{return!1}}function sw(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const aw="FirebaseError";class mr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=aw,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?ow(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new mr(o,m,s)}}function ow(i,t){return i.replace(lw,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const lw=/\{\$([^}]+)}/g;function uw(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Ws(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=t[o];if(nv(u)&&nv(h)){if(!Ws(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function nv(i){return i!==null&&typeof i=="object"}function pu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Pl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ul(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function cw(i,t){const n=new hw(i,t);return n.subscribe.bind(n)}class hw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fw(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function xm(){}function Ke(i){return i&&i._delegate?i._delegate:i}class ta{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ks="[DEFAULT]";class dw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Y1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pw(t))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ks){return this.instances.has(t)}getOptions(t=Ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ks){return this.component?this.component.multipleInstances?t:Ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mw(i){return i===Ks?void 0:i}function pw(i){return i.instantiationMode==="EAGER"}class gw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new dw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var kt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(kt||(kt={}));const yw={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},_w=kt.INFO,vw={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Ew=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=vw[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rp{constructor(t){this.name=t,this._logLevel=_w,this._logHandler=Ew,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const Tw=(i,t)=>t.some(n=>i instanceof n);let iv,rv;function bw(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sw(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tT=new WeakMap,Gm=new WeakMap,eT=new WeakMap,Nm=new WeakMap,Cp=new WeakMap;function Aw(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(rs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&tT.set(n,i)}).catch(()=>{}),Cp.set(t,i),t}function ww(i){if(Gm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Gm.set(i,t)}let Qm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Gm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||eT.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Rw(i){Qm=i(Qm)}function Cw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Dm(this),t,...n);return eT.set(s,t.sort?t.sort():[t]),rs(s)}:Sw().includes(i)?function(...t){return i.apply(Dm(this),t),rs(tT.get(this))}:function(...t){return rs(i.apply(Dm(this),t))}}function Iw(i){return typeof i=="function"?Cw(i):(i instanceof IDBTransaction&&ww(i),Tw(i,bw())?new Proxy(i,Qm):i)}function rs(i){if(i instanceof IDBRequest)return Aw(i);if(Nm.has(i))return Nm.get(i);const t=Iw(i);return t!==i&&(Nm.set(i,t),Cp.set(t,i)),t}const Dm=i=>Cp.get(i);function xw(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=rs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(rs(h.result),p.oldVersion,p.newVersion,rs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Nw=["get","getKey","getAll","getAllKeys","count"],Dw=["put","add","delete","clear"],Om=new Map;function sv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Om.get(t))return Om.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Dw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Nw.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Om.set(t,u),u}Rw(i=>({...i,get:(t,n,s)=>sv(t,n)||i.get(t,n,s),has:(t,n)=>!!sv(t,n)||i.has(t,n)}));class Ow{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Mw(i){return i.getComponent()?.type==="VERSION"}const Ym="@firebase/app",av="0.14.6";const ur=new Rp("@firebase/app"),Vw="@firebase/app-compat",kw="@firebase/analytics-compat",Pw="@firebase/analytics",Uw="@firebase/app-check-compat",Lw="@firebase/app-check",zw="@firebase/auth",jw="@firebase/auth-compat",Bw="@firebase/database",qw="@firebase/data-connect",Hw="@firebase/database-compat",Fw="@firebase/functions",Gw="@firebase/functions-compat",Qw="@firebase/installations",Yw="@firebase/installations-compat",Kw="@firebase/messaging",Xw="@firebase/messaging-compat",$w="@firebase/performance",Zw="@firebase/performance-compat",Jw="@firebase/remote-config",Ww="@firebase/remote-config-compat",tR="@firebase/storage",eR="@firebase/storage-compat",nR="@firebase/firestore",iR="@firebase/ai",rR="@firebase/firestore-compat",sR="firebase",aR="12.6.0";const Km="[DEFAULT]",oR={[Ym]:"fire-core",[Vw]:"fire-core-compat",[Pw]:"fire-analytics",[kw]:"fire-analytics-compat",[Lw]:"fire-app-check",[Uw]:"fire-app-check-compat",[zw]:"fire-auth",[jw]:"fire-auth-compat",[Bw]:"fire-rtdb",[qw]:"fire-data-connect",[Hw]:"fire-rtdb-compat",[Fw]:"fire-fn",[Gw]:"fire-fn-compat",[Qw]:"fire-iid",[Yw]:"fire-iid-compat",[Kw]:"fire-fcm",[Xw]:"fire-fcm-compat",[$w]:"fire-perf",[Zw]:"fire-perf-compat",[Jw]:"fire-rc",[Ww]:"fire-rc-compat",[tR]:"fire-gcs",[eR]:"fire-gcs-compat",[nR]:"fire-fst",[rR]:"fire-fst-compat",[iR]:"fire-vertex","fire-js":"fire-js",[sR]:"fire-js-all"};const Ih=new Map,lR=new Map,Xm=new Map;function ov(i,t){try{i.container.addComponent(t)}catch(n){ur.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function oo(i){const t=i.name;if(Xm.has(t))return ur.debug(`There were multiple attempts to register component ${t}.`),!1;Xm.set(t,i);for(const n of Ih.values())ov(n,i);for(const n of lR.values())ov(n,i);return!0}function Ip(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function zn(i){return i==null?!1:i.settings!==void 0}const uR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new mu("app","Firebase",uR);class cR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}const Eo=aR;function nT(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:Km,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(n||(n=$E()),!n)throw ss.create("no-options");const u=Ih.get(o);if(u){if(Ws(n,u.options)&&Ws(s,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const h=new gw(o);for(const p of Xm.values())h.addComponent(p);const m=new cR(n,s,h);return Ih.set(o,m),m}function iT(i=Km){const t=Ih.get(i);if(!t&&i===Km&&$E())return nT();if(!t)throw ss.create("no-app",{appName:i});return t}function as(i,t,n){let s=oR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${t}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ur.warn(h.join(" "));return}oo(new ta(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const hR="firebase-heartbeat-database",fR=1,Jl="firebase-heartbeat-store";let Mm=null;function rT(){return Mm||(Mm=xw(hR,fR,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(i=>{throw ss.create("idb-open",{originalErrorMessage:i.message})})),Mm}async function dR(i){try{const n=(await rT()).transaction(Jl),s=await n.objectStore(Jl).get(sT(i));return await n.done,s}catch(t){if(t instanceof mr)ur.warn(t.message);else{const n=ss.create("idb-get",{originalErrorMessage:t?.message});ur.warn(n.message)}}}async function lv(i,t){try{const s=(await rT()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(t,sT(i)),await s.done}catch(n){if(n instanceof mr)ur.warn(n.message);else{const s=ss.create("idb-set",{originalErrorMessage:n?.message});ur.warn(s.message)}}}function sT(i){return`${i.name}!${i.options.appId}`}const mR=1024,pR=30;class gR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _R(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>pR){const o=vR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ur.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uv(),{heartbeatsToSend:n,unsentEntries:s}=yR(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ur.warn(t),""}}}function uv(){return new Date().toISOString().substring(0,10)}function yR(i,t=mR){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),cv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),cv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _R{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rw()?sw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return lv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return lv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function cv(i){return Ch(JSON.stringify({version:2,heartbeats:i})).length}function vR(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}function ER(i){oo(new ta("platform-logger",t=>new Ow(t),"PRIVATE")),oo(new ta("heartbeat",t=>new gR(t),"PRIVATE")),as(Ym,av,i),as(Ym,av,"esm2020"),as("fire-js","")}ER("");var TR="firebase",bR="12.6.0";as(TR,bR,"app");function aT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SR=aT,oT=new mu("auth","Firebase",aT());const xh=new Rp("@firebase/auth");function AR(i,...t){xh.logLevel<=kt.WARN&&xh.warn(`Auth (${Eo}): ${i}`,...t)}function dh(i,...t){xh.logLevel<=kt.ERROR&&xh.error(`Auth (${Eo}): ${i}`,...t)}function ri(i,...t){throw xp(i,...t)}function xi(i,...t){return xp(i,...t)}function lT(i,t,n){const s={...SR(),[t]:n};return new mu("auth","Firebase",s).create(t,{appName:i.name})}function lr(i){return lT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return oT.create(i,...t)}function _t(i,t,...n){if(!i)throw xp(t,...n)}function ar(i){const t="INTERNAL ASSERTION FAILED: "+i;throw dh(t),new Error(t)}function cr(i,t){i||ar(t)}function $m(){return typeof self<"u"&&self.location?.href||""}function wR(){return hv()==="http:"||hv()==="https:"}function hv(){return typeof self<"u"&&self.location?.protocol||null}function RR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wR()||tw()||"connection"in navigator)?navigator.onLine:!0}function CR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class gu{constructor(t,n){this.shortDelay=t,this.longDelay=n,cr(n>t,"Short delay should be less than long delay!"),this.isMobile=Z1()||ew()}get(){return RR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Np(i,t){cr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class uT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NR=new gu(3e4,6e4);function pr(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function gr(i,t,n,s,o={}){return cT(i,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=pu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return W1()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&vo(i.emulatorConfig.host)&&(g.credentials="include"),uT.fetch()(await hT(i,i.config.apiHost,n,m),g)})}async function cT(i,t,n){i._canInitEmulator=!1;const s={...IR,...t};try{const o=new OR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw nh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw nh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw nh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lT(i,E,g);ri(i,E)}}catch(o){if(o instanceof mr)throw o;ri(i,"network-request-failed",{message:String(o)})}}async function yu(i,t,n,s,o={}){const u=await gr(i,t,n,s,o);return"mfaPendingCredential"in u&&ri(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function hT(i,t,n,s){const o=`${t}${n}?${s}`,u=i,h=u.config.emulator?Np(i.config,o):`${i.config.apiScheme}://${o}`;return xR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function DR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(xi(this.auth,"network-request-failed")),NR.get())})}}function nh(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=xi(i,t,s);return o.customData._tokenResponse=n,o}function fv(i){return i!==void 0&&i.enterprise!==void 0}class MR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return DR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VR(i,t){return gr(i,"GET","/v2/recaptchaConfig",pr(i,t))}async function kR(i,t){return gr(i,"POST","/v1/accounts:delete",t)}async function Nh(i,t){return gr(i,"POST","/v1/accounts:lookup",t)}function Ql(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PR(i,t=!1){const n=Ke(i),s=await n.getIdToken(t),o=Dp(s);_t(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Ql(Vm(o.auth_time)),issuedAtTime:Ql(Vm(o.iat)),expirationTime:Ql(Vm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Vm(i){return Number(i)*1e3}function Dp(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=KE(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function dv(i){const t=Dp(i);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Wl(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof mr&&UR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function UR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class LR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Dh(i){const t=i.auth,n=await i.getIdToken(),s=await Wl(i,Nh(t,{idToken:n}));_t(s?.users.length,t,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?fT(o.providerUserInfo):[],h=jR(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function zR(i){const t=Ke(i);await Dh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jR(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function fT(i){return i.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function BR(i,t){const n=await cT(i,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await hT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&vo(i.emulatorConfig.host)&&(p.credentials="include"),uT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qR(i,t){return gr(i,"POST","/v2/accounts:revokeToken",pr(i,t))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=dv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await BR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new eo;return s&&(_t(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(_t(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(_t(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return ar("not implemented")}}function Zr(i,t){_t(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new LR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return PR(this,t)}reload(){return zR(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(lr(this.auth));const t=await this.getIdToken();return await Wl(this,kR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:k,providerData:F,stsTokenManager:Q}=n;_t(T&&Q,t,"internal-error");const Z=eo.fromJSON(this.name,Q);_t(typeof T=="string",t,"internal-error"),Zr(s,t.name),Zr(o,t.name),_t(typeof A=="boolean",t,"internal-error"),_t(typeof k=="boolean",t,"internal-error"),Zr(u,t.name),Zr(h,t.name),Zr(m,t.name),Zr(p,t.name),Zr(g,t.name),Zr(E,t.name);const at=new ei({uid:T,auth:t,email:o,emailVerified:A,displayName:s,isAnonymous:k,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:Z,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(at.providerData=F.map(ut=>({...ut}))),p&&(at._redirectEventId=p),at}static async _fromIdTokenResponse(t,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Dh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];_t(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new eo;m.updateFromIdToken(s);const p=new ei({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const mv=new Map;function or(i){cr(i instanceof Function,"Expected a class definition");let t=mv.get(i);return t?(cr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,mv.set(i,t),t)}class dT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}dT.type="NONE";const pv=dT;function mh(i,t,n){return`firebase:${i}:${t}:${n}`}class no{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Nh(this.auth,{idToken:t}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new no(or(pv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||or(pv);const h=mh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const A=await Nh(t,{idToken:E}).catch(()=>{});if(!A)break;T=await ei._fromGetAccountInfoResponse(t,A,E)}else T=ei._fromJSON(t,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new no(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new no(u,t,s))}}function gv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vT(t))return"Blackberry";if(ET(t))return"Webos";if(pT(t))return"Safari";if((t.includes("chrome/")||gT(t))&&!t.includes("edge/"))return"Chrome";if(_T(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function mT(i=tn()){return/firefox\//i.test(i)}function pT(i=tn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gT(i=tn()){return/crios\//i.test(i)}function yT(i=tn()){return/iemobile/i.test(i)}function _T(i=tn()){return/android/i.test(i)}function vT(i=tn()){return/blackberry/i.test(i)}function ET(i=tn()){return/webos/i.test(i)}function Op(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function HR(i=tn()){return Op(i)&&!!window.navigator?.standalone}function FR(){return nw()&&document.documentMode===10}function TT(i=tn()){return Op(i)||_T(i)||ET(i)||vT(i)||/windows phone/i.test(i)||yT(i)}function bT(i,t=[]){let n;switch(i){case"Browser":n=gv(tn());break;case"Worker":n=`${gv(tn())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${s}`}class GR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function QR(i,t={}){return gr(i,"GET","/v2/passwordPolicy",pr(i,t))}const YR=6;class KR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class XR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yv(this),this.idTokenSubscription=new yv(this),this.beforeStateQueue=new GR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Nh(this,{idToken:t}),s=await ei._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Dh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=CR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(lr(this));const n=t?Ke(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QR(this),n=new KR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new mu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&or(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&AR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ps(i){return Ke(i)}class yv{constructor(t){this.auth=t,this.observer=null,this.addObserver=cw(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $R(i){tf=i}function ST(i){return tf.loadJS(i)}function ZR(){return tf.recaptchaEnterpriseScript}function JR(){return tf.gapiScript}function WR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class tC{constructor(){this.enterprise=new eC}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class eC{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const nC="recaptcha-enterprise",AT="NO_RECAPTCHA";class iC{constructor(t){this.type=nC,this.auth=ps(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{VR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new MR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;fv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{h(g)}).catch(()=>{h(AT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&fv(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ZR();p.length!==0&&(p+=m),ST(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function _v(i,t,n,s=!1,o=!1){const u=new iC(i);let h;if(o)h=AT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Oh(i,t,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await _v(i,t,n,n==="getOobCode");return s(i,u)}else return s(i,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await _v(i,t,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function rC(i,t){const n=Ip(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ws(u,t??{}))return o;ri(o,"already-initialized")}return n.initialize({options:t})}function sC(i,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(or);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function aC(i,t,n){const s=ps(i);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=wT(t),{host:h,port:m}=oC(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(Ws(g,s.config.emulator)&&Ws(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,vo(h)?(JE(`${u}//${h}${p}`),WE("Auth",!0)):lC()}function wT(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function oC(i){const t=wT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:vv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:vv(h)}}}function vv(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function lC(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Mp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ar("not implemented")}_getIdTokenResponse(t){return ar("not implemented")}_linkToIdToken(t,n){return ar("not implemented")}_getReauthenticationResolver(t){return ar("not implemented")}}async function uC(i,t){return gr(i,"POST","/v1/accounts:signUp",t)}async function cC(i,t){return yu(i,"POST","/v1/accounts:signInWithPassword",pr(i,t))}async function hC(i,t){return gr(i,"POST","/v1/accounts:sendOobCode",pr(i,t))}async function fC(i,t){return hC(i,t)}async function dC(i,t){return yu(i,"POST","/v1/accounts:signInWithEmailLink",pr(i,t))}async function mC(i,t){return yu(i,"POST","/v1/accounts:signInWithEmailLink",pr(i,t))}class tu extends Mp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new tu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new tu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(t,n,"signInWithPassword",cC);case"emailLink":return dC(t,{email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(t,s,"signUpPassword",uC);case"emailLink":return mC(t,{idToken:n,email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function io(i,t){return yu(i,"POST","/v1/accounts:signInWithIdp",pr(i,t))}const pC="http://localhost";class ea extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ea(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return io(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,io(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,io(t,n)}buildRequest(){const t={requestUri:pC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=pu(n)}return t}}function gC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yC(i){const t=Pl(Ul(i)).link,n=t?Pl(Ul(t)).deep_link_id:null,s=Pl(Ul(i)).deep_link_id;return(s?Pl(Ul(s)).link:null)||s||n||t||i}class Vp{constructor(t){const n=Pl(Ul(t)),s=n.apiKey??null,o=n.oobCode??null,u=gC(n.mode??null);_t(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=yC(t);try{return new Vp(n)}catch{return null}}}class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(t,n){return tu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Vp.parseLink(n);return _t(s,"argument-error"),tu._fromEmailAndCode(t,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class RT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class _u extends RT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Wr extends _u{constructor(){super("facebook.com")}static credential(t){return ea._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class ts extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ea._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";class es extends _u{constructor(){super("github.com")}static credential(t){return ea._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return es.credential(t.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";class ns extends _u{constructor(){super("twitter.com")}static credential(t,n){return ea._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";async function _C(i,t){return yu(i,"POST","/v1/accounts:signUp",pr(i,t))}class na{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ei._fromIdTokenResponse(t,s,o),h=Ev(s);return new na({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Ev(s);return new na({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Ev(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Mh extends mr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Mh(t,n,s,o)}}function CT(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(i,u,t,s):u})}async function vC(i,t,n=!1){const s=await Wl(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return na._forOperation(i,"link",s)}async function EC(i,t,n=!1){const{auth:s}=i;if(zn(s.app))return Promise.reject(lr(s));const o="reauthenticate";try{const u=await Wl(i,CT(s,o,t,i),n);_t(u.idToken,s,"internal-error");const h=Dp(u.idToken);_t(h,s,"internal-error");const{sub:m}=h;return _t(i.uid===m,s,"user-mismatch"),na._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}async function IT(i,t,n=!1){if(zn(i.app))return Promise.reject(lr(i));const s="signIn",o=await CT(i,s,t),u=await na._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function TC(i,t){return IT(ps(i),t)}async function xT(i){const t=ps(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function bC(i,t,n){const s=ps(i);await Oh(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",fC)}async function SC(i,t,n){if(zn(i.app))return Promise.reject(lr(i));const s=ps(i),h=await Oh(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_C).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&xT(i),p}),m=await na._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function AC(i,t,n){return zn(i.app)?Promise.reject(lr(i)):TC(Ke(i),To.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xT(i),s})}function wC(i,t,n,s){return Ke(i).onIdTokenChanged(t,n,s)}function RC(i,t,n){return Ke(i).beforeAuthStateChanged(t,n)}function CC(i,t,n,s){return Ke(i).onAuthStateChanged(t,n,s)}function IC(i){return Ke(i).signOut()}const Vh="__sak";class NT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const xC=1e3,NC=10;class DT extends NT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);FR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,NC):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}DT.type="LOCAL";const DC=DT;class OT extends NT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}OT.type="SESSION";const MT=OT;function OC(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class ef{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new ef(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await OC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];function kp(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}class MC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=kp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ni(){return window}function VC(i){Ni().location.href=i}function VT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function kC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PC(){return navigator?.serviceWorker?.controller||null}function UC(){return VT()?self:null}const kT="firebaseLocalStorageDb",LC=1,kh="firebaseLocalStorage",PT="fbase_key";class vu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(i,t){return i.transaction([kh],t?"readwrite":"readonly").objectStore(kh)}function zC(){const i=indexedDB.deleteDatabase(kT);return new vu(i).toPromise()}function Jm(){const i=indexedDB.open(kT,LC);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(kh,{keyPath:PT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(kh)?t(s):(s.close(),await zC(),t(await Jm()))})})}async function Tv(i,t,n){const s=nf(i,!0).put({[PT]:t,value:n});return new vu(s).toPromise()}async function jC(i,t){const n=nf(i,!1).get(t),s=await new vu(n).toPromise();return s===void 0?null:s.value}function bv(i,t){const n=nf(i,!0).delete(t);return new vu(n).toPromise()}const BC=800,qC=3;class UT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>qC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(UC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kC(),!this.activeServiceWorker)return;this.sender=new MC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||PC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jm();return await Tv(t,Vh,"1"),await bv(t,Vh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Tv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>jC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>bv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=nf(o,!1).getAll();return new vu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UT.type="LOCAL";const HC=UT;new gu(3e4,6e4);function FC(i,t){return t?or(t):(_t(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Pp extends Mp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return io(t,this._buildIdpRequest())}_linkToIdToken(t,n){return io(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return io(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function GC(i){return IT(i.auth,new Pp(i),i.bypassAuthState)}function QC(i){const{auth:t,user:n}=i;return _t(n,t,"internal-error"),EC(n,new Pp(i),i.bypassAuthState)}async function YC(i){const{auth:t,user:n}=i;return _t(n,t,"internal-error"),vC(n,new Pp(i),i.bypassAuthState)}class LT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return GC;case"linkViaPopup":case"linkViaRedirect":return YC;case"reauthViaPopup":case"reauthViaRedirect":return QC;default:ri(this.auth,"internal-error")}}resolve(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KC=new gu(2e3,1e4);class to extends LT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const t=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KC.get())};t()}}to.currentPopupAction=null;const XC="pendingRedirect",ph=new Map;class $C extends LT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=ph.get(this.auth._key());if(!t){try{const s=await ZC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}ph.set(this.auth._key(),t)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZC(i,t){const n=t2(t),s=WC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function JC(i,t){ph.set(i._key(),t)}function WC(i){return or(i._redirectPersistence)}function t2(i){return mh(XC,i.config.apiKey,i.name)}async function e2(i,t,n=!1){if(zn(i.app))return Promise.reject(lr(i));const s=ps(i),o=FC(s,t),h=await new $C(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}const n2=600*1e3;class i2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!r2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!zT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(xi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=n2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sv(t))}saveEventToCache(t){this.cachedEventUids.add(Sv(t)),this.lastProcessedEventTime=Date.now()}}function Sv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function zT({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function r2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zT(i);default:return!1}}async function s2(i,t={}){return gr(i,"GET","/v1/projects",t)}const a2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o2=/^https?/;async function l2(i){if(i.config.emulator)return;const{authorizedDomains:t}=await s2(i);for(const n of t)try{if(u2(n))return}catch{}ri(i,"unauthorized-domain")}function u2(i){const t=$m(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!o2.test(n))return!1;if(a2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const c2=new gu(3e4,6e4);function Av(){const i=Ni().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function h2(i){return new Promise((t,n)=>{function s(){Av(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Av(),n(xi(i,"network-request-failed"))},timeout:c2.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const o=WR("iframefcb");return Ni()[o]=()=>{gapi.load?s():n(xi(i,"network-request-failed"))},ST(`${JR()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw gh=null,t})}let gh=null;function f2(i){return gh=gh||h2(i),gh}const d2=new gu(5e3,15e3),m2="__/auth/iframe",p2="emulator/auth/iframe",g2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _2(i){const t=i.config;_t(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Np(t,p2):`https://${i.config.authDomain}/${m2}`,s={apiKey:t.apiKey,appName:i.name,v:Eo},o=y2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function v2(i){const t=await f2(i),n=Ni().gapi;return _t(n,i,"internal-error"),t.open({where:document.body,url:_2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=xi(i,"network-request-failed"),m=Ni().setTimeout(()=>{u(h)},d2.get());function p(){Ni().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const E2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T2=500,b2=600,S2="_blank",A2="http://localhost";class wv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w2(i,t,n,s=T2,o=b2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...E2,width:s.toString(),height:o.toString(),top:u,left:h},g=tn().toLowerCase();n&&(m=gT(g)?S2:n),mT(g)&&(t=t||A2,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[k,F])=>`${A}${k}=${F},`,"");if(HR(g)&&m!=="_self")return R2(t||"",m),new wv(null);const T=window.open(t||"",m,E);_t(T,i,"popup-blocked");try{T.focus()}catch{}return new wv(T)}function R2(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const C2="__/auth/handler",I2="emulator/auth/handler",x2=encodeURIComponent("fac");async function Rv(i,t,n,s,o,u){_t(i.config.authDomain,i,"auth-domain-config-required"),_t(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Eo,eventId:o};if(t instanceof RT){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",uw(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(t instanceof _u){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${x2}=${encodeURIComponent(p)}`:"";return`${N2(i)}?${pu(m).slice(1)}${g}`}function N2({config:i}){return i.emulator?Np(i,I2):`https://${i.authDomain}/${C2}`}const km="webStorageSupport";class D2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MT,this._completeRedirectFn=e2,this._overrideRedirectResult=JC}async _openPopup(t,n,s,o){cr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Rv(t,n,s,$m(),o);return w2(t,u,kp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Rv(t,n,s,$m(),o);return VC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await v2(t),s=new i2(t);return n.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(km,{type:km},o=>{const u=o?.[0]?.[km];u!==void 0&&n(!!u),ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return TT()||pT()||Op()}}const O2=D2;var Cv="@firebase/auth",Iv="1.11.1";class M2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function V2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k2(i){oo(new ta("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_t(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bT(i)},g=new XR(s,o,u,p);return sC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),oo(new ta("auth-internal",t=>{const n=ps(t.getProvider("auth").getImmediate());return(s=>new M2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(Cv,Iv,V2(i)),as(Cv,Iv,"esm2020")}const P2=300,U2=ZE("authIdTokenMaxAge")||P2;let xv=null;const L2=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>U2)return;const o=n?.token;xv!==o&&(xv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function z2(i=iT()){const t=Ip(i,"auth");if(t.isInitialized())return t.getImmediate();const n=rC(i,{popupRedirectResolver:O2,persistence:[HC,DC,MT]}),s=ZE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=L2(u.toString());RC(n,h,()=>h(n.currentUser)),wC(n,m=>h(m))}}const o=XE("auth");return o&&aC(n,`http://${o}`),n}function j2(){return document.getElementsByTagName("head")?.[0]??document}$R({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=xi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",j2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k2("Browser");var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,jT;(function(){var i;function t(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(O,D,P){for(var I=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)I[Xt-2]=arguments[Xt];return w.prototype[D].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,C){C||(C=0);const O=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)O[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)O[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],D=R.g[2];let P=R.g[3],I;I=w+(P^C&(D^P))+O[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=P+(D^w&(C^D))+O[1]+3905402710&4294967295,P=w+(I<<12&4294967295|I>>>20),I=D+(C^P&(w^C))+O[2]+606105819&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(w^D&(P^w))+O[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(P^C&(D^P))+O[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=P+(D^w&(C^D))+O[5]+1200080426&4294967295,P=w+(I<<12&4294967295|I>>>20),I=D+(C^P&(w^C))+O[6]+2821735955&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(w^D&(P^w))+O[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(P^C&(D^P))+O[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=P+(D^w&(C^D))+O[9]+2336552879&4294967295,P=w+(I<<12&4294967295|I>>>20),I=D+(C^P&(w^C))+O[10]+4294925233&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(w^D&(P^w))+O[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(P^C&(D^P))+O[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=P+(D^w&(C^D))+O[13]+4254626195&4294967295,P=w+(I<<12&4294967295|I>>>20),I=D+(C^P&(w^C))+O[14]+2792965006&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(w^D&(P^w))+O[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(D^P&(C^D))+O[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(w^C))+O[6]+3225465664&4294967295,P=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(P^w))+O[11]+643717713&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^w&(D^P))+O[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^P&(C^D))+O[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(w^C))+O[10]+38016083&4294967295,P=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(P^w))+O[15]+3634488961&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^w&(D^P))+O[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^P&(C^D))+O[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(w^C))+O[14]+3275163606&4294967295,P=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(P^w))+O[3]+4107603335&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^w&(D^P))+O[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^P&(C^D))+O[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(w^C))+O[2]+4243563512&4294967295,P=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(P^w))+O[7]+1735328473&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^w&(D^P))+O[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(C^D^P)+O[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=P+(w^C^D)+O[8]+2272392833&4294967295,P=w+(I<<11&4294967295|I>>>21),I=D+(P^w^C)+O[11]+1839030562&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^w)+O[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^P)+O[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=P+(w^C^D)+O[4]+1272893353&4294967295,P=w+(I<<11&4294967295|I>>>21),I=D+(P^w^C)+O[7]+4139469664&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^w)+O[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^P)+O[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=P+(w^C^D)+O[0]+3936430074&4294967295,P=w+(I<<11&4294967295|I>>>21),I=D+(P^w^C)+O[3]+3572445317&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^w)+O[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^P)+O[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=P+(w^C^D)+O[12]+3873151461&4294967295,P=w+(I<<11&4294967295|I>>>21),I=D+(P^w^C)+O[15]+530742520&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^w)+O[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(D^(C|~P))+O[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=P+(C^(w|~D))+O[7]+1126891415&4294967295,P=w+(I<<10&4294967295|I>>>22),I=D+(w^(P|~C))+O[14]+2878612391&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~w))+O[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~P))+O[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=P+(C^(w|~D))+O[3]+2399980690&4294967295,P=w+(I<<10&4294967295|I>>>22),I=D+(w^(P|~C))+O[10]+4293915773&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~w))+O[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~P))+O[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=P+(C^(w|~D))+O[15]+4264355552&4294967295,P=w+(I<<10&4294967295|I>>>22),I=D+(w^(P|~C))+O[6]+2734768916&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~w))+O[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~P))+O[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=P+(C^(w|~D))+O[11]+3174756917&4294967295,P=w+(I<<10&4294967295|I>>>22),I=D+(w^(P|~C))+O[2]+718787259&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~w))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+P&4294967295}s.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,O=this.C;let D=this.h,P=0;for(;P<w;){if(D==0)for(;P<=C;)o(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<w;)if(O[D++]=R.charCodeAt(P++),D==this.blockSize){o(this,O),D=0;break}}else for(;P<w;)if(O[D++]=R[P++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)R[w++]=this.g[C]>>>O&255;return R};function u(R,w){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function h(R,w){this.h=w;const C=[];let O=!0;for(let D=R.length-1;D>=0;D--){const P=R[D]|0;O&&P==w||(C[D]=P,O=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(w){return new h([w|0],w<0?-1:0)}):new h([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return Z(g(-R));const w=[];let C=1;for(let O=0;R>=C;O++)w[O]=R/C|0,C*=4294967296;return new h(w,0)}function E(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return Z(E(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let O=T;for(let P=0;P<R.length;P+=8){var D=Math.min(8,R.length-P);const I=parseInt(R.substring(P,P+D),w);D<8?(D=g(Math.pow(w,D)),O=O.j(D).add(g(I))):(O=O.j(C),O=O.add(g(I)))}return O}var T=p(0),A=p(1),k=p(16777216);i=h.prototype,i.m=function(){if(Q(this))return-Z(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);R+=(O>=0?O:4294967296+O)*w,w*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if(Q(this))return"-"+Z(this).toString(R);const w=g(Math.pow(R,6));var C=this;let O="";for(;;){const D=mt(C,w).g;C=at(C,D.j(w));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,F(C))return P+O;for(;P.length<6;)P="0"+P;O=P+O}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function Q(R){return R.h==-1}i.l=function(R){return R=at(this,R),Q(R)?-1:F(R)?0:1};function Z(R){const w=R.g.length,C=[];for(let O=0;O<w;O++)C[O]=~R.g[O];return new h(C,~R.h).add(A)}i.abs=function(){return Q(this)?Z(this):this},i.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let O=0;for(let D=0;D<=w;D++){let P=O+(this.i(D)&65535)+(R.i(D)&65535),I=(P>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);O=I>>>16,P&=65535,I&=65535,C[D]=I<<16|P}return new h(C,C[C.length-1]&-2147483648?-1:0)};function at(R,w){return R.add(Z(w))}i.j=function(R){if(F(this)||F(R))return T;if(Q(this))return Q(R)?Z(this).j(Z(R)):Z(Z(this).j(R));if(Q(R))return Z(this.j(Z(R)));if(this.l(k)<0&&R.l(k)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var O=0;O<2*w;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<R.g.length;D++){const P=this.i(O)>>>16,I=this.i(O)&65535,Xt=R.i(D)>>>16,le=R.i(D)&65535;C[2*O+2*D]+=I*le,ut(C,2*O+2*D),C[2*O+2*D+1]+=P*le,ut(C,2*O+2*D+1),C[2*O+2*D+1]+=I*Xt,ut(C,2*O+2*D+1),C[2*O+2*D+2]+=P*Xt,ut(C,2*O+2*D+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new h(C,0)};function ut(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function lt(R,w){this.g=R,this.h=w}function mt(R,w){if(F(w))throw Error("division by zero");if(F(R))return new lt(T,T);if(Q(R))return w=mt(Z(R),w),new lt(Z(w.g),Z(w.h));if(Q(w))return w=mt(R,Z(w)),new lt(Z(w.g),w.h);if(R.g.length>30){if(Q(R)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var C=A,O=w;O.l(R)<=0;)C=J(C),O=J(O);var D=et(C,1),P=et(O,1);for(O=et(O,2),C=et(C,2);!F(O);){var I=P.add(O);I.l(R)<=0&&(D=D.add(C),P=I),O=et(O,1),C=et(C,1)}return w=at(R,D.j(w)),new lt(D,w)}for(D=T;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),P=g(C),I=P.j(w);Q(I)||I.l(R)>0;)C-=O,P=g(C),I=P.j(w);F(P)&&(P=A),D=D.add(P),R=at(R,I)}return new lt(D,R)}i.B=function(R){return mt(this,R).h},i.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)&R.i(O);return new h(C,this.h&R.h)},i.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)|R.i(O);return new h(C,this.h|R.h)},i.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)^R.i(O);return new h(C,this.h^R.h)};function J(R){const w=R.g.length+1,C=[];for(let O=0;O<w;O++)C[O]=R.i(O)<<1|R.i(O-1)>>>31;return new h(C,R.h)}function et(R,w){const C=w>>5;w%=32;const O=R.g.length-C,D=[];for(let P=0;P<O;P++)D[P]=w>0?R.i(P+C)>>>w|R.i(P+C+1)<<32-w:R.i(P+C);return new h(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,jT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,os=h}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var BT,Ll,qT,yh,Wm,HT,FT,GT;(function(){var i,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break t;v=v[L]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,q){for(var it=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)it[wt-2]=arguments[wt];return y.prototype[L].apply(S,it)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function F(c,y){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let it=0;it<q;it++)c[v+it]=L[it]}else c.push(L)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){h.setTimeout(()=>{throw c},0)}function at(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ut{constructor(){this.h=this.g=null}add(y,v){const S=lt.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var lt=new Q(()=>new mt,c=>c.reset());class mt{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let J,et=!1,R=new ut,w=()=>{const c=Promise.resolve(void 0);J=()=>{c.then(C)}};function C(){for(var c;c=at();){try{c.h.call(c.g)}catch(v){Z(v)}var y=lt;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}et=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Xt(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Xt,D),Xt.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(c,y,v,S,L){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=L,this.key=++G,this.da=this.fa=!1}function pt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ot(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function qt(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(c,y){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,y,v,S,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const it=bt(c,y,S,L);return it>-1?(y=c[it],v||(y.fa=!1)):(y=new nt(y,this.src,q,!!S,L),y.fa=v,c.push(y)),y};function Et(c,y){const v=y.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,y,void 0),q;(q=L>=0)&&Array.prototype.splice.call(S,L,1),q&&(pt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bt(c,y,v,S){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==y&&q.capture==!!v&&q.ha==S)return L}return-1}var It="closure_lm_"+(Math.random()*1e6|0),ue={};function te(c,y,v,S,L){if(Array.isArray(y)){for(let q=0;q<y.length;q++)te(c,y[q],v,S,L);return null}return v=Io(v),c&&c[le]?c.J(y,v,m(S)?!!S.capture:!1,L):zi(c,y,v,!1,S,L)}function zi(c,y,v,S,L,q){if(!y)throw Error("Invalid event type");const it=m(L)?!!L.capture:!!L;let wt=_s(c);if(wt||(c[It]=wt=new st(c)),v=wt.add(y,v,S,it,q),v.proxy)return v;if(S=se(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)P||(L=it),L===void 0&&(L=!1),c.addEventListener(y.toString(),S,L);else if(c.attachEvent)c.attachEvent(ve(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function se(){function c(v){return y.call(c.src,c.listener,v)}const y=Ro;return c}function Bn(c,y,v,S,L){if(Array.isArray(y))for(var q=0;q<y.length;q++)Bn(c,y[q],v,S,L);else S=m(S)?!!S.capture:!!S,v=Io(v),c&&c[le]?(c=c.i,q=String(y).toString(),q in c.g&&(y=c.g[q],v=bt(y,v,S,L),v>-1&&(pt(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[q],c.h--)))):c&&(c=_s(c))&&(y=c.g[y.toString()],c=-1,y&&(c=bt(y,v,S,L)),(v=c>-1?y[c]:null)&&yr(v))}function yr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[le])Et(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ve(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=_s(y))?(Et(v,c),v.h==0&&(v.src=null,y[It]=null)):pt(c)}}}function ve(c){return c in ue?ue[c]:ue[c]="on"+c}function Ro(c,y){if(c.da)c=!0;else{y=new Xt(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&yr(c),c=v.call(S,y)}return c}function _s(c){return c=c[It],c instanceof st?c:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(y){return c.handleEvent(y)}),c[Co])}function Ee(){O.call(this),this.i=new st(this),this.M=this,this.G=null}T(Ee,O),Ee.prototype[le]=!0,Ee.prototype.removeEventListener=function(c,y,v,S){Bn(this,c,y,v,S)};function Oe(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var L=y;y=new D(S,c),rt(y,L)}L=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=y.g=v[it],L=_r(q,S,!0,y)&&L;if(q=y.g=c,L=_r(q,S,!0,y)&&L,L=_r(q,S,!1,y)&&L,v)for(it=0;it<v.length;it++)q=y.g=v[it],L=_r(q,S,!1,y)&&L}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)pt(v[S]);delete c.g[y],c.h--}}this.G=null},Ee.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},Ee.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function _r(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let L=!0;for(let q=0;q<y.length;++q){const it=y[q];if(it&&!it.da&&it.capture==v){const wt=it.listener,pe=it.ha||it.src;it.fa&&Et(c.i,it),L=wt.call(pe,S)!==!1&&L}}return L&&!S.defaultPrevented}function wf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Cu(c){c.g=wf(()=>{c.g=null,c.i&&(c.i=!1,Cu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){O.call(this),this.h=c,this.g={}}T(vs,O);var xo=[];function No(c){Ot(c.g,function(y,v){this.g.hasOwnProperty(v)&&yr(y)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),No(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=h.JSON.stringify,Rf=h.JSON.parse,Iu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function xu(){}function Nu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){D.call(this,"d")}T(je,D);function Rn(){D.call(this,"c")}T(Rn,D);var me={},Du=null;function ua(){return Du=Du||new Ee}me.Ia="serverreachability";function Ou(c){D.call(this,me.Ia,c)}T(Ou,D);function oi(c){const y=ua();Oe(y,new Ou(y))}me.STAT_EVENT="statevent";function Es(c,y){D.call(this,me.STAT_EVENT,c),this.stat=y}T(Es,D);function Te(c){const y=ua();Oe(y,new Es(y,c))}me.Ja="timingevent";function li(c,y){D.call(this,me.Ja,c),this.size=y}T(li,D);function ui(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Cf(c,y,v,S,L,q){c.info(function(){if(c.g)if(q){var it="",wt=q.split("&");for(let Ht=0;Ht<wt.length;Ht++){var pe=wt[Ht].split("=");if(pe.length>1){const ae=pe[0];pe=pe[1];const Nn=ae.split("_");it=Nn.length>=2&&Nn[1]=="type"?it+(ae+"="+pe+"&"):it+(ae+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+y+`
`+v+`
`+it})}function Mu(c,y,v,S,L,q,it){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+y+`
`+v+`
`+q+" "+it})}function ci(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+If(c,v)+(S?" "+S:"")})}function Ts(c,y){c.info(function(){return"TIMEOUT: "+y})}Hn.prototype.info=function(){};function If(c,y){if(!c.g)return y;if(!y)return null;try{const q=JSON.parse(y);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let it=1;it<S.length;it++)S[it]=""}}}}return vr(q)}catch{return y}}var bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function Ss(){}T(Ss,xu),Ss.prototype.g=function(){return new XMLHttpRequest},Oo=new Ss;function ji(c){return encodeURIComponent(String(c))}function Vu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Fn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var be={},Pe={};function hi(c,y,v){c.M=1,c.A=As(Ae(y)),c.u=v,c.R=!0,ca(c,null)}function ca(c,y){c.F=Date.now(),fi(c),c.B=Ae(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ma(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Gn,c.g=Xu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(xo[0]=L.toString()),L=xo);for(let q=0;q<L.length;q++){const it=te(v,L[q],S||y.handleEvent,!1,y.h||y);if(!it)break;y.g[it.key]=it}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),oi(),Cf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Kn(c)==3?y.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)t:{const wt=Kn(this.g),pe=this.g.ya(),Ht=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||wt!=4||pe==7||(pe==8||Ht<=0?oi(3):oi(2)),di(this);var y=this.g.ca();this.X=y;var v=xf(this);if(this.o=y==200,Mu(this.i,this.v,this.B,this.l,this.S,wt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var q=S;break e}}q=null}if(c=q)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,Te(12),gn(this),Cn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=Pu(this,v),ae==Pe){wt==4&&(this.m=4,Te(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==be){this.m=4,Te(15),ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,ae,null),mi(this,ae);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(it),it.P=!0,Te(11))}}else ci(this.i,this.l,v,null),mi(this,v);wt==4&&gn(this),this.o&&!this.K&&(wt==4?Gu(this.j,this):(this.o=!1,fi(this)))}else qi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),gn(this),Cn(this)}}}catch{}finally{}};function xf(c){if(!ku(c))return c.g.la();const y=Be(c.g);if(y==="")return"";let v="";const S=y.length,L=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Cn(c),"";c.h.i=new h.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(y[q],{stream:!(L&&q==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function ku(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Pu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Pe:(v=Number(y.substring(v,S)),isNaN(v)?be:(S+=1,S+v>y.length?Pe:(y=y.slice(S,S+v),c.C=S+v,y)))}Fn.prototype.cancel=function(){this.K=!0,gn(this)};function fi(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(g(c.aa,c),y)}function di(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ts(this.i,this.B),this.M!=2&&(oi(),Te(17)),gn(this),this.m=2,Cn(this)):ha(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Gu(c.j,c)}function gn(c){di(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,No(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function mi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),Cr(v);else break t;Ds(v),Te(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(g(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&va(v),!I(y))for(L=v.Ba.g.parse(y),y=0;y<L.length;y++){let Ht=L[y];const ae=Ht[0];if(!(ae<=v.K))if(v.K=ae,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const Nn=Ht[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Si=Ht[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Xn=Ht[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(S=1.5*Xn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const $n=c.g;if($n){const Os=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var q=S.h;q.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ko(q,q.h),q.h=null))}if(S.G){const Ea=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(S.wa=Ea,Qt(S.J,S.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var it=c;if(S.na=Ku(S,S.L?S.ba:null,S.W),it.L){Po(S.h,it);var wt=it,pe=S.O;pe&&(wt.H=pe),wt.D&&(di(wt),fi(wt)),S.g=it}else Hu(S);v.i.length>0&&Ti(v)}else Ht[0]!="stop"&&Ht[0]!="close"||bi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?bi(v,7):Go(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}oi(4)}catch{}}var Se=class{constructor(c,y){this.g=c,this.map=y}};function Mo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function gi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ko(c,y){c.g?c.g.add(y):c.h=y}function Po(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Mo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,q=null;S>=0?(L=c[v].substring(0,S),q=c[v].substring(S+1)):L=c[v],y(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.u),this.h=c.h,Lo(this,Bu(c.i)),this.m=c.m):c&&(y=String(c).match(Uu))?(this.l=!1,Ue(this,y[1]||"",!0),this.o=yi(y[2]||""),this.g=yi(y[3]||"",!0),Er(this,y[4]),this.h=yi(y[5]||"",!0),Lo(this,y[6]||"",!0),this.m=yi(y[7]||"")):(this.l=!1,this.i=new br(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(ws(y,da,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ws(y,da,!0),"@"),c.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ws(v,v.charAt(0)=="/"?zo:Lu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ws(v,zu)),c.join("")},yn.prototype.resolve=function(c){const y=Ae(this);let v=!!c.j;v?Ue(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)Er(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=y.h.lastIndexOf("/");L!=-1&&(S=y.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let it=0;it<L.length;){const wt=L[it++];wt=="."?S&&it==L.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&it==L.length&&q.push("")):(q.push(wt),S=!0)}S=q.join("/")}else S=L}return v?y.h=S:v=c.i.toString()!=="",v?Lo(y,Bu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Ae(c){return new yn(c)}function Ue(c,y,v){c.j=v?yi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Lo(c,y,v){y instanceof br?(c.i=y,pa(c.i,c.l)):(v||(y=ws(y,Tr)),c.i=new br(y,c.l))}function Qt(c,y,v){c.i.set(y,v)}function As(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,Lu=/[#\?:]/g,zo=/[#\?]/g,Tr=/[#\?@]/g,zu=/#/g;function br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=br.prototype,i.add=function(c,y){an(this),this.i=null,c=Sr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ju(c,y){an(c),y=Sr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function jo(c,y){return an(c),y=Sr(c,y),c.g.has(y)}i.forEach=function(c,y){an(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(y,L,S,this)},this)},this)};function Bo(c,y){an(c);let v=[];if(typeof y=="string")jo(c,y)&&(v=v.concat(c.g.get(Sr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return an(this),this.i=null,c=Sr(this,c),jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Bo(this,c),c.length>0?String(c[0]):y):y};function ma(c,y,v){ju(c,y),v.length>0&&(c.i=null,c.g.set(Sr(c,y),k(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const L=ji(v);v=Bo(this,v);for(let q=0;q<v.length;q++){let it=L;v[q]!==""&&(it+="="+ji(v[q])),c.push(it)}}return this.i=c.join("&")};function Bu(c){const y=new br;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Sr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function pa(c,y){y&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(ju(this,S),ma(this,L,v))},c)),c.j=y}function Qn(c,y){const v=new Hn;if(h.Image){const S=new Image;S.onload=E(In,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(In,v,"TestLoadImage: error",!1,y,S),S.onabort=E(In,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(In,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function qo(c,y){const v=new Hn,S=new AbortController,L=setTimeout(()=>{S.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(L),q.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function Ar(){this.g=new Iu}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}T(_i,xu),_i.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,y){Ee.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Rs,Ee),i=Rs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Yn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?wr(this):Yn(this),this.readyState==3&&ga(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},i.Na=function(c){this.g&&(this.response=c,wr(this))},i.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let y="";return Ot(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Cs(c,y,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=xn(v),typeof c=="string"?v!=null&&ji(v):Qt(c,y,v))}function $t(c){Ee.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($t,Ee);var vi=/^https?$/i,Ho=["POST","PUT"];i=$t.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(q){Is(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Ho,y,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Is(this,q)}};function Is(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Fo(c),Bi(c)}function Fo(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Bi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),$t.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?xs(this):this.Xa())},i.Xa=function(){xs(this)};function xs(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var S;if(S=q===0){let it=String(c.D).match(Uu)[1]||null;!it&&h.self&&h.self.location&&(it=h.self.location.protocol.slice(0,-1)),S=!vi.test(it?it.toLowerCase():"")}v=S}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var L=Kn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Fo(c)}}finally{Bi(c)}}}}function Bi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Rf(y)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(c){const y={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=Vu(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=y[L]||[];y[L]=q,q.push(v)}qt(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Rr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Ba=new Ar,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Rr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,S){Te(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Ku(this,null,this.W),Ti(this)};function Go(c){if(ya(c),c.I==3){var y=c.V++,v=Ae(c.J);if(Qt(v,"SID",c.M),Qt(v,"RID",y),Qt(v,"TYPE","terminate"),Ns(c,v),y=new Fn(c,c.j,y),y.M=2,y.A=As(Ae(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Xu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),fi(y)}Yu(c)}function Cr(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function ya(c){Cr(c),c.v&&(h.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ti(c){if(!Vo(c.h)&&!c.m){c.m=!0;var y=c.Ea;J||w(),et||(J(),et=!0),R.add(y,c),c.D=0}}function _a(c,y){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(g(c.Ea,c,y),Qu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Fn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=V(q),rt(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=qu(this,L,y),v=Ae(this.J),Qt(v,"RID",c),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Ns(this,v),q&&(this.R?y="headers="+ji(xn(q))+"&"+y:this.u&&Cs(v,this.u,q)),ko(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",y),Qt(v,"SID","null"),L.U=!0,hi(L,v,null)):hi(L,v,y),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||Vo(this.h)||Qo(this))};function Qo(c,y){var v;y?v=y.l:v=c.V++;const S=Ae(c.J);Qt(S,"SID",c.M),Qt(S,"RID",v),Qt(S,"AID",c.K),Ns(c,S),c.u&&c.o&&Cs(S,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=qu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ko(c.h,v),hi(v,S,y)}function Ns(c,y){c.H&&Ot(c.H,function(v,S){Qt(y,S,v)}),c.l&&Ot({},function(v,S){Qt(y,S,v)})}function qu(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;t:{var L=c.i;let wt=-1;for(;;){const pe=["count="+v];wt==-1?v>0?(wt=L[0].g,pe.push("ofs="+wt)):wt=0:pe.push("ofs="+wt);let Ht=!0;for(let ae=0;ae<v;ae++){var q=L[ae].g;const Nn=L[ae].map;if(q-=wt,q<0)wt=Math.max(0,L[ae].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var it=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Si,Xn]of it){let $n=Xn;m(Xn)&&($n=vr(Xn)),pe.push(q+Si+"="+encodeURIComponent($n))}}catch(Si){throw pe.push(q+"type="+encodeURIComponent("_badmap")),Si}}catch{S&&S(Nn)}}if(Ht){it=pe.join("&");break t}}it=void 0}return c=c.i.splice(0,v),y.G=c,it}function Hu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;J||w(),et||(J(),et=!0),R.add(y,c),c.A=0}}function Ds(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(g(c.Da,c),Qu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Cr(this),Fu(this))};function Yo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Fu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Ae(c.na);Qt(y,"RID","rpc"),Qt(y,"SID",c.M),Qt(y,"AID",c.K),Qt(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(y,"TO",c.ia),Qt(y,"TYPE","xmlhttp"),Ns(c,y),c.u&&c.o&&Cs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=As(Ae(y)),v.u=null,v.R=!0,ca(v,c)}i.Va=function(){this.C!=null&&(this.C=null,Cr(this),Ds(this),Te(19))};function va(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Gu(c,y){var v=null;if(c.g==y){va(c),Yo(c),c.g=null;var S=2}else if(gi(c.h,y))v=y.G,Po(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var L=c.D;S=ua(),Oe(S,new li(S,v)),Ti(c)}else Hu(c);else if(L=y.m,L==3||L==0&&y.X>0||!(S==1&&_a(c,y)||S==2&&Ds(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),L){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Qu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function bi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const L=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ue(S,"https"),As(S),L?Qn(S.toString(),v):qo(S.toString(),v)}else Te(2);c.I=0,c.l&&c.l.pa(y),Yu(c),ya(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Yu(c){if(c.I=0,c.ja=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Ku(c,y,v){var S=v instanceof yn?Ae(v):new yn(v);if(S.g!="")y&&(S.g=y+"."+S.g),Er(S,S.u);else{var L=h.location;S=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;const q=new yn(null);S&&Ue(q,S),y&&(q.g=y),L&&Er(q,L),v&&(q.h=v),S=q}return v=c.G,y=c.wa,v&&y&&Qt(S,v,y),Qt(S,"VER",c.ka),Ns(c,S),S}function Xu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $t(new _i({ab:v})):new $t(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}i=$u.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ir(){}Ir.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){Ee.call(this),this.g=new Rr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Hi(this)}T(nn,Ee),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Go(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vr(c),c=v);y.i.push(new Se(y.Ya++,c)),y.I==3&&Ti(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,nn.Z.N.call(this)};function Zu(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Zu,je);function Ju(){Rn.call(this),this.status=1}T(Ju,Rn);function Hi(c){this.g=c}T(Hi,$u),Hi.prototype.ra=function(){Oe(this.g,"a")},Hi.prototype.qa=function(c){Oe(this.g,new Zu(c))},Hi.prototype.pa=function(c){Oe(this.g,new Ju)},Hi.prototype.oa=function(){Oe(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,GT=function(){return new Ir},FT=function(){return ua()},HT=me,Wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,yh=bs,Do.COMPLETE="complete",qT=Do,Nu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Ll=Nu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,BT=$t}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore",Ov="4.9.2";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let bo="12.3.0";const ia=new Rp("@firebase/firestore");function $a(){return ia.logLevel}function ot(i,...t){if(ia.logLevel<=kt.DEBUG){const n=t.map(Up);ia.debug(`Firestore (${bo}): ${i}`,...n)}}function hr(i,...t){if(ia.logLevel<=kt.ERROR){const n=t.map(Up);ia.error(`Firestore (${bo}): ${i}`,...n)}}function lo(i,...t){if(ia.logLevel<=kt.WARN){const n=t.map(Up);ia.warn(`Firestore (${bo}): ${i}`,...n)}}function Up(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function vt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,QT(i,s,n)}function QT(i,t,n){let s=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hr(s),new Error(s)}function Gt(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||QT(t,o,s)}function At(i,t){return i}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends mr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ls{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class YT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class B2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class q2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class H2{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ls,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ls)}}),0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new YT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class F2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new F2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Mv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Mv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Y2(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Lp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Y2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Pt(i,t){return i<t?-1:i>t?1:0}function tp(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return Pm(o)===Pm(u)?Pt(o,u):Pm(o)?1:-1}return Pt(i.length,t.length)}const K2=55296,X2=57343;function Pm(i){const t=i.charCodeAt(0);return t>=K2&&t<=X2}function uo(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}const Vv="__name__";class Ii{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ii.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Pt(t.length,n.length)}static compareSegments(t,n){const s=Ii.isNumericId(t),o=Ii.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(t).compare(Ii.extractNumericId(n)):tp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return os.fromString(t.substring(4,t.length-2))}}class ce extends Ii{construct(t,n,s){return new ce(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ce(n)}static emptyPath(){return new ce([])}}const $2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Ii{construct(t,n,s){return new Ye(t,n,s)}static isValidIdentifier(t){return $2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new Ye([Vv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ft(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ft(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ft(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ft(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(n)}static emptyPath(){return new Ye([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ce.fromString(t))}static fromName(t){return new gt(ce.fromString(t).popFirst(5))}static empty(){return new gt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ce(t.slice()))}}function Z2(i,t,n){if(!n)throw new ft(tt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function J2(i,t,n,s){if(t===!0&&s===!0)throw new ft(tt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function kv(i){if(!gt.isDocumentKey(i))throw new ft(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function KT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function zp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":vt(12329,{type:typeof i})}function ni(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ft(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zp(i);throw new ft(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}function Ne(i,t){const n={typeString:i};return t&&(n.value=t),n}function Eu(i,t){if(!KT(i))throw new ft(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ft(tt.INVALID_ARGUMENT,n);return!0}const Pv=-62135596800,Uv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Uv);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Pv)throw new ft(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Eu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Pv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ne("string",re._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new re(0,0))}static max(){return new Tt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eu=-1;function W2(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new us(o,gt.empty(),t)}function tI(i){return new us(i.readTime,i.key,eu)}class us{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new us(Tt.min(),gt.empty(),eu)}static max(){return new us(Tt.max(),gt.empty(),eu)}}function eI(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(i.documentKey,t.documentKey),n!==0?n:Pt(i.largestBatchId,t.largestBatchId))}const nI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function So(i){if(i.code!==tt.FAILED_PRECONDITION||i.message!==nI)throw i;ot("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,s)=>{n(t)}))}static reject(t){return new W(((n,s)=>{s(t)}))}static waitFor(t){return new W(((n,s)=>{let o=0,u=0,h=!1;t.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const s of t)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new W(((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(t,n){return new W(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function rI(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(i){return i.name==="IndexedDbTransactionError"}class rf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rf.ce=-1;const jp=-1;function sf(i){return i==null}function Ph(i){return i===0&&1/i==-1/0}function sI(i){return typeof i=="number"&&Number.isInteger(i)&&!Ph(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const XT="";function aI(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=Lv(t)),t=oI(i.get(n),t);return Lv(t)}function oI(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case XT:n+="";break;default:n+=u}}return n}function Lv(i){return i+XT+""}function zv(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function gs(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function $T(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class he{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rh(this.root,t,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rh(this.root,t,this.comparator,!0)}}class rh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Qe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(t){return new jv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class jv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new wn([])}unionWith(t){let n=new ke(Ye.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new wn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return uo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class ZT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ZT("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const lI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(i){if(Gt(!!i,39018),typeof i=="string"){let t=0;const n=lI.exec(i);if(Gt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(i.seconds),nanos:_e(i.nanos)}}function _e(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function hs(i){return typeof i=="string"?Xe.fromBase64String(i):Xe.fromUint8Array(i)}const JT="server_timestamp",WT="__type__",tb="__previous_value__",eb="__local_write_time__";function Bp(i){return(i?.mapValue?.fields||{})[WT]?.stringValue===JT}function af(i){const t=i.mapValue.fields[tb];return Bp(t)?af(t):t}function nu(i){const t=cs(i.mapValue.fields[eb].timestampValue);return new re(t.seconds,t.nanos)}class uI{constructor(t,n,s,o,u,h,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Uh="(default)";class iu{constructor(t,n){this.projectId=t,this.database=n||Uh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(t){return t instanceof iu&&t.projectId===this.projectId&&t.database===this.database}}const nb="__type__",cI="__max__",sh={mapValue:{}},ib="__vector__",Lh="value";function fs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bp(i)?4:fI(i)?9007199254740991:hI(i)?10:11:vt(28295,{value:i})}function Pi(i,t){if(i===t)return!0;const n=fs(i);if(n!==fs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return nu(i).isEqual(nu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=cs(o.timestampValue),m=cs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_e(o.doubleValue),m=_e(u.doubleValue);return h===m?Ph(h)===Ph(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return uo(i.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(zv(h)!==zv(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Pi(h[p],m[p])))return!1;return!0})(i,t);default:return vt(52216,{left:i})}}function ru(i,t){return(i.values||[]).find((n=>Pi(n,t)))!==void 0}function co(i,t){if(i===t)return 0;const n=fs(i),s=fs(t);if(n!==s)return Pt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=_e(u.integerValue||u.doubleValue),p=_e(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return Bv(i.timestampValue,t.timestampValue);case 4:return Bv(nu(i),nu(t));case 5:return tp(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=hs(u),p=hs(h);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pt(m[g],p[g]);if(E!==0)return E}return Pt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Pt(_e(u.latitude),_e(h.latitude));return m!==0?m:Pt(_e(u.longitude),_e(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return qv(i.arrayValue,t.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Lh]?.arrayValue,E=p[Lh]?.arrayValue,T=Pt(g?.values?.length||0,E?.values?.length||0);return T!==0?T:qv(g,E)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===sh.mapValue&&h===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(h===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=tp(p[T],E[T]);if(A!==0)return A;const k=co(m[p[T]],g[E[T]]);if(k!==0)return k}return Pt(p.length,E.length)})(i.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function Bv(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Pt(i,t);const n=cs(i),s=cs(t),o=Pt(n.seconds,s.seconds);return o!==0?o:Pt(n.nanos,s.nanos)}function qv(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=co(n[o],s[o]);if(u)return u}return Pt(n.length,s.length)}function ho(i){return ep(i)}function ep(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return hs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return gt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ep(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ep(n.fields[h])}`;return o+"}"})(i.mapValue):vt(61005,{value:i})}function _h(i){switch(fs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=af(i);return t?16+_h(t):16;case 5:return 2*i.stringValue.length;case 6:return hs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+_h(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return gs(s.fields,((u,h)=>{o+=u.length+_h(h)})),o})(i.mapValue);default:throw vt(13486,{value:i})}}function np(i){return!!i&&"integerValue"in i}function qp(i){return!!i&&"arrayValue"in i}function Hv(i){return!!i&&"nullValue"in i}function Fv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vh(i){return!!i&&"mapValue"in i}function hI(i){return(i?.mapValue?.fields||{})[nb]?.stringValue===ib}function Yl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return gs(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Yl(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Yl(i.arrayValue.values[n]);return t}return{...i}}function fI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===cI}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!vh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yl(n)}setAll(t){let n=Ye.emptyPath(),s={},o=[];t.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Yl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){gs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new mn(Yl(this.value))}}function rb(i){const t=[];return gs(i.fields,((n,s)=>{const o=new Ye([n]);if(vh(s)){const u=rb(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)})),new wn(t)}class We{constructor(t,n,s,o,u,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new We(t,0,Tt.min(),Tt.min(),Tt.min(),mn.empty(),0)}static newFoundDocument(t,n,s,o){return new We(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new We(t,2,n,Tt.min(),Tt.min(),mn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,Tt.min(),Tt.min(),mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zh{constructor(t,n){this.position=t,this.inclusive=n}}function Gv(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(h.referenceValue),n.key):s=co(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qv(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Pi(i.position[n],t.position[n]))return!1;return!0}class jh{constructor(t,n="asc"){this.field=t,this.dir=n}}function dI(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class sb{}class Ve extends sb{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new pI(t,n,s):n==="array-contains"?new _I(t,s):n==="in"?new vI(t,s):n==="not-in"?new EI(t,s):n==="array-contains-any"?new TI(t,s):new Ve(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new gI(t,s):new yI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(co(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends sb{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ui(t,n)}matches(t){return ab(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ab(i){return i.op==="and"}function ob(i){return mI(i)&&ab(i)}function mI(i){for(const t of i.filters)if(t instanceof Ui)return!1;return!0}function ip(i){if(i instanceof Ve)return i.field.canonicalString()+i.op.toString()+ho(i.value);if(ob(i))return i.filters.map((t=>ip(t))).join(",");{const t=i.filters.map((n=>ip(n))).join(",");return`${i.op}(${t})`}}function lb(i,t){return i instanceof Ve?(function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)})(i,t):i instanceof Ui?(function(s,o){return o instanceof Ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&lb(h,o.filters[m])),!0):!1})(i,t):void vt(19439)}function ub(i){return i instanceof Ve?(function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`})(i):i instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(ub).join(" ,")+"}"})(i):"Filter"}class pI extends Ve{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class gI extends Ve{constructor(t,n){super(t,"in",n),this.keys=cb("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class yI extends Ve{constructor(t,n){super(t,"not-in",n),this.keys=cb("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function cb(i,t){return(t.arrayValue?.values||[]).map((n=>gt.fromName(n.referenceValue)))}class _I extends Ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return qp(n)&&ru(n.arrayValue,this.value)}}class vI extends Ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class EI extends Ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class TI extends Ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class bI{constructor(t,n=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Yv(i,t=null,n=[],s=[],o=null,u=null,h=null){return new bI(i,t,n,s,o,u,h)}function Hp(i){const t=At(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>ip(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),sf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>ho(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>ho(s))).join(",")),t.Te=n}return t.Te}function Fp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!dI(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!lb(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Qv(i.startAt,t.startAt)&&Qv(i.endAt,t.endAt)}function rp(i){return gt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class of{constructor(t,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SI(i,t,n,s,o,u,h,m){return new of(i,t,n,s,o,u,h,m)}function lf(i){return new of(i)}function Kv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function AI(i){return i.collectionGroup!==null}function Kl(i){const t=At(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new ke(Ye.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new jh(u,s))})),n.has(Ye.keyField().canonicalString())||t.Ie.push(new jh(Ye.keyField(),s))}return t.Ie}function Di(i){const t=At(i);return t.Ee||(t.Ee=wI(t,Kl(i))),t.Ee}function wI(i,t){if(i.limitType==="F")return Yv(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new jh(o.field,u)}));const n=i.endAt?new zh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new zh(i.startAt.position,i.startAt.inclusive):null;return Yv(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function sp(i,t,n){return new of(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function uf(i,t){return Fp(Di(i),Di(t))&&i.limitType===t.limitType}function hb(i){return`${Hp(Di(i))}|lt:${i.limitType}`}function Za(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ub(o))).join(", ")}]`),sf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ho(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ho(o))).join(",")),`Target(${s})`})(Di(i))}; limitType=${i.limitType})`}function cf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=Gv(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(h,m,p){const g=Gv(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Kl(s),o))})(i,t)}function RI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function fb(i){return(t,n)=>{let s=!1;for(const o of Kl(i)){const u=CI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function CI(i,t,n){const s=i.field.isKeyField()?gt.comparator(t.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?co(p,g):vt(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:i.dir})}}class oa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){gs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return $T(this.inner)}size(){return this.innerSize}}const II=new he(gt.comparator);function fr(){return II}const db=new he(gt.comparator);function zl(...i){let t=db;for(const n of i)t=t.insert(n.key,n);return t}function mb(i){let t=db;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Xs(){return Xl()}function pb(){return Xl()}function Xl(){return new oa((i=>i.toString()),((i,t)=>i.isEqual(t)))}const xI=new he(gt.comparator),NI=new ke(gt.comparator);function Ut(...i){let t=NI;for(const n of i)t=t.add(n);return t}const DI=new ke(Pt);function OI(){return DI}function Gp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(t)?"-0":t}}function gb(i){return{integerValue:""+i}}function MI(i,t){return sI(t)?gb(t):Gp(i,t)}class hf{constructor(){this._=void 0}}function VI(i,t,n){return i instanceof su?(function(o,u){const h={fields:{[WT]:{stringValue:JT},[eb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=af(u)),u&&(h.fields[tb]=u),{mapValue:h}})(n,t):i instanceof au?_b(i,t):i instanceof ou?vb(i,t):(function(o,u){const h=yb(o,u),m=Xv(h)+Xv(o.Ae);return np(h)&&np(o.Ae)?gb(m):Gp(o.serializer,m)})(i,t)}function kI(i,t,n){return i instanceof au?_b(i,t):i instanceof ou?vb(i,t):n}function yb(i,t){return i instanceof Bh?(function(s){return np(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class su extends hf{}class au extends hf{constructor(t){super(),this.elements=t}}function _b(i,t){const n=Eb(t);for(const s of i.elements)n.some((o=>Pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ou extends hf{constructor(t){super(),this.elements=t}}function vb(i,t){let n=Eb(t);for(const s of i.elements)n=n.filter((o=>!Pi(o,s)));return{arrayValue:{values:n}}}class Bh extends hf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Xv(i){return _e(i.integerValue||i.doubleValue)}function Eb(i){return qp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class PI{constructor(t,n){this.field=t,this.transform=n}}function UI(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?uo(s.elements,o.elements,Pi):s instanceof Bh&&o instanceof Bh?Pi(s.Ae,o.Ae):s instanceof su&&o instanceof su})(i.transform,t.transform)}class LI{constructor(t,n){this.version=t,this.transformResults=n}}class ii{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Eh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class ff{}function Tb(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Qp(i.key,ii.none()):new Tu(i.key,i.data,ii.none());{const n=i.data,s=mn.empty();let o=new ke(Ye.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ys(i.key,s,new wn(o.toArray()),ii.none())}}function zI(i,t,n){i instanceof Tu?(function(o,u,h){const m=o.value.clone(),p=Zv(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,n):i instanceof ys?(function(o,u,h){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Zv(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(bb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,n)}function $l(i,t,n,s){return i instanceof Tu?(function(u,h,m,p){if(!Eh(u.precondition,h))return m;const g=u.value.clone(),E=Jv(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof ys?(function(u,h,m,p){if(!Eh(u.precondition,h))return m;const g=Jv(u.fieldTransforms,p,h),E=h.data;return E.setAll(bb(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,n,s):(function(u,h,m){return Eh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,n)}function jI(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=yb(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function $v(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,((u,h)=>UI(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Tu extends ff{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends ff{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bb(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function Zv(i,t,n){const s=new Map;Gt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,kI(h,m,n[o]))}return s}function Jv(i,t,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,VI(u,h,t))}return s}class Qp extends ff{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BI extends ff{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&zI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=$l(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=$l(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=pb();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=Tb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&uo(this.mutations,t.mutations,((n,s)=>$v(n,s)))&&uo(this.baseMutations,t.baseMutations,((n,s)=>$v(n,s)))}}class Yp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Gt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return xI})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Yp(t,n,s,o)}}class HI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FI{constructor(t,n){this.count=t,this.unchangedNames=n}}var xe,zt;function GI(i){switch(i){case tt.OK:return vt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return vt(15467,{code:i})}}function Sb(i){if(i===void 0)return hr("GRPC error has no .code"),tt.UNKNOWN;switch(i){case xe.OK:return tt.OK;case xe.CANCELLED:return tt.CANCELLED;case xe.UNKNOWN:return tt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return tt.INTERNAL;case xe.UNAVAILABLE:return tt.UNAVAILABLE;case xe.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case xe.NOT_FOUND:return tt.NOT_FOUND;case xe.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case xe.ABORTED:return tt.ABORTED;case xe.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case xe.DATA_LOSS:return tt.DATA_LOSS;default:return vt(39323,{code:i})}}(zt=xe||(xe={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function QI(){return new TextEncoder}const YI=new os([4294967295,4294967295],0);function Wv(i){const t=QI().encode(i),n=new jT;return n.update(t),new Uint8Array(n.digest())}function tE(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class Kp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=os.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(os.fromNumber(s)));return o.compare(YI)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Wv(t),[s,o]=tE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Kp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const n=Wv(t),[s,o]=tE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class df{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,bu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new df(Tt.min(),o,new he(Pt),fr(),Ut())}}class bu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new bu(s,n,Ut(),Ut(),Ut())}}class Th{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class Ab{constructor(t,n){this.targetId=t,this.Ce=n}}class wb{constructor(t,n,s=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class eE{constructor(){this.ve=0,this.Fe=nE(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),s=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:u})}})),new bu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=nE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KI{constructor(t){this.Ge=t,this.ze=new Map,this.je=fr(),this.Je=ah(),this.He=ah(),this.Ye=new he(Pt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(rp(u))if(s===0){const h=new gt(u.path);this.et(n,h,We.newNoDocument(h,Tt.min()))}else Gt(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(t),p=m?this.ct(m,t,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=hs(s).toUint8Array()}catch(p){if(p instanceof ZT)return lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Kp(h,o,u)}catch(p){return lo(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&rp(m.target)){const p=new gt(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,We.newNoDocument(p,t))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ut();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const o=new df(t,n,this.Ye,this.je,s);return this.je=fr(),this.Je=ah(),this.He=ah(),this.Ye=new he(Pt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new eE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ke(Pt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ke(Pt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new eE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ah(){return new he(gt.comparator)}function nE(){return new he(gt.comparator)}const XI={asc:"ASCENDING",desc:"DESCENDING"},$I={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZI={and:"AND",or:"OR"};class JI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ap(i,t){return i.useProto3Json||sf(t)?t:{value:t}}function qh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Rb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function WI(i,t){return qh(i,t.toTimestamp())}function Oi(i){return Gt(!!i,49232),Tt.fromTimestamp((function(n){const s=cs(n);return new re(s.seconds,s.nanos)})(i))}function Xp(i,t){return op(i,t).canonicalString()}function op(i,t){const n=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function Cb(i){const t=ce.fromString(i);return Gt(Ob(t),10190,{key:t.toString()}),t}function lp(i,t){return Xp(i.databaseId,t.path)}function Um(i,t){const n=Cb(t);if(n.get(1)!==i.databaseId.projectId)throw new ft(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ft(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new gt(xb(n))}function Ib(i,t){return Xp(i.databaseId,t)}function tx(i){const t=Cb(i);return t.length===4?ce.emptyPath():xb(t)}function up(i){return new ce(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xb(i){return Gt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function iE(i,t,n){return{name:lp(i,t),fields:n.value.mapValue.fields}}function ex(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:vt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Gt(E===void 0||typeof E=="string",58123),Xe.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xe.fromUint8Array(E||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?tt.UNKNOWN:Sb(g.code);return new ft(E,g.message||"")})(h);n=new wb(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Um(i,s.document.name),u=Oi(s.document.updateTime),h=s.document.createTime?Oi(s.document.createTime):Tt.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=We.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Th(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Um(i,s.document),u=s.readTime?Oi(s.readTime):Tt.min(),h=We.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Th([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Um(i,s.document),u=s.removedTargetIds||[];n=new Th([],u,o,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new FI(o,u),m=s.targetId;n=new Ab(m,h)}}return n}function nx(i,t){let n;if(t instanceof Tu)n={update:iE(i,t.key,t.value)};else if(t instanceof Qp)n={delete:lp(i,t.key)};else if(t instanceof ys)n={update:iE(i,t.key,t.data),updateMask:hx(t.fieldMask)};else{if(!(t instanceof BI))return vt(16599,{Vt:t.type});n={verify:lp(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof su)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Bh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw vt(20930,{transform:h.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:WI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(i,t.precondition)),n}function ix(i,t){return i&&i.length>0?(Gt(t!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Oi(o.updateTime):Oi(u);return h.isEqual(Tt.min())&&(h=Oi(u)),new LI(h,o.transformResults||[])})(n,t)))):[]}function rx(i,t){return{documents:[Ib(i,t.path)]}}function sx(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ib(i,o);const u=(function(g){if(g.length!==0)return Db(Ui.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:Ja(A.field),direction:lx(A.dir)}})(E)))})(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=ap(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function ax(i){let t=tx(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Gt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=Nb(T);return A instanceof Ui&&ob(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(F){return new jh(Wa(F.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,sf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,k=T.values||[];return new zh(k,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,k=T.values||[];return new zh(k,A)})(n.endAt)),SI(t,o,h,u,m,"F",p,g)}function ox(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Nb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wa(n.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Wa(n.unaryFilter.field);return Ve.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ve.create(Wa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((s=>Nb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(i):vt(30097,{filter:i})}function lx(i){return XI[i]}function ux(i){return $I[i]}function cx(i){return ZI[i]}function Ja(i){return{fieldPath:i.canonicalString()}}function Wa(i){return Ye.fromServerFormat(i.fieldPath)}function Db(i){return i instanceof Ve?(function(n){if(n.op==="=="){if(Fv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(Hv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(Hv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:ux(n.op),value:n.value}}})(i):i instanceof Ui?(function(n){const s=n.getFilters().map((o=>Db(o)));return s.length===1?s[0]:{compositeFilter:{op:cx(n.op),filters:s}}})(i):vt(54877,{filter:i})}function hx(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Ob(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class is{constructor(t,n,s,o,u=Tt.min(),h=Tt.min(),m=Xe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new is(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class fx{constructor(t){this.yt=t}}function dx(i){const t=ax({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?sp(t,t.limit,"L"):t}class mx{constructor(){this.Cn=new px}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(us.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(us.min())}updateCollectionGroup(t,n,s){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class px{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new ke(ce.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ke(ce.comparator)).toArray()}}const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mb=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Mb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class fo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const sE="LruGarbageCollector",gx=1048576;function aE([i,t],[n,s]){const o=Pt(i,n);return o===0?Pt(t,s):o}class yx{constructor(t){this.Ir=t,this.buffer=new ke(aE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();aE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _x{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(sE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?ot(sE,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class vx{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(rf.ce);const s=new yx(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(rE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),$a()<=kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Ex(i,t){return new vx(i,t)}class Tx{constructor(){this.changes=new oa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class bx{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class Sx{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&$l(s.mutation,o,wn.empty(),re.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ut()){const o=Xs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let h=zl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,n){const s=Xs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ut())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(t,n,s,o){let u=fr();const h=Xl(),m=(function(){return Xl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ys)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),$l(E.mutation,g,E.mutation.getFieldMask(),re.now())):h.set(g.key,wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new bx(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Xl();let o=new he(((h,m)=>h-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||wn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Ut()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=pb();E.forEach((A=>{if(!u.has(A)){const k=Tb(n.get(A),s.get(A));k!==null&&T.set(A,k),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return W.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(h){return gt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):AI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):W.resolve(Xs());let m=eu,p=u;return h.next((g=>W.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((E=>({batchId:m,changes:mb(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let h=zl();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(p=>{const g=(function(T,A){return new of(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,We.newInvalidDocument(E)))}));let m=zl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&$l(E.mutation,g,wn.empty(),re.now()),cf(n,g)&&(m=m.insert(p,g))})),m}))}}class Ax{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:dx(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),W.resolve()}}class wx{constructor(){this.overlays=new he(gt.comparator),this.qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Xs();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(t,n,s){const o=Xs(),u=n.length+1,h=new gt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new he(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Xs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return W.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new HI(n,s));let u=this.qr.get(n);u===void 0&&(u=Ut(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class Rx{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}class $p{constructor(){this.Qr=new ke(ze.$r),this.Ur=new ke(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new ze(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new ze(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new gt(new ce([])),s=new ze(n,t),o=new ze(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new gt(new ce([])),s=new ze(n,t),o=new ze(n,t+1);let u=Ut();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const n=new ze(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return gt.comparator(t.key,n.key)||Pt(t.Yr,n.Yr)}static Kr(t,n){return Pt(t.Yr,n.Yr)||gt.comparator(t.key,n.key)}}class Cx{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ke(ze.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new qI(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new ze(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(h)}lookupMutationBatch(t,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?jp:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ze(n,0),o=new ze(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ke(Pt);return n.forEach((o=>{const u=new ze(o,0),h=new ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const h=new ze(new gt(u),0);let m=new ke(Pt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),W.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Gt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,(o=>{const u=new ze(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new ze(n,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ix{constructor(t){this.ri=t,this.docs=(function(){return new he(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let s=fr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=fr();const h=n.path,m=new gt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||eI(tI(E),s)<=0||(o.has(E.key)||cf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,s,o){vt(9500)}ii(t,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new xx(this)}getSize(t){return W.resolve(this.size)}}class xx extends Tx{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),W.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class Nx{constructor(t){this.persistence=t,this.si=new oa((n=>Hp(n)),Fp),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new $p,this.targetCount=0,this.ai=fo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new fo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Pr(n),W.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(t,n){return W.resolve(this._i.containsKey(n))}}class Vb{constructor(t,n){this.ui={},this.overlays={},this.ci=new rf(0),this.li=!1,this.li=!0,this.hi=new Rx,this.referenceDelegate=t(this),this.Pi=new Nx(this),this.indexManager=new mx,this.remoteDocumentCache=(function(o){return new Ix(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new fx(n),this.Ii=new Ax(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new wx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new Cx(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new Dx(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class Dx extends iI{constructor(t){super(),this.currentSequenceNumber=t}}class Zp{constructor(t){this.persistence=t,this.Ri=new $p,this.Vi=null}static mi(t){return new Zp(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=gt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Hh{constructor(t,n){this.persistence=t,this.pi=new oa((s=>aI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Ex(this,n)}static mi(t,n){return new Hh(t,n)}Ei(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return W.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(h=>this.br(t,h,n).next((m=>{m||(s++,u.removeEntry(h,Tt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=_h(t.data.value)),n}br(t,n,s){return W.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Jp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jp(t,n.fromCache,s,o)}}class Ox{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Mx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iw()?8:rI(tn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new Ox;return this.Ss(t,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,h,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?($a()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):($a()<=kt.DEBUG&&ot("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?($a()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):W.resolve())}ys(t,n){if(Kv(n))return W.resolve(null);let s=Di(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=sp(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const h=Ut(...u);return this.ps.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(t,sp(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return Kv(n)||o.isEqual(Tt.min())?W.resolve(null):this.ps.getDocuments(t,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?W.resolve(null):($a()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(t,h,n,W2(o,eu)).next((m=>m)))}))}Ds(t,n){let s=new ke(fb(t));return n.forEach(((o,u)=>{cf(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return $a()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(t,n,us.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Wp="LocalStore",Vx=3e8;class kx{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new he(Pt),this.xs=new oa((u=>Hp(u)),Fp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Sx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function Px(i,t,n,s){return new kx(i,t,n,s)}async function kb(i,t){const n=At(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ut();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function Ux(i,t){const n=At(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let k=W.resolve();return A.forEach((F=>{k=k.next((()=>E.getEntry(p,F))).next((Q=>{const Z=g.docVersions.get(F);Gt(Z!==null,48541),Q.version.compareTo(Z)<0&&(T.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Pb(i){const t=At(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function Lx(i,t){const n=At(i),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let k=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?k=k.withResumeToken(Xe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(Q,Z,at){return Q.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=Vx?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(A,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=fr(),g=Ut();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(zx(u,h,t.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Tt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function zx(i,t,n){let s=Ut(),o=Ut();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let h=fr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ot(Wp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function jx(i,t){const n=At(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=jp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function Bx(i,t){const n=At(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new is(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function cp(i,t,n){const s=At(i),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ao(h))throw h;ot(Wp,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function oE(i,t,n){const s=At(i);let o=Tt.min(),u=Ut();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=At(p),A=T.xs.get(E);return A!==void 0?W.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,E)})(s,h,Di(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,t,n?o:Tt.min(),n?u:Ut()))).next((m=>(qx(s,RI(t),m),{documents:m,Qs:u})))))}function qx(i,t,n){let s=i.Os.get(t)||Tt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(t,s)}class lE{constructor(){this.activeTargetIds=OI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Hx{constructor(){this.Mo=new lE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new lE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Fx{Oo(t){}shutdown(){}}const uE="ConnectivityMonitor";class cE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(uE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(uE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let oh=null;function hp(){return oh===null?oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():oh++,"0x"+oh.toString(16)}const Lm="RestConnection",Gx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qx{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const h=hp(),m=this.zo(t,n.toUriEncodedString());ot(Lm,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=vo(g);return this.Jo(t,m,p,s,E).then((T=>(ot(Lm,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw lo(Lm,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,h){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=Gx[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class Yx{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ze="WebChannelConnection";class Kx extends Qx{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const h=hp();return new Promise(((m,p)=>{const g=new BT;g.setWithCredentials(!0),g.listenOnce(qT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case yh.NO_ERROR:const T=g.getResponseJson();ot(Ze,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case yh.TIMEOUT:ot(Ze,`RPC '${t}' ${h} timed out`),p(new ft(tt.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const A=g.getStatus();if(ot(Ze,`RPC '${t}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k?.error;if(F&&F.status&&F.message){const Q=(function(at){const ut=at.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(ut)>=0?ut:tt.UNKNOWN})(F.status);p(new ft(Q,F.message))}else p(new ft(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ft(tt.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ot(Ze,`RPC '${t}' ${h} completed.`)}}));const E=JSON.stringify(o);ot(Ze,`RPC '${t}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=hp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=GT(),m=FT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ot(Ze,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let A=!1,k=!1;const F=new Yx({Yo:Z=>{k?ot(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(A||(ot(Ze,`Opening RPC '${t}' stream ${o} transport.`),T.open(),A=!0),ot(Ze,`RPC '${t}' stream ${o} sending:`,Z),T.send(Z))},Zo:()=>T.close()}),Q=(Z,at,ut)=>{Z.listen(at,(lt=>{try{ut(lt)}catch(mt){setTimeout((()=>{throw mt}),0)}}))};return Q(T,Ll.EventType.OPEN,(()=>{k||(ot(Ze,`RPC '${t}' stream ${o} transport opened.`),F.o_())})),Q(T,Ll.EventType.CLOSE,(()=>{k||(k=!0,ot(Ze,`RPC '${t}' stream ${o} transport closed`),F.a_(),this.E_(T))})),Q(T,Ll.EventType.ERROR,(Z=>{k||(k=!0,lo(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),F.a_(new ft(tt.UNAVAILABLE,"The operation could not be completed")))})),Q(T,Ll.EventType.MESSAGE,(Z=>{if(!k){const at=Z.data[0];Gt(!!at,16349);const ut=at,lt=ut?.error||ut[0]?.error;if(lt){ot(Ze,`RPC '${t}' stream ${o} received error:`,lt);const mt=lt.status;let J=(function(w){const C=xe[w];if(C!==void 0)return Sb(C)})(mt),et=lt.message;J===void 0&&(J=tt.INTERNAL,et="Unknown error status: "+mt+" with message "+lt.message),k=!0,F.a_(new ft(J,et)),T.close()}else ot(Ze,`RPC '${t}' stream ${o} received:`,at),F.u_(at)}})),Q(m,HT.STAT_EVENT,(Z=>{Z.stat===Wm.PROXY?ot(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===Wm.NOPROXY&&ot(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function zm(){return typeof document<"u"?document:null}function mf(i){return new JI(i,!0)}class Ub{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hE="PersistentStream";class Lb{constructor(t,n,s,o,u,h,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ub(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ft(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(hE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ot(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xx extends Lb{constructor(t,n,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=ex(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Tt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Tt.min():h.readTime?Oi(h.readTime):Tt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=up(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=rp(p)?{documents:rx(u,p)}:{query:sx(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Rb(u,h.resumeToken);const g=ap(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Tt.min())>0){m.readTime=qh(u,h.snapshotVersion.toTimestamp());const g=ap(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=ox(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=up(this.serializer),n.removeTarget=t,this.q_(n)}}class $x extends Lb{constructor(t,n,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=ix(t.writeResults,t.commitTime),s=Oi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=up(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>nx(this.serializer,s)))};this.q_(n)}}class Zx{}class Jx extends Zx{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ft(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(t,op(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(tt.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(t,op(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft(tt.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Wx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hr(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class tN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{la(this)&&(ot(ra,"Restarting streams for network reachability change."),await(async function(p){const g=At(p);g.Ea.add(4),await Su(g),g.Ra.set("Unknown"),g.Ea.delete(4),await pf(g)})(this))}))})),this.Ra=new Wx(s,o)}}async function pf(i){if(la(i))for(const t of i.da)await t(!0)}async function Su(i){for(const t of i.da)await t(!1)}function zb(i,t){const n=At(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ig(n)?ng(n):wo(n).O_()&&eg(n,t))}function tg(i,t){const n=At(i),s=wo(n);n.Ia.delete(t),s.O_()&&jb(n,t),n.Ia.size===0&&(s.O_()?s.L_():la(n)&&n.Ra.set("Unknown"))}function eg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wo(i).Y_(t)}function jb(i,t){i.Va.Ue(t),wo(i).Z_(t)}function ng(i){i.Va=new KI({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),wo(i).start(),i.Ra.ua()}function ig(i){return la(i)&&!wo(i).x_()&&i.Ia.size>0}function la(i){return At(i).Ea.size===0}function Bb(i){i.Va=void 0}async function eN(i){i.Ra.set("Online")}async function nN(i){i.Ia.forEach(((t,n)=>{eg(i,t)}))}async function iN(i,t){Bb(i),ig(i)?(i.Ra.ha(t),ng(i)):i.Ra.set("Unknown")}async function rN(i,t,n){if(i.Ra.set("Online"),t instanceof wb&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(s){ot(ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Fh(i,s)}else if(t instanceof Th?i.Va.Ze(t):t instanceof Ab?i.Va.st(t):i.Va.tt(t),!n.isEqual(Tt.min()))try{const s=await Pb(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Xe.EMPTY_BYTE_STRING,E.snapshotVersion)),jb(u,p);const T=new is(E.target,p,g,E.sequenceNumber);eg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ot(ra,"Failed to raise snapshot:",s),await Fh(i,s)}}async function Fh(i,t,n){if(!Ao(t))throw t;i.Ea.add(1),await Su(i),i.Ra.set("Offline"),n||(n=()=>Pb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ot(ra,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await pf(i)}))}function qb(i,t){return t().catch((n=>Fh(i,n,t)))}async function gf(i){const t=At(i),n=ds(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:jp;for(;sN(t);)try{const o=await jx(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,aN(t,o)}catch(o){await Fh(t,o)}Hb(t)&&Fb(t)}function sN(i){return la(i)&&i.Ta.length<10}function aN(i,t){i.Ta.push(t);const n=ds(i);n.O_()&&n.X_&&n.ea(t.mutations)}function Hb(i){return la(i)&&!ds(i).x_()&&i.Ta.length>0}function Fb(i){ds(i).start()}async function oN(i){ds(i).ra()}async function lN(i){const t=ds(i);for(const n of i.Ta)t.ea(n.mutations)}async function uN(i,t,n){const s=i.Ta.shift(),o=Yp.from(s,t,n);await qb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await gf(i)}async function cN(i,t){t&&ds(i).X_&&await(async function(s,o){if((function(h){return GI(h)&&h!==tt.ABORTED})(o.code)){const u=s.Ta.shift();ds(s).B_(),await qb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await gf(s)}})(i,t),Hb(i)&&Fb(i)}async function fE(i,t){const n=At(i);n.asyncQueue.verifyOperationInProgress(),ot(ra,"RemoteStore received new credentials");const s=la(n);n.Ea.add(3),await Su(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await pf(n)}async function hN(i,t){const n=At(i);t?(n.Ea.delete(2),await pf(n)):t||(n.Ea.add(2),await Su(n),n.Ra.set("Unknown"))}function wo(i){return i.ma||(i.ma=(function(n,s,o){const u=At(n);return u.sa(),new Xx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:eN.bind(null,i),t_:nN.bind(null,i),r_:iN.bind(null,i),H_:rN.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),ig(i)?ng(i):i.Ra.set("Unknown")):(await i.ma.stop(),Bb(i))}))),i.ma}function ds(i){return i.fa||(i.fa=(function(n,s,o){const u=At(n);return u.sa(),new $x(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:oN.bind(null,i),r_:cN.bind(null,i),ta:lN.bind(null,i),na:uN.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await gf(i)):(await i.fa.stop(),i.Ta.length>0&&(ot(ra,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class rg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const h=Date.now()+s,m=new rg(t,n,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(i,t){if(hr("AsyncQueue",`${t}: ${i}`),Ao(i))return new ft(tt.UNAVAILABLE,`${t}: ${i}`);throw i}class ro{static emptySet(t){return new ro(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=zl(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ro)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class dE{constructor(){this.ga=new he(gt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class mo{constructor(t,n,s,o,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new mo(t,n,ro.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class fN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class dN{constructor(){this.queries=mE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=mE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ft(tt.ABORTED,"Firestore shutting down"))}}function mE(){return new oa((i=>hb(i)),uf)}async function Gb(i,t){const n=At(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new fN,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=sg(h,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&ag(n)}async function Qb(i,t){const n=At(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function mN(i,t){const n=At(i);let s=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&ag(n)}function pN(i,t,n){const s=At(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function ag(i){i.Ca.forEach((t=>{t.next()}))}var fp,pE;(pE=fp||(fp={})).Ma="default",pE.Cache="cache";class Yb{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new mo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fp.Cache}}class Kb{constructor(t){this.key=t}}class Xb{constructor(t){this.key=t}}class gN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=fb(t),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new dE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const A=o.get(E),k=cf(this.query,T)?T:null,F=!!A&&this.mutatedKeys.has(A.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Z=!1;A&&k?A.data.isEqual(k.data)?F!==Q&&(s.track({type:3,doc:k}),Z=!0):this.su(A,k)||(s.track({type:2,doc:k}),Z=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),Z=!0):A&&!k&&(s.track({type:1,doc:A}),Z=!0,(p||g)&&(m=!0)),Z&&(k?(h=h.add(k),u=Q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((E,T)=>(function(k,F){const Q=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:Z})}};return Q(k)-Q(F)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new mo(this.query,t.tu,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new Xb(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Kb(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class yN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class _N{constructor(t){this.key=t,this.hu=!1}}class vN{constructor(t,n,s,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new oa((m=>hb(m)),uf),this.Iu=new Map,this.Eu=new Set,this.du=new he(gt.comparator),this.Au=new Map,this.Ru=new $p,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EN(i,t,n=!0){const s=eS(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $b(s,t,n,!0),o}async function TN(i,t){const n=eS(i);await $b(n,t,!0,!1)}async function $b(i,t,n,s){const o=await Bx(i.localStore,Di(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await bN(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&zb(i.remoteStore,o),m}async function bN(i,t,n,s,o){i.pu=(T,A,k)=>(async function(Q,Z,at,ut){let lt=Z.view.ru(at);lt.Cs&&(lt=await oE(Q.localStore,Z.query,!1).then((({documents:R})=>Z.view.ru(R,lt))));const mt=ut&&ut.targetChanges.get(Z.targetId),J=ut&&ut.targetMismatches.get(Z.targetId)!=null,et=Z.view.applyChanges(lt,Q.isPrimaryClient,mt,J);return yE(Q,Z.targetId,et.au),et.snapshot})(i,T,A,k);const u=await oE(i.localStore,t,!0),h=new gN(t,u.Qs),m=h.ru(u.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);yE(i,n,g.au);const E=new yN(t,n,h);return i.Tu.set(t,E),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),g.snapshot}async function SN(i,t,n){const s=At(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!uf(h,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&tg(s.remoteStore,o.targetId),dp(s,o.targetId)})).catch(So)):(dp(s,o.targetId),await cp(s.localStore,o.targetId,!0))}async function AN(i,t){const n=At(i),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),tg(n.remoteStore,s.targetId))}async function wN(i,t,n){const s=ON(i);try{const o=await(function(h,m){const p=At(h),g=re.now(),E=m.reduce(((k,F)=>k.add(F.key)),Ut());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let F=fr(),Q=Ut();return p.Ns.getEntries(k,E).next((Z=>{F=Z,F.forEach(((at,ut)=>{ut.isValidDocument()||(Q=Q.add(at))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,F))).next((Z=>{T=Z;const at=[];for(const ut of m){const lt=jI(ut,T.get(ut.key).overlayedDocument);lt!=null&&at.push(new ys(ut.key,lt,rb(lt.value.mapValue),ii.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,at,m)})).next((Z=>{A=Z;const at=Z.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(k,Z.batchId,at)}))})).then((()=>({batchId:A.batchId,changes:mb(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new he(Pt)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Au(s,o.changes),await gf(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");n.reject(u)}}async function Zb(i,t){const n=At(i);try{const s=await Lx(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Gt(h.hu,14607):o.removedDocuments.size>0&&(Gt(h.hu,42227),h.hu=!1))})),await Au(n,s,t)}catch(s){await So(s)}}function gE(i,t,n){const s=At(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=At(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&ag(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function RN(i,t,n){const s=At(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let h=new he(gt.comparator);h=h.insert(u,We.newNoDocument(u,Tt.min()));const m=Ut().add(u),p=new df(Tt.min(),new Map,new he(Pt),h,m);await Zb(s,p),s.du=s.du.remove(u),s.Au.delete(t),lg(s)}else await cp(s.localStore,t,!1).then((()=>dp(s,t,n))).catch(So)}async function CN(i,t){const n=At(i),s=t.batch.batchId;try{const o=await Ux(n.localStore,t);Wb(n,s,null),Jb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Au(n,o)}catch(o){await So(o)}}async function IN(i,t,n){const s=At(i);try{const o=await(function(h,m){const p=At(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Gt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);Wb(s,t,n),Jb(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Au(s,o)}catch(o){await So(o)}}function Jb(i,t){(i.mu.get(t)||[]).forEach((n=>{n.resolve()})),i.mu.delete(t)}function Wb(i,t,n){const s=At(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function dp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||tS(i,s)}))}function tS(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(tg(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),lg(i))}function yE(i,t,n){for(const s of n)s instanceof Kb?(i.Ru.addReference(s.key,t),xN(i,s)):s instanceof Xb?(ot(og,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||tS(i,s.key)):vt(19791,{wu:s})}function xN(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ot(og,"New document in limbo: "+n),i.Eu.add(s),lg(i))}function lg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new gt(ce.fromString(t)),s=i.fu.next();i.Au.set(s,new _N(n)),i.du=i.du.insert(n,s),zb(i.remoteStore,new is(Di(lf(n.path)),s,"TargetPurposeLimboResolution",rf.ce))}}async function Au(i,t,n){const s=At(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Jp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>W.forEach(g,(A=>W.forEach(A.Es,(k=>E.persistence.referenceDelegate.addReference(T,A.targetId,k))).next((()=>W.forEach(A.ds,(k=>E.persistence.referenceDelegate.removeReference(T,A.targetId,k)))))))))}catch(T){if(!Ao(T))throw T;ot(Wp,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const k=E.Ms.get(A),F=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(A,Q)}}})(s.localStore,u))}async function NN(i,t){const n=At(i);if(!n.currentUser.isEqual(t)){ot(og,"User change. New user:",t.toKey());const s=await kb(n.localStore,t);n.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ft(tt.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Au(n,s.Ls)}}function DN(i,t){const n=At(i),s=n.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let o=Ut();const u=n.Iu.get(t);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function eS(i){const t=At(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RN.bind(null,t),t.Pu.H_=mN.bind(null,t.eventManager),t.Pu.yu=pN.bind(null,t.eventManager),t}function ON(i){const t=At(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IN.bind(null,t),t}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Px(this.persistence,new Mx,t.initialUser,this.serializer)}Cu(t){return new Vb(Zp.mi,this.serializer)}Du(t){return new Hx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class MN extends Gh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Gt(this.persistence.referenceDelegate instanceof Hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _x(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Vb((s=>Hh.mi(s,n)),this.serializer)}}class mp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NN.bind(null,this.syncEngine),await hN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new dN})()}createDatastore(t){const n=mf(t.databaseInfo.databaseId),s=(function(u){return new Kx(u)})(t.databaseInfo);return(function(u,h,m,p){return new Jx(u,h,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,h,m){return new tN(s,o,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>gE(this.syncEngine,n,0)),(function(){return cE.v()?new cE:new Fx})())}createSyncEngine(t,n){return(function(o,u,h,m,p,g,E){const T=new vN(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=At(n);ot(ra,"RemoteStore shutting down."),s.Ea.add(5),await Su(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mp.provider={build:()=>new mp};class nS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ms="FirestoreClient";class VN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ot(ms,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ot(ms,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=sg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function jm(i,t){i.asyncQueue.verifyOperationInProgress(),ot(ms,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await kb(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function _E(i,t){i.asyncQueue.verifyOperationInProgress();const n=await kN(i);ot(ms,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>fE(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>fE(t.remoteStore,o))),i._onlineComponents=t}async function kN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ot(ms,"Using user provided OfflineComponentProvider");try{await jm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await jm(i,new Gh)}}else ot(ms,"Using default OfflineComponentProvider"),await jm(i,new MN(void 0));return i._offlineComponents}async function iS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ot(ms,"Using user provided OnlineComponentProvider"),await _E(i,i._uninitializedComponentsProvider._online)):(ot(ms,"Using default OnlineComponentProvider"),await _E(i,new mp))),i._onlineComponents}function PN(i){return iS(i).then((t=>t.syncEngine))}async function pp(i){const t=await iS(i),n=t.eventManager;return n.onListen=EN.bind(null,t.syncEngine),n.onUnlisten=SN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=TN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=AN.bind(null,t.syncEngine),n}function UN(i,t,n={}){const s=new ls;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new nS({next:A=>{E.Nu(),h.enqueueAndForget((()=>Qb(u,T)));const k=A.docs.has(m);!k&&A.fromCache?g.reject(new ft(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&p&&p.source==="server"?g.reject(new ft(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new Yb(lf(m.path),E,{includeMetadataChanges:!0,qa:!0});return Gb(u,T)})(await pp(i),i.asyncQueue,t,n,s))),s.promise}function rS(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const vE=new Map;const sS="firestore.googleapis.com",EE=!0;class TE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sS,this.ssl=EE}else this.host=t.host,this.ssl=t.ssl??EE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Mb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gx)throw new ft(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}J2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ft(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ft(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ft(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ug{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new B2;switch(s.type){case"firstParty":return new G2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=vE.get(n);s&&(ot("ComponentProvider","Removing Datastore"),vE.delete(n),s.terminate())})(this),Promise.resolve()}}function LN(i,t,n,s={}){i=ni(i,ug);const o=vo(t),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${n}`;o&&(JE(`https://${m}`),WE("Firestore",!0)),u.host!==sS&&u.host!==m&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ws(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Je.MOCK_USER;else{g=K1(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ft(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Je(T)}i._authCredentials=new q2(new YT(g,E))}}class yf{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new yf(this.firestore,t,this._query)}}class De{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new De(this.firestore,t,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Eu(n,De._jsonSchema))return new De(t,s||null,new gt(ce.fromString(n.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ne("string",De._jsonSchemaVersion),referencePath:Ne("string")};class lu extends yf{constructor(t,n,s){super(t,n,lf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new De(this.firestore,null,new gt(t))}withConverter(t){return new lu(this.firestore,t,this._path)}}function po(i,t,...n){if(i=Ke(i),arguments.length===1&&(t=Lp.newId()),Z2("doc","path",t),i instanceof ug){const s=ce.fromString(t,...n);return kv(s),new De(i,null,new gt(s))}{if(!(i instanceof De||i instanceof lu))throw new ft(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ce.fromString(t,...n));return kv(s),new De(i.firestore,i instanceof lu?i.converter:null,new gt(s))}}const bE="AsyncQueue";class SE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ub(this,"async_queue_retry"),this._c=()=>{const s=zm();s&&ot(bE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ao(t))throw t;ot(bE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,hr("INTERNAL UNHANDLED ERROR: ",AE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=rg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:AE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function AE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}function wE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class sa extends ug{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new SE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new SE(t),this._firestoreClient=void 0,await t}}}function zN(i,t){const n=typeof i=="object"?i:iT(),s=typeof i=="string"?i:Uh,o=Ip(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Q1("firestore");u&&LN(o,...u)}return o}function cg(i){if(i._terminated)throw new ft(tt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||jN(i),i._firestoreClient}function jN(i){const t=i._freezeSettings(),n=(function(o,u,h,m){return new uI(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,rS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new VN(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Xe.fromBase64String(t))}catch(n){throw new ft(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new jn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Eu(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ne("string",jn._jsonSchemaVersion),bytes:Ne("string")};class _f{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class vf{constructor(t){this._methodName=t}}class Mi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(Eu(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ne("string",Mi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class Vi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Eu(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Vi(t.vectorValues);throw new ft(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Ne("string",Vi._jsonSchemaVersion),vectorValues:Ne("object")};const BN=/^__.*__$/;class qN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ys(t,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(t,this.data,n,this.fieldTransforms)}}class aS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ys(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function oS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:i})}}class hg{constructor(t,n,s,o,u,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new hg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Qh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(oS(this.Ac)&&BN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class HN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||mf(t)}Cc(t,n,s,o=!1){return new hg({Ac:t,methodName:n,Dc:s,path:Ye.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lS(i){const t=i._freezeSettings(),n=mf(i._databaseId);return new HN(i._databaseId,!!t.ignoreUndefinedProperties,n)}function FN(i,t,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,t,n,o);dg("Data must be an object, but it was:",h,s);const m=uS(s,h);let p,g;if(u.merge)p=new wn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=gp(t,T,n);if(!h.contains(A))throw new ft(tt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);hS(E,A)||E.push(A)}p=new wn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new qN(new mn(m),p,g)}class Ef extends vf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ef}}class fg extends vf{_toFieldTransform(t){return new PI(t.path,new su)}isEqual(t){return t instanceof fg}}function GN(i,t,n,s){const o=i.Cc(1,t,n);dg("Data must be an object, but it was:",o,s);const u=[],h=mn.empty();gs(s,((p,g)=>{const E=mg(t,p,n);g=Ke(g);const T=o.yc(E);if(g instanceof Ef)u.push(E);else{const A=Tf(g,T);A!=null&&(u.push(E),h.set(E,A))}}));const m=new wn(u);return new aS(h,m,o.fieldTransforms)}function QN(i,t,n,s,o,u){const h=i.Cc(1,t,n),m=[gp(t,s,n)],p=[o];if(u.length%2!=0)throw new ft(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(gp(t,u[A])),p.push(u[A+1]);const g=[],E=mn.empty();for(let A=m.length-1;A>=0;--A)if(!hS(g,m[A])){const k=m[A];let F=p[A];F=Ke(F);const Q=h.yc(k);if(F instanceof Ef)g.push(k);else{const Z=Tf(F,Q);Z!=null&&(g.push(k),E.set(k,Z))}}const T=new wn(g);return new aS(E,T,h.fieldTransforms)}function Tf(i,t){if(cS(i=Ke(i)))return dg("Unsupported field value:",t,i),uS(i,t);if(i instanceof vf)return(function(s,o){if(!oS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Tf(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Ke(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:qh(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qh(o.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:Rb(o.serializer,s._byteString)};if(s instanceof De){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vi)return(function(h,m){return{mapValue:{fields:{[nb]:{stringValue:ib},[Lh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Gp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${zp(s)}`)})(i,t)}function uS(i,t){const n={};return $T(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gs(i,((s,o)=>{const u=Tf(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function cS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof re||i instanceof Mi||i instanceof jn||i instanceof De||i instanceof vf||i instanceof Vi)}function dg(i,t,n){if(!cS(n)||!KT(n)){const s=zp(n);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function gp(i,t,n){if((t=Ke(t))instanceof _f)return t._internalPath;if(typeof t=="string")return mg(i,t);throw Qh("Field path arguments must be of type string or ",i,!1,void 0,n)}const YN=new RegExp("[~\\*/\\[\\]]");function mg(i,t,n){if(t.search(YN)>=0)throw Qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new _f(...t.split("."))._internalPath}catch{throw Qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Qh(i,t,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ft(tt.INVALID_ARGUMENT,m+i+p)}function hS(i,t){return i.some((n=>n.isEqual(t)))}class fS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(dS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KN extends fS{data(){return super.data()}}function dS(i,t){return typeof t=="string"?mg(i,t):t instanceof _f?t._internalPath:t._delegate._internalPath}function XN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ft(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $N{convertValue(t,n="none"){switch(fs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return gs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Lh].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new Vi(n)}convertGeoPoint(t){return new Mi(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=af(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(t));default:return null}}convertTimestamp(t){const n=cs(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ce.fromString(t);Gt(Ob(s),9688,{name:t});const o=new iu(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(n)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function ZN(i,t,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(t,n):i.toFirestore(t):t,s}class Bl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zs extends fS{constructor(t,n,s,o,u,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(dS("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Ne("string",Zs._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class bh extends Zs{data(t={}){return super.data(t)}}class so{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new bh(this._firestore,this._userDataWriter,s.key,s,new Bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:JN(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=so._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function JN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:i})}}function pg(i){i=ni(i,De);const t=ni(i.firestore,sa);return UN(cg(t),i._key).then((n=>gS(t,i,n)))}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Ne("string",so._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class mS extends $N{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new De(this.firestore,null,n)}}function pS(i,t,n){i=ni(i,De);const s=ni(i.firestore,sa),o=ZN(i.converter,t,n);return gg(s,[FN(lS(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,ii.none())])}function WN(i,t,n,...s){i=ni(i,De);const o=ni(i.firestore,sa),u=lS(o);let h;return h=typeof(t=Ke(t))=="string"||t instanceof _f?QN(u,"updateDoc",i._key,t,n,s):GN(u,"updateDoc",i._key,t),gg(o,[h.toMutation(i._key,ii.exists(!0))])}function tD(i){return gg(ni(i.firestore,sa),[new Qp(i._key,ii.none())])}function eD(i,...t){i=Ke(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||wE(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wE(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof De)h=ni(i.firestore,sa),m=lf(i._key.path),u={next:p=>{t[s]&&t[s](gS(h,i,p))},error:t[s+1],complete:t[s+2]};else{const p=ni(i,yf);h=ni(p.firestore,sa),m=p._query;const g=new mS(h);u={next:E=>{t[s]&&t[s](new so(h,g,p,E))},error:t[s+1],complete:t[s+2]},XN(i._query)}return(function(g,E,T,A){const k=new nS(A),F=new Yb(E,k,T);return g.asyncQueue.enqueueAndForget((async()=>Gb(await pp(g),F))),()=>{k.Nu(),g.asyncQueue.enqueueAndForget((async()=>Qb(await pp(g),F)))}})(cg(h),m,o,u)}function gg(i,t){return(function(s,o){const u=new ls;return s.asyncQueue.enqueueAndForget((async()=>wN(await PN(s),o,u))),u.promise})(cg(i),t)}function gS(i,t,n){const s=n.docs.get(t._key),o=new mS(i);return new Zs(i,o,t._key,s,new Bl(n.hasPendingWrites,n.fromCache),t.converter)}function yS(){return new fg("serverTimestamp")}(function(t,n=!0){(function(o){bo=o})(Eo),oo(new ta("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new sa(new H2(s.getProvider("auth-internal")),new Q2(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ft(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),as(Dv,Ov,t),as(Dv,Ov,"esm2020")})();const nD={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},_S=nT(nD),Ol=z2(_S),go=zN(_S),vS=xt.createContext(null);function iD({children:i}){const[t,n]=xt.useState(null),[s,o]=xt.useState(!0);xt.useEffect(()=>{const g=CC(Ol,E=>{n(E??null),o(!1)});return()=>g()},[]);async function u(g,E){await AC(Ol,g,E)}async function h(g,E){return await SC(Ol,g,E)}async function m(){await IC(Ol),n(null)}async function p(g){await bC(Ol,g)}return N.jsx(vS.Provider,{value:{user:t,authLoading:s,signInWithEmail:u,signUpWithEmail:h,signOut:m,resetPassword:p},children:i})}function rD(){const i=xt.useContext(vS);if(!i)throw new Error("useFirebaseAuth must be used inside FirebaseAuthProvider");return i}async function sD(i){if(!i)return null;const t=po(go,"workspaces",i),n=await pg(t);return n.exists()?n.data().state??null:null}async function aD(i,t){if(!i)return;const n=po(go,"workspaces",i);await pS(n,{state:t,updatedAt:yS()},{merge:!0})}const Zl=["","","","","","","","","",""];function oD(i=""){let t=0;for(let n=0;n<i.length;n++)t=(t<<5)-t+i.charCodeAt(n),t|=0;return Math.abs(t)}function ES(i,t="Budgeteer"){if(!i)return t;const n=i.trim();return n&&n.replace(/[^a-zA-Z0-9_\- ]+/g,"").slice(0,32)||t}function lD(i){const t=i?.email?.split("@")[0]??"",n=ES(t,"Budgeteer"),s=i?.uid||i?.email||n||String(Date.now()),o=oD(s)%Zl.length;return{username:n,avatarEmoji:Zl[o]}}async function uD(i){const t=i?.uid;if(!t)return null;const n=po(go,"users",t),s=await pg(n);if(s.exists())return s.data();const o=lD(i);return await pS(n,{...o,createdAt:yS()},{merge:!0}),o}async function cD(i,{username:t,avatarEmoji:n}={}){if(!i)throw new Error("Missing uid");const s={};typeof t=="string"&&(s.username=ES(t)),typeof n=="string"&&(s.avatarEmoji=n);const o=po(go,"users",i);return await WN(o,s),(await pg(o)).data()}const yp=[{key:"dark",label:"Cyber Dark",description:"Charcoal with neon cyan highlights",shellClass:"bg-[#05060A] text-slate-100",headerClass:"border-[#1f2937] bg-[#05060F]/90",pillClass:"border-slate-600/70 bg-black/20 hover:bg-black/40",previewGradient:"from-[#020617] via-[#05060f] to-[#020617]"},{key:"light",label:"Soft Light",description:"Warm whites with slate ink",shellClass:"bg-slate-50 text-slate-900",headerClass:"border-slate-200 bg-white/80",pillClass:"border-slate-300 bg-white/70 hover:bg-slate-100",previewGradient:"from-white via-slate-100 to-slate-200"},{key:"midnight",label:"Midnight Pulse",description:"Indigo mist with electric purple",shellClass:"bg-[#070718] text-indigo-100",headerClass:"border-[#191d3a] bg-gradient-to-r from-[#0f1032cc] to-[#1b0d3fcc]",pillClass:"border-indigo-600/50 bg-indigo-900/40 hover:bg-indigo-900/70",previewGradient:"from-[#0b1433] via-[#25124f] to-[#3b0f49]"},{key:"aurora",label:"Aurora Mist",description:"Deep teal with aurora glow",shellClass:"bg-gradient-to-br from-[#041b1f] via-[#082831] to-[#041b1f] text-emerald-50",headerClass:"border-emerald-900/40 bg-[#051f25]/90",pillClass:"border-emerald-500/40 bg-emerald-900/40 hover:bg-emerald-900/70",previewGradient:"from-[#052528] via-[#0b4b4f] to-[#0f766e]"},{key:"crimson",label:"Crimson Bloom",description:"Deep burgundy with neon rose edges",shellClass:"bg-gradient-to-br from-[#19070a] via-[#2b0d12] to-[#19070a] text-rose-50",headerClass:"border-rose-900/40 bg-[#2b0d12]/90",pillClass:"border-rose-500/50 bg-rose-900/40 hover:bg-rose-900/70",previewGradient:"from-[#300911] via-[#5b0a1c] to-[#be123c]"}];function TS(i){return yp.find(t=>t.key===i)||yp[0]}function hD({option:i,active:t,onSelect:n}){return N.jsxs("button",{type:"button",onClick:()=>n(i.key),className:`w-full text-left rounded-xl border px-3 py-2 transition ${t?"border-cyan-400 bg-cyan-500/10":"border-white/10 hover:border-cyan-400/60"}`,children:[N.jsx("div",{className:`h-10 rounded-lg bg-gradient-to-r ${i.previewGradient} mb-2`}),N.jsx("p",{className:"text-sm font-semibold text-white",children:i.label}),N.jsx("p",{className:"text-[11px] text-slate-300",children:i.description})]})}function fD({value:i,onChange:t,variant:n="default",onAfterSelect:s=()=>{}}){const[o,u]=xt.useState(!1),h=xt.useMemo(()=>TS(i),[i]),m=n==="menu";function p(T){t?.(T),u(!1),s?.()}const g=m?"w-full text-left px-3 py-2 text-slate-200 hover:bg-slate-800/80 rounded-md transition":`px-2 py-1 rounded border transition ${h.pillClass}`,E=`absolute ${m?"left-0":"right-0"} ${m?"mt-1":"mt-2"} w-64 rounded-2xl border border-white/15 bg-[#05060F]/95 p-3 shadow-xl backdrop-blur z-50 transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`;return N.jsxs("div",{className:`relative text-xs ${m?"w-full":""}`,children:[N.jsxs("button",{type:"button",onClick:()=>u(T=>!T),className:g,children:["Theme: ",h.label]}),N.jsx("div",{className:E,children:N.jsx("div",{className:"space-y-2",children:yp.map(T=>N.jsx(hD,{option:T,active:T.key===h.key,onSelect:p},T.key))})})]})}function dD({customizeMode:i,setCustomizeMode:t,onReset:n,onSignOut:s,themeValue:o,onChangeTheme:u=()=>{}}){const[h,m]=xt.useState(!1);return N.jsxs("div",{className:"relative",children:[N.jsx("button",{type:"button",className:"flex items-center justify-center w-9 h-9 rounded-full border border-slate-600/70 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200 transition",onClick:()=>m(p=>!p),children:N.jsxs("span",{className:"relative flex flex-col justify-between w-4 h-3",children:[N.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${h?"translate-y-[5px] rotate-45":""}`}),N.jsx("span",{className:`h-[2px] rounded-full bg-current transition-opacity duration-200 ${h?"opacity-0":"opacity-100"}`}),N.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${h?"-translate-y-[5px] -rotate-45":""}`})]})}),N.jsxs("div",{className:`absolute right-0 mt-2 w-52 bg-[#0B0C14] border border-slate-700/70 rounded-lg shadow-lg z-50 text-xs origin-top-right transform transition-all duration-150 ${h?"opacity-100 scale-100 translate-y-0 pointer-events-auto":"opacity-0 scale-95 -translate-y-1 pointer-events-none"}`,children:[N.jsx("div",{className:"px-2 py-2 border-b border-slate-800/70",children:N.jsx(fD,{value:o,onChange:u,variant:"menu",onAfterSelect:()=>m(!1)})}),N.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:()=>{t(p=>!p),m(!1)},children:i?"Finish Customizing":"Customize Layout"}),N.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-rose-300",onClick:()=>{m(!1),n()},children:"Reset Data"}),N.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:async()=>{m(!1);try{await s()}catch(p){console.error("Sign out failed:",p)}},children:"Sign Out"})]})]})}function mD({onSignIn:i,onSignUp:t,onResetPassword:n,loading:s}){const[o,u]=dn.useState("signin"),[h,m]=dn.useState(""),[p,g]=dn.useState(""),[E,T]=dn.useState(null),[A,k]=dn.useState(null),[F,Q]=dn.useState(!1),[Z,at]=dn.useState(!1);async function ut(){if(T(null),k(null),!h){T("Please enter your email first, then click 'Forgot password?'.");return}if(n){at(!0);try{await n(h),k("If an account exists with that email, a reset link has been sent. Check your inbox.")}catch(mt){T(mt.message||"Failed to start password reset.")}finally{at(!1)}}}async function lt(mt){mt.preventDefault(),T(null),k(null),Q(!0);try{if(o==="signin")await i(h,p);else{const J=await t(h,p),et=J?.user||null,R=J?.session||null;k(et&&!R?"Account created! Check your email and click the confirmation link.":"Account created!")}}catch(J){T(J.message||"Something went wrong.")}finally{Q(!1)}}return s?N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-200",children:N.jsx("div",{className:"text-sm text-slate-400",children:"Checking session..."})}):N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-100 px-4",children:N.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-2xl border border-white/10 bg-black/30 p-8 shadow-[0_20px_50px_rgba(8,8,12,0.8)]",children:[N.jsxs("div",{className:"space-y-2 text-center",children:[N.jsx("p",{className:"text-xs tracking-[0.4em] uppercase text-cyan-300",children:"Budget Center"}),N.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Access portal"}),N.jsx("p",{className:"text-sm text-slate-400",children:o==="signin"?"Sign in to load your encrypted budgets.":"Create an account to sync your budgets and goals across devices."})]}),N.jsxs("div",{className:"grid grid-cols-2 rounded-full bg-white/5 p-1 text-sm",children:[N.jsx("button",{type:"button",onClick:()=>u("signin"),className:`rounded-full py-2 font-medium transition ${o==="signin"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Sign in"}),N.jsx("button",{type:"button",onClick:()=>u("signup"),className:`rounded-full py-2 font-medium transition ${o==="signup"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Create account"})]}),E&&N.jsx("div",{className:"rounded border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-100",children:E}),A&&N.jsx("div",{className:"rounded border border-emerald-400/60 bg-emerald-400/10 px-3 py-2 text-sm text-emerald-100",children:A}),N.jsxs("form",{onSubmit:lt,className:"space-y-4",children:[N.jsxs("label",{className:"block text-sm",children:[N.jsx("span",{className:"text-slate-300",children:"Email"}),N.jsx("input",{type:"email",required:!0,value:h,onChange:mt=>m(mt.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"you@email.com",autoComplete:"email"})]}),N.jsxs("label",{className:"block text-sm",children:[N.jsx("span",{className:"text-slate-300",children:"Password"}),N.jsx("input",{type:"password",required:!0,minLength:6,value:p,onChange:mt=>g(mt.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"",autoComplete:o==="signin"?"current-password":"new-password"})]}),N.jsx("button",{type:"submit",disabled:F,className:"w-full rounded-lg bg-cyan-500 py-2 text-sm font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:F?"Please wait...":o==="signin"?"Sign in":"Create account"})]}),N.jsx("div",{className:"text-center text-sm text-slate-400",children:N.jsx("button",{type:"button",className:"font-medium text-cyan-300 hover:text-cyan-200 disabled:opacity-60",onClick:ut,disabled:Z,children:Z?"Sending reset link...":"Forgot password?"})})]})})}function pD({message:i,variant:t="info",actionLabel:n,onAction:s,onClose:o}){const u=t==="success";return N.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-xs sm:max-w-sm",children:N.jsxs("div",{className:`toast-enter flex items-start gap-3 rounded-xl border px-4 py-3 text-xs shadow-xl bg-[#05060F]/95 backdrop-blur
        ${u?"border-emerald-400/80 text-emerald-100":"border-cyan-400/80 text-cyan-100"}`,children:[N.jsx("div",{className:"mt-[2px] text-lg",children:u?"":""}),N.jsxs("div",{className:"flex-1 space-y-1",children:[N.jsx("p",{className:"leading-snug",children:i}),n&&s&&N.jsxs("button",{onClick:s,className:"inline-flex items-center gap-1 text-[0.7rem] mt-1 px-2 py-1 rounded-full border border-cyan-400/70 text-cyan-100 hover:bg-cyan-500/10 hover:border-cyan-300 transition",children:[N.jsx("span",{children:n}),N.jsx("span",{className:"text-[0.75rem]",children:""})]})]}),o&&N.jsx("button",{className:"ml-1 text-[0.7rem] text-slate-500 hover:text-slate-200",onClick:o,children:""})]})})}function gD({emoji:i,active:t,onSelect:n}){return N.jsx("button",{type:"button",onClick:()=>n(i),className:`w-9 h-9 text-lg rounded-full border transition flex items-center justify-center
      ${t?"border-cyan-400/80 bg-cyan-500/10":"border-slate-600/60 bg-black/30 hover:border-cyan-400/40"}`,children:i})}function yD({profile:i,email:t,loading:n,onUpdateProfile:s}){const[o,u]=xt.useState(!1),[h,m]=xt.useState(i?.username??""),[p,g]=xt.useState(i?.avatar_emoji??Zl[0]),[E,T]=xt.useState(!1);xt.useEffect(()=>{m(i?.username??""),g(i?.avatar_emoji??Zl[0])},[i?.username,i?.avatar_emoji]);async function A(Q){if(Q.preventDefault(),!s)return;T(!0);const Z=await s({username:h,avatar_emoji:p});T(!1),Z&&u(!1)}const k=i?.avatar_emoji??"",F=i?.username||"Budgeteer";return N.jsxs("div",{className:"relative",children:[N.jsxs("button",{type:"button",onClick:()=>u(Q=>!Q),className:"flex items-center gap-2 rounded-full border border-slate-600/70 bg-black/20 px-2 py-1 text-left hover:border-cyan-400/60 transition",children:[N.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-cyan-500/10 text-lg",children:k}),N.jsxs("span",{className:"flex flex-col leading-tight text-xs text-slate-300",children:[N.jsx("span",{className:"text-cyan-200",children:F}),N.jsx("span",{className:"text-[10px] text-slate-500",children:n?"Syncing...":"Profile"})]})]}),N.jsxs("form",{className:`absolute right-0 mt-2 w-64 rounded-xl border border-slate-700/70 bg-[#05060F] p-4 text-xs shadow-xl transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,onSubmit:A,children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("p",{className:"text-[11px] text-slate-400",children:t?`Signed in as ${t}`:"Signed in"}),N.jsxs("label",{className:"block",children:[N.jsx("span",{className:"text-slate-300",children:"Display name"}),N.jsx("input",{type:"text",value:h,onChange:Q=>m(Q.target.value),placeholder:"Budgeteer",className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-xs text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none"})]})]}),N.jsxs("div",{className:"mt-3",children:[N.jsx("p",{className:"mb-2 text-slate-300",children:"Avatar"}),N.jsx("div",{className:"grid grid-cols-5 gap-2",children:Zl.map(Q=>N.jsx(gD,{emoji:Q,active:p===Q,onSelect:g},Q))})]}),N.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[N.jsx("button",{type:"button",className:"text-[11px] text-slate-500 hover:text-slate-200",onClick:()=>u(!1),children:"Cancel"}),N.jsx("button",{type:"submit",disabled:E,className:"rounded-full bg-cyan-500 px-3 py-1 text-[11px] font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:E?"Saving...":"Save changes"})]})]})]})}function Bm({title:i,children:t}){return N.jsxs("section",{className:"card-surface border rounded-xl p-4",children:[i&&N.jsx("h2",{className:"text-xs font-semibold tracking-[0.25em] text-slate-400 mb-3 uppercase",children:i}),t]})}function bS({value:i=0}){const t=Math.max(0,Math.min(100,Number.isNaN(i)?0:i));return N.jsx("div",{className:"progress-bar",children:N.jsx("div",{className:"progress-bar-filled",style:{width:`${t}%`},children:t>2&&N.jsx("div",{className:"progress-shine shine"})})})}function _D(i){switch(i){case"sunset":return"bg-gradient-to-br from-orange-500/70 via-pink-500/60 to-rose-500/60 border-rose-400/60";case"forest":return"bg-gradient-to-br from-emerald-900/70 via-emerald-800/60 to-emerald-700/60 border-emerald-400/60";case"midnight":return"bg-gradient-to-br from-indigo-900/70 via-purple-900/60 to-indigo-900/70 border-indigo-400/60";case"cyber":default:return"bg-[#090a11] border-slate-800"}}function vD({goal:i,onClick:t}){const n=Number(i?.saved??i?.current??0),s=Number(i?.target??0),o=Number(i?.monthlyPlan??0),u=i?.icon||i?.emoji||"",h=i?.name||"Untitled Goal",m=s>0?Math.min(100,n/s*100):0,p=_D(i?.theme);return N.jsxs("button",{onClick:t,className:`text-left rounded-xl p-3 hover:border-cyan-400/70 hover:shadow-[0_0_18px_rgba(34,211,238,0.35)] transition ${p}`,children:[N.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"text-lg",children:u}),N.jsx("span",{className:"text-sm font-medium text-slate-100",children:h})]}),N.jsxs("span",{className:"text-[0.7rem] text-slate-400",children:["Plan: $",o.toFixed(0),"/mo"]})]}),N.jsxs("div",{className:"text-xs text-slate-400 mb-1",children:["$",n.toFixed(0)," / $",s.toFixed(0)]}),N.jsx(bS,{value:m})]})}const ED="modulepreload",TD=function(i){return"/budget-app/"+i},RE={},bD=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=p(n.map(g=>{if(g=TD(g),g in RE)return;RE[g]=!0;const E=g.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const A=document.createElement("link");if(A.rel=E?"stylesheet":ED,E||(A.as="script"),A.crossOrigin="",A.href=g,m&&A.setAttribute("nonce",m),document.head.appendChild(A),E)return new Promise((k,F)=>{A.addEventListener("load",k),A.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},SD=[{key:"chase",label:"Chase"},{key:"capitalone",label:"Capital One"},{key:"wellsfargo",label:"Wells Fargo"},{key:"americanexpress",label:"Amex"},{key:"discover",label:"Discover"},{key:"navyfederal",label:"Navy Federal"},{key:"mountainamerica",label:"Mountain America"},{key:"bankofamerica",label:"Bank of America"},{key:"usbank",label:"US Bank"},{key:"pnc",label:"PNC"}];function AD(i=""){return i.toLowerCase().replace(/[^a-z0-9]/g,"")}function CE(i="",t=""){const n=AD((t||"")+" "+i.slice(0,4e3));for(const s of SD)if(n.includes(s.key))return s.label;return null}function uu(i){const t=[];let n="",s=!1;for(let o=0;o<i.length;o++){const u=i[o];if(u==='"'){s=!s;continue}u===","&&!s?(t.push(n),n=""):n+=u}return t.push(n),t}function Sh(i){if(i==null)return NaN;let t=String(i).trim();t=t.replace(/"/g,"");let n=!1;if(t.startsWith("(")&&t.endsWith(")")&&(n=!0,t=t.slice(1,-1)),t=t.replace(/[$,]/g,""),t==="")return NaN;const s=Number(t);return Number.isNaN(s)?NaN:n?-s:s}function SS(i,t){const n=(i||"").toLowerCase();return t>0?n.includes("payroll")||n.includes("direct deposit")?"Income  Paycheck":n.includes("refund")||n.includes("rebate")?"Income  Refund":"Income  Other":n.includes("uber")||n.includes("lyft")||n.includes("taxi")?"Transport  Rideshare":n.includes("shell")||n.includes("chevron")||n.includes("exxon")||n.includes("gas")||n.includes("fuel")?"Transport  Gas":n.includes("walmart")||n.includes("costco")||n.includes("grocery")||n.includes("smith")||n.includes("kroger")?"Groceries":n.includes("starbucks")||n.includes("coffee")||n.includes("mcdonald")||n.includes("taco bell")||n.includes("restaurant")||n.includes("cafe")?"Food & Dining":n.includes("netflix")||n.includes("spotify")||n.includes("hulu")||n.includes("disney")||n.includes("subscription")||n.includes("prime")?"Subscriptions":n.includes("rent")||n.includes("landlord")||n.includes("mortgage")?"Housing  Rent/Mortgage":n.includes("power")||n.includes("electric")||n.includes("water")||n.includes("utility")||n.includes("utilities")?"Utilities":n.includes("gym")||n.includes("fitness")?"Health & Fitness":n.includes("insurance")||n.includes("geico")||n.includes("allstate")?"Insurance":n.includes("amazon")||n.includes("target")||n.includes("best buy")||n.includes("shop")?"Shopping":"Other"}const Ml={date:["date","transaction date","posted date","posting date","trans date"],description:["description","details","memo","payee","transaction description","narrative"],debit:["debit","withdrawal","outflow","money out","charge"],credit:["credit","deposit","inflow","money in","payment","credit amount"],amount:["amount","amt","transaction amount","value"]};function wD(i){return uu(i).map(n=>n.trim()).map(n=>{let s=n.toLowerCase().replace(/"/g,"");return s=s.replace(/\s+/g," ").trim(),s})}function Vl(i,t){return i.findIndex(n=>t.includes(n))}function AS(i){if(!i)return"";let t=String(i).trim().replace(/"/g,"");if(!t)return"";let n=t.match(/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/);if(n){const[,o,u,h]=n;return`${o}-${u.padStart(2,"0")}-${h.padStart(2,"0")}`}if(n=t.match(/^(\d{4})(\d{2})(\d{2})$/),n){const[,o,u,h]=n;return`${o}-${u}-${h}`}if(n=t.match(/^(\d{1,2})[\/.-](\d{1,2})[\/.-](\d{2,4})$/),n){let[,o,u,h]=n,m=h.length===2?Number(h)>=70?`19${h}`:`20${h}`:h;const p=Number(o),g=Number(u);let E,T;return p>12&&g<=12?(T=p,E=g):(E=p,T=g),`${m}-${String(E).padStart(2,"0")}-${String(T).padStart(2,"0")}`}if(n=t.match(/^(\d{1,2})\s+([A-Za-z]{3,})\s+(\d{2,4})$/),n){const[,o,u,h]=n,m=h.length===2?`20${h}`:h,g=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(u.toLowerCase().slice(0,3));if(g>=0){const E=String(g+1).padStart(2,"0"),T=String(o).padStart(2,"0");return`${m}-${E}-${T}`}}if(n=t.match(/^([A-Za-z]{3,})\s+(\d{1,2}),?\s+(\d{2,4})$/),n){const[,o,u,h]=n,m=h.length===2?`20${h}`:h,g=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(o.toLowerCase().slice(0,3));if(g>=0){const E=String(g+1).padStart(2,"0"),T=String(u).padStart(2,"0");return`${m}-${E}-${T}`}}const s=new Date(t);return Number.isNaN(s.getTime())?t:s.toISOString().slice(0,10)}function RD(i){const t=i.split(/\r?\n/).find(o=>o.trim().length>0)||"";if(!t)return[];const n=uu(t).map(o=>o.trim().replace(/^"|"$/g,""));return n.some(o=>/[a-zA-Z]/.test(o))?n.map((o,u)=>o||`Column ${u+1}`):n.map((o,u)=>`Column ${u+1}`)}function CD(i){const t=i.split(/\r?\n/).filter(A=>A.trim()!=="");if(t.length===0)return[];let n=wD(t[0]),s=1;function o(A){const k=Vl(A,Ml.date),F=Vl(A,Ml.description),Q=Vl(A,Ml.amount),Z=Vl(A,Ml.debit),at=Vl(A,Ml.credit);return{dateIndex:k,descIndex:F,amountIndex:Q,debitIndex:Z,creditIndex:at}}let{dateIndex:u,descIndex:h,amountIndex:m,debitIndex:p,creditIndex:g}=o(n);if(u<0&&h<0&&m<0&&p<0&&g<0){const A=uu(t[0]).map(F=>F.trim());n=A.map((F,Q)=>Q===0?"date":Q===1?"description":Q===2||Q===A.length-1?"amount":`col${Q+1}`),s=0,{dateIndex:u,descIndex:h,amountIndex:m,debitIndex:p,creditIndex:g}=o(n)}const T=[];for(let A=s;A<t.length;A++){const k=t[A],F=uu(k).map(mt=>mt.trim());if(F.length===0||F.every(mt=>mt===""))continue;const Q=u>=0?F[u]:"",Z=AS(Q),at=h>=0?F[h]:"";let ut=NaN;if(m>=0)ut=Sh(F[m]);else if(p>=0||g>=0){const mt=p>=0?Sh(F[p]):0;ut=(g>=0?Sh(F[g]):0)-mt}if(!Z&&!at&&Number.isNaN(ut)||typeof ut!="number"||Number.isNaN(ut))continue;const lt=SS(at,ut);T.push({date:Z,description:at,amount:ut,category:lt})}return T}function ID(i,{dateIndex:t=null,descIndex:n=null,amountIndex:s=null}={}){const o=i.split(/\r?\n/).filter(h=>h.trim()!=="");if(o.length===0)return[];const u=[];for(let h=1;h<o.length;h++){const m=o[h],p=uu(m).map(F=>F.trim());if(p.length===0||p.every(F=>F===""))continue;const g=t!=null&&t>=0?p[t]:"",E=AS(g),T=n!=null&&n>=0?p[n]:"";let A=NaN;if(s!=null&&s>=0&&(A=Sh(p[s])),!E&&!T&&Number.isNaN(A)||typeof A!="number"||Number.isNaN(A))continue;const k=SS(T,A);u.push({date:E,description:T,amount:A,category:k})}return u}function xD(i){return new Promise((t,n)=>{const s=new FileReader;s.onload=o=>t(String(o.target?.result||"")),s.onerror=()=>n(new Error("Failed to read file")),s.readAsText(i)})}function lh(i){i.preventDefault(),i.stopPropagation()}function ND(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`f-${Date.now()}-${Math.random().toString(16).slice(2)}`}function DD(i){return(i?.name||"").toLowerCase().endsWith(".pdf")||i?.type==="application/pdf"?"pdf":"csv"}function OD(i){return{id:ND(),file:i,name:i?.name||"unknown",kind:DD(i),detectedBank:"",rawText:"",columns:[],mapping:{date:"",description:"",amount:""},previewRows:[],status:"pending",error:"",importedCount:0,createdAt:Date.now()}}function MD({onTransactionsParsed:i=()=>{}}){const[t,n]=dn.useState([]),[s,o]=dn.useState(null),[u,h]=dn.useState(!1),m=dn.useMemo(()=>t.find(J=>J.id===s)||null,[t,s]),p=t.filter(J=>J.status==="imported").length,g=t.filter(J=>J.status==="ready").length,E=t.filter(J=>J.status==="error").length;function T(J=[]){const et=Array.from(J||[]).filter(Boolean);if(!et.length)return;const R=et.map(OD);n(w=>{const C=new Set(w.map(D=>`${D.name}::${D.file?.size}::${D.file?.lastModified}`)),O=R.filter(D=>{const P=`${D.name}::${D.file?.size}::${D.file?.lastModified}`;return C.has(P)?!1:(C.add(P),!0)});return[...w,...O]}),o(w=>w||R[0].id)}async function A(J){n(R=>R.map(w=>w.id===J?{...w,status:"parsing",error:""}:w));const et=t.find(R=>R.id===J);if(et)try{if(et.kind==="pdf"){const{parsePdfTransactions:D}=await bD(async()=>{const{parsePdfTransactions:G}=await import("./pdf-zxC-U3Hz.js");return{parsePdfTransactions:G}},[]),{text:P,rows:I}=await D(et.file),Xt=CE(P,et.name||""),le=Array.isArray(I)?I:[];n(G=>G.map(nt=>nt.id!==J?nt:le.length?{...nt,rawText:P||"",detectedBank:Xt||"",previewRows:le,columns:[],status:"ready",error:""}:{...nt,rawText:P||"",detectedBank:Xt||"",previewRows:[],columns:[],status:"error",error:"We couldn't detect any transactions in that PDF. Try a different export or use CSV."}));return}const R=await xD(et.file),w=CE(R,et.name||""),C=CD(R),O=RD(R);n(D=>D.map(P=>P.id!==J?P:C.length?{...P,rawText:R,detectedBank:w||"",columns:O,previewRows:C,status:"ready",error:""}:{...P,rawText:R,detectedBank:w||"",columns:O,previewRows:[],status:"needsMapping",error:"We couldn't automatically detect the right columns. Use the mapping controls and click Re-parse."}))}catch(R){console.error("Parse error:",R),n(w=>w.map(C=>C.id===J?{...C,status:"error",error:C.kind==="pdf"?"We couldn't read this PDF. Try downloading it as a CSV or a different PDF format.":"We couldn't understand this CSV. Try a different export format."}:C))}}dn.useEffect(()=>{const J=t.find(R=>R.status==="pending");if(!J)return;const et=setTimeout(()=>A(J.id),0);return()=>clearTimeout(et)},[t]);function k(J,et){m&&n(R=>R.map(w=>w.id===m.id?{...w,mapping:{...w.mapping,[J]:et}}:w))}function F(){if(!m?.rawText)return;const J={dateIndex:m.mapping.date===""?null:Number.parseInt(m.mapping.date,10),descIndex:m.mapping.description===""?null:Number.parseInt(m.mapping.description,10),amountIndex:m.mapping.amount===""?null:Number.parseInt(m.mapping.amount,10)},et=ID(m.rawText,J);if(!et.length){n(R=>R.map(w=>w.id===m.id?{...w,previewRows:[],status:"needsMapping",error:"No rows were parsed with that mapping. Try different columns or reset to auto-detect."}:w));return}n(R=>R.map(w=>w.id===m.id?{...w,previewRows:et,status:"ready",error:""}:w))}function Q(J){const et=t.find(R=>R.id===J);if(et&&et.status==="ready"){n(R=>R.map(w=>w.id===J?{...w,status:"importing"}:w));try{i(et.previewRows,et.rawText),n(R=>R.map(w=>w.id===J?{...w,status:"imported",importedCount:et.previewRows.length,error:""}:w))}catch(R){console.error("Import error:",R),n(w=>w.map(C=>C.id===J?{...C,status:"error",error:R?.message||"Import failed."}:C))}}}async function Z(){const J=t.filter(et=>et.status==="ready");for(const et of J)await new Promise(R=>setTimeout(R,0)),Q(et.id)}function at(J){if(n(et=>et.filter(R=>R.id!==J)),s===J){const et=t.filter(R=>R.id!==J);o(et[0]?.id||null)}}function ut(){n([]),o(null),h(!1)}const lt=Math.min(10,m?.previewRows?.length||0),mt=(m?.previewRows||[]).reduce((J,et)=>J+(typeof et.amount=="number"?et.amount:0),0);return N.jsxs("div",{className:`space-y-2 text-xs rounded-xl border p-3 transition ${u?"border-cyan-400/70 bg-cyan-500/5":"border-slate-800 bg-slate-950/30"}`,onDragEnter:J=>{lh(J),h(!0)},onDragOver:J=>{lh(J),h(!0)},onDragLeave:J=>{lh(J),h(!1)},onDrop:J=>{lh(J),h(!1),T(J.dataTransfer?.files||[])},children:[N.jsxs("p",{className:"text-slate-400",children:["Upload"," ",N.jsx("span",{className:"text-cyan-300 font-semibold",children:".csv"})," or"," ",N.jsx("span",{className:"text-cyan-300 font-semibold",children:".pdf"})," bank statements. You can drop multiple files here. Click a file to preview/match columns before importing."]}),N.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[N.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md border border-cyan-400/70 text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 cursor-pointer transition",children:[N.jsx("span",{children:"Choose file(s)"}),N.jsx("input",{type:"file",accept:".csv,.pdf,text/csv,application/pdf,text/plain",multiple:!0,className:"hidden",onChange:J=>{T(J.target.files||[]),J.target.value=""}})]}),t.length>0&&N.jsxs(N.Fragment,{children:[N.jsxs("button",{type:"button",onClick:Z,disabled:g===0,className:"px-3 py-1.5 rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:["Import all ready (",g,")"]}),N.jsx("button",{type:"button",onClick:ut,className:"px-3 py-1.5 rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Clear"}),N.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["Imported"," ",N.jsx("span",{className:"text-slate-200 font-mono",children:p}),"/",N.jsx("span",{className:"text-slate-200 font-mono",children:t.length}),E?N.jsxs("span",{className:"ml-2 text-rose-400",children:["(",E," error",E===1?"":"s",")"]}):null]})]})]}),t.length>0&&N.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:t.slice().sort((J,et)=>J.createdAt-et.createdAt).map(J=>{const et=J.id===s,R=J.status==="imported"?"text-emerald-300":J.status==="ready"?"text-cyan-300":J.status==="error"?"text-rose-400":J.status==="needsMapping"?"text-amber-300":"text-slate-400";return N.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-md border text-[0.7rem] whitespace-nowrap ${et?"border-cyan-400/70 bg-cyan-500/10 text-cyan-200":"border-slate-700 text-slate-300 hover:border-slate-500"}`,children:[N.jsxs("button",{type:"button",onClick:()=>o(J.id),children:[J.name,N.jsxs("span",{className:`ml-2 ${R}`,children:[" ",J.status]})]}),N.jsx("button",{type:"button",className:"ml-1 text-slate-500 hover:text-slate-200",title:"Remove",onClick:()=>at(J.id),children:""})]},J.id)})}),m&&N.jsxs("div",{className:"mt-1 space-y-2",children:[N.jsxs("div",{className:"rounded-md border border-slate-800 bg-black/20 p-2 text-[0.7rem] text-slate-400",children:[N.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[N.jsxs("div",{children:[N.jsx("span",{className:"text-slate-200 font-semibold",children:m.name})," ",N.jsxs("span",{className:"text-slate-500",children:["(",m.kind.toUpperCase(),")"]})]}),N.jsxs("div",{className:"text-slate-500",children:["Rows:"," ",N.jsx("span",{className:"text-slate-200 font-mono",children:m.previewRows?.length||0}),m.detectedBank?N.jsxs(N.Fragment,{children:[" "," Bank:"," ",N.jsx("span",{className:"text-cyan-300 font-semibold",children:m.detectedBank})]}):null]})]}),m.error?N.jsx("div",{className:"mt-1 text-rose-400",children:m.error}):null]}),m.kind==="csv"&&m.rawText&&m.columns.length>0&&N.jsxs("div",{className:"border border-slate-700 rounded-md p-2 space-y-2",children:[N.jsx("p",{className:"text-[0.7rem] text-slate-400",children:"If dates/amounts look wrong, override the mapping:"}),N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:["date","description","amount"].map(J=>N.jsxs("label",{className:"flex flex-col gap-1 text-[0.7rem]",children:[N.jsx("span",{className:"uppercase tracking-[0.16em] text-slate-500",children:J}),N.jsxs("select",{className:"bg-[#05060F] border border-slate-700 rounded px-2 py-1 text-slate-200",value:m.mapping?.[J]??"",onChange:et=>k(J,et.target.value),children:[N.jsx("option",{value:"",children:"Auto detect"}),m.columns.map((et,R)=>N.jsxs("option",{value:R,children:[et," (column ",R+1,")"]},R))]})]},J))}),N.jsx("button",{type:"button",onClick:F,className:"mt-1 px-3 py-1.5 text-[0.7rem] rounded-md border border-cyan-400/70 text-cyan-100 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"Re-parse with mapping"}),m.status==="needsMapping"?N.jsx("p",{className:"text-[0.7rem] text-amber-300",children:"This file needs mapping before it can be imported."}):null]}),m.previewRows?.length>0&&N.jsxs("div",{className:"border border-slate-700 rounded-md p-2 space-y-2",children:[N.jsxs("div",{className:"flex items-center justify-between text-[0.7rem] text-slate-400",children:[N.jsxs("span",{children:["Previewing ",lt," of ",m.previewRows.length," rows"]}),N.jsxs("span",{children:["Net amount:"," ",N.jsxs("span",{className:mt<0?"text-rose-300":"text-emerald-300",children:[mt<0?"-":"","$",Math.abs(mt).toFixed(2)]})]})]}),N.jsx("div",{className:"max-h-40 overflow-auto text-[0.7rem]",children:N.jsxs("table",{className:"w-full text-left border-collapse",children:[N.jsx("thead",{className:"sticky top-0 bg-[#05060F]",children:N.jsxs("tr",{className:"border-b border-slate-700",children:[N.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Date"}),N.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Description"}),N.jsx("th",{className:"py-1 text-right font-semibold text-slate-300",children:"Amount"})]})}),N.jsx("tbody",{children:m.previewRows.slice(0,lt).map((J,et)=>N.jsxs("tr",{className:"border-b border-slate-800/60",children:[N.jsx("td",{className:"py-1 pr-2 text-slate-200",children:J.date}),N.jsx("td",{className:"py-1 pr-2 text-slate-300",children:J.description}),N.jsxs("td",{className:`py-1 text-right ${J.amount<0?"text-rose-300":"text-emerald-300"}`,children:[J.amount<0?"-":"","$",Math.abs(J.amount).toFixed(2)]})]},et))})]})}),N.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[N.jsx("button",{type:"button",onClick:()=>Q(m.id),disabled:m.status!=="ready",className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:"Import this file"}),N.jsx("button",{type:"button",onClick:()=>A(m.id),className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Re-parse"})]})]}),m.previewRows?.length===0&&m.status==="ready"?N.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"No rows to preview. If this seems wrong, try re-parsing or mapping."}):null]}),N.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"Tip: Most banks let you export recent transactions as CSV from their website."})]})}function uh({label:i,value:t,accent:n}){return N.jsxs("div",{className:"flex flex-col",children:[N.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.22em] text-slate-500",children:i}),N.jsxs("span",{className:`text-base font-semibold ${n}`,children:["$",t.toFixed(2)]})]})}const VD=["monthOverview","accountSnapshot","goals","csvImport"];function kD({month:i="",income:t=0,fixed:n=0,variable:s=0,leftover:o=0,goals:u=[],transactions:h=[],accounts:m=[],currentAccountId:p,onChangeCurrentAccount:g=()=>{},onOpenGoal:E=()=>{},onCreateGoal:T=()=>{},onCsvImported:A=()=>{},currentAccountBalance:k=0,totalBalance:F=0,sectionsOrder:Q}){const Z=Number(t)||0,at=Number(n)||0,ut=Number(s)||0,lt=Number(o)||0,mt=Z>0?(Z-lt)/Z*100:0,J=Q&&Q.length?Q:VD,et=Array.isArray(h)&&h.length>0,[R,w]=dn.useState(!1);return dn.useEffect(()=>{w(!1)},[h]),N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:i}),N.jsx("span",{className:"text-xs text-slate-400",children:"Overview of this month's money flow"})]}),J.map(C=>{switch(C){case"monthOverview":return N.jsxs(Bm,{title:"MONTH OVERVIEW",children:[N.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[N.jsx(uh,{label:"Income",value:Z,accent:"text-emerald-300"}),N.jsx(uh,{label:"Fixed",value:at,accent:"text-rose-300"}),N.jsx(uh,{label:"Variable",value:ut,accent:"text-amber-300"}),N.jsx(uh,{label:"Leftover",value:lt,accent:"text-cyan-300"})]}),N.jsxs("div",{className:"mt-4",children:[N.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Allocation this month"}),N.jsx(bS,{value:mt})]})]},"monthOverview");case"accountSnapshot":return N.jsxs(Bm,{title:"ACCOUNT SNAPSHOT",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex flex-col",children:[N.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Current account"}),N.jsx("select",{className:"mt-1 bg-[#05060F] border border-slate-700 rounded-md px-2 py-1 text-[0.75rem] text-slate-100",value:p,onChange:O=>g(O.target.value),children:(m||[]).map(O=>N.jsx("option",{value:O.id,children:O.name},O.id))})]}),N.jsxs("div",{className:"text-right",children:[N.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Balance"}),N.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",k.toFixed(2)]}),N.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["of $",F.toFixed(2)," total"]})]})]}),N.jsx("hr",{className:"my-3 border-slate-800"}),N.jsxs("div",{children:[N.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.2em] text-slate-500",children:"All accounts"}),N.jsxs("div",{className:"mt-1 text-xl font-semibold text-emerald-300",children:["$",F.toFixed(2)]}),N.jsx("p",{className:"mt-1 text-[0.7rem] text-slate-500",children:"Total estimated cash across all linked accounts."})]})]},"accountSnapshot");case"goals":return N.jsxs("div",{className:"space-y-3",children:[N.jsx("h2",{className:"text-xs tracking-[0.25em] text-slate-400 uppercase",children:"Goals"}),N.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:u.map(O=>N.jsx(vD,{goal:O,onClick:()=>E(O.id)},O.id))}),N.jsx("button",{type:"button",onClick:T,className:"mt-1 px-4 py-2 rounded-lg border border-cyan-400/70 text-xs text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"+ Add Goal"})]},"goals");case"csvImport":return N.jsxs(Bm,{title:"BANK STATEMENT IMPORT (CSV)",children:[N.jsx(MD,{onTransactionsParsed:(O,D)=>{w(!1),A(O,D)}}),et&&N.jsxs("div",{className:"mt-4 space-y-2",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("h3",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Current account transactions"}),N.jsx("button",{type:"button",className:"text-[0.7rem] px-2 py-1 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 transition",onClick:()=>w(O=>!O),children:R?"Hide":"Show"})]}),R&&N.jsx("div",{className:"max-h-64 overflow-auto border border-slate-800 rounded-lg",children:N.jsxs("table",{className:"w-full text-xs text-left",children:[N.jsx("thead",{className:"bg-slate-900 text-slate-300",children:N.jsxs("tr",{children:[N.jsx("th",{className:"px-2 py-1",children:"Date"}),N.jsx("th",{className:"px-2 py-1",children:"Description"}),N.jsx("th",{className:"px-2 py-1",children:"Category"}),N.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),N.jsx("tbody",{className:"divide-y divide-slate-800",children:h.map((O,D)=>N.jsxs("tr",{className:"hover:bg-slate-900/70",children:[N.jsx("td",{className:"px-2 py-1 text-slate-300",children:O.date||"-"}),N.jsx("td",{className:"px-2 py-1 text-slate-200",children:O.description||"-"}),N.jsx("td",{className:"px-2 py-1 text-slate-300",children:O.category||"Other"}),N.jsx("td",{className:`px-2 py-1 text-right ${typeof O.amount=="number"&&O.amount<0?"text-rose-300":"text-emerald-300"}`,children:typeof O.amount!="number"||Number.isNaN(O.amount)?"-":`$${O.amount.toFixed(2)}`})]},D))})]})})]})]},"csvImport");default:return null}})]})}function IE(i){return i.reduce((t,n)=>t+n.amount,0)}function qm(i){return(i||[]).map(t=>({...t,startingBalance:typeof t.startingBalance=="number"?t.startingBalance:0}))}var PD={value:()=>{}};function wS(){for(var i=0,t=arguments.length,n={},s;i<t;++i){if(!(s=arguments[i]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Ah(n)}function Ah(i){this._=i}function UD(i,t){return i.trim().split(/^|\s+/).map(function(n){var s="",o=n.indexOf(".");if(o>=0&&(s=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Ah.prototype=wS.prototype={constructor:Ah,on:function(i,t){var n=this._,s=UD(i+"",n),o,u=-1,h=s.length;if(arguments.length<2){for(;++u<h;)if((o=(i=s[u]).type)&&(o=LD(n[o],i.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<h;)if(o=(i=s[u]).type)n[o]=xE(n[o],i.name,t);else if(t==null)for(o in n)n[o]=xE(n[o],i.name,null);return this},copy:function(){var i={},t=this._;for(var n in t)i[n]=t[n].slice();return new Ah(i)},call:function(i,t){if((o=arguments.length-2)>0)for(var n=new Array(o),s=0,o,u;s<o;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(u=this._[i],s=0,o=u.length;s<o;++s)u[s].value.apply(t,n)},apply:function(i,t,n){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var s=this._[i],o=0,u=s.length;o<u;++o)s[o].value.apply(t,n)}};function LD(i,t){for(var n=0,s=i.length,o;n<s;++n)if((o=i[n]).name===t)return o.value}function xE(i,t,n){for(var s=0,o=i.length;s<o;++s)if(i[s].name===t){i[s]=PD,i=i.slice(0,s).concat(i.slice(s+1));break}return n!=null&&i.push({name:t,value:n}),i}var _p="http://www.w3.org/1999/xhtml";const NE={svg:"http://www.w3.org/2000/svg",xhtml:_p,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bf(i){var t=i+="",n=t.indexOf(":");return n>=0&&(t=i.slice(0,n))!=="xmlns"&&(i=i.slice(n+1)),NE.hasOwnProperty(t)?{space:NE[t],local:i}:i}function zD(i){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===_p&&t.documentElement.namespaceURI===_p?t.createElement(i):t.createElementNS(n,i)}}function jD(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function RS(i){var t=bf(i);return(t.local?jD:zD)(t)}function BD(){}function yg(i){return i==null?BD:function(){return this.querySelector(i)}}function qD(i){typeof i!="function"&&(i=yg(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],h=u.length,m=s[o]=new Array(h),p,g,E=0;E<h;++E)(p=u[E])&&(g=i.call(p,p.__data__,E,u))&&("__data__"in p&&(g.__data__=p.__data__),m[E]=g);return new si(s,this._parents)}function HD(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function FD(){return[]}function CS(i){return i==null?FD:function(){return this.querySelectorAll(i)}}function GD(i){return function(){return HD(i.apply(this,arguments))}}function QD(i){typeof i=="function"?i=GD(i):i=CS(i);for(var t=this._groups,n=t.length,s=[],o=[],u=0;u<n;++u)for(var h=t[u],m=h.length,p,g=0;g<m;++g)(p=h[g])&&(s.push(i.call(p,p.__data__,g,h)),o.push(p));return new si(s,o)}function IS(i){return function(){return this.matches(i)}}function xS(i){return function(t){return t.matches(i)}}var YD=Array.prototype.find;function KD(i){return function(){return YD.call(this.children,i)}}function XD(){return this.firstElementChild}function $D(i){return this.select(i==null?XD:KD(typeof i=="function"?i:xS(i)))}var ZD=Array.prototype.filter;function JD(){return Array.from(this.children)}function WD(i){return function(){return ZD.call(this.children,i)}}function tO(i){return this.selectAll(i==null?JD:WD(typeof i=="function"?i:xS(i)))}function eO(i){typeof i!="function"&&(i=IS(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],h=u.length,m=s[o]=[],p,g=0;g<h;++g)(p=u[g])&&i.call(p,p.__data__,g,u)&&m.push(p);return new si(s,this._parents)}function NS(i){return new Array(i.length)}function nO(){return new si(this._enter||this._groups.map(NS),this._parents)}function Yh(i,t){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=t}Yh.prototype={constructor:Yh,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,t){return this._parent.insertBefore(i,t)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function iO(i){return function(){return i}}function rO(i,t,n,s,o,u){for(var h=0,m,p=t.length,g=u.length;h<g;++h)(m=t[h])?(m.__data__=u[h],s[h]=m):n[h]=new Yh(i,u[h]);for(;h<p;++h)(m=t[h])&&(o[h]=m)}function sO(i,t,n,s,o,u,h){var m,p,g=new Map,E=t.length,T=u.length,A=new Array(E),k;for(m=0;m<E;++m)(p=t[m])&&(A[m]=k=h.call(p,p.__data__,m,t)+"",g.has(k)?o[m]=p:g.set(k,p));for(m=0;m<T;++m)k=h.call(i,u[m],m,u)+"",(p=g.get(k))?(s[m]=p,p.__data__=u[m],g.delete(k)):n[m]=new Yh(i,u[m]);for(m=0;m<E;++m)(p=t[m])&&g.get(A[m])===p&&(o[m]=p)}function aO(i){return i.__data__}function oO(i,t){if(!arguments.length)return Array.from(this,aO);var n=t?sO:rO,s=this._parents,o=this._groups;typeof i!="function"&&(i=iO(i));for(var u=o.length,h=new Array(u),m=new Array(u),p=new Array(u),g=0;g<u;++g){var E=s[g],T=o[g],A=T.length,k=lO(i.call(E,E&&E.__data__,g,s)),F=k.length,Q=m[g]=new Array(F),Z=h[g]=new Array(F),at=p[g]=new Array(A);n(E,T,Q,Z,at,k,t);for(var ut=0,lt=0,mt,J;ut<F;++ut)if(mt=Q[ut]){for(ut>=lt&&(lt=ut+1);!(J=Z[lt])&&++lt<F;);mt._next=J||null}}return h=new si(h,s),h._enter=m,h._exit=p,h}function lO(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function uO(){return new si(this._exit||this._groups.map(NS),this._parents)}function cO(i,t,n){var s=this.enter(),o=this,u=this.exit();return typeof i=="function"?(s=i(s),s&&(s=s.selection())):s=s.append(i+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?u.remove():n(u),s&&o?s.merge(o).order():o}function hO(i){for(var t=i.selection?i.selection():i,n=this._groups,s=t._groups,o=n.length,u=s.length,h=Math.min(o,u),m=new Array(o),p=0;p<h;++p)for(var g=n[p],E=s[p],T=g.length,A=m[p]=new Array(T),k,F=0;F<T;++F)(k=g[F]||E[F])&&(A[F]=k);for(;p<o;++p)m[p]=n[p];return new si(m,this._parents)}function fO(){for(var i=this._groups,t=-1,n=i.length;++t<n;)for(var s=i[t],o=s.length-1,u=s[o],h;--o>=0;)(h=s[o])&&(u&&h.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(h,u),u=h);return this}function dO(i){i||(i=mO);function t(T,A){return T&&A?i(T.__data__,A.__data__):!T-!A}for(var n=this._groups,s=n.length,o=new Array(s),u=0;u<s;++u){for(var h=n[u],m=h.length,p=o[u]=new Array(m),g,E=0;E<m;++E)(g=h[E])&&(p[E]=g);p.sort(t)}return new si(o,this._parents).order()}function mO(i,t){return i<t?-1:i>t?1:i>=t?0:NaN}function pO(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function gO(){return Array.from(this)}function yO(){for(var i=this._groups,t=0,n=i.length;t<n;++t)for(var s=i[t],o=0,u=s.length;o<u;++o){var h=s[o];if(h)return h}return null}function _O(){let i=0;for(const t of this)++i;return i}function vO(){return!this.node()}function EO(i){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var o=t[n],u=0,h=o.length,m;u<h;++u)(m=o[u])&&i.call(m,m.__data__,u,o);return this}function TO(i){return function(){this.removeAttribute(i)}}function bO(i){return function(){this.removeAttributeNS(i.space,i.local)}}function SO(i,t){return function(){this.setAttribute(i,t)}}function AO(i,t){return function(){this.setAttributeNS(i.space,i.local,t)}}function wO(i,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(i):this.setAttribute(i,n)}}function RO(i,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,n)}}function CO(i,t){var n=bf(i);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?bO:TO:typeof t=="function"?n.local?RO:wO:n.local?AO:SO)(n,t))}function DS(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function IO(i){return function(){this.style.removeProperty(i)}}function xO(i,t,n){return function(){this.style.setProperty(i,t,n)}}function NO(i,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(i):this.style.setProperty(i,s,n)}}function DO(i,t,n){return arguments.length>1?this.each((t==null?IO:typeof t=="function"?NO:xO)(i,t,n??"")):yo(this.node(),i)}function yo(i,t){return i.style.getPropertyValue(t)||DS(i).getComputedStyle(i,null).getPropertyValue(t)}function OO(i){return function(){delete this[i]}}function MO(i,t){return function(){this[i]=t}}function VO(i,t){return function(){var n=t.apply(this,arguments);n==null?delete this[i]:this[i]=n}}function kO(i,t){return arguments.length>1?this.each((t==null?OO:typeof t=="function"?VO:MO)(i,t)):this.node()[i]}function OS(i){return i.trim().split(/^|\s+/)}function _g(i){return i.classList||new MS(i)}function MS(i){this._node=i,this._names=OS(i.getAttribute("class")||"")}MS.prototype={add:function(i){var t=this._names.indexOf(i);t<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var t=this._names.indexOf(i);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function VS(i,t){for(var n=_g(i),s=-1,o=t.length;++s<o;)n.add(t[s])}function kS(i,t){for(var n=_g(i),s=-1,o=t.length;++s<o;)n.remove(t[s])}function PO(i){return function(){VS(this,i)}}function UO(i){return function(){kS(this,i)}}function LO(i,t){return function(){(t.apply(this,arguments)?VS:kS)(this,i)}}function zO(i,t){var n=OS(i+"");if(arguments.length<2){for(var s=_g(this.node()),o=-1,u=n.length;++o<u;)if(!s.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?LO:t?PO:UO)(n,t))}function jO(){this.textContent=""}function BO(i){return function(){this.textContent=i}}function qO(i){return function(){var t=i.apply(this,arguments);this.textContent=t??""}}function HO(i){return arguments.length?this.each(i==null?jO:(typeof i=="function"?qO:BO)(i)):this.node().textContent}function FO(){this.innerHTML=""}function GO(i){return function(){this.innerHTML=i}}function QO(i){return function(){var t=i.apply(this,arguments);this.innerHTML=t??""}}function YO(i){return arguments.length?this.each(i==null?FO:(typeof i=="function"?QO:GO)(i)):this.node().innerHTML}function KO(){this.nextSibling&&this.parentNode.appendChild(this)}function XO(){return this.each(KO)}function $O(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ZO(){return this.each($O)}function JO(i){var t=typeof i=="function"?i:RS(i);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function WO(){return null}function t4(i,t){var n=typeof i=="function"?i:RS(i),s=t==null?WO:typeof t=="function"?t:yg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function e4(){var i=this.parentNode;i&&i.removeChild(this)}function n4(){return this.each(e4)}function i4(){var i=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function r4(){var i=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function s4(i){return this.select(i?r4:i4)}function a4(i){return arguments.length?this.property("__data__",i):this.node().__data__}function o4(i){return function(t){i.call(this,t,this.__data__)}}function l4(i){return i.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function u4(i){return function(){var t=this.__on;if(t){for(var n=0,s=-1,o=t.length,u;n<o;++n)u=t[n],(!i.type||u.type===i.type)&&u.name===i.name?this.removeEventListener(u.type,u.listener,u.options):t[++s]=u;++s?t.length=s:delete this.__on}}}function c4(i,t,n){return function(){var s=this.__on,o,u=o4(t);if(s){for(var h=0,m=s.length;h<m;++h)if((o=s[h]).type===i.type&&o.name===i.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=n),o.value=t;return}}this.addEventListener(i.type,u,n),o={type:i.type,name:i.name,value:t,listener:u,options:n},s?s.push(o):this.__on=[o]}}function h4(i,t,n){var s=l4(i+""),o,u=s.length,h;if(arguments.length<2){var m=this.node().__on;if(m){for(var p=0,g=m.length,E;p<g;++p)for(o=0,E=m[p];o<u;++o)if((h=s[o]).type===E.type&&h.name===E.name)return E.value}return}for(m=t?c4:u4,o=0;o<u;++o)this.each(m(s[o],t,n));return this}function PS(i,t,n){var s=DS(i),o=s.CustomEvent;typeof o=="function"?o=new o(t,n):(o=s.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),i.dispatchEvent(o)}function f4(i,t){return function(){return PS(this,i,t)}}function d4(i,t){return function(){return PS(this,i,t.apply(this,arguments))}}function m4(i,t){return this.each((typeof t=="function"?d4:f4)(i,t))}function*p4(){for(var i=this._groups,t=0,n=i.length;t<n;++t)for(var s=i[t],o=0,u=s.length,h;o<u;++o)(h=s[o])&&(yield h)}var g4=[null];function si(i,t){this._groups=i,this._parents=t}function wu(){return new si([[document.documentElement]],g4)}function y4(){return this}si.prototype=wu.prototype={constructor:si,select:qD,selectAll:QD,selectChild:$D,selectChildren:tO,filter:eO,data:oO,enter:nO,exit:uO,join:cO,merge:hO,selection:y4,order:fO,sort:dO,call:pO,nodes:gO,node:yO,size:_O,empty:vO,each:EO,attr:CO,style:DO,property:kO,classed:zO,text:HO,html:YO,raise:XO,lower:ZO,append:JO,insert:t4,remove:n4,clone:s4,datum:a4,on:h4,dispatch:m4,[Symbol.iterator]:p4};function vg(i,t,n){i.prototype=t.prototype=n,n.constructor=i}function US(i,t){var n=Object.create(i.prototype);for(var s in t)n[s]=t[s];return n}function Ru(){}var cu=.7,Kh=1/cu,ao="\\s*([+-]?\\d+)\\s*",hu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_4=/^#([0-9a-f]{3,8})$/,v4=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),E4=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),T4=new RegExp(`^rgba\\(${ao},${ao},${ao},${hu}\\)$`),b4=new RegExp(`^rgba\\(${ki},${ki},${ki},${hu}\\)$`),S4=new RegExp(`^hsl\\(${hu},${ki},${ki}\\)$`),A4=new RegExp(`^hsla\\(${hu},${ki},${ki},${hu}\\)$`),DE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vg(Ru,fu,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:OE,formatHex:OE,formatHex8:w4,formatHsl:R4,formatRgb:ME,toString:ME});function OE(){return this.rgb().formatHex()}function w4(){return this.rgb().formatHex8()}function R4(){return LS(this).formatHsl()}function ME(){return this.rgb().formatRgb()}function fu(i){var t,n;return i=(i+"").trim().toLowerCase(),(t=_4.exec(i))?(n=t[1].length,t=parseInt(t[1],16),n===6?VE(t):n===3?new pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ch(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ch(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=v4.exec(i))?new pn(t[1],t[2],t[3],1):(t=E4.exec(i))?new pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=T4.exec(i))?ch(t[1],t[2],t[3],t[4]):(t=b4.exec(i))?ch(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=S4.exec(i))?UE(t[1],t[2]/100,t[3]/100,1):(t=A4.exec(i))?UE(t[1],t[2]/100,t[3]/100,t[4]):DE.hasOwnProperty(i)?VE(DE[i]):i==="transparent"?new pn(NaN,NaN,NaN,0):null}function VE(i){return new pn(i>>16&255,i>>8&255,i&255,1)}function ch(i,t,n,s){return s<=0&&(i=t=n=NaN),new pn(i,t,n,s)}function C4(i){return i instanceof Ru||(i=fu(i)),i?(i=i.rgb(),new pn(i.r,i.g,i.b,i.opacity)):new pn}function vp(i,t,n,s){return arguments.length===1?C4(i):new pn(i,t,n,s??1)}function pn(i,t,n,s){this.r=+i,this.g=+t,this.b=+n,this.opacity=+s}vg(pn,vp,US(Ru,{brighter(i){return i=i==null?Kh:Math.pow(Kh,i),new pn(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?cu:Math.pow(cu,i),new pn(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new pn(Js(this.r),Js(this.g),Js(this.b),Xh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kE,formatHex:kE,formatHex8:I4,formatRgb:PE,toString:PE}));function kE(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}`}function I4(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}${$s((isNaN(this.opacity)?1:this.opacity)*255)}`}function PE(){const i=Xh(this.opacity);return`${i===1?"rgb(":"rgba("}${Js(this.r)}, ${Js(this.g)}, ${Js(this.b)}${i===1?")":`, ${i})`}`}function Xh(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function Js(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function $s(i){return i=Js(i),(i<16?"0":"")+i.toString(16)}function UE(i,t,n,s){return s<=0?i=t=n=NaN:n<=0||n>=1?i=t=NaN:t<=0&&(i=NaN),new ti(i,t,n,s)}function LS(i){if(i instanceof ti)return new ti(i.h,i.s,i.l,i.opacity);if(i instanceof Ru||(i=fu(i)),!i)return new ti;if(i instanceof ti)return i;i=i.rgb();var t=i.r/255,n=i.g/255,s=i.b/255,o=Math.min(t,n,s),u=Math.max(t,n,s),h=NaN,m=u-o,p=(u+o)/2;return m?(t===u?h=(n-s)/m+(n<s)*6:n===u?h=(s-t)/m+2:h=(t-n)/m+4,m/=p<.5?u+o:2-u-o,h*=60):m=p>0&&p<1?0:h,new ti(h,m,p,i.opacity)}function x4(i,t,n,s){return arguments.length===1?LS(i):new ti(i,t,n,s??1)}function ti(i,t,n,s){this.h=+i,this.s=+t,this.l=+n,this.opacity=+s}vg(ti,x4,US(Ru,{brighter(i){return i=i==null?Kh:Math.pow(Kh,i),new ti(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?cu:Math.pow(cu,i),new ti(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,t=isNaN(i)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,o=2*n-s;return new pn(Hm(i>=240?i-240:i+120,o,s),Hm(i,o,s),Hm(i<120?i+240:i-120,o,s),this.opacity)},clamp(){return new ti(LE(this.h),hh(this.s),hh(this.l),Xh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=Xh(this.opacity);return`${i===1?"hsl(":"hsla("}${LE(this.h)}, ${hh(this.s)*100}%, ${hh(this.l)*100}%${i===1?")":`, ${i})`}`}}));function LE(i){return i=(i||0)%360,i<0?i+360:i}function hh(i){return Math.max(0,Math.min(1,i||0))}function Hm(i,t,n){return(i<60?t+(n-t)*i/60:i<180?n:i<240?t+(n-t)*(240-i)/60:t)*255}const zS=i=>()=>i;function N4(i,t){return function(n){return i+n*t}}function D4(i,t,n){return i=Math.pow(i,n),t=Math.pow(t,n)-i,n=1/n,function(s){return Math.pow(i+s*t,n)}}function O4(i){return(i=+i)==1?jS:function(t,n){return n-t?D4(t,n,i):zS(isNaN(t)?n:t)}}function jS(i,t){var n=t-i;return n?N4(i,n):zS(isNaN(i)?t:i)}const zE=(function i(t){var n=O4(t);function s(o,u){var h=n((o=vp(o)).r,(u=vp(u)).r),m=n(o.g,u.g),p=n(o.b,u.b),g=jS(o.opacity,u.opacity);return function(E){return o.r=h(E),o.g=m(E),o.b=p(E),o.opacity=g(E),o+""}}return s.gamma=i,s})(1);function Jr(i,t){return i=+i,t=+t,function(n){return i*(1-n)+t*n}}var Ep=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fm=new RegExp(Ep.source,"g");function M4(i){return function(){return i}}function V4(i){return function(t){return i(t)+""}}function k4(i,t){var n=Ep.lastIndex=Fm.lastIndex=0,s,o,u,h=-1,m=[],p=[];for(i=i+"",t=t+"";(s=Ep.exec(i))&&(o=Fm.exec(t));)(u=o.index)>n&&(u=t.slice(n,u),m[h]?m[h]+=u:m[++h]=u),(s=s[0])===(o=o[0])?m[h]?m[h]+=o:m[++h]=o:(m[++h]=null,p.push({i:h,x:Jr(s,o)})),n=Fm.lastIndex;return n<t.length&&(u=t.slice(n),m[h]?m[h]+=u:m[++h]=u),m.length<2?p[0]?V4(p[0].x):M4(t):(t=p.length,function(g){for(var E=0,T;E<t;++E)m[(T=p[E]).i]=T.x(g);return m.join("")})}var jE=180/Math.PI,Tp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function BS(i,t,n,s,o,u){var h,m,p;return(h=Math.sqrt(i*i+t*t))&&(i/=h,t/=h),(p=i*n+t*s)&&(n-=i*p,s-=t*p),(m=Math.sqrt(n*n+s*s))&&(n/=m,s/=m,p/=m),i*s<t*n&&(i=-i,t=-t,p=-p,h=-h),{translateX:o,translateY:u,rotate:Math.atan2(t,i)*jE,skewX:Math.atan(p)*jE,scaleX:h,scaleY:m}}var fh;function P4(i){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return t.isIdentity?Tp:BS(t.a,t.b,t.c,t.d,t.e,t.f)}function U4(i){return i==null||(fh||(fh=document.createElementNS("http://www.w3.org/2000/svg","g")),fh.setAttribute("transform",i),!(i=fh.transform.baseVal.consolidate()))?Tp:(i=i.matrix,BS(i.a,i.b,i.c,i.d,i.e,i.f))}function qS(i,t,n,s){function o(g){return g.length?g.pop()+" ":""}function u(g,E,T,A,k,F){if(g!==T||E!==A){var Q=k.push("translate(",null,t,null,n);F.push({i:Q-4,x:Jr(g,T)},{i:Q-2,x:Jr(E,A)})}else(T||A)&&k.push("translate("+T+t+A+n)}function h(g,E,T,A){g!==E?(g-E>180?E+=360:E-g>180&&(g+=360),A.push({i:T.push(o(T)+"rotate(",null,s)-2,x:Jr(g,E)})):E&&T.push(o(T)+"rotate("+E+s)}function m(g,E,T,A){g!==E?A.push({i:T.push(o(T)+"skewX(",null,s)-2,x:Jr(g,E)}):E&&T.push(o(T)+"skewX("+E+s)}function p(g,E,T,A,k,F){if(g!==T||E!==A){var Q=k.push(o(k)+"scale(",null,",",null,")");F.push({i:Q-4,x:Jr(g,T)},{i:Q-2,x:Jr(E,A)})}else(T!==1||A!==1)&&k.push(o(k)+"scale("+T+","+A+")")}return function(g,E){var T=[],A=[];return g=i(g),E=i(E),u(g.translateX,g.translateY,E.translateX,E.translateY,T,A),h(g.rotate,E.rotate,T,A),m(g.skewX,E.skewX,T,A),p(g.scaleX,g.scaleY,E.scaleX,E.scaleY,T,A),g=E=null,function(k){for(var F=-1,Q=A.length,Z;++F<Q;)T[(Z=A[F]).i]=Z.x(k);return T.join("")}}}var L4=qS(P4,"px, ","px)","deg)"),z4=qS(U4,", ",")",")"),_o=0,ql=0,kl=0,HS=1e3,$h,Hl,Zh=0,aa=0,Sf=0,du=typeof performance=="object"&&performance.now?performance:Date,FS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function Eg(){return aa||(FS(j4),aa=du.now()+Sf)}function j4(){aa=0}function Jh(){this._call=this._time=this._next=null}Jh.prototype=GS.prototype={constructor:Jh,restart:function(i,t,n){if(typeof i!="function")throw new TypeError("callback is not a function");n=(n==null?Eg():+n)+(t==null?0:+t),!this._next&&Hl!==this&&(Hl?Hl._next=this:$h=this,Hl=this),this._call=i,this._time=n,bp()},stop:function(){this._call&&(this._call=null,this._time=1/0,bp())}};function GS(i,t,n){var s=new Jh;return s.restart(i,t,n),s}function B4(){Eg(),++_o;for(var i=$h,t;i;)(t=aa-i._time)>=0&&i._call.call(void 0,t),i=i._next;--_o}function BE(){aa=(Zh=du.now())+Sf,_o=ql=0;try{B4()}finally{_o=0,H4(),aa=0}}function q4(){var i=du.now(),t=i-Zh;t>HS&&(Sf-=t,Zh=i)}function H4(){for(var i,t=$h,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),i=t,t=t._next):(n=t._next,t._next=null,t=i?i._next=n:$h=n);Hl=i,bp(s)}function bp(i){if(!_o){ql&&(ql=clearTimeout(ql));var t=i-aa;t>24?(i<1/0&&(ql=setTimeout(BE,i-du.now()-Sf)),kl&&(kl=clearInterval(kl))):(kl||(Zh=du.now(),kl=setInterval(q4,HS)),_o=1,FS(BE))}}function qE(i,t,n){var s=new Jh;return t=t==null?0:+t,s.restart(o=>{s.stop(),i(o+t)},t,n),s}var F4=wS("start","end","cancel","interrupt"),G4=[],QS=0,HE=1,Sp=2,wh=3,FE=4,Ap=5,Rh=6;function Af(i,t,n,s,o,u){var h=i.__transition;if(!h)i.__transition={};else if(n in h)return;Q4(i,n,{name:t,index:s,group:o,on:F4,tween:G4,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:QS})}function Tg(i,t){var n=ai(i,t);if(n.state>QS)throw new Error("too late; already scheduled");return n}function Li(i,t){var n=ai(i,t);if(n.state>wh)throw new Error("too late; already running");return n}function ai(i,t){var n=i.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Q4(i,t,n){var s=i.__transition,o;s[t]=n,n.timer=GS(u,0,n.time);function u(g){n.state=HE,n.timer.restart(h,n.delay,n.time),n.delay<=g&&h(g-n.delay)}function h(g){var E,T,A,k;if(n.state!==HE)return p();for(E in s)if(k=s[E],k.name===n.name){if(k.state===wh)return qE(h);k.state===FE?(k.state=Rh,k.timer.stop(),k.on.call("interrupt",i,i.__data__,k.index,k.group),delete s[E]):+E<t&&(k.state=Rh,k.timer.stop(),k.on.call("cancel",i,i.__data__,k.index,k.group),delete s[E])}if(qE(function(){n.state===wh&&(n.state=FE,n.timer.restart(m,n.delay,n.time),m(g))}),n.state=Sp,n.on.call("start",i,i.__data__,n.index,n.group),n.state===Sp){for(n.state=wh,o=new Array(A=n.tween.length),E=0,T=-1;E<A;++E)(k=n.tween[E].value.call(i,i.__data__,n.index,n.group))&&(o[++T]=k);o.length=T+1}}function m(g){for(var E=g<n.duration?n.ease.call(null,g/n.duration):(n.timer.restart(p),n.state=Ap,1),T=-1,A=o.length;++T<A;)o[T].call(i,E);n.state===Ap&&(n.on.call("end",i,i.__data__,n.index,n.group),p())}function p(){n.state=Rh,n.timer.stop(),delete s[t];for(var g in s)return;delete i.__transition}}function Y4(i,t){var n=i.__transition,s,o,u=!0,h;if(n){t=t==null?null:t+"";for(h in n){if((s=n[h]).name!==t){u=!1;continue}o=s.state>Sp&&s.state<Ap,s.state=Rh,s.timer.stop(),s.on.call(o?"interrupt":"cancel",i,i.__data__,s.index,s.group),delete n[h]}u&&delete i.__transition}}function K4(i){return this.each(function(){Y4(this,i)})}function X4(i,t){var n,s;return function(){var o=Li(this,i),u=o.tween;if(u!==n){s=n=u;for(var h=0,m=s.length;h<m;++h)if(s[h].name===t){s=s.slice(),s.splice(h,1);break}}o.tween=s}}function $4(i,t,n){var s,o;if(typeof n!="function")throw new Error;return function(){var u=Li(this,i),h=u.tween;if(h!==s){o=(s=h).slice();for(var m={name:t,value:n},p=0,g=o.length;p<g;++p)if(o[p].name===t){o[p]=m;break}p===g&&o.push(m)}u.tween=o}}function Z4(i,t){var n=this._id;if(i+="",arguments.length<2){for(var s=ai(this.node(),n).tween,o=0,u=s.length,h;o<u;++o)if((h=s[o]).name===i)return h.value;return null}return this.each((t==null?X4:$4)(n,i,t))}function bg(i,t,n){var s=i._id;return i.each(function(){var o=Li(this,s);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return ai(o,s).value[t]}}function YS(i,t){var n;return(typeof t=="number"?Jr:t instanceof fu?zE:(n=fu(t))?(t=n,zE):k4)(i,t)}function J4(i){return function(){this.removeAttribute(i)}}function W4(i){return function(){this.removeAttributeNS(i.space,i.local)}}function tM(i,t,n){var s,o=n+"",u;return function(){var h=this.getAttribute(i);return h===o?null:h===s?u:u=t(s=h,n)}}function eM(i,t,n){var s,o=n+"",u;return function(){var h=this.getAttributeNS(i.space,i.local);return h===o?null:h===s?u:u=t(s=h,n)}}function nM(i,t,n){var s,o,u;return function(){var h,m=n(this),p;return m==null?void this.removeAttribute(i):(h=this.getAttribute(i),p=m+"",h===p?null:h===s&&p===o?u:(o=p,u=t(s=h,m)))}}function iM(i,t,n){var s,o,u;return function(){var h,m=n(this),p;return m==null?void this.removeAttributeNS(i.space,i.local):(h=this.getAttributeNS(i.space,i.local),p=m+"",h===p?null:h===s&&p===o?u:(o=p,u=t(s=h,m)))}}function rM(i,t){var n=bf(i),s=n==="transform"?z4:YS;return this.attrTween(i,typeof t=="function"?(n.local?iM:nM)(n,s,bg(this,"attr."+i,t)):t==null?(n.local?W4:J4)(n):(n.local?eM:tM)(n,s,t))}function sM(i,t){return function(n){this.setAttribute(i,t.call(this,n))}}function aM(i,t){return function(n){this.setAttributeNS(i.space,i.local,t.call(this,n))}}function oM(i,t){var n,s;function o(){var u=t.apply(this,arguments);return u!==s&&(n=(s=u)&&aM(i,u)),n}return o._value=t,o}function lM(i,t){var n,s;function o(){var u=t.apply(this,arguments);return u!==s&&(n=(s=u)&&sM(i,u)),n}return o._value=t,o}function uM(i,t){var n="attr."+i;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=bf(i);return this.tween(n,(s.local?oM:lM)(s,t))}function cM(i,t){return function(){Tg(this,i).delay=+t.apply(this,arguments)}}function hM(i,t){return t=+t,function(){Tg(this,i).delay=t}}function fM(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?cM:hM)(t,i)):ai(this.node(),t).delay}function dM(i,t){return function(){Li(this,i).duration=+t.apply(this,arguments)}}function mM(i,t){return t=+t,function(){Li(this,i).duration=t}}function pM(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?dM:mM)(t,i)):ai(this.node(),t).duration}function gM(i,t){if(typeof t!="function")throw new Error;return function(){Li(this,i).ease=t}}function yM(i){var t=this._id;return arguments.length?this.each(gM(t,i)):ai(this.node(),t).ease}function _M(i,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Li(this,i).ease=n}}function vM(i){if(typeof i!="function")throw new Error;return this.each(_M(this._id,i))}function EM(i){typeof i!="function"&&(i=IS(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],h=u.length,m=s[o]=[],p,g=0;g<h;++g)(p=u[g])&&i.call(p,p.__data__,g,u)&&m.push(p);return new dr(s,this._parents,this._name,this._id)}function TM(i){if(i._id!==this._id)throw new Error;for(var t=this._groups,n=i._groups,s=t.length,o=n.length,u=Math.min(s,o),h=new Array(s),m=0;m<u;++m)for(var p=t[m],g=n[m],E=p.length,T=h[m]=new Array(E),A,k=0;k<E;++k)(A=p[k]||g[k])&&(T[k]=A);for(;m<s;++m)h[m]=t[m];return new dr(h,this._parents,this._name,this._id)}function bM(i){return(i+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function SM(i,t,n){var s,o,u=bM(t)?Tg:Li;return function(){var h=u(this,i),m=h.on;m!==s&&(o=(s=m).copy()).on(t,n),h.on=o}}function AM(i,t){var n=this._id;return arguments.length<2?ai(this.node(),n).on.on(i):this.each(SM(n,i,t))}function wM(i){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==i)return;t&&t.removeChild(this)}}function RM(){return this.on("end.remove",wM(this._id))}function CM(i){var t=this._name,n=this._id;typeof i!="function"&&(i=yg(i));for(var s=this._groups,o=s.length,u=new Array(o),h=0;h<o;++h)for(var m=s[h],p=m.length,g=u[h]=new Array(p),E,T,A=0;A<p;++A)(E=m[A])&&(T=i.call(E,E.__data__,A,m))&&("__data__"in E&&(T.__data__=E.__data__),g[A]=T,Af(g[A],t,n,A,g,ai(E,n)));return new dr(u,this._parents,t,n)}function IM(i){var t=this._name,n=this._id;typeof i!="function"&&(i=CS(i));for(var s=this._groups,o=s.length,u=[],h=[],m=0;m<o;++m)for(var p=s[m],g=p.length,E,T=0;T<g;++T)if(E=p[T]){for(var A=i.call(E,E.__data__,T,p),k,F=ai(E,n),Q=0,Z=A.length;Q<Z;++Q)(k=A[Q])&&Af(k,t,n,Q,A,F);u.push(A),h.push(E)}return new dr(u,h,t,n)}var xM=wu.prototype.constructor;function NM(){return new xM(this._groups,this._parents)}function DM(i,t){var n,s,o;return function(){var u=yo(this,i),h=(this.style.removeProperty(i),yo(this,i));return u===h?null:u===n&&h===s?o:o=t(n=u,s=h)}}function KS(i){return function(){this.style.removeProperty(i)}}function OM(i,t,n){var s,o=n+"",u;return function(){var h=yo(this,i);return h===o?null:h===s?u:u=t(s=h,n)}}function MM(i,t,n){var s,o,u;return function(){var h=yo(this,i),m=n(this),p=m+"";return m==null&&(p=m=(this.style.removeProperty(i),yo(this,i))),h===p?null:h===s&&p===o?u:(o=p,u=t(s=h,m))}}function VM(i,t){var n,s,o,u="style."+t,h="end."+u,m;return function(){var p=Li(this,i),g=p.on,E=p.value[u]==null?m||(m=KS(t)):void 0;(g!==n||o!==E)&&(s=(n=g).copy()).on(h,o=E),p.on=s}}function kM(i,t,n){var s=(i+="")=="transform"?L4:YS;return t==null?this.styleTween(i,DM(i,s)).on("end.style."+i,KS(i)):typeof t=="function"?this.styleTween(i,MM(i,s,bg(this,"style."+i,t))).each(VM(this._id,i)):this.styleTween(i,OM(i,s,t),n).on("end.style."+i,null)}function PM(i,t,n){return function(s){this.style.setProperty(i,t.call(this,s),n)}}function UM(i,t,n){var s,o;function u(){var h=t.apply(this,arguments);return h!==o&&(s=(o=h)&&PM(i,h,n)),s}return u._value=t,u}function LM(i,t,n){var s="style."+(i+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,UM(i,t,n??""))}function zM(i){return function(){this.textContent=i}}function jM(i){return function(){var t=i(this);this.textContent=t??""}}function BM(i){return this.tween("text",typeof i=="function"?jM(bg(this,"text",i)):zM(i==null?"":i+""))}function qM(i){return function(t){this.textContent=i.call(this,t)}}function HM(i){var t,n;function s(){var o=i.apply(this,arguments);return o!==n&&(t=(n=o)&&qM(o)),t}return s._value=i,s}function FM(i){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(i==null)return this.tween(t,null);if(typeof i!="function")throw new Error;return this.tween(t,HM(i))}function GM(){for(var i=this._name,t=this._id,n=XS(),s=this._groups,o=s.length,u=0;u<o;++u)for(var h=s[u],m=h.length,p,g=0;g<m;++g)if(p=h[g]){var E=ai(p,t);Af(p,i,n,g,h,{time:E.time+E.delay+E.duration,delay:0,duration:E.duration,ease:E.ease})}return new dr(s,this._parents,i,n)}function QM(){var i,t,n=this,s=n._id,o=n.size();return new Promise(function(u,h){var m={value:h},p={value:function(){--o===0&&u()}};n.each(function(){var g=Li(this,s),E=g.on;E!==i&&(t=(i=E).copy(),t._.cancel.push(m),t._.interrupt.push(m),t._.end.push(p)),g.on=t}),o===0&&u()})}var YM=0;function dr(i,t,n,s){this._groups=i,this._parents=t,this._name=n,this._id=s}function XS(){return++YM}var sr=wu.prototype;dr.prototype={constructor:dr,select:CM,selectAll:IM,selectChild:sr.selectChild,selectChildren:sr.selectChildren,filter:EM,merge:TM,selection:NM,transition:GM,call:sr.call,nodes:sr.nodes,node:sr.node,size:sr.size,empty:sr.empty,each:sr.each,on:AM,attr:rM,attrTween:uM,style:kM,styleTween:LM,text:BM,textTween:FM,remove:RM,tween:Z4,delay:fM,duration:pM,ease:yM,easeVarying:vM,end:QM,[Symbol.iterator]:sr[Symbol.iterator]};function KM(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var XM={time:null,delay:0,duration:250,ease:KM};function $M(i,t){for(var n;!(n=i.__transition)||!(n=n[t]);)if(!(i=i.parentNode))throw new Error(`transition ${t} not found`);return n}function ZM(i){var t,n;i instanceof dr?(t=i._id,i=i._name):(t=XS(),(n=XM).time=Eg(),i=i==null?null:i+"");for(var s=this._groups,o=s.length,u=0;u<o;++u)for(var h=s[u],m=h.length,p,g=0;g<m;++g)(p=h[g])&&Af(p,i,t,g,h,n||$M(p,t));return new dr(s,this._parents,i,t)}wu.prototype.interrupt=K4;wu.prototype.transition=ZM;function Fl(i,t,n){this.k=i,this.x=t,this.y=n}Fl.prototype={constructor:Fl,scale:function(i){return i===1?this:new Fl(this.k*i,this.x,this.y)},translate:function(i,t){return i===0&t===0?this:new Fl(this.k,this.x+this.k*i,this.y+this.k*t)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Fl.prototype;const Sg="budgetAppState_v1";function JM(){if(typeof window>"u")return null;try{const i=window.localStorage.getItem(Sg);return i?JSON.parse(i):null}catch(i){return console.error("Failed to load stored state",i),null}}function WM(i){if(!(typeof window>"u"))try{window.localStorage.setItem(Sg,JSON.stringify(i))}catch(t){console.error("Failed to save state",t)}}function tV(i){if(!i)return null;if(i.accounts&&Array.isArray(i.accounts))return i;const t={id:"main",name:"Main Account",type:"checking",transactions:Array.isArray(i.transactions)?i.transactions:[]};return{...i,accounts:[t],currentAccountId:i.currentAccountId||"main"}}const $S=[{key:"dashboard",label:"Dashboard"},{key:"balances",label:"Accounts"},{key:"budget",label:"Budget"},{key:"transactions",label:"Transactions"},{key:"goalDetail",label:"Goals"},{key:"reports",label:"Reports"}];Object.fromEntries($S.map(i=>[i.key,i.label]));const GE=["monthOverview","accountSnapshot","goals","csvImport"];function eV(){const i=new Date;return`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`}function nV(){const{user:i,authLoading:t,signInWithEmail:n,signUpWithEmail:s,signOut:o,resetPassword:u}=rD(),h=i?.uid||null,m=xt.useRef(!1),p=xt.useRef(null),g=xt.useRef(null);g.current===null&&(g.current=tV(JM()));const E=g.current,[T,A]=xt.useState(E?.theme||"dark"),[k,F]=xt.useState(E?.budgetsByMonth||{}),[Q,Z]=xt.useState(E?.activeMonth||eV()),[at,ut]=xt.useState(E?.goals||[]),[lt,mt]=xt.useState(qm(E?.accounts||[])),[J,et]=xt.useState(E?.currentAccountId||"main"),[R,w]=xt.useState(E?.navOrder||$S.map(se=>se.key)),[C,O]=xt.useState(E?.homePage||"dashboard"),[D,P]=xt.useState(E?.dashboardSectionsOrder||GE),[I,Xt]=xt.useState(C),[le,G]=xt.useState(E?.selectedGoalId||null),[nt,pt]=xt.useState(E?.txFilter||""),[Ot,qt]=xt.useState(null),[V,X]=xt.useState(null),[rt,st]=xt.useState(null),[Et,bt]=xt.useState(!1),It=k[Q]||{month:Q,income:0},ue=xt.useMemo(()=>{const se=IE(It.fixed||[]),Bn=IE(It.variable||[]);return{fixed:se,variable:Bn,leftover:(It.income||0)-se-Bn}},[It]),te=xt.useMemo(()=>TS(T),[T]);xt.useEffect(()=>{i?.uid&&(bt(!0),uD(i).then(st).finally(()=>bt(!1)))},[i?.uid]),xt.useEffect(()=>{if(!h)return;const se=po(go,"workspaces",h),Bn=eD(se,yr=>{const ve=yr.data()?.state;ve&&(m.current=!0,F(ve.budgetsByMonth||{}),Z(ve.activeMonth||Q),ut(ve.goals||[]),mt(qm(ve.accounts||[])),et(ve.currentAccountId||"main"),w(ve.navOrder||R),P(ve.dashboardSectionsOrder||GE),A(ve.theme||"dark"))});return()=>Bn()},[h]),xt.useEffect(()=>{h&&sD(h).then(se=>{se&&(m.current=!0,F(se.budgetsByMonth||{}),Z(se.activeMonth||Q),ut(se.goals||[]),mt(qm(se.accounts||[])))})},[h]),xt.useEffect(()=>{const se={budgetsByMonth:k,activeMonth:Q,goals:at,accounts:lt,currentAccountId:J,navOrder:R,homePage:C,dashboardSectionsOrder:D,theme:T,txFilter:nt};if(WM(se),!!h){if(m.current){m.current=!1;return}clearTimeout(p.current),p.current=setTimeout(()=>{aD(h,se).then(()=>X(new Date().toLocaleTimeString()))},600)}},[h,k,Q,at,lt,J,R,C,D,T,nt]);async function zi(){window.confirm("Reset all data?")&&(h&&await tD(po(go,"workspaces",h)),localStorage.removeItem(Sg),window.location.reload())}return i?N.jsxs("div",{className:`app-shell ${te.shellClass}`,children:[N.jsx("header",{className:te.headerClass,children:N.jsxs("div",{className:"content flex justify-between items-center",children:[N.jsx("span",{children:"BUDGET CENTER"}),N.jsx(yD,{profile:rt,email:i.email,loading:Et,onUpdateProfile:se=>cD(i.uid,se).then(st)}),N.jsx(dD,{onReset:zi,onSignOut:o,themeValue:T,onChangeTheme:A})]})}),N.jsx("main",{className:"content",children:I==="dashboard"&&N.jsx(kD,{month:Q,income:It.income,fixed:ue.fixed,variable:ue.variable,leftover:ue.leftover,goals:at,accounts:lt,currentAccountId:J,onChangeCurrentAccount:et})}),Ot&&N.jsx(pD,{...Ot,onClose:()=>qt(null)})]}):N.jsx(mD,{loading:t,onSignIn:n,onSignUp:s,onResetPassword:u})}U1.createRoot(document.getElementById("root")).render(N.jsx(xt.StrictMode,{children:N.jsx(iD,{children:N.jsx(nV,{})})}));export{Sh as a,SS as c,AS as p};
