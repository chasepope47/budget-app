(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function WA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Rm={exports:{}},kl={};var rv;function tS(){if(rv)return kl;rv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return kl.Fragment=t,kl.jsx=n,kl.jsxs=n,kl}var sv;function eS(){return sv||(sv=1,Rm.exports=tS()),Rm.exports}var b=eS(),Cm={exports:{}},Ct={};var av;function nS(){if(av)return Ct;av=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,$={};function lt(k,W,ut){this.props=k,this.context=W,this.refs=$,this.updater=ut||U}lt.prototype.isReactComponent={},lt.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},lt.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Z(){}Z.prototype=lt.prototype;function ot(k,W,ut){this.props=k,this.context=W,this.refs=$,this.updater=ut||U}var ct=ot.prototype=new Z;ct.constructor=ot,F(ct,lt.prototype),ct.isPureReactComponent=!0;var X=Array.isArray;function st(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(k,W,ut){var ft=ut.ref;return{$$typeof:i,type:k,key:W,ref:ft!==void 0?ft:null,props:ut}}function D(k,W){return C(k.type,W,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function L(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ut){return W[ut]})}var N=/\/+/g;function gt(k,W){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):W.toString(36)}function K(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(st,st):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function P(k,W,ut,ft,vt){var xt=typeof k;(xt==="undefined"||xt==="boolean")&&(k=null);var Dt=!1;if(k===null)Dt=!0;else switch(xt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(k.$$typeof){case i:case t:Dt=!0;break;case v:return Dt=k._init,P(Dt(k._payload),W,ut,ft,vt)}}if(Dt)return vt=vt(k),Dt=ft===""?"."+gt(k,0):ft,X(vt)?(ut="",Dt!=null&&(ut=Dt.replace(N,"$&/")+"/"),P(vt,W,ut,"",function(mi){return mi})):vt!=null&&(O(vt)&&(vt=D(vt,ut+(vt.key==null||k&&k.key===vt.key?"":(""+vt.key).replace(N,"$&/")+"/")+Dt)),W.push(vt)),1;Dt=0;var se=ft===""?".":ft+":";if(X(k))for(var Xt=0;Xt<k.length;Xt++)ft=k[Xt],xt=se+gt(ft,Xt),Dt+=P(ft,W,ut,xt,vt);else if(Xt=I(k),typeof Xt=="function")for(k=Xt.call(k),Xt=0;!(ft=k.next()).done;)ft=ft.value,xt=se+gt(ft,Xt++),Dt+=P(ft,W,ut,xt,vt);else if(xt==="object"){if(typeof k.then=="function")return P(K(k),W,ut,ft,vt);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function G(k,W,ut){if(k==null)return k;var ft=[],vt=0;return P(k,ft,"","",function(xt){return W.call(ut,xt,vt++)}),ft}function et(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(ut){(k._status===0||k._status===-1)&&(k._status=1,k._result=ut)},function(ut){(k._status===0||k._status===-1)&&(k._status=2,k._result=ut)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var it=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},dt={map:G,forEach:function(k,W,ut){G(k,function(){W.apply(this,arguments)},ut)},count:function(k){var W=0;return G(k,function(){W++}),W},toArray:function(k){return G(k,function(W){return W})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ct.Activity=T,Ct.Children=dt,Ct.Component=lt,Ct.Fragment=n,Ct.Profiler=o,Ct.PureComponent=ot,Ct.StrictMode=s,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Ct.cache=function(k){return function(){return k.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(k,W,ut){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ft=F({},k.props),vt=k.key;if(W!=null)for(xt in W.key!==void 0&&(vt=""+W.key),W)!S.call(W,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&W.ref===void 0||(ft[xt]=W[xt]);var xt=arguments.length-2;if(xt===1)ft.children=ut;else if(1<xt){for(var Dt=Array(xt),se=0;se<xt;se++)Dt[se]=arguments[se+2];ft.children=Dt}return C(k.type,vt,ft)},Ct.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ct.createElement=function(k,W,ut){var ft,vt={},xt=null;if(W!=null)for(ft in W.key!==void 0&&(xt=""+W.key),W)S.call(W,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(vt[ft]=W[ft]);var Dt=arguments.length-2;if(Dt===1)vt.children=ut;else if(1<Dt){for(var se=Array(Dt),Xt=0;Xt<Dt;Xt++)se[Xt]=arguments[Xt+2];vt.children=se}if(k&&k.defaultProps)for(ft in Dt=k.defaultProps,Dt)vt[ft]===void 0&&(vt[ft]=Dt[ft]);return C(k,xt,vt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(k){return{$$typeof:m,render:k}},Ct.isValidElement=O,Ct.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:et}},Ct.memo=function(k,W){return{$$typeof:g,type:k,compare:W===void 0?null:W}},Ct.startTransition=function(k){var W=R.T,ut={};R.T=ut;try{var ft=k(),vt=R.S;vt!==null&&vt(ut,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(st,it)}catch(xt){it(xt)}finally{W!==null&&ut.types!==null&&(W.types=ut.types),R.T=W}},Ct.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ct.use=function(k){return R.H.use(k)},Ct.useActionState=function(k,W,ut){return R.H.useActionState(k,W,ut)},Ct.useCallback=function(k,W){return R.H.useCallback(k,W)},Ct.useContext=function(k){return R.H.useContext(k)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(k,W){return R.H.useDeferredValue(k,W)},Ct.useEffect=function(k,W){return R.H.useEffect(k,W)},Ct.useEffectEvent=function(k){return R.H.useEffectEvent(k)},Ct.useId=function(){return R.H.useId()},Ct.useImperativeHandle=function(k,W,ut){return R.H.useImperativeHandle(k,W,ut)},Ct.useInsertionEffect=function(k,W){return R.H.useInsertionEffect(k,W)},Ct.useLayoutEffect=function(k,W){return R.H.useLayoutEffect(k,W)},Ct.useMemo=function(k,W){return R.H.useMemo(k,W)},Ct.useOptimistic=function(k,W){return R.H.useOptimistic(k,W)},Ct.useReducer=function(k,W,ut){return R.H.useReducer(k,W,ut)},Ct.useRef=function(k){return R.H.useRef(k)},Ct.useState=function(k){return R.H.useState(k)},Ct.useSyncExternalStore=function(k,W,ut){return R.H.useSyncExternalStore(k,W,ut)},Ct.useTransition=function(){return R.H.useTransition()},Ct.version="19.2.1",Ct}var ov;function Up(){return ov||(ov=1,Cm.exports=nS()),Cm.exports}var St=Up();const ce=WA(St);var Im={exports:{}},Vl={},Dm={exports:{}},Om={};var lv;function iS(){return lv||(lv=1,(function(i){function t(P,G){var et=P.length;P.push(G);t:for(;0<et;){var it=et-1>>>1,dt=P[it];if(0<o(dt,G))P[it]=G,P[et]=dt,et=it;else break t}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var G=P[0],et=P.pop();if(et!==G){P[0]=et;t:for(var it=0,dt=P.length,k=dt>>>1;it<k;){var W=2*(it+1)-1,ut=P[W],ft=W+1,vt=P[ft];if(0>o(ut,et))ft<dt&&0>o(vt,ut)?(P[it]=vt,P[ft]=et,it=ft):(P[it]=ut,P[W]=et,it=W);else if(ft<dt&&0>o(vt,et))P[it]=vt,P[ft]=et,it=ft;else break t}}return G}function o(P,G){var et=P.sortIndex-G.sortIndex;return et!==0?et:P.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,T=null,A=3,I=!1,U=!1,F=!1,$=!1,lt=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function ct(P){for(var G=n(g);G!==null;){if(G.callback===null)s(g);else if(G.startTime<=P)s(g),G.sortIndex=G.expirationTime,t(p,G);else break;G=n(g)}}function X(P){if(F=!1,ct(P),!U)if(n(p)!==null)U=!0,st||(st=!0,L());else{var G=n(g);G!==null&&K(X,G.startTime-P)}}var st=!1,R=-1,S=5,C=-1;function D(){return $?!0:!(i.unstable_now()-C<S)}function O(){if($=!1,st){var P=i.unstable_now();C=P;var G=!0;try{t:{U=!1,F&&(F=!1,Z(R),R=-1),I=!0;var et=A;try{e:{for(ct(P),T=n(p);T!==null&&!(T.expirationTime>P&&D());){var it=T.callback;if(typeof it=="function"){T.callback=null,A=T.priorityLevel;var dt=it(T.expirationTime<=P);if(P=i.unstable_now(),typeof dt=="function"){T.callback=dt,ct(P),G=!0;break e}T===n(p)&&s(p),ct(P)}else s(p);T=n(p)}if(T!==null)G=!0;else{var k=n(g);k!==null&&K(X,k.startTime-P),G=!1}}break t}finally{T=null,A=et,I=!1}G=void 0}}finally{G?L():st=!1}}}var L;if(typeof ot=="function")L=function(){ot(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,gt=N.port2;N.port1.onmessage=O,L=function(){gt.postMessage(null)}}else L=function(){lt(O,0)};function K(P,G){R=lt(function(){P(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(P){switch(A){case 1:case 2:case 3:var G=3;break;default:G=A}var et=A;A=G;try{return P()}finally{A=et}},i.unstable_requestPaint=function(){$=!0},i.unstable_runWithPriority=function(P,G){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var et=A;A=P;try{return G()}finally{A=et}},i.unstable_scheduleCallback=function(P,G,et){var it=i.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?it+et:it):et=it,P){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=et+dt,P={id:v++,callback:G,priorityLevel:P,startTime:et,expirationTime:dt,sortIndex:-1},et>it?(P.sortIndex=et,t(g,P),n(p)===null&&P===n(g)&&(F?(Z(R),R=-1):F=!0,K(X,et-it))):(P.sortIndex=dt,t(p,P),U||I||(U=!0,st||(st=!0,L()))),P},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(P){var G=A;return function(){var et=A;A=G;try{return P.apply(this,arguments)}finally{A=et}}}})(Om)),Om}var uv;function rS(){return uv||(uv=1,Dm.exports=iS()),Dm.exports}var Mm={exports:{}},en={};var cv;function sS(){if(cv)return en;cv=1;var i=Up();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},en.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:I}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.1",en}var hv;function aS(){if(hv)return Mm.exports;hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Mm.exports=sS(),Mm.exports}var fv;function oS(){if(fv)return Vl;fv=1;var i=rS(),t=Up(),n=aS();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function c(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function v(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=v(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case lt:return"Profiler";case $:return"StrictMode";case X:return"Suspense";case st:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case ot:return e.displayName||"Context";case Z:return(e._context.displayName||"Context")+".Consumer";case ct:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return r=e.displayName||null,r!==null?r:gt(e.type)||"Memo";case S:r=e._payload,e=e._init;try{return gt(e(r))}catch{}}return null}var K=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},it=[],dt=-1;function k(e){return{current:e}}function W(e){0>dt||(e.current=it[dt],it[dt]=null,dt--)}function ut(e,r){dt++,it[dt]=e.current,e.current=r}var ft=k(null),vt=k(null),xt=k(null),Dt=k(null);function se(e,r){switch(ut(xt,r),ut(vt,e),ut(ft,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?N_(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=N_(r),e=R_(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ft),ut(ft,e)}function Xt(){W(ft),W(vt),W(xt)}function mi(e){e.memoizedState!==null&&ut(Dt,e);var r=ft.current,a=R_(r,e.type);r!==a&&(ut(vt,e),ut(ft,a))}function Sr(e){vt.current===e&&(W(ft),W(vt)),Dt.current===e&&(W(Dt),Il._currentValue=et)}var xr,Nr;function Dn(e){if(xr===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);xr=r&&r[1]||"",Nr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+e+Nr}var Rt=!1;function me(e,r){if(!e||Rt)return"";Rt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Y){var H=Y}Reflect.construct(e,[],nt)}else{try{nt.call()}catch(Y){H=Y}e.call(nt.prototype)}}else{try{throw Error()}catch(Y){H=Y}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var M=_.split(`
`),q=w.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===q.length)for(l=M.length-1,f=q.length-1;1<=l&&0<=f&&M[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==q[f]){var J=`
`+M[l].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=l&&0<=f);break}}}finally{Rt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Dn(a):""}function un(e,r){switch(e.tag){case 26:case 27:case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return e.child!==r&&r!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return me(e.type,!1);case 11:return me(e.type.render,!1);case 1:return me(e.type,!0);case 31:return Dn("Activity");default:return""}}function Ee(e){try{var r="",a=null;do r+=un(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Vt=Object.prototype.hasOwnProperty,Zt=i.unstable_scheduleCallback,On=i.unstable_cancelCallback,Qi=i.unstable_shouldYield,ye=i.unstable_requestPaint,oe=i.unstable_now,Yn=i.unstable_getCurrentPriorityLevel,tn=i.unstable_ImmediatePriority,Ns=i.unstable_UserBlockingPriority,Rr=i.unstable_NormalPriority,Df=i.unstable_LowPriority,Mu=i.unstable_IdlePriority,ku=i.log,Vu=i.unstable_setDisableYieldValue,Kn=null,Fe=null;function Mn(e){if(typeof ku=="function"&&Vu(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Kn,e)}catch{}}var Te=Math.clz32?Math.clz32:Pu,Lu=Math.log,_a=Math.LN2;function Pu(e){return e>>>=0,e===0?32:31-(Lu(e)/_a|0)|0}var pi=256,Rs=262144,xe=4194304;function gi(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yi(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=gi(l):(_&=w,_!==0?f=gi(_):a||(a=w&~e,a!==0&&(f=gi(a))))):(w=l&~d,w!==0?f=gi(w):_!==0?f=gi(_):a||(a=l&~e,a!==0&&(f=gi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Xn(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Of(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uu(){var e=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),e}function _i(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Cs(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mf(e,r,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,M=e.expirationTimes,q=e.hiddenUpdates;for(a=_&~a;0<a;){var J=31-Te(a),nt=1<<J;w[J]=0,M[J]=-1;var H=q[J];if(H!==null)for(q[J]=null,J=0;J<H.length;J++){var Y=H[J];Y!==null&&(Y.lane&=-536870913)}a&=~nt}l!==0&&Is(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~r))}function Is(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-Te(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Vo(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-Te(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function Lo(e,r){var a=r&-r;return a=(a&42)!==0?1:Ds(a),(a&(e.suspendedLanes|r))!==0?0:a}function Ds(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ju(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Z_(e.type))}function Zn(e,r){var a=G.p;try{return G.p=e,r()}finally{G.p=a}}var Jn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Jn,ze="__reactProps$"+Jn,vi="__reactContainer$"+Jn,va="__reactEvents$"+Jn,kf="__reactListeners$"+Jn,zu="__reactHandles$"+Jn,Bu="__reactResources$"+Jn,Ei="__reactMarker$"+Jn;function Ea(e){delete e[Ne],delete e[ze],delete e[va],delete e[kf],delete e[zu]}function Ti(e){var r=e[Ne];if(r)return r;for(var a=e.parentNode;a;){if(r=a[vi]||a[Ne]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=V_(e);e!==null;){if(a=e[Ne])return a;e=V_(e)}return r}e=a,a=e.parentNode}return null}function kn(e){if(e=e[Ne]||e[vi]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function En(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function bi(e){var r=e[Bu];return r||(r=e[Bu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Re(e){e[Ei]=!0}var Po=new Set,Uo={};function wi(e,r){Ai(e,r),Ai(e+"Capture",r)}function Ai(e,r){for(Uo[e]=r,e=0;e<r.length;e++)Po.add(r[e])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function qu(e){return Vt.call(Bo,e)?!0:Vt.call(zo,e)?!1:jo.test(e)?Bo[e]=!0:(zo[e]=!0,!1)}function Ta(e,r,a){if(qu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Tn(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function Ce(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cr(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qo(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Jt(e){if(!e._valueTracker){var r=Cr(e)?"checked":"value";e._valueTracker=qo(e,r,""+e[r])}}function Os(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Cr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ms=/[\n"\\]/g;function cn(e){return e.replace(Ms,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ba(e,r,a,l,f,d,_,w){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),r!=null?_==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+Be(r)):e.value!==""+Be(r)&&(e.value=""+Be(r)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),r!=null?Ho(e,_,Be(r)):a!=null?Ho(e,_,Be(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Be(w):e.removeAttribute("name")}function Hu(e,r,a,l,f,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Jt(e);return}a=a!=null?""+Be(a):"",r=r!=null?""+Be(r):a,w||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Jt(e)}function Ho(e,r,a){r==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ir(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Be(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Fu(e,r,a){if(r!=null&&(r=""+Be(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+Be(a):""}function Dr(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(K(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Be(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Jt(e)}function hn(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Gu.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Go(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Fo(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Fo(e,d,r[d])}function wa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(e){return Or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var $o=null;function Vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mr=null,xi=null;function ks(e){var r=kn(e);if(r&&(e=r.stateNode)){var a=e[ze]||null;t:switch(e=r.stateNode,r.type){case"input":if(ba(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[ze]||null;if(!f)throw Error(s(90));ba(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Os(l)}break t;case"textarea":Fu(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ir(e,!!a.multiple,r,!1)}}}var Sa=!1;function kr(e,r,a){if(Sa)return e(r,a);Sa=!0;try{var l=e(r);return l}finally{if(Sa=!1,(Mr!==null||xi!==null)&&(jc(),Mr&&(r=Mr,e=xi,xi=Mr=null,ks(r),e)))for(r=0;r<e.length;r++)ks(e[r])}}function ti(e,r){var a=e.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(Ln)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Vs=!1}var Ni=null,Qo=null,Ls=null;function Yo(){if(Ls)return Ls;var e,r=Qo,a=r.length,l,f="value"in Ni?Ni.value:Ni.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Ls=f.slice(e,1<l?1-l:void 0)}function Ps(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Ki(){return!0}function ei(){return!1}function Ge(e){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:ei,this.isPropagationStopped=ei,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),r}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Ge(Xi),Vr=T({},Xi,{view:0,detail:0}),Ko=Ge(Vr),Lr,xa,Ci,Na=T({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(Lr=e.screenX-Ci.screenX,xa=e.screenY-Ci.screenY):xa=Lr=0,Ci=e),Lr)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),Xo=Ge(Na),Us=T({},Na,{dataTransfer:0}),Qu=Ge(Us),Yu=T({},Vr,{relatedTarget:0}),js=Ge(Yu),Zo=T({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ku=Ge(Zo),Ra=T({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xu=Ge(Ra),Zu=T({},Xi,{data:0}),Ii=Ge(Zu),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ec(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=tc[e])?!!r[e]:!1}function Pr(){return ec}var on=T({},Vr,{key:function(e){if(e.key){var r=Ju[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nc=Ge(on),ic=T({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Ge(ic),h=T({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),y=Ge(h),E=T({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Ge(E),z=T({},Na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ge(z),ht=T({},Xi,{newState:0,oldState:0}),Ot=Ge(ht),be=[9,13,27,32],Qt=Ln&&"CompositionEvent"in window,fe=null;Ln&&"documentMode"in document&&(fe=document.documentMode);var Pn=Ln&&"TextEvent"in window&&!fe,Di=Ln&&(!Qt||fe&&8<fe&&11>=fe),ni=" ",ii=!1;function zs(e,r){switch(e){case"keyup":return be.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function ww(e,r){switch(e){case"compositionend":return Ca(r);case"keypress":return r.which!==32?null:(ii=!0,ni);case"textInput":return e=r.data,e===ni&&ii?null:e;default:return null}}function Aw(e,r){if(Ia)return e==="compositionend"||!Qt&&zs(e,r)?(e=Yo(),Ls=Qo=Ni=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Di&&r.locale!=="ko"?null:r.data;default:return null}}var Sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Sw[e.type]:r==="textarea"}function jg(e,r,a,l){Mr?xi?xi.push(l):xi=[l]:Mr=l,r=$c(r,"onChange"),0<r.length&&(a=new Ri("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var Jo=null,Wo=null;function xw(e){T_(e,0)}function rc(e){var r=En(e);if(Os(r))return e}function zg(e,r){if(e==="change")return r}var Bg=!1;if(Ln){var Vf;if(Ln){var Lf="oninput"in document;if(!Lf){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Lf=typeof qg.oninput=="function"}Vf=Lf}else Vf=!1;Bg=Vf&&(!document.documentMode||9<document.documentMode)}function Hg(){Jo&&(Jo.detachEvent("onpropertychange",Fg),Wo=Jo=null)}function Fg(e){if(e.propertyName==="value"&&rc(Wo)){var r=[];jg(r,Wo,e,Vn(e)),kr(xw,r)}}function Nw(e,r,a){e==="focusin"?(Hg(),Jo=r,Wo=a,Jo.attachEvent("onpropertychange",Fg)):e==="focusout"&&Hg()}function Rw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rc(Wo)}function Cw(e,r){if(e==="click")return rc(r)}function Iw(e,r){if(e==="input"||e==="change")return rc(r)}function Dw(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var bn=typeof Object.is=="function"?Object.is:Dw;function tl(e,r){if(bn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Vt.call(r,f)||!bn(e[f],r[f]))return!1}return!0}function Gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $g(e,r){var a=Gg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gg(a)}}function Qg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Qg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Si(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Si(e.document)}return r}function Pf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Ow=Ln&&"documentMode"in document&&11>=document.documentMode,Da=null,Uf=null,el=null,jf=!1;function Kg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jf||Da==null||Da!==Si(l)||(l=Da,"selectionStart"in l&&Pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=$c(Uf,"onSelect"),0<l.length&&(r=new Ri("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Da)))}function Bs(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Oa={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},zf={},Xg={};Ln&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function qs(e){if(zf[e])return zf[e];if(!Oa[e])return e;var r=Oa[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Xg)return zf[e]=r[a];return e}var Zg=qs("animationend"),Jg=qs("animationiteration"),Wg=qs("animationstart"),Mw=qs("transitionrun"),kw=qs("transitionstart"),Vw=qs("transitioncancel"),ty=qs("transitionend"),ey=new Map,Bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bf.push("scrollEnd");function ri(e,r){ey.set(e,r),wi(r,[e])}var sc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Un=[],Ma=0,qf=0;function ac(){for(var e=Ma,r=qf=Ma=0;r<e;){var a=Un[r];Un[r++]=null;var l=Un[r];Un[r++]=null;var f=Un[r];Un[r++]=null;var d=Un[r];if(Un[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&ny(a,f,d)}}function oc(e,r,a,l){Un[Ma++]=e,Un[Ma++]=r,Un[Ma++]=a,Un[Ma++]=l,qf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Hf(e,r,a,l){return oc(e,r,a,l),lc(e)}function Hs(e,r){return oc(e,null,null,r),lc(e)}function ny(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-Te(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function lc(e){if(50<wl)throw wl=0,Jd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var ka={};function Lw(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,r,a,l){return new Lw(e,r,a,l)}function Ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,r){var a=e.alternate;return a===null?(a=wn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function iy(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function uc(e,r,a,l,f,d){var _=0;if(l=e,typeof e=="function")Ff(e)&&(_=1);else if(typeof e=="string")_=BA(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=wn(31,a,r,f),e.elementType=C,e.lanes=d,e;case F:return Fs(a.children,f,d,r);case $:_=8,f|=24;break;case lt:return e=wn(12,a,r,f|2),e.elementType=lt,e.lanes=d,e;case X:return e=wn(13,a,r,f),e.elementType=X,e.lanes=d,e;case st:return e=wn(19,a,r,f),e.elementType=st,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:_=10;break t;case Z:_=9;break t;case ct:_=11;break t;case R:_=14;break t;case S:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=wn(_,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function Fs(e,r,a,l){return e=wn(7,e,l,r),e.lanes=a,e}function Gf(e,r,a){return e=wn(6,e,null,r),e.lanes=a,e}function ry(e){var r=wn(18,null,null,0);return r.stateNode=e,r}function $f(e,r,a){return r=wn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var sy=new WeakMap;function jn(e,r){if(typeof e=="object"&&e!==null){var a=sy.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Ee(r)},sy.set(e,r),r)}return{value:e,source:r,stack:Ee(r)}}var Va=[],La=0,cc=null,nl=0,zn=[],Bn=0,Ur=null,Oi=1,Mi="";function Wi(e,r){Va[La++]=nl,Va[La++]=cc,cc=e,nl=r}function ay(e,r,a){zn[Bn++]=Oi,zn[Bn++]=Mi,zn[Bn++]=Ur,Ur=e;var l=Oi;e=Mi;var f=32-Te(l)-1;l&=~(1<<f),a+=1;var d=32-Te(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Oi=1<<32-Te(r)+f|a<<f|l,Mi=d+e}else Oi=1<<d|a<<f|l,Mi=e}function Qf(e){e.return!==null&&(Wi(e,1),ay(e,1,0))}function Yf(e){for(;e===cc;)cc=Va[--La],Va[La]=null,nl=Va[--La],Va[La]=null;for(;e===Ur;)Ur=zn[--Bn],zn[Bn]=null,Mi=zn[--Bn],zn[Bn]=null,Oi=zn[--Bn],zn[Bn]=null}function oy(e,r){zn[Bn++]=Oi,zn[Bn++]=Mi,zn[Bn++]=Ur,Oi=r.id,Mi=r.overflow,Ur=e}var $e=null,le=null,Ht=!1,jr=null,qn=!1,Kf=Error(s(519));function zr(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(jn(r,e)),Kf}function ly(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[Ne]=e,r[ze]=l,a){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Pt(Sl[a],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),Hu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),Dr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||S_(r.textContent,a)?(l.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),l.onScroll!=null&&Pt("scroll",r),l.onScrollEnd!=null&&Pt("scrollend",r),l.onClick!=null&&(r.onclick=Wn),r=!0):r=!1,r||zr(e,!0)}function uy(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:$e=$e.return}}function Pa(e){if(e!==$e)return!1;if(!Ht)return uy(e),Ht=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||dm(e.type,e.memoizedProps)),a=!a),a&&le&&zr(e),uy(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));le=k_(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));le=k_(e)}else r===27?(r=le,ts(e.type)?(e=_m,_m=null,le=e):le=r):le=$e?Fn(e.stateNode.nextSibling):null;return!0}function Gs(){le=$e=null,Ht=!1}function Xf(){var e=jr;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),jr=null),e}function il(e){jr===null?jr=[e]:jr.push(e)}var Zf=k(null),$s=null,tr=null;function Br(e,r,a){ut(Zf,r._currentValue),r._currentValue=a}function er(e){e._currentValue=Zf.current,W(Zf)}function Jf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Wf(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=f;for(var M=0;M<r.length;M++)if(w.context===r[M]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Jf(d.return,a,e),l||(_=null);break t}d=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Jf(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ua(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;bn(f.pendingProps.value,_.value)||(e!==null?e.push(w):e=[w])}}else if(f===Dt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}f=f.return}e!==null&&Wf(r,e,a,l),r.flags|=262144}function hc(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qs(e){$s=e,tr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return cy($s,e)}function fc(e,r){return $s===null&&Qs(e),cy(e,r)}function cy(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},tr===null){if(e===null)throw Error(s(308));tr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else tr=tr.next=r;return a}var Pw=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},Uw=i.unstable_scheduleCallback,jw=i.unstable_NormalPriority,Ie={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new Pw,data:new Map,refCount:0}}function rl(e){e.refCount--,e.refCount===0&&Uw(jw,function(){e.controller.abort()})}var sl=null,ed=0,ja=0,za=null;function zw(e,r){if(sl===null){var a=sl=[];ed=0,ja=rm(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ed++,r.then(hy,hy),r}function hy(){if(--ed===0&&sl!==null){za!==null&&(za.status="fulfilled");var e=sl;sl=null,ja=0,za=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Bw(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var fy=P.S;P.S=function(e,r){K0=oe(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&zw(e,r),fy!==null&&fy(e,r)};var Ys=k(null);function nd(){var e=Ys.current;return e!==null?e:ae.pooledCache}function dc(e,r){r===null?ut(Ys,Ys.current):ut(Ys,r.pool)}function dy(){var e=nd();return e===null?null:{parent:Ie._currentValue,pool:e}}var Ba=Error(s(460)),id=Error(s(474)),mc=Error(s(542)),pc={then:function(){}};function my(e){return e=e.status,e==="fulfilled"||e==="rejected"}function py(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(Wn,Wn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,yy(e),e;default:if(typeof r.status=="string")r.then(Wn,Wn);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,yy(e),e}throw Xs=r,Ba}}function Ks(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xs=a,Ba):a}}var Xs=null;function gy(){if(Xs===null)throw Error(s(459));var e=Xs;return Xs=null,e}function yy(e){if(e===Ba||e===mc)throw Error(s(483))}var qa=null,al=0;function gc(e){var r=al;return al+=1,qa===null&&(qa=[]),py(qa,e,r)}function ol(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function yc(e,r){throw r.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function _y(e){function r(j,V){if(e){var B=j.deletions;B===null?(j.deletions=[V],j.flags|=16):B.push(V)}}function a(j,V){if(!e)return null;for(;V!==null;)r(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function f(j,V){return j=Ji(j,V),j.index=0,j.sibling=null,j}function d(j,V,B){return j.index=B,e?(B=j.alternate,B!==null?(B=B.index,B<V?(j.flags|=67108866,V):B):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function _(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function w(j,V,B,tt){return V===null||V.tag!==6?(V=Gf(B,j.mode,tt),V.return=j,V):(V=f(V,B),V.return=j,V)}function M(j,V,B,tt){var Et=B.type;return Et===F?J(j,V,B.props.children,tt,B.key):V!==null&&(V.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===S&&Ks(Et)===V.type)?(V=f(V,B.props),ol(V,B),V.return=j,V):(V=uc(B.type,B.key,B.props,null,j.mode,tt),ol(V,B),V.return=j,V)}function q(j,V,B,tt){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=$f(B,j.mode,tt),V.return=j,V):(V=f(V,B.children||[]),V.return=j,V)}function J(j,V,B,tt,Et){return V===null||V.tag!==7?(V=Fs(B,j.mode,tt,Et),V.return=j,V):(V=f(V,B),V.return=j,V)}function nt(j,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Gf(""+V,j.mode,B),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return B=uc(V.type,V.key,V.props,null,j.mode,B),ol(B,V),B.return=j,B;case U:return V=$f(V,j.mode,B),V.return=j,V;case S:return V=Ks(V),nt(j,V,B)}if(K(V)||L(V))return V=Fs(V,j.mode,B,null),V.return=j,V;if(typeof V.then=="function")return nt(j,gc(V),B);if(V.$$typeof===ot)return nt(j,fc(j,V),B);yc(j,V)}return null}function H(j,V,B,tt){var Et=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Et!==null?null:w(j,V,""+B,tt);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case I:return B.key===Et?M(j,V,B,tt):null;case U:return B.key===Et?q(j,V,B,tt):null;case S:return B=Ks(B),H(j,V,B,tt)}if(K(B)||L(B))return Et!==null?null:J(j,V,B,tt,null);if(typeof B.then=="function")return H(j,V,gc(B),tt);if(B.$$typeof===ot)return H(j,V,fc(j,B),tt);yc(j,B)}return null}function Y(j,V,B,tt,Et){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return j=j.get(B)||null,w(V,j,""+tt,Et);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case I:return j=j.get(tt.key===null?B:tt.key)||null,M(V,j,tt,Et);case U:return j=j.get(tt.key===null?B:tt.key)||null,q(V,j,tt,Et);case S:return tt=Ks(tt),Y(j,V,B,tt,Et)}if(K(tt)||L(tt))return j=j.get(B)||null,J(V,j,tt,Et,null);if(typeof tt.then=="function")return Y(j,V,B,gc(tt),Et);if(tt.$$typeof===ot)return Y(j,V,B,fc(V,tt),Et);yc(V,tt)}return null}function pt(j,V,B,tt){for(var Et=null,Gt=null,yt=V,kt=V=0,jt=null;yt!==null&&kt<B.length;kt++){yt.index>kt?(jt=yt,yt=null):jt=yt.sibling;var $t=H(j,yt,B[kt],tt);if($t===null){yt===null&&(yt=jt);break}e&&yt&&$t.alternate===null&&r(j,yt),V=d($t,V,kt),Gt===null?Et=$t:Gt.sibling=$t,Gt=$t,yt=jt}if(kt===B.length)return a(j,yt),Ht&&Wi(j,kt),Et;if(yt===null){for(;kt<B.length;kt++)yt=nt(j,B[kt],tt),yt!==null&&(V=d(yt,V,kt),Gt===null?Et=yt:Gt.sibling=yt,Gt=yt);return Ht&&Wi(j,kt),Et}for(yt=l(yt);kt<B.length;kt++)jt=Y(yt,j,kt,B[kt],tt),jt!==null&&(e&&jt.alternate!==null&&yt.delete(jt.key===null?kt:jt.key),V=d(jt,V,kt),Gt===null?Et=jt:Gt.sibling=jt,Gt=jt);return e&&yt.forEach(function(ss){return r(j,ss)}),Ht&&Wi(j,kt),Et}function bt(j,V,B,tt){if(B==null)throw Error(s(151));for(var Et=null,Gt=null,yt=V,kt=V=0,jt=null,$t=B.next();yt!==null&&!$t.done;kt++,$t=B.next()){yt.index>kt?(jt=yt,yt=null):jt=yt.sibling;var ss=H(j,yt,$t.value,tt);if(ss===null){yt===null&&(yt=jt);break}e&&yt&&ss.alternate===null&&r(j,yt),V=d(ss,V,kt),Gt===null?Et=ss:Gt.sibling=ss,Gt=ss,yt=jt}if($t.done)return a(j,yt),Ht&&Wi(j,kt),Et;if(yt===null){for(;!$t.done;kt++,$t=B.next())$t=nt(j,$t.value,tt),$t!==null&&(V=d($t,V,kt),Gt===null?Et=$t:Gt.sibling=$t,Gt=$t);return Ht&&Wi(j,kt),Et}for(yt=l(yt);!$t.done;kt++,$t=B.next())$t=Y(yt,j,kt,$t.value,tt),$t!==null&&(e&&$t.alternate!==null&&yt.delete($t.key===null?kt:$t.key),V=d($t,V,kt),Gt===null?Et=$t:Gt.sibling=$t,Gt=$t);return e&&yt.forEach(function(JA){return r(j,JA)}),Ht&&Wi(j,kt),Et}function re(j,V,B,tt){if(typeof B=="object"&&B!==null&&B.type===F&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case I:t:{for(var Et=B.key;V!==null;){if(V.key===Et){if(Et=B.type,Et===F){if(V.tag===7){a(j,V.sibling),tt=f(V,B.props.children),tt.return=j,j=tt;break t}}else if(V.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===S&&Ks(Et)===V.type){a(j,V.sibling),tt=f(V,B.props),ol(tt,B),tt.return=j,j=tt;break t}a(j,V);break}else r(j,V);V=V.sibling}B.type===F?(tt=Fs(B.props.children,j.mode,tt,B.key),tt.return=j,j=tt):(tt=uc(B.type,B.key,B.props,null,j.mode,tt),ol(tt,B),tt.return=j,j=tt)}return _(j);case U:t:{for(Et=B.key;V!==null;){if(V.key===Et)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(j,V.sibling),tt=f(V,B.children||[]),tt.return=j,j=tt;break t}else{a(j,V);break}else r(j,V);V=V.sibling}tt=$f(B,j.mode,tt),tt.return=j,j=tt}return _(j);case S:return B=Ks(B),re(j,V,B,tt)}if(K(B))return pt(j,V,B,tt);if(L(B)){if(Et=L(B),typeof Et!="function")throw Error(s(150));return B=Et.call(B),bt(j,V,B,tt)}if(typeof B.then=="function")return re(j,V,gc(B),tt);if(B.$$typeof===ot)return re(j,V,fc(j,B),tt);yc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(j,V.sibling),tt=f(V,B),tt.return=j,j=tt):(a(j,V),tt=Gf(B,j.mode,tt),tt.return=j,j=tt),_(j)):a(j,V)}return function(j,V,B,tt){try{al=0;var Et=re(j,V,B,tt);return qa=null,Et}catch(yt){if(yt===Ba||yt===mc)throw yt;var Gt=wn(29,yt,null,j.mode);return Gt.lanes=tt,Gt.return=j,Gt}finally{}}}var Zs=_y(!0),vy=_y(!1),qr=!1;function rd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fr(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=lc(e),ny(e,null,a),r}return oc(e,l,r,a),lc(e)}function ll(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Vo(e,a)}}function ad(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var od=!1;function ul(){if(od){var e=za;if(e!==null)throw e}}function cl(e,r,a,l){od=!1;var f=e.updateQueue;qr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var M=w,q=M.next;M.next=null,_===null?d=q:_.next=q,_=M;var J=e.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==_&&(w===null?J.firstBaseUpdate=q:w.next=q,J.lastBaseUpdate=M))}if(d!==null){var nt=f.baseState;_=0,J=q=M=null,w=d;do{var H=w.lane&-536870913,Y=H!==w.lane;if(Y?(Ut&H)===H:(l&H)===H){H!==0&&H===ja&&(od=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var pt=e,bt=w;H=r;var re=a;switch(bt.tag){case 1:if(pt=bt.payload,typeof pt=="function"){nt=pt.call(re,nt,H);break t}nt=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=bt.payload,H=typeof pt=="function"?pt.call(re,nt,H):pt,H==null)break t;nt=T({},nt,H);break t;case 2:qr=!0}}H=w.callback,H!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(q=J=Y,M=nt):J=J.next=Y,_|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);J===null&&(M=nt),f.baseState=M,f.firstBaseUpdate=q,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),Kr|=_,e.lanes=_,e.memoizedState=nt}}function Ey(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function Ty(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ey(a[e],r)}var Ha=k(null),_c=k(0);function by(e,r){e=cr,ut(_c,e),ut(Ha,r),cr=e|r.baseLanes}function ld(){ut(_c,cr),ut(Ha,Ha.current)}function ud(){cr=_c.current,W(Ha),W(_c)}var An=k(null),Hn=null;function Gr(e){var r=e.alternate;ut(we,we.current&1),ut(An,e),Hn===null&&(r===null||Ha.current!==null||r.memoizedState!==null)&&(Hn=e)}function cd(e){ut(we,we.current),ut(An,e),Hn===null&&(Hn=e)}function wy(e){e.tag===22?(ut(we,we.current),ut(An,e),Hn===null&&(Hn=e)):$r()}function $r(){ut(we,we.current),ut(An,An.current)}function Sn(e){W(An),Hn===e&&(Hn=null),W(we)}var we=k(0);function vc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||gm(a)||ym(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var nr=0,Mt=null,ne=null,De=null,Ec=!1,Fa=!1,Js=!1,Tc=0,hl=0,Ga=null,qw=0;function _e(){throw Error(s(321))}function hd(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!bn(e[a],r[a]))return!1;return!0}function fd(e,r,a,l,f,d){return nr=d,Mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,P.H=e===null||e.memoizedState===null?a0:Nd,Js=!1,d=a(l,f),Js=!1,Fa&&(d=Sy(r,a,l,f)),Ay(e),d}function Ay(e){P.H=ml;var r=ne!==null&&ne.next!==null;if(nr=0,De=ne=Mt=null,Ec=!1,hl=0,Ga=null,r)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&hc(e)&&(Oe=!0))}function Sy(e,r,a,l){Mt=e;var f=0;do{if(Fa&&(Ga=null),hl=0,Fa=!1,25<=f)throw Error(s(301));if(f+=1,De=ne=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=o0,d=r(a,l)}while(Fa);return d}function Hw(){var e=P.H,r=e.useState()[0];return r=typeof r.then=="function"?fl(r):r,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(Mt.flags|=1024),r}function dd(){var e=Tc!==0;return Tc=0,e}function md(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function pd(e){if(Ec){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Ec=!1}nr=0,De=ne=Mt=null,Fa=!1,hl=Tc=0,Ga=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Mt.memoizedState=De=e:De=De.next=e,De}function Ae(){if(ne===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var r=De===null?Mt.memoizedState:De.next;if(r!==null)De=r,ne=e;else{if(e===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},De===null?Mt.memoizedState=De=e:De=De.next=e}return De}function bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(e){var r=hl;return hl+=1,Ga===null&&(Ga=[]),e=py(Ga,e,r),r=Mt,(De===null?r.memoizedState:De.next)===null&&(r=r.alternate,P.H=r===null||r.memoizedState===null?a0:Nd),e}function wc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===ot)return Qe(e)}throw Error(s(438,String(e)))}function gd(e){var r=null,a=Mt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=bc(),Mt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=D;return r.index++,a}function ir(e,r){return typeof r=="function"?r(e):r}function Ac(e){var r=Ae();return yd(r,ne,e)}function yd(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var w=_=null,M=null,q=r,J=!1;do{var nt=q.lane&-536870913;if(nt!==q.lane?(Ut&nt)===nt:(nr&nt)===nt){var H=q.revertLane;if(H===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),nt===ja&&(J=!0);else if((nr&H)===H){q=q.next,H===ja&&(J=!0);continue}else nt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(w=M=nt,_=d):M=M.next=nt,Mt.lanes|=H,Kr|=H;nt=q.action,Js&&a(d,nt),d=q.hasEagerState?q.eagerState:a(d,nt)}else H={lane:nt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(w=M=H,_=d):M=M.next=H,Mt.lanes|=nt,Kr|=nt;q=q.next}while(q!==null&&q!==r);if(M===null?_=d:M.next=w,!bn(d,e.memoizedState)&&(Oe=!0,J&&(a=za,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function _d(e){var r=Ae(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);bn(d,r.memoizedState)||(Oe=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function xy(e,r,a){var l=Mt,f=Ae(),d=Ht;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!bn((ne||f).memoizedState,a);if(_&&(f.memoizedState=a,Oe=!0),f=f.queue,Td(Cy.bind(null,l,f,e),[e]),f.getSnapshot!==r||_||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,$a(9,{destroy:void 0},Ry.bind(null,l,f,a,r),null),ae===null)throw Error(s(349));d||(nr&127)!==0||Ny(l,r,a)}return a}function Ny(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Mt.updateQueue,r===null?(r=bc(),Mt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Ry(e,r,a,l){r.value=a,r.getSnapshot=l,Iy(r)&&Dy(e)}function Cy(e,r,a){return a(function(){Iy(r)&&Dy(e)})}function Iy(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!bn(e,a)}catch{return!0}}function Dy(e){var r=Hs(e,2);r!==null&&gn(r,e,2)}function vd(e){var r=ln();if(typeof e=="function"){var a=e;if(e=a(),Js){Mn(!0);try{a()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:e},r}function Oy(e,r,a,l){return e.baseState=a,yd(e,ne,typeof l=="function"?l:ir)}function Fw(e,r,a,l,f){if(Nc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};P.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,My(r,d)):(d.next=a.next,r.pending=a.next=d)}}function My(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=P.T,_={};P.T=_;try{var w=a(f,l),M=P.S;M!==null&&M(_,w),ky(e,r,w)}catch(q){Ed(e,r,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),P.T=d}}else try{d=a(f,l),ky(e,r,d)}catch(q){Ed(e,r,q)}}function ky(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vy(e,r,l)},function(l){return Ed(e,r,l)}):Vy(e,r,a)}function Vy(e,r,a){r.status="fulfilled",r.value=a,Ly(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,My(e,a)))}function Ed(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ly(r),r=r.next;while(r!==l)}e.action=null}function Ly(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Py(e,r){return r}function Uy(e,r){if(Ht){var a=ae.formState;if(a!==null){t:{var l=Mt;if(Ht){if(le){e:{for(var f=le,d=qn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Fn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){le=Fn(f.nextSibling),l=f.data==="F!";break t}}zr(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Py,lastRenderedState:r},a.queue=l,a=i0.bind(null,Mt,l),l.dispatch=a,l=vd(!1),d=xd.bind(null,Mt,!1,l.queue),l=ln(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=Fw.bind(null,Mt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function jy(e){var r=Ae();return zy(r,ne,e)}function zy(e,r,a){if(r=yd(e,r,Py)[0],e=Ac(ir)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=fl(r)}catch(_){throw _===Ba?mc:_}else l=r;r=Ae();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Mt.flags|=2048,$a(9,{destroy:void 0},Gw.bind(null,f,a),null)),[l,d,e]}function Gw(e,r){e.action=r}function By(e){var r=Ae(),a=ne;if(a!==null)return zy(r,a,e);Ae(),r=r.memoizedState,a=Ae();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function $a(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Mt.updateQueue,r===null&&(r=bc(),Mt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function qy(){return Ae().memoizedState}function Sc(e,r,a,l){var f=ln();Mt.flags|=e,f.memoizedState=$a(1|r,{destroy:void 0},a,l===void 0?null:l)}function xc(e,r,a,l){var f=Ae();l=l===void 0?null:l;var d=f.memoizedState.inst;ne!==null&&l!==null&&hd(l,ne.memoizedState.deps)?f.memoizedState=$a(r,d,a,l):(Mt.flags|=e,f.memoizedState=$a(1|r,d,a,l))}function Hy(e,r){Sc(8390656,8,e,r)}function Td(e,r){xc(2048,8,e,r)}function $w(e){Mt.flags|=4;var r=Mt.updateQueue;if(r===null)r=bc(),Mt.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function Fy(e){var r=Ae().memoizedState;return $w({ref:r,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Gy(e,r){return xc(4,2,e,r)}function $y(e,r){return xc(4,4,e,r)}function Qy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Yy(e,r,a){a=a!=null?a.concat([e]):null,xc(4,4,Qy.bind(null,r,e),a)}function bd(){}function Ky(e,r){var a=Ae();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&hd(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Xy(e,r){var a=Ae();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&hd(r,l[1]))return l[0];if(l=e(),Js){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[l,r],l}function wd(e,r,a){return a===void 0||(nr&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=Z0(),Mt.lanes|=e,Kr|=e,a)}function Zy(e,r,a,l){return bn(a,r)?a:Ha.current!==null?(e=wd(e,a,l),bn(e,r)||(Oe=!0),e):(nr&42)===0||(nr&1073741824)!==0&&(Ut&261930)===0?(Oe=!0,e.memoizedState=a):(e=Z0(),Mt.lanes|=e,Kr|=e,r)}function Jy(e,r,a,l,f){var d=G.p;G.p=d!==0&&8>d?d:8;var _=P.T,w={};P.T=w,xd(e,!1,r,a);try{var M=f(),q=P.S;if(q!==null&&q(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=Bw(M,l);dl(e,r,J,Rn(e))}else dl(e,r,l,Rn(e))}catch(nt){dl(e,r,{then:function(){},status:"rejected",reason:nt},Rn())}finally{G.p=d,_!==null&&w.types!==null&&(_.types=w.types),P.T=_}}function Qw(){}function Ad(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=Wy(e).queue;Jy(e,f,r,et,a===null?Qw:function(){return t0(e),a(l)})}function Wy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:et},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function t0(e){var r=Wy(e);r.next===null&&(r=e.alternate.memoizedState),dl(e,r.next.queue,{},Rn())}function Sd(){return Qe(Il)}function e0(){return Ae().memoizedState}function n0(){return Ae().memoizedState}function Yw(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=Rn();e=Hr(a);var l=Fr(r,e,a);l!==null&&(gn(l,r,a),ll(l,r,a)),r={cache:td()},e.payload=r;return}r=r.return}}function Kw(e,r,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(e)?r0(r,a):(a=Hf(e,r,a,l),a!==null&&(gn(a,e,l),s0(a,r,l)))}function i0(e,r,a){var l=Rn();dl(e,r,a,l)}function dl(e,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(e))r0(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,w=d(_,a);if(f.hasEagerState=!0,f.eagerState=w,bn(w,_))return oc(e,r,f,0),ae===null&&ac(),!1}catch{}finally{}if(a=Hf(e,r,f,l),a!==null)return gn(a,e,l),s0(a,r,l),!0}return!1}function xd(e,r,a,l){if(l={lane:2,revertLane:rm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nc(e)){if(r)throw Error(s(479))}else r=Hf(e,a,l,2),r!==null&&gn(r,e,2)}function Nc(e){var r=e.alternate;return e===Mt||r!==null&&r===Mt}function r0(e,r){Fa=Ec=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function s0(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Vo(e,a)}}var ml={readContext:Qe,use:wc,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};ml.useEffectEvent=_e;var a0={readContext:Qe,use:wc,useCallback:function(e,r){return ln().memoizedState=[e,r===void 0?null:r],e},useContext:Qe,useEffect:Hy,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,Sc(4194308,4,Qy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Sc(4194308,4,e,r)},useInsertionEffect:function(e,r){Sc(4,2,e,r)},useMemo:function(e,r){var a=ln();r=r===void 0?null:r;var l=e();if(Js){Mn(!0);try{e()}finally{Mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=ln();if(a!==void 0){var f=a(r);if(Js){Mn(!0);try{a(r)}finally{Mn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Kw.bind(null,Mt,e),[l.memoizedState,e]},useRef:function(e){var r=ln();return e={current:e},r.memoizedState=e},useState:function(e){e=vd(e);var r=e.queue,a=i0.bind(null,Mt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:bd,useDeferredValue:function(e,r){var a=ln();return wd(a,e,r)},useTransition:function(){var e=vd(!1);return e=Jy.bind(null,Mt,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Mt,f=ln();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ae===null)throw Error(s(349));(Ut&127)!==0||Ny(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Hy(Cy.bind(null,l,d,e),[e]),l.flags|=2048,$a(9,{destroy:void 0},Ry.bind(null,l,d,a,r),null),a},useId:function(){var e=ln(),r=ae.identifierPrefix;if(Ht){var a=Mi,l=Oi;a=(l&~(1<<32-Te(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Tc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=qw++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:Sd,useFormState:Uy,useActionState:Uy,useOptimistic:function(e){var r=ln();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=xd.bind(null,Mt,!0,a),a.dispatch=r,[e,r]},useMemoCache:gd,useCacheRefresh:function(){return ln().memoizedState=Yw.bind(null,Mt)},useEffectEvent:function(e){var r=ln(),a={impl:e};return r.memoizedState=a,function(){if((Yt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Nd={readContext:Qe,use:wc,useCallback:Ky,useContext:Qe,useEffect:Td,useImperativeHandle:Yy,useInsertionEffect:Gy,useLayoutEffect:$y,useMemo:Xy,useReducer:Ac,useRef:qy,useState:function(){return Ac(ir)},useDebugValue:bd,useDeferredValue:function(e,r){var a=Ae();return Zy(a,ne.memoizedState,e,r)},useTransition:function(){var e=Ac(ir)[0],r=Ae().memoizedState;return[typeof e=="boolean"?e:fl(e),r]},useSyncExternalStore:xy,useId:e0,useHostTransitionStatus:Sd,useFormState:jy,useActionState:jy,useOptimistic:function(e,r){var a=Ae();return Oy(a,ne,e,r)},useMemoCache:gd,useCacheRefresh:n0};Nd.useEffectEvent=Fy;var o0={readContext:Qe,use:wc,useCallback:Ky,useContext:Qe,useEffect:Td,useImperativeHandle:Yy,useInsertionEffect:Gy,useLayoutEffect:$y,useMemo:Xy,useReducer:_d,useRef:qy,useState:function(){return _d(ir)},useDebugValue:bd,useDeferredValue:function(e,r){var a=Ae();return ne===null?wd(a,e,r):Zy(a,ne.memoizedState,e,r)},useTransition:function(){var e=_d(ir)[0],r=Ae().memoizedState;return[typeof e=="boolean"?e:fl(e),r]},useSyncExternalStore:xy,useId:e0,useHostTransitionStatus:Sd,useFormState:By,useActionState:By,useOptimistic:function(e,r){var a=Ae();return ne!==null?Oy(a,ne,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:gd,useCacheRefresh:n0};o0.useEffectEvent=Fy;function Rd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Cd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=Rn(),f=Hr(l);f.payload=r,a!=null&&(f.callback=a),r=Fr(e,f,l),r!==null&&(gn(r,e,l),ll(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=Rn(),f=Hr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Fr(e,f,l),r!==null&&(gn(r,e,l),ll(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Rn(),l=Hr(a);l.tag=2,r!=null&&(l.callback=r),r=Fr(e,l,a),r!==null&&(gn(r,e,a),ll(r,e,a))}};function l0(e,r,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!tl(a,l)||!tl(f,d):!0}function u0(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Cd.enqueueReplaceState(r,r.state,null)}function Ws(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function c0(e){sc(e)}function h0(e){console.error(e)}function f0(e){sc(e)}function Rc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function d0(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Id(e,r,a){return a=Hr(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(e,r)},a}function m0(e){return e=Hr(e),e.tag=3,e}function p0(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){d0(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){d0(r,a,l),typeof f!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Xw(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ua(r,a,f,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?zc():a.alternate===null&&ve===0&&(ve=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===pc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),em(e,l,f)),!1;case 22:return a.flags|=65536,l===pc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),em(e,l,f)),!1}throw Error(s(435,a.tag))}return em(e,l,f),zc(),!1}if(Ht)return r=An.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Kf&&(e=Error(s(422),{cause:l}),il(jn(e,a)))):(l!==Kf&&(r=Error(s(423),{cause:l}),il(jn(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=jn(l,a),f=Id(e.stateNode,l,f),ad(e,f),ve!==4&&(ve=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),bl===null?bl=[d]:bl.push(d),ve!==4&&(ve=2),r===null)return!0;l=jn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Id(a.stateNode,l,e),ad(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xr===null||!Xr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=m0(f),p0(f,e,a,l),ad(a,f),!1}a=a.return}while(a!==null);return!1}var Dd=Error(s(461)),Oe=!1;function Ye(e,r,a,l){r.child=e===null?vy(r,null,a,l):Zs(r,e.child,a,l)}function g0(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Qs(r),l=fd(e,r,a,_,d,f),w=dd(),e!==null&&!Oe?(md(e,r,f),rr(e,r,f)):(Ht&&w&&Qf(r),r.flags|=1,Ye(e,r,l,f),r.child)}function y0(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Ff(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,_0(e,r,d,l,f)):(e=uc(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!jd(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(_,l)&&e.ref===r.ref)return rr(e,r,f)}return r.flags|=1,e=Ji(d,l),e.ref=r.ref,e.return=r,r.child=e}function _0(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(tl(d,l)&&e.ref===r.ref)if(Oe=!1,r.pendingProps=l=d,jd(e,f))(e.flags&131072)!==0&&(Oe=!0);else return r.lanes=e.lanes,rr(e,r,f)}return Od(e,r,a,l,f)}function v0(e,r,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=r.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return E0(e,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&dc(r,d!==null?d.cachePool:null),d!==null?by(r,d):ld(),wy(r);else return l=r.lanes=536870912,E0(e,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(dc(r,d.cachePool),by(r,d),$r(),r.memoizedState=null):(e!==null&&dc(r,null),ld(),$r());return Ye(e,r,f,a),r.child}function pl(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function E0(e,r,a,l,f){var d=nd();return d=d===null?null:{parent:Ie._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&dc(r,null),ld(),wy(r),e!==null&&Ua(e,r,l,!0),r.childLanes=f,null}function Cc(e,r){return r=Dc({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function T0(e,r,a){return Zs(r,e.child,null,a),e=Cc(r,r.pendingProps),e.flags|=2,Sn(r),r.memoizedState=null,e}function Zw(e,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Ht){if(l.mode==="hidden")return e=Cc(r,l),r.lanes=536870912,pl(null,e);if(cd(r),(e=le)?(e=M_(e,qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Ur!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=ry(e),a.return=r,r.child=a,$e=r,le=null)):e=null,e===null)throw zr(r);return r.lanes=536870912,null}return Cc(r,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(cd(r),f)if(r.flags&256)r.flags&=-257,r=T0(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(Oe||Ua(e,r,a,!1),f=(a&e.childLanes)!==0,Oe||f){if(l=ae,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Hs(e,_),gn(l,e,_),Dd;zc(),r=T0(e,r,a)}else e=d.treeContext,le=Fn(_.nextSibling),$e=r,Ht=!0,jr=null,qn=!1,e!==null&&oy(r,e),r=Cc(r,l),r.flags|=4096;return r}return e=Ji(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Ic(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Od(e,r,a,l,f){return Qs(r),a=fd(e,r,a,l,void 0,f),l=dd(),e!==null&&!Oe?(md(e,r,f),rr(e,r,f)):(Ht&&l&&Qf(r),r.flags|=1,Ye(e,r,a,f),r.child)}function b0(e,r,a,l,f,d){return Qs(r),r.updateQueue=null,a=Sy(r,l,a,f),Ay(e),l=dd(),e!==null&&!Oe?(md(e,r,d),rr(e,r,d)):(Ht&&l&&Qf(r),r.flags|=1,Ye(e,r,a,d),r.child)}function w0(e,r,a,l,f){if(Qs(r),r.stateNode===null){var d=ka,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qe(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Cd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},rd(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qe(_):ka,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Rd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Cd.enqueueReplaceState(d,d.state,null),cl(r,l,d,f),ul(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var w=r.memoizedProps,M=Ws(a,w);d.props=M;var q=d.context,J=a.contextType;_=ka,typeof J=="object"&&J!==null&&(_=Qe(J));var nt=a.getDerivedStateFromProps;J=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||q!==_)&&u0(r,d,l,_),qr=!1;var H=r.memoizedState;d.state=H,cl(r,l,d,f),ul(),q=r.memoizedState,w||H!==q||qr?(typeof nt=="function"&&(Rd(r,a,nt,l),q=r.memoizedState),(M=qr||l0(r,a,M,l,H,q,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=_,l=M):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,sd(e,r),_=r.memoizedProps,J=Ws(a,_),d.props=J,nt=r.pendingProps,H=d.context,q=a.contextType,M=ka,typeof q=="object"&&q!==null&&(M=Qe(q)),w=a.getDerivedStateFromProps,(q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==nt||H!==M)&&u0(r,d,l,M),qr=!1,H=r.memoizedState,d.state=H,cl(r,l,d,f),ul();var Y=r.memoizedState;_!==nt||H!==Y||qr||e!==null&&e.dependencies!==null&&hc(e.dependencies)?(typeof w=="function"&&(Rd(r,a,w,l),Y=r.memoizedState),(J=qr||l0(r,a,J,l,H,Y,M)||e!==null&&e.dependencies!==null&&hc(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,M)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=M,l=J):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ic(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Zs(r,e.child,null,f),r.child=Zs(r,null,a,f)):Ye(e,r,a,f),r.memoizedState=d.state,e=r.child):e=rr(e,r,f),e}function A0(e,r,a,l){return Gs(),r.flags|=256,Ye(e,r,a,l),r.child}var Md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kd(e){return{baseLanes:e,cachePool:dy()}}function Vd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Nn),e}function S0(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,e===null){if(Ht){if(f?Gr(r):$r(),(e=le)?(e=M_(e,qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Ur!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=ry(e),a.return=r,r.child=a,$e=r,le=null)):e=null,e===null)throw zr(r);return ym(e)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,f?($r(),f=r.mode,w=Dc({mode:"hidden",children:w},f),l=Fs(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=kd(a),l.childLanes=Vd(e,_,a),r.memoizedState=Md,pl(null,l)):(Gr(r),Ld(r,w))}var M=e.memoizedState;if(M!==null&&(w=M.dehydrated,w!==null)){if(d)r.flags&256?(Gr(r),r.flags&=-257,r=Pd(e,r,a)):r.memoizedState!==null?($r(),r.child=e.child,r.flags|=128,r=null):($r(),w=l.fallback,f=r.mode,l=Dc({mode:"visible",children:l.children},f),w=Fs(w,f,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,Zs(r,e.child,null,a),l=r.child,l.memoizedState=kd(a),l.childLanes=Vd(e,_,a),r.memoizedState=Md,r=pl(null,l));else if(Gr(r),ym(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),r=Pd(e,r,a)}else if(Oe||Ua(e,r,a,!1),_=(a&e.childLanes)!==0,Oe||_){if(_=ae,_!==null&&(l=Lo(_,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Hs(e,l),gn(_,e,l),Dd;gm(w)||zc(),r=Pd(e,r,a)}else gm(w)?(r.flags|=192,r.child=e.child,r=null):(e=M.treeContext,le=Fn(w.nextSibling),$e=r,Ht=!0,jr=null,qn=!1,e!==null&&oy(r,e),r=Ld(r,l.children),r.flags|=4096);return r}return f?($r(),w=l.fallback,f=r.mode,M=e.child,q=M.sibling,l=Ji(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,q!==null?w=Ji(q,w):(w=Fs(w,f,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,pl(null,l),l=r.child,w=e.child.memoizedState,w===null?w=kd(a):(f=w.cachePool,f!==null?(M=Ie._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=dy(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Vd(e,_,a),r.memoizedState=Md,pl(e.child,l)):(Gr(r),a=e.child,e=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(_=r.deletions,_===null?(r.deletions=[e],r.flags|=16):_.push(e)),r.child=a,r.memoizedState=null,a)}function Ld(e,r){return r=Dc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Dc(e,r){return e=wn(22,e,null,r),e.lanes=0,e}function Pd(e,r,a){return Zs(r,e.child,null,a),e=Ld(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function x0(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Jf(e.return,r,a)}function Ud(e,r,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function N0(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=we.current,w=(_&2)!==0;if(w?(_=_&1|2,r.flags|=128):_&=1,ut(we,_),Ye(e,r,l,a),l=Ht?nl:0,!w&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&x0(e,a,r);else if(e.tag===19)x0(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&vc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Ud(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&vc(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Ud(r,!0,a,null,d,l);break;case"together":Ud(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function rr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Kr|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Ua(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=Ji(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=Ji(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function jd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&hc(e)))}function Jw(e,r,a){switch(r.tag){case 3:se(r,r.stateNode.containerInfo),Br(r,Ie,e.memoizedState.cache),Gs();break;case 27:case 5:mi(r);break;case 4:se(r,r.stateNode.containerInfo);break;case 10:Br(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,cd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Gr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?S0(e,r,a):(Gr(r),e=rr(e,r,a),e!==null?e.sibling:null);Gr(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ua(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return N0(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(we,we.current),l)break;return null;case 22:return r.lanes=0,v0(e,r,a,r.pendingProps);case 24:Br(r,Ie,e.memoizedState.cache)}return rr(e,r,a)}function R0(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Oe=!0;else{if(!jd(e,a)&&(r.flags&128)===0)return Oe=!1,Jw(e,r,a);Oe=(e.flags&131072)!==0}else Oe=!1,Ht&&(r.flags&1048576)!==0&&ay(r,nl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=Ks(r.elementType),r.type=e,typeof e=="function")Ff(e)?(l=Ws(e,l),r.tag=1,r=w0(null,r,e,l,a)):(r.tag=0,r=Od(null,r,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===ct){r.tag=11,r=g0(null,r,e,l,a);break t}else if(f===R){r.tag=14,r=y0(null,r,e,l,a);break t}}throw r=gt(e)||e,Error(s(306,r,""))}}return r;case 0:return Od(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ws(l,r.pendingProps),w0(e,r,l,f,a);case 3:t:{if(se(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,sd(e,r),cl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Br(r,Ie,l),l!==d.cache&&Wf(r,[Ie],a,!0),ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=A0(e,r,l,a);break t}else if(l!==f){f=jn(Error(s(424)),r),il(f),r=A0(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Fn(e.firstChild),$e=r,Ht=!0,jr=null,qn=!0,a=vy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gs(),l===f){r=rr(e,r,a);break t}Ye(e,r,l,a)}r=r.child}return r;case 26:return Ic(e,r),e===null?(a=j_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ht||(a=r.type,e=r.pendingProps,l=Qc(xt.current).createElement(a),l[Ne]=r,l[ze]=e,Ke(l,a,e),Re(l),r.stateNode=l):r.memoizedState=j_(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return mi(r),e===null&&Ht&&(l=r.stateNode=L_(r.type,r.pendingProps,xt.current),$e=r,qn=!0,f=le,ts(r.type)?(_m=f,le=Fn(l.firstChild)):le=f),Ye(e,r,r.pendingProps.children,a),Ic(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Ht&&((f=l=le)&&(l=RA(l,r.type,r.pendingProps,qn),l!==null?(r.stateNode=l,$e=r,le=Fn(l.firstChild),qn=!1,f=!0):f=!1),f||zr(r)),mi(r),f=r.type,d=r.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,dm(f,d)?l=null:_!==null&&dm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=fd(e,r,Hw,null,null,a),Il._currentValue=f),Ic(e,r),Ye(e,r,l,a),r.child;case 6:return e===null&&Ht&&((e=a=le)&&(a=CA(a,r.pendingProps,qn),a!==null?(r.stateNode=a,$e=r,le=null,e=!0):e=!1),e||zr(r)),null;case 13:return S0(e,r,a);case 4:return se(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Zs(r,null,l,a):Ye(e,r,l,a),r.child;case 11:return g0(e,r,r.type,r.pendingProps,a);case 7:return Ye(e,r,r.pendingProps,a),r.child;case 8:return Ye(e,r,r.pendingProps.children,a),r.child;case 12:return Ye(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Br(r,r.type,l.value),Ye(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Qs(r),f=Qe(f),l=l(f),r.flags|=1,Ye(e,r,l,a),r.child;case 14:return y0(e,r,r.type,r.pendingProps,a);case 15:return _0(e,r,r.type,r.pendingProps,a);case 19:return N0(e,r,a);case 31:return Zw(e,r,a);case 22:return v0(e,r,a,r.pendingProps);case 24:return Qs(r),l=Qe(Ie),e===null?(f=nd(),f===null&&(f=ae,d=td(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},rd(r),Br(r,Ie,f)):((e.lanes&a)!==0&&(sd(e,r),cl(r,null,null,a),ul()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Br(r,Ie,l)):(l=d.cache,Br(r,Ie,l),l!==f.cache&&Wf(r,[Ie],a,!0))),Ye(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function sr(e){e.flags|=4}function zd(e,r,a,l,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(e_())e.flags|=8192;else throw Xs=pc,id}else e.flags&=-16777217}function C0(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!F_(r))if(e_())e.flags|=8192;else throw Xs=pc,id}function Oc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Uu():536870912,e.lanes|=r,Xa|=r)}function gl(e,r){if(!Ht)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ue(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function Ww(e,r,a){var l=r.pendingProps;switch(Yf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),er(Ie),Xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Pa(r)?sr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xf())),ue(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(sr(r),d!==null?(ue(r),C0(r,d)):(ue(r),zd(r,f,null,l,a))):d?d!==e.memoizedState?(sr(r),ue(r),C0(r,d)):(ue(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&sr(r),ue(r),zd(r,f,e,l,a)),null;case 27:if(Sr(r),a=xt.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&sr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ue(r),null}e=ft.current,Pa(r)?ly(r):(e=L_(f,l,a),r.stateNode=e,sr(r))}return ue(r),null;case 5:if(Sr(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&sr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ue(r),null}if(d=ft.current,Pa(r))ly(r);else{var _=Qc(xt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Ne]=r,d[ze]=l;t:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break t;for(;_.sibling===null;){if(_.return===null||_.return===r)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;t:switch(Ke(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&sr(r)}}return ue(r),zd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&sr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=xt.current,Pa(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=$e,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ne]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||S_(e.nodeValue,a)),e||zr(r,!0)}else e=Qc(e).createTextNode(l),e[Ne]=r,r.stateNode=e}return ue(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=Pa(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ne]=r}else Gs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),e=!1}else a=Xf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(Sn(r),r):(Sn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ue(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Pa(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ne]=r}else Gs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),f=!1}else f=Xf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Sn(r),r):(Sn(r),null)}return Sn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Oc(r,r.updateQueue),ue(r),null);case 4:return Xt(),e===null&&lm(r.stateNode.containerInfo),ue(r),null;case 10:return er(r.type),ue(r),null;case 19:if(W(we),l=r.memoizedState,l===null)return ue(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)gl(l,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=vc(e),d!==null){for(r.flags|=128,gl(l,!1),e=d.updateQueue,r.updateQueue=e,Oc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)iy(a,e),a=a.sibling;return ut(we,we.current&1|2),Ht&&Wi(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&oe()>Pc&&(r.flags|=128,f=!0,gl(l,!1),r.lanes=4194304)}else{if(!f)if(e=vc(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,Oc(r,e),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ht)return ue(r),null}else 2*oe()-l.renderingStartTime>Pc&&a!==536870912&&(r.flags|=128,f=!0,gl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=oe(),e.sibling=null,a=we.current,ut(we,f?a&1|2:a&1),Ht&&Wi(r,l.treeForkCount),e):(ue(r),null);case 22:case 23:return Sn(r),ud(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),a=r.updateQueue,a!==null&&Oc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&W(Ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),er(Ie),ue(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function tA(e,r){switch(Yf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return er(Ie),Xt(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Sr(r),null;case 31:if(r.memoizedState!==null){if(Sn(r),r.alternate===null)throw Error(s(340));Gs()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(Sn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Gs()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return W(we),null;case 4:return Xt(),null;case 10:return er(r.type),null;case 22:case 23:return Sn(r),ud(),e!==null&&W(Ys),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return er(Ie),null;case 25:return null;default:return null}}function I0(e,r){switch(Yf(r),r.tag){case 3:er(Ie),Xt();break;case 26:case 27:case 5:Sr(r);break;case 4:Xt();break;case 31:r.memoizedState!==null&&Sn(r);break;case 13:Sn(r);break;case 19:W(we);break;case 10:er(r.type);break;case 22:case 23:Sn(r),ud(),e!==null&&W(Ys);break;case 24:er(Ie)}}function yl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){te(r,r.return,w)}}function Qr(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=r;var M=a,q=w;try{q()}catch(J){te(f,M,J)}}}l=l.next}while(l!==d)}}catch(J){te(r,r.return,J)}}function D0(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Ty(r,a)}catch(l){te(e,e.return,l)}}}function O0(e,r,a){a.props=Ws(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){te(e,r,l)}}function _l(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){te(e,r,f)}}function ki(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){te(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){te(e,r,f)}else a.current=null}function M0(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){te(e,e.return,f)}}function Bd(e,r,a){try{var l=e.stateNode;bA(l,e.type,a,r),l[ze]=r}catch(f){te(e,e.return,f)}}function k0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ts(e.type)||e.tag===4}function qd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||k0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ts(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Wn));else if(l!==4&&(l===27&&ts(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Hd(e,r,a),e=e.sibling;e!==null;)Hd(e,r,a),e=e.sibling}function Mc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&ts(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Mc(e,r,a),e=e.sibling;e!==null;)Mc(e,r,a),e=e.sibling}function V0(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ke(r,l,a),r[Ne]=e,r[ze]=a}catch(d){te(e,e.return,d)}}var ar=!1,Me=!1,Fd=!1,L0=typeof WeakSet=="function"?WeakSet:Set,qe=null;function eA(e,r){if(e=e.containerInfo,hm=th,e=Yg(e),Pf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,w=-1,M=-1,q=0,J=0,nt=e,H=null;e:for(;;){for(var Y;nt!==a||f!==0&&nt.nodeType!==3||(w=_+f),nt!==d||l!==0&&nt.nodeType!==3||(M=_+l),nt.nodeType===3&&(_+=nt.nodeValue.length),(Y=nt.firstChild)!==null;)H=nt,nt=Y;for(;;){if(nt===e)break e;if(H===a&&++q===f&&(w=_),H===d&&++J===l&&(M=_),(Y=nt.nextSibling)!==null)break;nt=H,H=nt.parentNode}nt=Y}a=w===-1||M===-1?null:{start:w,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(fm={focusedElem:e,selectionRange:a},th=!1,qe=r;qe!==null;)if(r=qe,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,qe=e;else for(;qe!==null;){switch(r=qe,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=Ws(a.type,f);e=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(bt){te(a,a.return,bt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)pm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,qe=e;break}qe=r.return}}function P0(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:lr(e,a),l&4&&yl(5,a);break;case 1:if(lr(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(_){te(a,a.return,_)}else{var f=Ws(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(_){te(a,a.return,_)}}l&64&&D0(a),l&512&&_l(a,a.return);break;case 3:if(lr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ty(e,r)}catch(_){te(a,a.return,_)}}break;case 27:r===null&&l&4&&V0(a);case 26:case 5:lr(e,a),r===null&&l&4&&M0(a),l&512&&_l(a,a.return);break;case 12:lr(e,a);break;case 31:lr(e,a),l&4&&z0(e,a);break;case 13:lr(e,a),l&4&&B0(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=cA.bind(null,a),IA(e,a))));break;case 22:if(l=a.memoizedState!==null||ar,!l){r=r!==null&&r.memoizedState!==null||Me,f=ar;var d=Me;ar=l,(Me=r)&&!d?ur(e,a,(a.subtreeFlags&8772)!==0):lr(e,a),ar=f,Me=d}break;case 30:break;default:lr(e,a)}}function U0(e){var r=e.alternate;r!==null&&(e.alternate=null,U0(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Ea(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,fn=!1;function or(e,r,a){for(a=a.child;a!==null;)j0(e,r,a),a=a.sibling}function j0(e,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Me||ki(a,r),or(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Me||ki(a,r);var l=de,f=fn;ts(a.type)&&(de=a.stateNode,fn=!1),or(e,r,a),Nl(a.stateNode),de=l,fn=f;break;case 5:Me||ki(a,r);case 6:if(l=de,f=fn,de=null,or(e,r,a),de=l,fn=f,de!==null)if(fn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(a.stateNode)}catch(d){te(a,r,d)}else try{de.removeChild(a.stateNode)}catch(d){te(a,r,d)}break;case 18:de!==null&&(fn?(e=de,D_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ro(e)):D_(de,a.stateNode));break;case 4:l=de,f=fn,de=a.stateNode.containerInfo,fn=!0,or(e,r,a),de=l,fn=f;break;case 0:case 11:case 14:case 15:Qr(2,a,r),Me||Qr(4,a,r),or(e,r,a);break;case 1:Me||(ki(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&O0(a,r,l)),or(e,r,a);break;case 21:or(e,r,a);break;case 22:Me=(l=Me)||a.memoizedState!==null,or(e,r,a),Me=l;break;default:or(e,r,a)}}function z0(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ro(e)}catch(a){te(r,r.return,a)}}}function B0(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ro(e)}catch(a){te(r,r.return,a)}}function nA(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new L0),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new L0),r;default:throw Error(s(435,e.tag))}}function kc(e,r){var a=nA(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=hA.bind(null,e,l);l.then(f,f)}})}function dn(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=r,w=_;t:for(;w!==null;){switch(w.tag){case 27:if(ts(w.type)){de=w.stateNode,fn=!1;break t}break;case 5:de=w.stateNode,fn=!1;break t;case 3:case 4:de=w.stateNode.containerInfo,fn=!0;break t}w=w.return}if(de===null)throw Error(s(160));j0(d,_,f),de=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)q0(r,e),r=r.sibling}var si=null;function q0(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(r,e),mn(e),l&4&&(Qr(3,e,e.return),yl(3,e),Qr(5,e,e.return));break;case 1:dn(r,e),mn(e),l&512&&(Me||a===null||ki(a,a.return)),l&64&&ar&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=si;if(dn(r,e),mn(e),l&512&&(Me||a===null||ki(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ei]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ke(d,l,a),d[Ne]=e,Re(d),l=d;break t;case"link":var _=q_("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break e}}d=f.createElement(l),Ke(d,l,a),f.head.appendChild(d);break;case"meta":if(_=q_("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break e}}d=f.createElement(l),Ke(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=e,Re(d),l=d}e.stateNode=l}else H_(f,e.type,e.stateNode);else e.stateNode=B_(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?H_(f,e.type,e.stateNode):B_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Bd(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(r,e),mn(e),l&512&&(Me||a===null||ki(a,a.return)),a!==null&&l&4&&Bd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,e),mn(e),l&512&&(Me||a===null||ki(a,a.return)),e.flags&32){f=e.stateNode;try{hn(f,"")}catch(pt){te(e,e.return,pt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Bd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Fd=!0);break;case 6:if(dn(r,e),mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(pt){te(e,e.return,pt)}}break;case 3:if(Xc=null,f=si,si=Yc(r.containerInfo),dn(r,e),si=f,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(r.containerInfo)}catch(pt){te(e,e.return,pt)}Fd&&(Fd=!1,H0(e));break;case 4:l=si,si=Yc(e.stateNode.containerInfo),dn(r,e),mn(e),si=l;break;case 12:dn(r,e),mn(e);break;case 31:dn(r,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kc(e,l)));break;case 13:dn(r,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lc=oe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kc(e,l)));break;case 22:f=e.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,q=ar,J=Me;if(ar=q||f,Me=J||M,dn(r,e),Me=J,ar=q,mn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||M||ar||Me||ta(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){M=a=r;try{if(d=M.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=M.stateNode;var nt=M.memoizedProps.style,H=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(pt){te(M,M.return,pt)}}}else if(r.tag===6){if(a===null){M=r;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(pt){te(M,M.return,pt)}}}else if(r.tag===18){if(a===null){M=r;try{var Y=M.stateNode;f?O_(Y,!0):O_(M.stateNode,!1)}catch(pt){te(M,M.return,pt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kc(e,a))));break;case 19:dn(r,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kc(e,l)));break;case 30:break;case 21:break;default:dn(r,e),mn(e)}}function mn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(k0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=qd(e);Mc(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var w=qd(e);Mc(e,w,_);break;case 3:case 4:var M=a.stateNode.containerInfo,q=qd(e);Hd(e,q,M);break;default:throw Error(s(161))}}catch(J){te(e,e.return,J)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function H0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;H0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function lr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)P0(e,r.alternate,r),r=r.sibling}function ta(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Qr(4,r,r.return),ta(r);break;case 1:ki(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&O0(r,r.return,a),ta(r);break;case 27:Nl(r.stateNode);case 26:case 5:ki(r,r.return),ta(r);break;case 22:r.memoizedState===null&&ta(r);break;case 30:ta(r);break;default:ta(r)}e=e.sibling}}function ur(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:ur(f,d,a),yl(4,d);break;case 1:if(ur(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){te(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Ey(M[f],w)}catch(q){te(l,l.return,q)}}a&&_&64&&D0(d),_l(d,d.return);break;case 27:V0(d);case 26:case 5:ur(f,d,a),a&&l===null&&_&4&&M0(d),_l(d,d.return);break;case 12:ur(f,d,a);break;case 31:ur(f,d,a),a&&_&4&&z0(f,d);break;case 13:ur(f,d,a),a&&_&4&&B0(f,d);break;case 22:d.memoizedState===null&&ur(f,d,a),_l(d,d.return);break;case 30:break;default:ur(f,d,a)}r=r.sibling}}function Gd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rl(a))}function $d(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&rl(e))}function ai(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)F0(e,r,a,l),r=r.sibling}function F0(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ai(e,r,a,l),f&2048&&yl(9,r);break;case 1:ai(e,r,a,l);break;case 3:ai(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&rl(e)));break;case 12:if(f&2048){ai(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){te(r,r.return,M)}}else ai(e,r,a,l);break;case 31:ai(e,r,a,l);break;case 13:ai(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ai(e,r,a,l):vl(e,r):d._visibility&2?ai(e,r,a,l):(d._visibility|=2,Qa(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Gd(_,r);break;case 24:ai(e,r,a,l),f&2048&&$d(r.alternate,r);break;default:ai(e,r,a,l)}}function Qa(e,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,_=r,w=a,M=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Qa(d,_,w,M,f),yl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Qa(d,_,w,M,f):vl(d,_):(J._visibility|=2,Qa(d,_,w,M,f)),f&&q&2048&&Gd(_.alternate,_);break;case 24:Qa(d,_,w,M,f),f&&q&2048&&$d(_.alternate,_);break;default:Qa(d,_,w,M,f)}r=r.sibling}}function vl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:vl(a,l),f&2048&&Gd(l.alternate,l);break;case 24:vl(a,l),f&2048&&$d(l.alternate,l);break;default:vl(a,l)}r=r.sibling}}var El=8192;function Ya(e,r,a){if(e.subtreeFlags&El)for(e=e.child;e!==null;)G0(e,r,a),e=e.sibling}function G0(e,r,a){switch(e.tag){case 26:Ya(e,r,a),e.flags&El&&e.memoizedState!==null&&qA(a,si,e.memoizedState,e.memoizedProps);break;case 5:Ya(e,r,a);break;case 3:case 4:var l=si;si=Yc(e.stateNode.containerInfo),Ya(e,r,a),si=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,Ya(e,r,a),El=l):Ya(e,r,a));break;default:Ya(e,r,a)}}function $0(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Tl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qe=l,Y0(l,e)}$0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Q0(e),e=e.sibling}function Q0(e){switch(e.tag){case 0:case 11:case 15:Tl(e),e.flags&2048&&Qr(9,e,e.return);break;case 3:Tl(e);break;case 12:Tl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Vc(e)):Tl(e);break;default:Tl(e)}}function Vc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qe=l,Y0(l,e)}$0(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Qr(8,r,r.return),Vc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(r));break;default:Vc(r)}e=e.sibling}}function Y0(e,r){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:Qr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qe=l;else t:for(a=e;qe!==null;){l=qe;var f=l.sibling,d=l.return;if(U0(l),l===a){qe=null;break t}if(f!==null){f.return=d,qe=f;break t}qe=d}}}var iA={getCacheForType:function(e){var r=Qe(Ie),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Qe(Ie).controller.signal}},rA=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ae=null,Lt=null,Ut=0,Wt=0,xn=null,Yr=!1,Ka=!1,Qd=!1,cr=0,ve=0,Kr=0,ea=0,Yd=0,Nn=0,Xa=0,bl=null,pn=null,Kd=!1,Lc=0,K0=0,Pc=1/0,Uc=null,Xr=null,Pe=0,Zr=null,Za=null,hr=0,Xd=0,Zd=null,X0=null,wl=0,Jd=null;function Rn(){return(Yt&2)!==0&&Ut!==0?Ut&-Ut:P.T!==null?rm():ju()}function Z0(){if(Nn===0)if((Ut&536870912)===0||Ht){var e=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),Nn=e}else Nn=536870912;return e=An.current,e!==null&&(e.flags|=32),Nn}function gn(e,r,a){(e===ae&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(Ja(e,0),Jr(e,Ut,Nn,!1)),Cs(e,a),((Yt&2)===0||e!==ae)&&(e===ae&&((Yt&2)===0&&(ea|=a),ve===4&&Jr(e,Ut,Nn,!1)),Vi(e))}function J0(e,r,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||Xn(e,r),f=l?oA(e,r):tm(e,r,!0),d=l;do{if(f===0){Ka&&!l&&Jr(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!sA(a)){f=tm(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;t:{var w=e;f=bl;var M=w.current.memoizedState.isDehydrated;if(M&&(Ja(w,_).flags|=256),_=tm(w,_,!1),_!==2){if(Qd&&!M){w.errorRecoveryDisabledLanes|=d,ea|=d,f=4;break t}d=pn,pn=f,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ja(e,0),Jr(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Jr(l,r,Nn,!Yr);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Lc+300-oe(),10<f)){if(Jr(l,r,Nn,!Yr),yi(l,0,!0)!==0)break t;hr=r,l.timeoutHandle=C_(W0.bind(null,l,a,pn,Uc,Kd,r,Nn,ea,Xa,Yr,d,"Throttled",-0,0),f);break t}W0(l,a,pn,Uc,Kd,r,Nn,ea,Xa,Yr,d,null,-0,0)}}break}while(!0);Vi(e)}function W0(e,r,a,l,f,d,_,w,M,q,J,nt,H,Y){if(e.timeoutHandle=-1,nt=r.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},G0(r,d,nt);var pt=(d&62914560)===d?Lc-oe():(d&4194048)===d?K0-oe():0;if(pt=HA(nt,pt),pt!==null){hr=d,e.cancelPendingCommit=pt(o_.bind(null,e,r,d,a,l,f,_,w,M,J,nt,null,H,Y)),Jr(e,d,_,!q);return}}o_(e,r,d,a,l,f,_,w,M)}function sA(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!bn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Jr(e,r,a,l){r&=~Yd,r&=~ea,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-Te(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Is(e,a,r)}function jc(){return(Yt&6)===0?(Al(0),!1):!0}function Wd(){if(Lt!==null){if(Wt===0)var e=Lt.return;else e=Lt,tr=$s=null,pd(e),qa=null,al=0,e=Lt;for(;e!==null;)I0(e.alternate,e),e=e.return;Lt=null}}function Ja(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,SA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),hr=0,Wd(),ae=e,Lt=a=Ji(e.current,null),Ut=r,Wt=0,xn=null,Yr=!1,Ka=Xn(e,r),Qd=!1,Xa=Nn=Yd=ea=Kr=ve=0,pn=bl=null,Kd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-Te(l),d=1<<f;r|=e[f],l&=~d}return cr=r,ac(),a}function t_(e,r){Mt=null,P.H=ml,r===Ba||r===mc?(r=gy(),Wt=3):r===id?(r=gy(),Wt=4):Wt=r===Dd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,Lt===null&&(ve=1,Rc(e,jn(r,e.current)))}function e_(){var e=An.current;return e===null?!0:(Ut&4194048)===Ut?Hn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===Hn:!1}function n_(){var e=P.H;return P.H=ml,e===null?ml:e}function i_(){var e=P.A;return P.A=iA,e}function zc(){ve=4,Yr||(Ut&4194048)!==Ut&&An.current!==null||(Ka=!0),(Kr&134217727)===0&&(ea&134217727)===0||ae===null||Jr(ae,Ut,Nn,!1)}function tm(e,r,a){var l=Yt;Yt|=2;var f=n_(),d=i_();(ae!==e||Ut!==r)&&(Uc=null,Ja(e,r)),r=!1;var _=ve;t:do try{if(Wt!==0&&Lt!==null){var w=Lt,M=xn;switch(Wt){case 8:Wd(),_=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(r=!0);var q=Wt;if(Wt=0,xn=null,Wa(e,w,M,q),a&&Ka){_=0;break t}break;default:q=Wt,Wt=0,xn=null,Wa(e,w,M,q)}}aA(),_=ve;break}catch(J){t_(e,J)}while(!0);return r&&e.shellSuspendCounter++,tr=$s=null,Yt=l,P.H=f,P.A=d,Lt===null&&(ae=null,Ut=0,ac()),_}function aA(){for(;Lt!==null;)r_(Lt)}function oA(e,r){var a=Yt;Yt|=2;var l=n_(),f=i_();ae!==e||Ut!==r?(Uc=null,Pc=oe()+500,Ja(e,r)):Ka=Xn(e,r);t:do try{if(Wt!==0&&Lt!==null){r=Lt;var d=xn;e:switch(Wt){case 1:Wt=0,xn=null,Wa(e,r,d,1);break;case 2:case 9:if(my(d)){Wt=0,xn=null,s_(r);break}r=function(){Wt!==2&&Wt!==9||ae!==e||(Wt=7),Vi(e)},d.then(r,r);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:my(d)?(Wt=0,xn=null,s_(r)):(Wt=0,xn=null,Wa(e,r,d,7));break;case 5:var _=null;switch(Lt.tag){case 26:_=Lt.memoizedState;case 5:case 27:var w=Lt;if(_?F_(_):w.stateNode.complete){Wt=0,xn=null;var M=w.sibling;if(M!==null)Lt=M;else{var q=w.return;q!==null?(Lt=q,Bc(q)):Lt=null}break e}}Wt=0,xn=null,Wa(e,r,d,5);break;case 6:Wt=0,xn=null,Wa(e,r,d,6);break;case 8:Wd(),ve=6;break t;default:throw Error(s(462))}}lA();break}catch(J){t_(e,J)}while(!0);return tr=$s=null,P.H=l,P.A=f,Yt=a,Lt!==null?0:(ae=null,Ut=0,ac(),ve)}function lA(){for(;Lt!==null&&!Qi();)r_(Lt)}function r_(e){var r=R0(e.alternate,e,cr);e.memoizedProps=e.pendingProps,r===null?Bc(e):Lt=r}function s_(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=b0(a,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=b0(a,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:pd(r);default:I0(a,r),r=Lt=iy(r,cr),r=R0(a,r,cr)}e.memoizedProps=e.pendingProps,r===null?Bc(e):Lt=r}function Wa(e,r,a,l){tr=$s=null,pd(r),qa=null,al=0;var f=r.return;try{if(Xw(e,f,r,a,Ut)){ve=1,Rc(e,jn(a,e.current)),Lt=null;return}}catch(d){if(f!==null)throw Lt=f,d;ve=1,Rc(e,jn(a,e.current)),Lt=null;return}r.flags&32768?(Ht||l===1?e=!0:Ka||(Ut&536870912)!==0?e=!1:(Yr=e=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),a_(r,e)):Bc(r)}function Bc(e){var r=e;do{if((r.flags&32768)!==0){a_(r,Yr);return}e=r.return;var a=Ww(r.alternate,r,cr);if(a!==null){Lt=a;return}if(r=r.sibling,r!==null){Lt=r;return}Lt=r=e}while(r!==null);ve===0&&(ve=5)}function a_(e,r){do{var a=tA(e.alternate,e);if(a!==null){a.flags&=32767,Lt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Lt=e;return}Lt=e=a}while(e!==null);ve=6,Lt=null}function o_(e,r,a,l,f,d,_,w,M){e.cancelPendingCommit=null;do qc();while(Pe!==0);if((Yt&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=qf,Mf(e,a,d,_,w,M),e===ae&&(Lt=ae=null,Ut=0),Za=r,Zr=e,hr=a,Xd=d,Zd=f,X0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fA(Rr,function(){return f_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,f=G.p,G.p=2,_=Yt,Yt|=4;try{eA(e,r,a)}finally{Yt=_,G.p=f,P.T=l}}Pe=1,l_(),u_(),c_()}}function l_(){if(Pe===1){Pe=0;var e=Zr,r=Za,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var l=G.p;G.p=2;var f=Yt;Yt|=4;try{q0(r,e);var d=fm,_=Yg(e.containerInfo),w=d.focusedElem,M=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&Qg(w.ownerDocument.documentElement,w)){if(M!==null&&Pf(w)){var q=M.start,J=M.end;if(J===void 0&&(J=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(J,w.value.length);else{var nt=w.ownerDocument||document,H=nt&&nt.defaultView||window;if(H.getSelection){var Y=H.getSelection(),pt=w.textContent.length,bt=Math.min(M.start,pt),re=M.end===void 0?bt:Math.min(M.end,pt);!Y.extend&&bt>re&&(_=re,re=bt,bt=_);var j=$g(w,bt),V=$g(w,re);if(j&&V&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var B=nt.createRange();B.setStart(j.node,j.offset),Y.removeAllRanges(),bt>re?(Y.addRange(B),Y.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),Y.addRange(B))}}}}for(nt=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&nt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<nt.length;w++){var tt=nt[w];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}th=!!hm,fm=hm=null}finally{Yt=f,G.p=l,P.T=a}}e.current=r,Pe=2}}function u_(){if(Pe===2){Pe=0;var e=Zr,r=Za,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var l=G.p;G.p=2;var f=Yt;Yt|=4;try{P0(e,r.alternate,r)}finally{Yt=f,G.p=l,P.T=a}}Pe=3}}function c_(){if(Pe===4||Pe===3){Pe=0,ye();var e=Zr,r=Za,a=hr,l=X0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pe=5:(Pe=0,Za=Zr=null,h_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Xr=null),Yi(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Kn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=P.T,f=G.p,G.p=2,P.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{P.T=r,G.p=f}}(hr&3)!==0&&qc(),Vi(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Jd?wl++:(wl=0,Jd=e):wl=0,Al(0)}}function h_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,rl(r)))}function qc(){return l_(),u_(),c_(),f_()}function f_(){if(Pe!==5)return!1;var e=Zr,r=Xd;Xd=0;var a=Yi(hr),l=P.T,f=G.p;try{G.p=32>a?32:a,P.T=null,a=Zd,Zd=null;var d=Zr,_=hr;if(Pe=0,Za=Zr=null,hr=0,(Yt&6)!==0)throw Error(s(331));var w=Yt;if(Yt|=4,Q0(d.current),F0(d,d.current,_,a),Yt=w,Al(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{G.p=f,P.T=l,h_(e,r)}}function d_(e,r,a){r=jn(a,r),r=Id(e.stateNode,r,2),e=Fr(e,r,2),e!==null&&(Cs(e,2),Vi(e))}function te(e,r,a){if(e.tag===3)d_(e,e,a);else for(;r!==null;){if(r.tag===3){d_(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){e=jn(a,e),a=m0(2),l=Fr(r,a,2),l!==null&&(p0(a,l,r,e),Cs(l,2),Vi(l));break}}r=r.return}}function em(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new rA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Qd=!0,f.add(a),e=uA.bind(null,e,r,a),r.then(e,e))}function uA(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ae===e&&(Ut&a)===a&&(ve===4||ve===3&&(Ut&62914560)===Ut&&300>oe()-Lc?(Yt&2)===0&&Ja(e,0):Yd|=a,Xa===Ut&&(Xa=0)),Vi(e)}function m_(e,r){r===0&&(r=Uu()),e=Hs(e,r),e!==null&&(Cs(e,r),Vi(e))}function cA(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),m_(e,a)}function hA(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),m_(e,a)}function fA(e,r){return Zt(e,r)}var Hc=null,to=null,nm=!1,Fc=!1,im=!1,Wr=0;function Vi(e){e!==to&&e.next===null&&(to===null?Hc=to=e:to=to.next=e),Fc=!0,nm||(nm=!0,mA())}function Al(e,r){if(!im&&Fc){im=!0;do for(var a=!1,l=Hc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Te(42|e)+1)-1,d&=f&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,__(l,d))}else d=Ut,d=yi(l,l===ae?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xn(l,d)||(a=!0,__(l,d));l=l.next}while(a);im=!1}}function dA(){p_()}function p_(){Fc=nm=!1;var e=0;Wr!==0&&AA()&&(e=Wr);for(var r=oe(),a=null,l=Hc;l!==null;){var f=l.next,d=g_(l,r);d===0?(l.next=null,a===null?Hc=f:a.next=f,f===null&&(to=a)):(a=l,(e!==0||(d&3)!==0)&&(Fc=!0)),l=f}Pe!==0&&Pe!==5||Al(e),Wr!==0&&(Wr=0)}function g_(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Te(d),w=1<<_,M=f[_];M===-1?((w&a)===0||(w&l)!==0)&&(f[_]=Of(w,r)):M<=r&&(e.expiredLanes|=w),d&=~w}if(r=ae,a=Ut,a=yi(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&On(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xn(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&On(l),Yi(a)){case 2:case 8:a=Ns;break;case 32:a=Rr;break;case 268435456:a=Mu;break;default:a=Rr}return l=y_.bind(null,e),a=Zt(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&On(l),e.callbackPriority=2,e.callbackNode=null,2}function y_(e,r){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(qc()&&e.callbackNode!==a)return null;var l=Ut;return l=yi(e,e===ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(J0(e,l,r),g_(e,oe()),e.callbackNode!=null&&e.callbackNode===a?y_.bind(null,e):null)}function __(e,r){if(qc())return null;J0(e,r,!0)}function mA(){xA(function(){(Yt&6)!==0?Zt(tn,dA):p_()})}function rm(){if(Wr===0){var e=ja;e===0&&(e=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Wr=e}return Wr}function v_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Aa(""+e)}function E_(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function pA(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=v_((f[ze]||null).action),_=l.submitter;_&&(r=(r=_[ze]||null)?v_(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var w=new Ri("action","action",null,l,f);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wr!==0){var M=_?E_(f,_):new FormData(f);Ad(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(w.preventDefault(),M=_?E_(f,_):new FormData(f),Ad(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var sm=0;sm<Bf.length;sm++){var am=Bf[sm],gA=am.toLowerCase(),yA=am[0].toUpperCase()+am.slice(1);ri(gA,"on"+yA)}ri(Zg,"onAnimationEnd"),ri(Jg,"onAnimationIteration"),ri(Wg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Mw,"onTransitionRun"),ri(kw,"onTransitionStart"),ri(Vw,"onTransitionCancel"),ri(ty,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function T_(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var w=l[_],M=w.instance,q=w.currentTarget;if(w=w.listener,M!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=q;try{d(f)}catch(J){sc(J)}f.currentTarget=null,d=M}else for(_=0;_<l.length;_++){if(w=l[_],M=w.instance,q=w.currentTarget,w=w.listener,M!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=q;try{d(f)}catch(J){sc(J)}f.currentTarget=null,d=M}}}}function Pt(e,r){var a=r[va];a===void 0&&(a=r[va]=new Set);var l=e+"__bubble";a.has(l)||(b_(r,e,2,!1),a.add(l))}function om(e,r,a){var l=0;r&&(l|=4),b_(a,e,l,r)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function lm(e){if(!e[Gc]){e[Gc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(_A.has(a)||om(a,!1,e),om(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Gc]||(r[Gc]=!0,om("selectionchange",!1,r))}}function b_(e,r,a,l){switch(Z_(r)){case 2:var f=$A;break;case 8:f=QA;break;default:f=wm}a=f.bind(null,r,a,e),f=void 0,!Vs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function um(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=Ti(w),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=d=_;continue t}w=w.parentNode}}l=l.return}kr(function(){var q=d,J=Vn(a),nt=[];t:{var H=ey.get(e);if(H!==void 0){var Y=Ri,pt=e;switch(e){case"keypress":if(Ps(a)===0)break t;case"keydown":case"keyup":Y=nc;break;case"focusin":pt="focus",Y=js;break;case"focusout":pt="blur",Y=js;break;case"beforeblur":case"afterblur":Y=js;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Zg:case Jg:case Wg:Y=Ku;break;case ty:Y=x;break;case"scroll":case"scrollend":Y=Ko;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=Xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Zi;break;case"toggle":case"beforetoggle":Y=Ot}var bt=(r&4)!==0,re=!bt&&(e==="scroll"||e==="scrollend"),j=bt?H!==null?H+"Capture":null:H;bt=[];for(var V=q,B;V!==null;){var tt=V;if(B=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||B===null||j===null||(tt=ti(V,j),tt!=null&&bt.push(xl(V,tt,B))),re)break;V=V.return}0<bt.length&&(H=new Y(H,pt,null,a,J),nt.push({event:H,listeners:bt}))}}if((r&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",H&&a!==$o&&(pt=a.relatedTarget||a.fromElement)&&(Ti(pt)||pt[vi]))break t;if((Y||H)&&(H=J.window===J?J:(H=J.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(pt=a.relatedTarget||a.toElement,Y=q,pt=pt?Ti(pt):null,pt!==null&&(re=u(pt),bt=pt.tag,pt!==re||bt!==5&&bt!==27&&bt!==6)&&(pt=null)):(Y=null,pt=q),Y!==pt)){if(bt=Xo,tt="onMouseLeave",j="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(bt=Zi,tt="onPointerLeave",j="onPointerEnter",V="pointer"),re=Y==null?H:En(Y),B=pt==null?H:En(pt),H=new bt(tt,V+"leave",Y,a,J),H.target=re,H.relatedTarget=B,tt=null,Ti(J)===q&&(bt=new bt(j,V+"enter",pt,a,J),bt.target=B,bt.relatedTarget=re,tt=bt),re=tt,Y&&pt)e:{for(bt=vA,j=Y,V=pt,B=0,tt=j;tt;tt=bt(tt))B++;tt=0;for(var Et=V;Et;Et=bt(Et))tt++;for(;0<B-tt;)j=bt(j),B--;for(;0<tt-B;)V=bt(V),tt--;for(;B--;){if(j===V||V!==null&&j===V.alternate){bt=j;break e}j=bt(j),V=bt(V)}bt=null}else bt=null;Y!==null&&w_(nt,H,Y,bt,!1),pt!==null&&re!==null&&w_(nt,re,pt,bt,!0)}}t:{if(H=q?En(q):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Gt=zg;else if(Ug(H))if(Bg)Gt=Iw;else{Gt=Rw;var yt=Nw}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&wa(q.elementType)&&(Gt=zg):Gt=Cw;if(Gt&&(Gt=Gt(e,q))){jg(nt,Gt,a,J);break t}yt&&yt(e,H,q),e==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Ho(H,"number",H.value)}switch(yt=q?En(q):window,e){case"focusin":(Ug(yt)||yt.contentEditable==="true")&&(Da=yt,Uf=q,el=null);break;case"focusout":el=Uf=Da=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Kg(nt,a,J);break;case"selectionchange":if(Ow)break;case"keydown":case"keyup":Kg(nt,a,J)}var kt;if(Qt)t:{switch(e){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Ia?zs(e,a)&&(jt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(jt="onCompositionStart");jt&&(Di&&a.locale!=="ko"&&(Ia||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Ia&&(kt=Yo()):(Ni=J,Qo="value"in Ni?Ni.value:Ni.textContent,Ia=!0)),yt=$c(q,jt),0<yt.length&&(jt=new Ii(jt,e,null,a,J),nt.push({event:jt,listeners:yt}),kt?jt.data=kt:(kt=Ca(a),kt!==null&&(jt.data=kt)))),(kt=Pn?ww(e,a):Aw(e,a))&&(jt=$c(q,"onBeforeInput"),0<jt.length&&(yt=new Ii("onBeforeInput","beforeinput",null,a,J),nt.push({event:yt,listeners:jt}),yt.data=kt)),pA(nt,e,q,a,J)}T_(nt,r)})}function xl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function $c(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ti(e,a),f!=null&&l.unshift(xl(e,f,d)),f=ti(e,r),f!=null&&l.push(xl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function vA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function w_(e,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var w=a,M=w.alternate,q=w.stateNode;if(w=w.tag,M!==null&&M===l)break;w!==5&&w!==26&&w!==27||q===null||(M=q,f?(q=ti(a,d),q!=null&&_.unshift(xl(a,q,M))):f||(q=ti(a,d),q!=null&&_.push(xl(a,q,M)))),a=a.return}_.length!==0&&e.push({event:r,listeners:_})}var EA=/\r\n?/g,TA=/\u0000|\uFFFD/g;function A_(e){return(typeof e=="string"?e:""+e).replace(EA,`
`).replace(TA,"")}function S_(e,r){return r=A_(r),A_(e)===r}function ie(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||hn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&hn(e,""+l);break;case"className":Tn(e,"class",l);break;case"tabIndex":Tn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,a,l);break;case"style":Go(e,l,d);break;case"data":if(r!=="object"){Tn(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Aa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&ie(e,r,"name",f.name,f,null),ie(e,r,"formEncType",f.formEncType,f,null),ie(e,r,"formMethod",f.formMethod,f,null),ie(e,r,"formTarget",f.formTarget,f,null)):(ie(e,r,"encType",f.encType,f,null),ie(e,r,"method",f.method,f,null),ie(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Aa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Wn);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),Ta(e,"popover",l);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$u.get(a)||a,Ta(e,a,l))}}function cm(e,r,a,l,f,d){switch(a){case"style":Go(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?hn(e,l):(typeof l=="number"||typeof l=="bigint")&&hn(e,""+l);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[ze]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ta(e,a,l)}}}function Ke(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ie(e,r,d,_,a,null)}}f&&ie(e,r,"srcSet",a.srcSet,a,null),l&&ie(e,r,"src",a.src,a,null);return;case"input":Pt("invalid",e);var w=d=_=f=null,M=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":_=J;break;case"checked":M=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:ie(e,r,l,J,a,null)}}Hu(e,d,w,M,q,_,f,!1);return;case"select":Pt("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:ie(e,r,f,w,a,null)}r=d,a=_,e.multiple=!!l,r!=null?Ir(e,!!l,r,!1):a!=null&&Ir(e,!!l,a,!0);return;case"textarea":Pt("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ie(e,r,_,w,a,null)}Dr(e,l,f,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ie(e,r,M,l,a,null)}return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Pt(Sl[l],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ie(e,r,q,l,a,null)}return;default:if(wa(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&cm(e,r,J,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&ie(e,r,w,l,a,null))}function bA(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,w=null,M=null,q=null,J=null;for(Y in a){var nt=a[Y];if(a.hasOwnProperty(Y)&&nt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=nt;default:l.hasOwnProperty(Y)||ie(e,r,Y,null,l,nt)}}for(var H in l){var Y=l[H];if(nt=a[H],l.hasOwnProperty(H)&&(Y!=null||nt!=null))switch(H){case"type":d=Y;break;case"name":f=Y;break;case"checked":q=Y;break;case"defaultChecked":J=Y;break;case"value":_=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==nt&&ie(e,r,H,Y,l,nt)}}ba(e,_,w,M,q,J,d,f);return;case"select":Y=_=w=H=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":Y=M;default:l.hasOwnProperty(d)||ie(e,r,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":H=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==M&&ie(e,r,f,d,l,M)}r=w,a=_,l=Y,H!=null?Ir(e,!!a,H,!1):!!l!=!!a&&(r!=null?Ir(e,!!a,r,!0):Ir(e,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ie(e,r,w,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&ie(e,r,_,f,l,d)}Fu(e,H,Y);return;case"option":for(var pt in a)if(H=a[pt],a.hasOwnProperty(pt)&&H!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:ie(e,r,pt,null,l,H)}for(M in l)if(H=l[M],Y=a[M],l.hasOwnProperty(M)&&H!==Y&&(H!=null||Y!=null))switch(M){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ie(e,r,M,H,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)H=a[bt],a.hasOwnProperty(bt)&&H!=null&&!l.hasOwnProperty(bt)&&ie(e,r,bt,null,l,H);for(q in l)if(H=l[q],Y=a[q],l.hasOwnProperty(q)&&H!==Y&&(H!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:ie(e,r,q,H,l,Y)}return;default:if(wa(r)){for(var re in a)H=a[re],a.hasOwnProperty(re)&&H!==void 0&&!l.hasOwnProperty(re)&&cm(e,r,re,void 0,l,H);for(J in l)H=l[J],Y=a[J],!l.hasOwnProperty(J)||H===Y||H===void 0&&Y===void 0||cm(e,r,J,H,l,Y);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!l.hasOwnProperty(j)&&ie(e,r,j,null,l,H);for(nt in l)H=l[nt],Y=a[nt],!l.hasOwnProperty(nt)||H===Y||H==null&&Y==null||ie(e,r,nt,H,l,Y)}function x_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,w=f.duration;if(d&&w&&x_(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],q=M.startTime;if(q>w)break;var J=M.transferSize,nt=M.initiatorType;J&&x_(nt)&&(M=M.responseEnd,_+=J*(M<w?1:(w-q)/(M-q)))}if(--l,r+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hm=null,fm=null;function Qc(e){return e.nodeType===9?e:e.ownerDocument}function N_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R_(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function dm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var mm=null;function AA(){var e=window.event;return e&&e.type==="popstate"?e===mm?!1:(mm=e,!0):(mm=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(e){return I_.resolve(null).then(e).catch(NA)}:C_;function NA(e){setTimeout(function(){throw e})}function ts(e){return e==="head"}function D_(e,r){var a=r,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),ro(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Nl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[Ei]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Nl(e.ownerDocument.body);a=f}while(a);ro(r)}function O_(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function pm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pm(a),Ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function RA(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ei])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function CA(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function M_(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Fn(e.nextSibling),e===null))return null;return e}function gm(e){return e.data==="$?"||e.data==="$~"}function ym(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function IA(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var _m=null;function k_(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return Fn(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function V_(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function L_(e,r,a){switch(r=Qc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Nl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Ea(e)}var Gn=new Map,P_=new Set;function Yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fr=G.d;G.d={f:DA,r:OA,D:MA,C:kA,L:VA,m:LA,X:UA,S:PA,M:jA};function DA(){var e=fr.f(),r=jc();return e||r}function OA(e){var r=kn(e);r!==null&&r.tag===5&&r.type==="form"?t0(r):fr.r(e)}var eo=typeof document>"u"?null:document;function U_(e,r,a){var l=eo;if(l&&typeof r=="string"&&r){var f=cn(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),P_.has(f)||(P_.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ke(r,"link",e),Re(r),l.head.appendChild(r)))}}function MA(e){fr.D(e),U_("dns-prefetch",e,null)}function kA(e,r){fr.C(e,r),U_("preconnect",e,r)}function VA(e,r,a){fr.L(e,r,a);var l=eo;if(l&&e&&r){var f='link[rel="preload"][as="'+cn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(e)+'"]';var d=f;switch(r){case"style":d=no(e);break;case"script":d=io(e)}Gn.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Gn.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(Rl(d))||r==="script"&&l.querySelector(Cl(d))||(r=l.createElement("link"),Ke(r,"link",e),Re(r),l.head.appendChild(r)))}}function LA(e,r){fr.m(e,r);var a=eo;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(e)}if(!Gn.has(d)&&(e=T({rel:"modulepreload",href:e},r),Gn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Ke(l,"link",e),Re(l),a.head.appendChild(l)}}}function PA(e,r,a){fr.S(e,r,a);var l=eo;if(l&&e){var f=bi(l).hoistableStyles,d=no(e);r=r||"default";var _=f.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Rl(d)))w.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Gn.get(d))&&vm(e,a);var M=_=l.createElement("link");Re(M),Ke(M,"link",e),M._p=new Promise(function(q,J){M.onload=q,M.onerror=J}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Kc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(d,_)}}}function UA(e,r){fr.X(e,r);var a=eo;if(a&&e){var l=bi(a).hoistableScripts,f=io(e),d=l.get(f);d||(d=a.querySelector(Cl(f)),d||(e=T({src:e,async:!0},r),(r=Gn.get(f))&&Em(e,r),d=a.createElement("script"),Re(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function jA(e,r){fr.M(e,r);var a=eo;if(a&&e){var l=bi(a).hoistableScripts,f=io(e),d=l.get(f);d||(d=a.querySelector(Cl(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=Gn.get(f))&&Em(e,r),d=a.createElement("script"),Re(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function j_(e,r,a,l){var f=(f=xt.current)?Yc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=no(a.href),a=bi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=no(a.href);var d=bi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Rl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Gn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(e,a),d||zA(f,e,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(a),a=bi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function no(e){return'href="'+cn(e)+'"'}function Rl(e){return'link[rel="stylesheet"]['+e+"]"}function z_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function zA(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ke(r,"link",a),Re(r),e.head.appendChild(r))}function io(e){return'[src="'+cn(e)+'"]'}function Cl(e){return"script[async]"+e}function B_(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return r.instance=l,Re(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Re(l),Ke(l,"style",f),Kc(l,a.precedence,e),r.instance=l;case"stylesheet":f=no(a.href);var d=e.querySelector(Rl(f));if(d)return r.state.loading|=4,r.instance=d,Re(d),d;l=z_(a),(f=Gn.get(f))&&vm(l,f),d=(e.ownerDocument||e).createElement("link"),Re(d);var _=d;return _._p=new Promise(function(w,M){_.onload=w,_.onerror=M}),Ke(d,"link",l),r.state.loading|=4,Kc(d,a.precedence,e),r.instance=d;case"script":return d=io(a.src),(f=e.querySelector(Cl(d)))?(r.instance=f,Re(f),f):(l=a,(f=Gn.get(d))&&(l=T({},a),Em(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Re(f),Ke(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Kc(l,a.precedence,e));return r.instance}function Kc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===r)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function vm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Em(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Xc=null;function q_(e,r,a){if(Xc===null){var l=new Map,f=Xc=new Map;f.set(a,l)}else f=Xc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Ei]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=e+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function H_(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function BA(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function F_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function qA(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=no(l.href),d=r.querySelector(Rl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Zc.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,Re(d);return}d=r.ownerDocument||r,l=z_(l),(f=Gn.get(f))&&vm(l,f),d=d.createElement("link"),Re(d);var _=d;_._p=new Promise(function(w,M){_.onload=w,_.onerror=M}),Ke(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Zc.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var Tm=0;function HA(e,r){return e.stylesheets&&e.count===0&&Wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Wc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&Tm===0&&(Tm=62500*wA());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Tm?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jc=null;function Wc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jc=new Map,r.forEach(FA,e),Jc=null,Zc.call(e))}function FA(e,r){if(!(r.state.loading&4)){var a=Jc.get(e);if(a)var l=a.get(null);else{a=new Map,Jc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var Il={$$typeof:ot,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function GA(e,r,a,l,f,d,_,w,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function G_(e,r,a,l,f,d,_,w,M,q,J,nt){return e=new GA(e,r,a,_,M,q,J,nt,w),r=1,d===!0&&(r|=24),d=wn(3,null,null,r),e.current=d,d.stateNode=e,r=td(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},rd(d),e}function $_(e){return e?(e=ka,e):ka}function Q_(e,r,a,l,f,d){f=$_(f),l.context===null?l.context=f:l.pendingContext=f,l=Hr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Fr(e,l,r),a!==null&&(gn(a,e,r),ll(a,e,r))}function Y_(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function bm(e,r){Y_(e,r),(e=e.alternate)&&Y_(e,r)}function K_(e){if(e.tag===13||e.tag===31){var r=Hs(e,67108864);r!==null&&gn(r,e,67108864),bm(e,67108864)}}function X_(e){if(e.tag===13||e.tag===31){var r=Rn();r=Ds(r);var a=Hs(e,r);a!==null&&gn(a,e,r),bm(e,r)}}var th=!0;function $A(e,r,a,l){var f=P.T;P.T=null;var d=G.p;try{G.p=2,wm(e,r,a,l)}finally{G.p=d,P.T=f}}function QA(e,r,a,l){var f=P.T;P.T=null;var d=G.p;try{G.p=8,wm(e,r,a,l)}finally{G.p=d,P.T=f}}function wm(e,r,a,l){if(th){var f=Am(l);if(f===null)um(e,r,l,eh,a),J_(e,l);else if(KA(f,e,r,a,l))l.stopPropagation();else if(J_(e,l),r&4&&-1<YA.indexOf(e)){for(;f!==null;){var d=kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=gi(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var M=1<<31-Te(_);w.entanglements[1]|=M,_&=~M}Vi(d),(Yt&6)===0&&(Pc=oe()+500,Al(0))}}break;case 31:case 13:w=Hs(d,2),w!==null&&gn(w,d,2),jc(),bm(d,2)}if(d=Am(l),d===null&&um(e,r,l,eh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else um(e,r,l,null,a)}}function Am(e){return e=Vn(e),Sm(e)}var eh=null;function Sm(e){if(eh=null,e=Ti(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=c(r),e!==null)return e;e=null}else if(a===31){if(e=m(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return eh=e,null}function Z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case tn:return 2;case Ns:return 8;case Rr:case Df:return 32;case Mu:return 268435456;default:return 32}default:return 32}}var xm=!1,es=null,ns=null,is=null,Dl=new Map,Ol=new Map,rs=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(e,r){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(r.pointerId)}}function Ml(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=kn(r),r!==null&&K_(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function KA(e,r,a,l,f){switch(r){case"focusin":return es=Ml(es,e,r,a,l,f),!0;case"dragenter":return ns=Ml(ns,e,r,a,l,f),!0;case"mouseover":return is=Ml(is,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Dl.set(d,Ml(Dl.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ol.set(d,Ml(Ol.get(d)||null,e,r,a,l,f)),!0}return!1}function W_(e){var r=Ti(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){e.blockedOn=r,Zn(e.priority,function(){X_(a)});return}}else if(r===31){if(r=m(a),r!==null){e.blockedOn=r,Zn(e.priority,function(){X_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nh(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=Am(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);$o=l,a.target.dispatchEvent(l),$o=null}else return r=kn(a),r!==null&&K_(r),e.blockedOn=a,!1;r.shift()}return!0}function tv(e,r,a){nh(e)&&a.delete(r)}function XA(){xm=!1,es!==null&&nh(es)&&(es=null),ns!==null&&nh(ns)&&(ns=null),is!==null&&nh(is)&&(is=null),Dl.forEach(tv),Ol.forEach(tv)}function ih(e,r){e.blockedOn===r&&(e.blockedOn=null,xm||(xm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,XA)))}var rh=null;function ev(e){rh!==e&&(rh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){rh===e&&(rh=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(Sm(l||a)===null)continue;break}var d=kn(a);d!==null&&(e.splice(r,3),r-=3,Ad(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ro(e){function r(M){return ih(M,e)}es!==null&&ih(es,e),ns!==null&&ih(ns,e),is!==null&&ih(is,e),Dl.forEach(r),Ol.forEach(r);for(var a=0;a<rs.length;a++){var l=rs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)W_(a),a.blockedOn===null&&rs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[ze]||null;if(typeof d=="function")_||ev(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[ze]||null)w=_.formAction;else if(Sm(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),ev(a)}}}function nv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Nm(e){this._internalRoot=e}sh.prototype.render=Nm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Rn();Q_(a,l,e,r,null,null)},sh.prototype.unmount=Nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Q_(e.current,2,null,e,null,null),jc(),r[vi]=null}};function sh(e){this._internalRoot=e}sh.prototype.unstable_scheduleHydration=function(e){if(e){var r=ju();e={blockedOn:null,target:e,priority:r};for(var a=0;a<rs.length&&r!==0&&r<rs[a].priority;a++);rs.splice(a,0,e),a===0&&W_(e)}};var iv=t.version;if(iv!=="19.2.1")throw Error(s(527,iv,"19.2.1"));G.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(r),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var ZA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Kn=ah.inject(ZA),Fe=ah}catch{}}return Vl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=c0,d=h0,_=f0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=G_(e,1,!1,null,null,a,l,null,f,d,_,nv),e[vi]=r.current,lm(e),new Nm(r)},Vl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=c0,_=h0,w=f0,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),r=G_(e,1,!0,r,a??null,l,f,M,d,_,w,nv),r.context=$_(null),a=r.current,l=Rn(),l=Ds(l),f=Hr(l),f.callback=null,Fr(a,f,l),a=l,r.current.lanes=a,Cs(r,a),Vi(r),e[vi]=r.current,lm(e),new sh(r)},Vl.version="19.2.1",Vl}var dv;function lS(){if(dv)return Im.exports;dv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Im.exports=oS(),Im.exports}var uS=lS();const cS=()=>{};var mv={};const yT=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},hS=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],c=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,I=g&63;p||(I=64,c||(A=64)),s.push(n[v],n[T],n[A],n[I])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(yT(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):hS(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new fS;const A=u<<2|m>>4;if(s.push(A),g!==64){const I=m<<4&240|g>>2;if(s.push(I),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class fS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dS=function(i){const t=yT(i);return _T.encodeByteArray(t,!0)},Mh=function(i){return dS(i).replace(/\./g,"")},vT=function(i){try{return _T.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function mS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pS=()=>mS().__FIREBASE_DEFAULTS__,gS=()=>{if(typeof process>"u"||typeof mv>"u")return;const i=mv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},yS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&vT(i[1]);return t&&JSON.parse(t)},af=()=>{try{return cS()||pS()||gS()||yS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ET=i=>af()?.emulatorHosts?.[i],_S=i=>{const t=ET(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},TT=()=>af()?.config,bT=i=>af()?.[`_${i}`];class vS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Ro(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wT(i){return(await fetch(i,{credentials:"include"})).ok}function ES(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Mh(JSON.stringify(n)),Mh(JSON.stringify(c)),""].join(".")}const Xl={};function TS(){const i={prod:[],emulator:[]};for(const t of Object.keys(Xl))Xl[t]?i.emulator.push(t):i.prod.push(t);return i}function bS(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let pv=!1;function AT(i,t){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||Xl[i]===t||Xl[i]||pv)return;Xl[i]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=TS().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{pv=!0,c()},A}function v(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=bS(s),I=n("text"),U=document.getElementById(I)||document.createElement("span"),F=n("learnmore"),$=document.getElementById(F)||document.createElement("a"),lt=n("preprendIcon"),Z=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ot=A.element;m(ot),v($,F);const ct=g();p(Z,lt),ot.append(Z,U,$,ct),document.body.appendChild(ot)}u?(U.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function AS(){const i=af()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function NS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RS(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function CS(){return!AS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IS(){try{return typeof indexedDB=="object"}catch{return!1}}function DS(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const OS="FirebaseError";class br extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=OS,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?MS(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new br(o,m,s)}}function MS(i,t){return i.replace(kS,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const kS=/\{\$([^}]+)}/g;function VS(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function la(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],c=t[o];if(gv(u)&&gv(c)){if(!la(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function gv(i){return i!==null&&typeof i=="object"}function Tu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Bl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function ql(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function LS(i,t){const n=new PS(i,t);return n.subscribe.bind(n)}class PS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");US(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=km),o.error===void 0&&(o.error=km),o.complete===void 0&&(o.complete=km);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function US(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function km(){}function Je(i){return i&&i._delegate?i._delegate:i}class ua{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const na="[DEFAULT]";class jS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new vS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BS(t))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=na){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=na){return this.instances.has(t)}getOptions(t=na){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=na){return this.component?this.component.multipleInstances?t:na:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zS(i){return i===na?void 0:i}function BS(i){return i.instantiationMode==="EAGER"}class qS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new jS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var zt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(zt||(zt={}));const HS={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},FS=zt.INFO,GS={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},$S=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=GS[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jp{constructor(t){this.name=t,this._logLevel=FS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const QS=(i,t)=>t.some(n=>i instanceof n);let yv,_v;function YS(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KS(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ST=new WeakMap,Jm=new WeakMap,xT=new WeakMap,Vm=new WeakMap,zp=new WeakMap;function XS(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(ds(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&ST.set(n,i)}).catch(()=>{}),zp.set(t,i),t}function ZS(i){if(Jm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Jm.set(i,t)}let Wm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Jm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||xT.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function JS(i){Wm=i(Wm)}function WS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Lm(this),t,...n);return xT.set(s,t.sort?t.sort():[t]),ds(s)}:KS().includes(i)?function(...t){return i.apply(Lm(this),t),ds(ST.get(this))}:function(...t){return ds(i.apply(Lm(this),t))}}function tx(i){return typeof i=="function"?WS(i):(i instanceof IDBTransaction&&ZS(i),QS(i,YS())?new Proxy(i,Wm):i)}function ds(i){if(i instanceof IDBRequest)return XS(i);if(Vm.has(i))return Vm.get(i);const t=tx(i);return t!==i&&(Vm.set(i,t),zp.set(t,i)),t}const Lm=i=>zp.get(i);function ex(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,t),m=ds(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ds(c.result),p.oldVersion,p.newVersion,ds(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const nx=["get","getKey","getAll","getAllKeys","count"],ix=["put","add","delete","clear"],Pm=new Map;function vv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Pm.get(t))return Pm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=ix.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||nx.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Pm.set(t,u),u}JS(i=>({...i,get:(t,n,s)=>vv(t,n)||i.get(t,n,s),has:(t,n)=>!!vv(t,n)||i.has(t,n)}));class rx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function sx(i){return i.getComponent()?.type==="VERSION"}const tp="@firebase/app",Ev="0.14.6";const yr=new jp("@firebase/app"),ax="@firebase/app-compat",ox="@firebase/analytics-compat",lx="@firebase/analytics",ux="@firebase/app-check-compat",cx="@firebase/app-check",hx="@firebase/auth",fx="@firebase/auth-compat",dx="@firebase/database",mx="@firebase/data-connect",px="@firebase/database-compat",gx="@firebase/functions",yx="@firebase/functions-compat",_x="@firebase/installations",vx="@firebase/installations-compat",Ex="@firebase/messaging",Tx="@firebase/messaging-compat",bx="@firebase/performance",wx="@firebase/performance-compat",Ax="@firebase/remote-config",Sx="@firebase/remote-config-compat",xx="@firebase/storage",Nx="@firebase/storage-compat",Rx="@firebase/firestore",Cx="@firebase/ai",Ix="@firebase/firestore-compat",Dx="firebase",Ox="12.6.0";const ep="[DEFAULT]",Mx={[tp]:"fire-core",[ax]:"fire-core-compat",[lx]:"fire-analytics",[ox]:"fire-analytics-compat",[cx]:"fire-app-check",[ux]:"fire-app-check-compat",[hx]:"fire-auth",[fx]:"fire-auth-compat",[dx]:"fire-rtdb",[mx]:"fire-data-connect",[px]:"fire-rtdb-compat",[gx]:"fire-fn",[yx]:"fire-fn-compat",[_x]:"fire-iid",[vx]:"fire-iid-compat",[Ex]:"fire-fcm",[Tx]:"fire-fcm-compat",[bx]:"fire-perf",[wx]:"fire-perf-compat",[Ax]:"fire-rc",[Sx]:"fire-rc-compat",[xx]:"fire-gcs",[Nx]:"fire-gcs-compat",[Rx]:"fire-fst",[Ix]:"fire-fst-compat",[Cx]:"fire-vertex","fire-js":"fire-js",[Dx]:"fire-js-all"};const iu=new Map,kx=new Map,np=new Map;function Tv(i,t){try{i.container.addComponent(t)}catch(n){yr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function yo(i){const t=i.name;if(np.has(t))return yr.debug(`There were multiple attempts to register component ${t}.`),!1;np.set(t,i);for(const n of iu.values())Tv(n,i);for(const n of kx.values())Tv(n,i);return!0}function Bp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function $n(i){return i==null?!1:i.settings!==void 0}const Vx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new Eu("app","Firebase",Vx);class Lx{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const Co=Ox;function NT(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:ep,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(n||(n=TT()),!n)throw ms.create("no-options");const u=iu.get(o);if(u){if(la(n,u.options)&&la(s,u.config))return u;throw ms.create("duplicate-app",{appName:o})}const c=new qS(o);for(const p of np.values())c.addComponent(p);const m=new Lx(n,s,c);return iu.set(o,m),m}function RT(i=ep){const t=iu.get(i);if(!t&&i===ep&&TT())return NT();if(!t)throw ms.create("no-app",{appName:i});return t}function bv(){return Array.from(iu.values())}function ps(i,t,n){let s=Mx[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yr.warn(c.join(" "));return}yo(new ua(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Px="firebase-heartbeat-database",Ux=1,ru="firebase-heartbeat-store";let Um=null;function CT(){return Um||(Um=ex(Px,Ux,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(i=>{throw ms.create("idb-open",{originalErrorMessage:i.message})})),Um}async function jx(i){try{const n=(await CT()).transaction(ru),s=await n.objectStore(ru).get(IT(i));return await n.done,s}catch(t){if(t instanceof br)yr.warn(t.message);else{const n=ms.create("idb-get",{originalErrorMessage:t?.message});yr.warn(n.message)}}}async function wv(i,t){try{const s=(await CT()).transaction(ru,"readwrite");await s.objectStore(ru).put(t,IT(i)),await s.done}catch(n){if(n instanceof br)yr.warn(n.message);else{const s=ms.create("idb-set",{originalErrorMessage:n?.message});yr.warn(s.message)}}}function IT(i){return`${i.name}!${i.options.appId}`}const zx=1024,Bx=30;class qx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Bx){const o=Gx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){yr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Av(),{heartbeatsToSend:n,unsentEntries:s}=Hx(this._heartbeatsCache.heartbeats),o=Mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return yr.warn(t),""}}}function Av(){return new Date().toISOString().substring(0,10)}function Hx(i,t=zx){const n=[];let s=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Sv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Sv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Fx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IS()?DS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return wv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return wv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Sv(i){return Mh(JSON.stringify({version:2,heartbeats:i})).length}function Gx(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}function $x(i){yo(new ua("platform-logger",t=>new rx(t),"PRIVATE")),yo(new ua("heartbeat",t=>new qx(t),"PRIVATE")),ps(tp,Ev,i),ps(tp,Ev,"esm2020"),ps("fire-js","")}$x("");var Qx="firebase",Yx="12.7.0";ps(Qx,Yx,"app");function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kx=DT,OT=new Eu("auth","Firebase",DT());const kh=new jp("@firebase/auth");function Xx(i,...t){kh.logLevel<=zt.WARN&&kh.warn(`Auth (${Co}): ${i}`,...t)}function vh(i,...t){kh.logLevel<=zt.ERROR&&kh.error(`Auth (${Co}): ${i}`,...t)}function fi(i,...t){throw qp(i,...t)}function Pi(i,...t){return qp(i,...t)}function MT(i,t,n){const s={...Kx(),[t]:n};return new Eu("auth","Firebase",s).create(t,{appName:i.name})}function gr(i){return MT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return OT.create(i,...t)}function wt(i,t,...n){if(!i)throw qp(t,...n)}function mr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw vh(t),new Error(t)}function _r(i,t){i||mr(t)}function ip(){return typeof self<"u"&&self.location?.href||""}function Zx(){return xv()==="http:"||xv()==="https:"}function xv(){return typeof self<"u"&&self.location?.protocol||null}function Jx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zx()||xS()||"connection"in navigator)?navigator.onLine:!0}function Wx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class bu{constructor(t,n){this.shortDelay=t,this.longDelay=n,_r(n>t,"Short delay should be less than long delay!"),this.isMobile=wS()||NS()}get(){return Jx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hp(i,t){_r(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class kT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const t2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const e2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],n2=new bu(3e4,6e4);function wr(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function Ar(i,t,n,s,o={}){return VT(i,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const m=Tu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:t,headers:p,...u};return SS()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Ro(i.emulatorConfig.host)&&(g.credentials="include"),kT.fetch()(await LT(i,i.config.apiHost,n,m),g)})}async function VT(i,t,n){i._canInitEmulator=!1;const s={...t2,...t};try{const o=new r2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw oh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw oh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw oh(i,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw MT(i,v,g);fi(i,v)}}catch(o){if(o instanceof br)throw o;fi(i,"network-request-failed",{message:String(o)})}}async function wu(i,t,n,s,o={}){const u=await Ar(i,t,n,s,o);return"mfaPendingCredential"in u&&fi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function LT(i,t,n,s){const o=`${t}${n}?${s}`,u=i,c=u.config.emulator?Hp(i.config,o):`${i.config.apiScheme}://${o}`;return e2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function i2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class r2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pi(this.auth,"network-request-failed")),n2.get())})}}function oh(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pi(i,t,s);return o.customData._tokenResponse=n,o}function Nv(i){return i!==void 0&&i.enterprise!==void 0}class s2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return i2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function a2(i,t){return Ar(i,"GET","/v2/recaptchaConfig",wr(i,t))}async function o2(i,t){return Ar(i,"POST","/v1/accounts:delete",t)}async function Vh(i,t){return Ar(i,"POST","/v1/accounts:lookup",t)}function Zl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function l2(i,t=!1){const n=Je(i),s=await n.getIdToken(t),o=Fp(s);wt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Zl(jm(o.auth_time)),issuedAtTime:Zl(jm(o.iat)),expirationTime:Zl(jm(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function jm(i){return Number(i)*1e3}function Fp(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=vT(n);return o?JSON.parse(o):(vh("Failed to decode base64 JWT payload"),null)}catch(o){return vh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Rv(i){const t=Fp(i);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function su(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof br&&u2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function u2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class c2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lh(i){const t=i.auth,n=await i.getIdToken(),s=await su(i,Vh(t,{idToken:n}));wt(s?.users.length,t,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?PT(o.providerUserInfo):[],c=f2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function h2(i){const t=Je(i);await Lh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function f2(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function PT(i){return i.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function d2(i,t){const n=await VT(i,{},async()=>{const s=Tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await LT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ro(i.emulatorConfig.host)&&(p.credentials="include"),kT.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m2(i,t){return Ar(i,"POST","/v2/accounts:revokeToken",wr(i,t))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Rv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const n=Rv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await d2(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new co;return s&&(wt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(wt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(wt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return mr("not implemented")}}function as(i,t){wt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class li{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new c2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await su(this,this.stsTokenManager.getToken(this.auth,t));return wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return l2(this,t)}reload(){return h2(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new li({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(gr(this.auth));const t=await this.getIdToken();return await su(this,o2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:I,providerData:U,stsTokenManager:F}=n;wt(T&&F,t,"internal-error");const $=co.fromJSON(this.name,F);wt(typeof T=="string",t,"internal-error"),as(s,t.name),as(o,t.name),wt(typeof A=="boolean",t,"internal-error"),wt(typeof I=="boolean",t,"internal-error"),as(u,t.name),as(c,t.name),as(m,t.name),as(p,t.name),as(g,t.name),as(v,t.name);const lt=new li({uid:T,auth:t,email:o,emailVerified:A,displayName:s,isAnonymous:I,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:$,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(lt.providerData=U.map(Z=>({...Z}))),p&&(lt._redirectEventId=p),lt}static async _fromIdTokenResponse(t,n,s=!1){const o=new co;o.updateFromServerResponse(n);const u=new li({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Lh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];wt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?PT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new co;m.updateFromIdToken(s);const p=new li({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const Cv=new Map;function pr(i){_r(i instanceof Function,"Expected a class definition");let t=Cv.get(i);return t?(_r(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,Cv.set(i,t),t)}class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}UT.type="NONE";const Iv=UT;function Eh(i,t,n){return`firebase:${i}:${t}:${n}`}class ho{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Vh(this.auth,{idToken:t}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,t):null}return li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ho(pr(Iv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||pr(Iv);const c=Eh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const A=await Vh(t,{idToken:v}).catch(()=>{});if(!A)break;T=await li._fromGetAccountInfoResponse(t,A,v)}else T=li._fromJSON(t,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ho(u,t,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new ho(u,t,s))}}function Dv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(FT(t))return"Blackberry";if(GT(t))return"Webos";if(zT(t))return"Safari";if((t.includes("chrome/")||BT(t))&&!t.includes("edge/"))return"Chrome";if(HT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function jT(i=an()){return/firefox\//i.test(i)}function zT(i=an()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function BT(i=an()){return/crios\//i.test(i)}function qT(i=an()){return/iemobile/i.test(i)}function HT(i=an()){return/android/i.test(i)}function FT(i=an()){return/blackberry/i.test(i)}function GT(i=an()){return/webos/i.test(i)}function Gp(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function p2(i=an()){return Gp(i)&&!!window.navigator?.standalone}function g2(){return RS()&&document.documentMode===10}function $T(i=an()){return Gp(i)||HT(i)||GT(i)||FT(i)||/windows phone/i.test(i)||qT(i)}function QT(i,t=[]){let n;switch(i){case"Browser":n=Dv(an());break;case"Worker":n=`${Dv(an())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${s}`}class y2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function _2(i,t={}){return Ar(i,"GET","/v2/passwordPolicy",wr(i,t))}const v2=6;class E2{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??v2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class T2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ov(this),this.idTokenSubscription=new Ov(this),this.beforeStateQueue=new y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=pr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Vh(this,{idToken:t}),s=await li._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Lh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Wx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(gr(this));const n=t?Je(t):null;return n&&wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _2(this),n=new E2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Eu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await m2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&pr(t)||this._popupRedirectResolver;wt(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Xx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function As(i){return Je(i)}class Ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=LS(n=>this.observer=n)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b2(i){of=i}function YT(i){return of.loadJS(i)}function w2(){return of.recaptchaEnterpriseScript}function A2(){return of.gapiScript}function S2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class x2{constructor(){this.enterprise=new N2}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class N2{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const R2="recaptcha-enterprise",KT="NO_RECAPTCHA";class C2{constructor(t){this.type=R2,this.auth=As(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{a2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new s2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;Nv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{c(g)}).catch(()=>{c(KT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new x2().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(m=>{if(!n&&Nv(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=w2();p.length!==0&&(p+=m),YT(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function Mv(i,t,n,s=!1,o=!1){const u=new C2(i);let c;if(o)c=KT;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ph(i,t,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Mv(i,t,n,n==="getOobCode");return s(i,u)}else return s(i,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Mv(i,t,n,n==="getOobCode");return s(i,c)}else return Promise.reject(u)})}function I2(i,t){const n=Bp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(la(u,t??{}))return o;fi(o,"already-initialized")}return n.initialize({options:t})}function D2(i,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(pr);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function O2(i,t,n){const s=As(i);wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=XT(t),{host:c,port:m}=M2(t),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(la(g,s.config.emulator)&&la(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ro(c)?(wT(`${u}//${c}${p}`),AT("Auth",!0)):k2()}function XT(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function M2(i){const t=XT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:kv(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:kv(c)}}}function kv(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function k2(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class $p{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(t){return mr("not implemented")}_linkToIdToken(t,n){return mr("not implemented")}_getReauthenticationResolver(t){return mr("not implemented")}}async function V2(i,t){return Ar(i,"POST","/v1/accounts:signUp",t)}async function L2(i,t){return wu(i,"POST","/v1/accounts:signInWithPassword",wr(i,t))}async function P2(i,t){return Ar(i,"POST","/v1/accounts:sendOobCode",wr(i,t))}async function U2(i,t){return P2(i,t)}async function j2(i,t){return wu(i,"POST","/v1/accounts:signInWithEmailLink",wr(i,t))}async function z2(i,t){return wu(i,"POST","/v1/accounts:signInWithEmailLink",wr(i,t))}class au extends $p{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new au(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new au(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ph(t,n,"signInWithPassword",L2);case"emailLink":return j2(t,{email:this._email,oobCode:this._password});default:fi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ph(t,s,"signUpPassword",V2);case"emailLink":return z2(t,{idToken:n,email:this._email,oobCode:this._password});default:fi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function fo(i,t){return wu(i,"POST","/v1/accounts:signInWithIdp",wr(i,t))}const B2="http://localhost";class ca extends $p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new ca(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return fo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,fo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,fo(t,n)}buildRequest(){const t={requestUri:B2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Tu(n)}return t}}function q2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2(i){const t=Bl(ql(i)).link,n=t?Bl(ql(t)).deep_link_id:null,s=Bl(ql(i)).deep_link_id;return(s?Bl(ql(s)).link:null)||s||n||t||i}class Qp{constructor(t){const n=Bl(ql(t)),s=n.apiKey??null,o=n.oobCode??null,u=q2(n.mode??null);wt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=H2(t);try{return new Qp(n)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(t,n){return au._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Qp.parseLink(n);return wt(s,"argument-error"),au._fromEmailAndCode(t,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ZT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Au extends ZT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ls extends Au{constructor(){super("facebook.com")}static credential(t){return ca._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ls.credential(t.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";class us extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ca._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return us.credential(n,s)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";class cs extends Au{constructor(){super("github.com")}static credential(t){return ca._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";class hs extends Au{constructor(){super("twitter.com")}static credential(t,n){return ca._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return hs.credential(n,s)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";async function F2(i,t){return wu(i,"POST","/v1/accounts:signUp",wr(i,t))}class ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await li._fromIdTokenResponse(t,s,o),c=Vv(s);return new ha({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Vv(s);return new ha({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Vv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Uh extends br{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Uh(t,n,s,o)}}function JT(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(i,u,t,s):u})}async function G2(i,t,n=!1){const s=await su(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return ha._forOperation(i,"link",s)}async function $2(i,t,n=!1){const{auth:s}=i;if($n(s.app))return Promise.reject(gr(s));const o="reauthenticate";try{const u=await su(i,JT(s,o,t,i),n);wt(u.idToken,s,"internal-error");const c=Fp(u.idToken);wt(c,s,"internal-error");const{sub:m}=c;return wt(i.uid===m,s,"user-mismatch"),ha._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&fi(s,"user-mismatch"),u}}async function WT(i,t,n=!1){if($n(i.app))return Promise.reject(gr(i));const s="signIn",o=await JT(i,s,t),u=await ha._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function Q2(i,t){return WT(As(i),t)}async function tb(i){const t=As(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Y2(i,t,n){const s=As(i);await Ph(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",U2)}async function K2(i,t,n){if($n(i.app))return Promise.reject(gr(i));const s=As(i),c=await Ph(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",F2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&tb(i),p}),m=await ha._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function X2(i,t,n){return $n(i.app)?Promise.reject(gr(i)):Q2(Je(i),Io.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&tb(i),s})}function Z2(i,t,n,s){return Je(i).onIdTokenChanged(t,n,s)}function J2(i,t,n){return Je(i).beforeAuthStateChanged(t,n)}function W2(i,t,n,s){return Je(i).onAuthStateChanged(t,n,s)}function tN(i){return Je(i).signOut()}const jh="__sak";class eb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const eN=1e3,nN=10;class nb extends eb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$T(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);g2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,nN):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},eN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}nb.type="LOCAL";const iN=nb;class ib extends eb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ib.type="SESSION";const rb=ib;function rN(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class lf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new lf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await rN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];function Yp(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}class sN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Yp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ui(){return window}function aN(i){Ui().location.href=i}function sb(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function oN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lN(){return navigator?.serviceWorker?.controller||null}function uN(){return sb()?self:null}const ab="firebaseLocalStorageDb",cN=1,zh="firebaseLocalStorage",ob="fbase_key";class Su{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uf(i,t){return i.transaction([zh],t?"readwrite":"readonly").objectStore(zh)}function hN(){const i=indexedDB.deleteDatabase(ab);return new Su(i).toPromise()}function sp(){const i=indexedDB.open(ab,cN);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(zh,{keyPath:ob})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(zh)?t(s):(s.close(),await hN(),t(await sp()))})})}async function Lv(i,t,n){const s=uf(i,!0).put({[ob]:t,value:n});return new Su(s).toPromise()}async function fN(i,t){const n=uf(i,!1).get(t),s=await new Su(n).toPromise();return s===void 0?null:s.value}function Pv(i,t){const n=uf(i,!0).delete(t);return new Su(n).toPromise()}const dN=800,mN=3;class lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>mN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(uN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oN(),!this.activeServiceWorker)return;this.sender=new sN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sp();return await Lv(t,jh,"1"),await Pv(t,jh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Lv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>fN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=uf(o,!1).getAll();return new Su(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lb.type="LOCAL";const pN=lb;new bu(3e4,6e4);function gN(i,t){return t?pr(t):(wt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Kp extends $p{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return fo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return fo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function yN(i){return WT(i.auth,new Kp(i),i.bypassAuthState)}function _N(i){const{auth:t,user:n}=i;return wt(n,t,"internal-error"),$2(n,new Kp(i),i.bypassAuthState)}async function vN(i){const{auth:t,user:n}=i;return wt(n,t,"internal-error"),G2(n,new Kp(i),i.bypassAuthState)}class ub{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return yN;case"linkViaPopup":case"linkViaRedirect":return vN;case"reauthViaPopup":case"reauthViaRedirect":return _N;default:fi(this.auth,"internal-error")}}resolve(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const EN=new bu(2e3,1e4);class uo extends ub{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const t=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,EN.get())};t()}}uo.currentPopupAction=null;const TN="pendingRedirect",Th=new Map;class bN extends ub{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Th.get(this.auth._key());if(!t){try{const s=await wN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Th.set(this.auth._key(),t)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wN(i,t){const n=xN(t),s=SN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function AN(i,t){Th.set(i._key(),t)}function SN(i){return pr(i._redirectPersistence)}function xN(i){return Eh(TN,i.config.apiKey,i.name)}async function NN(i,t,n=!1){if($n(i.app))return Promise.reject(gr(i));const s=As(i),o=gN(s,t),c=await new bN(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const RN=600*1e3;class CN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!IN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!cb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=RN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(t))}saveEventToCache(t){this.cachedEventUids.add(Uv(t)),this.lastProcessedEventTime=Date.now()}}function Uv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function cb({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function IN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cb(i);default:return!1}}async function DN(i,t={}){return Ar(i,"GET","/v1/projects",t)}const ON=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MN=/^https?/;async function kN(i){if(i.config.emulator)return;const{authorizedDomains:t}=await DN(i);for(const n of t)try{if(VN(n))return}catch{}fi(i,"unauthorized-domain")}function VN(i){const t=ip(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!MN.test(n))return!1;if(ON.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const LN=new bu(3e4,6e4);function jv(){const i=Ui().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function PN(i){return new Promise((t,n)=>{function s(){jv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jv(),n(Pi(i,"network-request-failed"))},timeout:LN.get()})}if(Ui().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ui().gapi?.load)s();else{const o=S2("iframefcb");return Ui()[o]=()=>{gapi.load?s():n(Pi(i,"network-request-failed"))},YT(`${A2()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw bh=null,t})}let bh=null;function UN(i){return bh=bh||PN(i),bh}const jN=new bu(5e3,15e3),zN="__/auth/iframe",BN="emulator/auth/iframe",qN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FN(i){const t=i.config;wt(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Hp(t,BN):`https://${i.config.authDomain}/${zN}`,s={apiKey:t.apiKey,appName:i.name,v:Co},o=HN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Tu(s).slice(1)}`}async function GN(i){const t=await UN(i),n=Ui().gapi;return wt(n,i,"internal-error"),t.open({where:document.body,url:FN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Pi(i,"network-request-failed"),m=Ui().setTimeout(()=>{u(c)},jN.get());function p(){Ui().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const $N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QN=500,YN=600,KN="_blank",XN="http://localhost";class zv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZN(i,t,n,s=QN,o=YN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...$N,width:s.toString(),height:o.toString(),top:u,left:c},g=an().toLowerCase();n&&(m=BT(g)?KN:n),jT(g)&&(t=t||XN,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[I,U])=>`${A}${I}=${U},`,"");if(p2(g)&&m!=="_self")return JN(t||"",m),new zv(null);const T=window.open(t||"",m,v);wt(T,i,"popup-blocked");try{T.focus()}catch{}return new zv(T)}function JN(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const WN="__/auth/handler",tR="emulator/auth/handler",eR=encodeURIComponent("fac");async function Bv(i,t,n,s,o,u){wt(i.config.authDomain,i,"auth-domain-config-required"),wt(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Co,eventId:o};if(t instanceof ZT){t.setDefaultLanguage(i.languageCode),c.providerId=t.providerId||"",VS(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(t instanceof Au){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${eR}=${encodeURIComponent(p)}`:"";return`${nR(i)}?${Tu(m).slice(1)}${g}`}function nR({config:i}){return i.emulator?Hp(i,tR):`https://${i.authDomain}/${WN}`}const zm="webStorageSupport";class iR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rb,this._completeRedirectFn=NN,this._overrideRedirectResult=AN}async _openPopup(t,n,s,o){_r(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Bv(t,n,s,ip(),o);return ZN(t,u,Yp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Bv(t,n,s,ip(),o);return aN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await GN(t),s=new CN(t);return n.register("authEvent",o=>(wt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(zm,{type:zm},o=>{const u=o?.[0]?.[zm];u!==void 0&&n(!!u),fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return $T()||zT()||Gp()}}const rR=iR;var qv="@firebase/auth",Hv="1.12.0";class sR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aR(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oR(i){yo(new ua("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QT(i)},g=new T2(s,o,u,p);return D2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),yo(new ua("auth-internal",t=>{const n=As(t.getProvider("auth").getImmediate());return(s=>new sR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(qv,Hv,aR(i)),ps(qv,Hv,"esm2020")}const lR=300,uR=bT("authIdTokenMaxAge")||lR;let Fv=null;const cR=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>uR)return;const o=n?.token;Fv!==o&&(Fv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hR(i=RT()){const t=Bp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=I2(i,{popupRedirectResolver:rR,persistence:[pN,iN,rb]}),s=bT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=cR(u.toString());J2(n,c,()=>c(n.currentUser)),Z2(n,m=>c(m))}}const o=ET("auth");return o&&O2(n,`http://${o}`),n}function fR(){return document.getElementsByTagName("head")?.[0]??document}b2({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",fR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oR("Browser");var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gs,hb;(function(){var i;function t(R,S){function C(){}C.prototype=S.prototype,R.F=S.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(D,O,L){for(var N=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)N[gt-2]=arguments[gt];return S.prototype[O].apply(D,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,C){C||(C=0);const D=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)D[O]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(O=0;O<16;++O)D[O]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=R.g[0],C=R.g[1],O=R.g[2];let L=R.g[3],N;N=S+(L^C&(O^L))+D[0]+3614090360&4294967295,S=C+(N<<7&4294967295|N>>>25),N=L+(O^S&(C^O))+D[1]+3905402710&4294967295,L=S+(N<<12&4294967295|N>>>20),N=O+(C^L&(S^C))+D[2]+606105819&4294967295,O=L+(N<<17&4294967295|N>>>15),N=C+(S^O&(L^S))+D[3]+3250441966&4294967295,C=O+(N<<22&4294967295|N>>>10),N=S+(L^C&(O^L))+D[4]+4118548399&4294967295,S=C+(N<<7&4294967295|N>>>25),N=L+(O^S&(C^O))+D[5]+1200080426&4294967295,L=S+(N<<12&4294967295|N>>>20),N=O+(C^L&(S^C))+D[6]+2821735955&4294967295,O=L+(N<<17&4294967295|N>>>15),N=C+(S^O&(L^S))+D[7]+4249261313&4294967295,C=O+(N<<22&4294967295|N>>>10),N=S+(L^C&(O^L))+D[8]+1770035416&4294967295,S=C+(N<<7&4294967295|N>>>25),N=L+(O^S&(C^O))+D[9]+2336552879&4294967295,L=S+(N<<12&4294967295|N>>>20),N=O+(C^L&(S^C))+D[10]+4294925233&4294967295,O=L+(N<<17&4294967295|N>>>15),N=C+(S^O&(L^S))+D[11]+2304563134&4294967295,C=O+(N<<22&4294967295|N>>>10),N=S+(L^C&(O^L))+D[12]+1804603682&4294967295,S=C+(N<<7&4294967295|N>>>25),N=L+(O^S&(C^O))+D[13]+4254626195&4294967295,L=S+(N<<12&4294967295|N>>>20),N=O+(C^L&(S^C))+D[14]+2792965006&4294967295,O=L+(N<<17&4294967295|N>>>15),N=C+(S^O&(L^S))+D[15]+1236535329&4294967295,C=O+(N<<22&4294967295|N>>>10),N=S+(O^L&(C^O))+D[1]+4129170786&4294967295,S=C+(N<<5&4294967295|N>>>27),N=L+(C^O&(S^C))+D[6]+3225465664&4294967295,L=S+(N<<9&4294967295|N>>>23),N=O+(S^C&(L^S))+D[11]+643717713&4294967295,O=L+(N<<14&4294967295|N>>>18),N=C+(L^S&(O^L))+D[0]+3921069994&4294967295,C=O+(N<<20&4294967295|N>>>12),N=S+(O^L&(C^O))+D[5]+3593408605&4294967295,S=C+(N<<5&4294967295|N>>>27),N=L+(C^O&(S^C))+D[10]+38016083&4294967295,L=S+(N<<9&4294967295|N>>>23),N=O+(S^C&(L^S))+D[15]+3634488961&4294967295,O=L+(N<<14&4294967295|N>>>18),N=C+(L^S&(O^L))+D[4]+3889429448&4294967295,C=O+(N<<20&4294967295|N>>>12),N=S+(O^L&(C^O))+D[9]+568446438&4294967295,S=C+(N<<5&4294967295|N>>>27),N=L+(C^O&(S^C))+D[14]+3275163606&4294967295,L=S+(N<<9&4294967295|N>>>23),N=O+(S^C&(L^S))+D[3]+4107603335&4294967295,O=L+(N<<14&4294967295|N>>>18),N=C+(L^S&(O^L))+D[8]+1163531501&4294967295,C=O+(N<<20&4294967295|N>>>12),N=S+(O^L&(C^O))+D[13]+2850285829&4294967295,S=C+(N<<5&4294967295|N>>>27),N=L+(C^O&(S^C))+D[2]+4243563512&4294967295,L=S+(N<<9&4294967295|N>>>23),N=O+(S^C&(L^S))+D[7]+1735328473&4294967295,O=L+(N<<14&4294967295|N>>>18),N=C+(L^S&(O^L))+D[12]+2368359562&4294967295,C=O+(N<<20&4294967295|N>>>12),N=S+(C^O^L)+D[5]+4294588738&4294967295,S=C+(N<<4&4294967295|N>>>28),N=L+(S^C^O)+D[8]+2272392833&4294967295,L=S+(N<<11&4294967295|N>>>21),N=O+(L^S^C)+D[11]+1839030562&4294967295,O=L+(N<<16&4294967295|N>>>16),N=C+(O^L^S)+D[14]+4259657740&4294967295,C=O+(N<<23&4294967295|N>>>9),N=S+(C^O^L)+D[1]+2763975236&4294967295,S=C+(N<<4&4294967295|N>>>28),N=L+(S^C^O)+D[4]+1272893353&4294967295,L=S+(N<<11&4294967295|N>>>21),N=O+(L^S^C)+D[7]+4139469664&4294967295,O=L+(N<<16&4294967295|N>>>16),N=C+(O^L^S)+D[10]+3200236656&4294967295,C=O+(N<<23&4294967295|N>>>9),N=S+(C^O^L)+D[13]+681279174&4294967295,S=C+(N<<4&4294967295|N>>>28),N=L+(S^C^O)+D[0]+3936430074&4294967295,L=S+(N<<11&4294967295|N>>>21),N=O+(L^S^C)+D[3]+3572445317&4294967295,O=L+(N<<16&4294967295|N>>>16),N=C+(O^L^S)+D[6]+76029189&4294967295,C=O+(N<<23&4294967295|N>>>9),N=S+(C^O^L)+D[9]+3654602809&4294967295,S=C+(N<<4&4294967295|N>>>28),N=L+(S^C^O)+D[12]+3873151461&4294967295,L=S+(N<<11&4294967295|N>>>21),N=O+(L^S^C)+D[15]+530742520&4294967295,O=L+(N<<16&4294967295|N>>>16),N=C+(O^L^S)+D[2]+3299628645&4294967295,C=O+(N<<23&4294967295|N>>>9),N=S+(O^(C|~L))+D[0]+4096336452&4294967295,S=C+(N<<6&4294967295|N>>>26),N=L+(C^(S|~O))+D[7]+1126891415&4294967295,L=S+(N<<10&4294967295|N>>>22),N=O+(S^(L|~C))+D[14]+2878612391&4294967295,O=L+(N<<15&4294967295|N>>>17),N=C+(L^(O|~S))+D[5]+4237533241&4294967295,C=O+(N<<21&4294967295|N>>>11),N=S+(O^(C|~L))+D[12]+1700485571&4294967295,S=C+(N<<6&4294967295|N>>>26),N=L+(C^(S|~O))+D[3]+2399980690&4294967295,L=S+(N<<10&4294967295|N>>>22),N=O+(S^(L|~C))+D[10]+4293915773&4294967295,O=L+(N<<15&4294967295|N>>>17),N=C+(L^(O|~S))+D[1]+2240044497&4294967295,C=O+(N<<21&4294967295|N>>>11),N=S+(O^(C|~L))+D[8]+1873313359&4294967295,S=C+(N<<6&4294967295|N>>>26),N=L+(C^(S|~O))+D[15]+4264355552&4294967295,L=S+(N<<10&4294967295|N>>>22),N=O+(S^(L|~C))+D[6]+2734768916&4294967295,O=L+(N<<15&4294967295|N>>>17),N=C+(L^(O|~S))+D[13]+1309151649&4294967295,C=O+(N<<21&4294967295|N>>>11),N=S+(O^(C|~L))+D[4]+4149444226&4294967295,S=C+(N<<6&4294967295|N>>>26),N=L+(C^(S|~O))+D[11]+3174756917&4294967295,L=S+(N<<10&4294967295|N>>>22),N=O+(S^(L|~C))+D[2]+718787259&4294967295,O=L+(N<<15&4294967295|N>>>17),N=C+(L^(O|~S))+D[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,S){S===void 0&&(S=R.length);const C=S-this.blockSize,D=this.C;let O=this.h,L=0;for(;L<S;){if(O==0)for(;L<=C;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<S;)if(D[O++]=R.charCodeAt(L++),O==this.blockSize){o(this,D),O=0;break}}else for(;L<S;)if(D[O++]=R[L++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=S},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)R[S++]=this.g[C]>>>D&255;return R};function u(R,S){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=S(R)}function c(R,S){this.h=S;const C=[];let D=!0;for(let O=R.length-1;O>=0;O--){const L=R[O]|0;D&&L==S||(C[O]=L,D=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(S){return new c([S|0],S<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return $(g(-R));const S=[];let C=1;for(let D=0;R>=C;D++)S[D]=R/C|0,C*=4294967296;return new c(S,0)}function v(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return $(v(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(S,8));let D=T;for(let L=0;L<R.length;L+=8){var O=Math.min(8,R.length-L);const N=parseInt(R.substring(L,L+O),S);O<8?(O=g(Math.pow(S,O)),D=D.j(O).add(g(N))):(D=D.j(C),D=D.add(g(N)))}return D}var T=p(0),A=p(1),I=p(16777216);i=c.prototype,i.m=function(){if(F(this))return-$(this).m();let R=0,S=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);R+=(D>=0?D:4294967296+D)*S,S*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(U(this))return"0";if(F(this))return"-"+$(this).toString(R);const S=g(Math.pow(R,6));var C=this;let D="";for(;;){const O=ct(C,S).g;C=lt(C,O.j(S));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=O,U(C))return L+D;for(;L.length<6;)L="0"+L;D=L+D}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function U(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function F(R){return R.h==-1}i.l=function(R){return R=lt(this,R),F(R)?-1:U(R)?0:1};function $(R){const S=R.g.length,C=[];for(let D=0;D<S;D++)C[D]=~R.g[D];return new c(C,~R.h).add(A)}i.abs=function(){return F(this)?$(this):this},i.add=function(R){const S=Math.max(this.g.length,R.g.length),C=[];let D=0;for(let O=0;O<=S;O++){let L=D+(this.i(O)&65535)+(R.i(O)&65535),N=(L>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);D=N>>>16,L&=65535,N&=65535,C[O]=N<<16|L}return new c(C,C[C.length-1]&-2147483648?-1:0)};function lt(R,S){return R.add($(S))}i.j=function(R){if(U(this)||U(R))return T;if(F(this))return F(R)?$(this).j($(R)):$($(this).j(R));if(F(R))return $(this.j($(R)));if(this.l(I)<0&&R.l(I)<0)return g(this.m()*R.m());const S=this.g.length+R.g.length,C=[];for(var D=0;D<2*S;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let O=0;O<R.g.length;O++){const L=this.i(D)>>>16,N=this.i(D)&65535,gt=R.i(O)>>>16,K=R.i(O)&65535;C[2*D+2*O]+=N*K,Z(C,2*D+2*O),C[2*D+2*O+1]+=L*K,Z(C,2*D+2*O+1),C[2*D+2*O+1]+=N*gt,Z(C,2*D+2*O+1),C[2*D+2*O+2]+=L*gt,Z(C,2*D+2*O+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new c(C,0)};function Z(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function ot(R,S){this.g=R,this.h=S}function ct(R,S){if(U(S))throw Error("division by zero");if(U(R))return new ot(T,T);if(F(R))return S=ct($(R),S),new ot($(S.g),$(S.h));if(F(S))return S=ct(R,$(S)),new ot($(S.g),S.h);if(R.g.length>30){if(F(R)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var C=A,D=S;D.l(R)<=0;)C=X(C),D=X(D);var O=st(C,1),L=st(D,1);for(D=st(D,2),C=st(C,2);!U(D);){var N=L.add(D);N.l(R)<=0&&(O=O.add(C),L=N),D=st(D,1),C=st(C,1)}return S=lt(R,O.j(S)),new ot(O,S)}for(O=T;R.l(S)>=0;){for(C=Math.max(1,Math.floor(R.m()/S.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),L=g(C),N=L.j(S);F(N)||N.l(R)>0;)C-=D,L=g(C),N=L.j(S);U(L)&&(L=A),O=O.add(L),R=lt(R,N)}return new ot(O,R)}i.B=function(R){return ct(this,R).h},i.and=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)&R.i(D);return new c(C,this.h&R.h)},i.or=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)|R.i(D);return new c(C,this.h|R.h)},i.xor=function(R){const S=Math.max(this.g.length,R.g.length),C=[];for(let D=0;D<S;D++)C[D]=this.i(D)^R.i(D);return new c(C,this.h^R.h)};function X(R){const S=R.g.length+1,C=[];for(let D=0;D<S;D++)C[D]=R.i(D)<<1|R.i(D-1)>>>31;return new c(C,R.h)}function st(R,S){const C=S>>5;S%=32;const D=R.g.length-C,O=[];for(let L=0;L<D;L++)O[L]=S>0?R.i(L+C)>>>S|R.i(L+C+1)<<32-S:R.i(L+C);return new c(O,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,hb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,gs=c}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fb,Hl,db,wh,ap,mb,pb,gb;(function(){var i,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)t:{var E=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var z=h[x];if(!(z in E))break t;E=E[z]}h=h[h.length-1],x=E[h],y=y(x),y!=x&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],x;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&E.push([x,y[x]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(x,z,Q){for(var ht=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)ht[Ot-2]=arguments[Ot];return y.prototype[z].apply(x,ht)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const y=h.length;if(y>0){const E=Array(y);for(let x=0;x<y;x++)E[x]=h[x];return E}return[]}function U(h,y){for(let x=1;x<arguments.length;x++){const z=arguments[x];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=h.length||0;const Q=z.length||0;h.length=E+Q;for(let ht=0;ht<Q;ht++)h[E+ht]=z[ht]}else h.push(z)}}class F{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(h){c.setTimeout(()=>{throw h},0)}function lt(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Z{constructor(){this.h=this.g=null}add(y,E){const x=ot.get();x.set(y,E),this.h?this.h.next=x:this.g=x,this.h=x}}var ot=new F(()=>new ct,h=>h.reset());class ct{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let X,st=!1,R=new Z,S=()=>{const h=Promise.resolve(void 0);X=()=>{h.then(C)}};function C(){for(var h;h=lt();){try{h.h.call(h.g)}catch(E){$(E)}var y=ot;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}st=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function gt(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(gt,O),gt.prototype.init=function(h,y){const E=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&gt.Z.h.call(this)},gt.prototype.h=function(){gt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),P=0;function G(h,y,E,x,z){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!x,this.ha=z,this.key=++P,this.da=this.fa=!1}function et(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function it(h,y,E){for(const x in h)y.call(E,h[x],x,h)}function dt(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function k(h){const y={};for(const E in h)y[E]=h[E];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,y){let E,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(E in x)h[E]=x[E];for(let Q=0;Q<W.length;Q++)E=W[Q],Object.prototype.hasOwnProperty.call(x,E)&&(h[E]=x[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,y,E,x,z){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ht=xt(h,y,x,z);return ht>-1?(y=h[ht],E||(y.fa=!1)):(y=new G(y,this.src,Q,!!x,z),y.fa=E,h.push(y)),y};function vt(h,y){const E=y.type;if(E in h.g){var x=h.g[E],z=Array.prototype.indexOf.call(x,y,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(x,z,1),Q&&(et(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function xt(h,y,E,x){for(let z=0;z<h.length;++z){const Q=h[z];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==x)return z}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),se={};function Xt(h,y,E,x,z){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Xt(h,y[Q],E,x,z);return null}return E=Ee(E),h&&h[K]?h.J(y,E,m(x)?!!x.capture:!1,z):mi(h,y,E,!1,x,z)}function mi(h,y,E,x,z,Q){if(!y)throw Error("Invalid event type");const ht=m(z)?!!z.capture:!!z;let Ot=me(h);if(Ot||(h[Dt]=Ot=new ft(h)),E=Ot.add(y,E,x,ht,Q),E.proxy)return E;if(x=Sr(),E.proxy=x,x.src=h,x.listener=E,h.addEventListener)L||(z=ht),z===void 0&&(z=!1),h.addEventListener(y.toString(),x,z);else if(h.attachEvent)h.attachEvent(Dn(y.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Sr(){function h(E){return y.call(h.src,h.listener,E)}const y=Rt;return h}function xr(h,y,E,x,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)xr(h,y[Q],E,x,z);else x=m(x)?!!x.capture:!!x,E=Ee(E),h&&h[K]?(h=h.i,Q=String(y).toString(),Q in h.g&&(y=h.g[Q],E=xt(y,E,x,z),E>-1&&(et(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[Q],h.h--)))):h&&(h=me(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xt(y,E,x,z)),(E=h>-1?y[h]:null)&&Nr(E))}function Nr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[K])vt(y.i,h);else{var E=h.type,x=h.proxy;y.removeEventListener?y.removeEventListener(E,x,h.capture):y.detachEvent?y.detachEvent(Dn(E),x):y.addListener&&y.removeListener&&y.removeListener(x),(E=me(y))?(vt(E,h),E.h==0&&(E.src=null,y[Dt]=null)):et(h)}}}function Dn(h){return h in se?se[h]:se[h]="on"+h}function Rt(h,y){if(h.da)h=!0;else{y=new gt(y,this);const E=h.listener,x=h.ha||h.src;h.fa&&Nr(h),h=E.call(x,y)}return h}function me(h){return h=h[Dt],h instanceof ft?h:null}var un="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ee(h){return typeof h=="function"?h:(h[un]||(h[un]=function(y){return h.handleEvent(y)}),h[un])}function Vt(){D.call(this),this.i=new ft(this),this.M=this,this.G=null}T(Vt,D),Vt.prototype[K]=!0,Vt.prototype.removeEventListener=function(h,y,E,x){xr(this,h,y,E,x)};function Zt(h,y){var E,x=h.G;if(x)for(E=[];x;x=x.G)E.push(x);if(h=h.M,x=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var z=y;y=new O(x,h),ut(y,z)}z=!0;let Q,ht;if(E)for(ht=E.length-1;ht>=0;ht--)Q=y.g=E[ht],z=On(Q,x,!0,y)&&z;if(Q=y.g=h,z=On(Q,x,!0,y)&&z,z=On(Q,x,!1,y)&&z,E)for(ht=0;ht<E.length;ht++)Q=y.g=E[ht],z=On(Q,x,!1,y)&&z}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let x=0;x<E.length;x++)et(E[x]);delete h.g[y],h.h--}}this.G=null},Vt.prototype.J=function(h,y,E,x){return this.i.add(String(h),y,!1,E,x)},Vt.prototype.K=function(h,y,E,x){return this.i.add(String(h),y,!0,E,x)};function On(h,y,E,x){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Q=0;Q<y.length;++Q){const ht=y[Q];if(ht&&!ht.da&&ht.capture==E){const Ot=ht.listener,be=ht.ha||ht.src;ht.fa&&vt(h.i,ht),z=Ot.call(be,x)!==!1&&z}}return z&&!x.defaultPrevented}function Qi(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function ye(h){h.g=Qi(()=>{h.g=null,h.i&&(h.i=!1,ye(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class oe extends D{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ye(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(h){D.call(this),this.h=h,this.g={}}T(Yn,D);var tn=[];function Ns(h){it(h.g,function(y,E){this.g.hasOwnProperty(E)&&Nr(y)},h),h.g={}}Yn.prototype.N=function(){Yn.Z.N.call(this),Ns(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=c.JSON.stringify,Df=c.JSON.parse,Mu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ku(){}function Vu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){O.call(this,"d")}T(Fe,O);function Mn(){O.call(this,"c")}T(Mn,O);var Te={},Lu=null;function _a(){return Lu=Lu||new Vt}Te.Ia="serverreachability";function Pu(h){O.call(this,Te.Ia,h)}T(Pu,O);function pi(h){const y=_a();Zt(y,new Pu(y))}Te.STAT_EVENT="statevent";function Rs(h,y){O.call(this,Te.STAT_EVENT,h),this.stat=y}T(Rs,O);function xe(h){const y=_a();Zt(y,new Rs(y,h))}Te.Ja="timingevent";function gi(h,y){O.call(this,Te.Ja,h),this.size=y}T(gi,O);function yi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Of(h,y,E,x,z,Q){h.info(function(){if(h.g)if(Q){var ht="",Ot=Q.split("&");for(let Qt=0;Qt<Ot.length;Qt++){var be=Ot[Qt].split("=");if(be.length>1){const fe=be[0];be=be[1];const Pn=fe.split("_");ht=Pn.length>=2&&Pn[1]=="type"?ht+(fe+"="+be+"&"):ht+(fe+"=redacted&")}}}else ht=null;else ht=Q;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+y+`
`+E+`
`+ht})}function Uu(h,y,E,x,z,Q,ht){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+y+`
`+E+`
`+Q+" "+ht})}function _i(h,y,E,x){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mf(h,E)+(x?" "+x:"")})}function Cs(h,y){h.info(function(){return"TIMEOUT: "+y})}Xn.prototype.info=function(){};function Mf(h,y){if(!h.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var x=E[1];if(Array.isArray(x)&&!(x.length<1)){var z=x[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ht=1;ht<x.length;ht++)x[ht]=""}}}}return Rr(Q)}catch{return y}}var Is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function Ds(){}T(Ds,ku),Ds.prototype.g=function(){return new XMLHttpRequest},Lo=new Ds;function Yi(h){return encodeURIComponent(String(h))}function ju(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Zn(h,y,E,x){this.j=h,this.i=y,this.l=E,this.S=x||1,this.V=new Yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Ne={},ze={};function vi(h,y,E){h.M=1,h.A=Os(Ce(y)),h.u=E,h.R=!0,va(h,null)}function va(h,y){h.F=Date.now(),Ei(h),h.B=Ce(h.A);var E=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),wa(E.i,"t",x),h.C=0,E=h.j.L,h.h=new Jn,h.g=tc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new oe(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,x=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(tn[0]=z.toString()),z=tn);for(let Q=0;Q<z.length;Q++){const ht=Xt(E,z[Q],x||y.handleEvent,!1,y.h||y);if(!ht)break;y.g[ht.key]=ht}y=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),pi(),Of(h.i,h.v,h.B,h.l,h.S,h.u)}Zn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ei(h)==3?y.j():this.Y(h)},Zn.prototype.Y=function(h){try{if(h==this.g)t:{const Ot=ei(this.g),be=this.g.ya(),Qt=this.g.ca();if(!(Ot<3)&&(Ot!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||Ot!=4||be==7||(be==8||Qt<=0?pi(3):pi(2)),Ti(this);var y=this.g.ca();this.X=y;var E=kf(this);if(this.o=y==200,Uu(this.i,this.v,this.B,this.l,this.S,Ot,y),this.o){if(this.U&&!this.L){e:{if(this.g){var x,z=this.g;if((x=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var Q=x;break e}}Q=null}if(h=Q)_i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,h);else{this.o=!1,this.m=3,xe(12),En(this),kn(this);break t}}if(this.R){h=!0;let fe;for(;!this.K&&this.C<E.length;)if(fe=Bu(this,E),fe==ze){Ot==4&&(this.m=4,xe(14),h=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Ne){this.m=4,xe(15),_i(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else _i(this.i,this.l,fe,null),bi(this,fe);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||E.length!=0||this.h.h||(this.m=1,xe(16),h=!1),this.o=this.o&&h,!h)_i(this.i,this.l,E,"[Invalid Chunked Response]"),En(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.aa&&!ht.P&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Zo(ht),ht.P=!0,xe(11))}}else _i(this.i,this.l,E,null),bi(this,E);Ot==4&&En(this),this.o&&!this.K&&(Ot==4?Xu(this.j,this):(this.o=!1,Ei(this)))}else Xi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),En(this),kn(this)}}}catch{}finally{}};function kf(h){if(!zu(h))return h.g.la();const y=Ge(h.g);if(y==="")return"";let E="";const x=y.length,z=ei(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return En(h),kn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<x;Q++)h.h.h=!0,E+=h.h.i.decode(y[Q],{stream:!(z&&Q==x-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function zu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Bu(h,y){var E=h.C,x=y.indexOf(`
`,E);return x==-1?ze:(E=Number(y.substring(E,x)),isNaN(E)?Ne:(x+=1,x+E>y.length?ze:(y=y.slice(x,x+E),h.C=x+E,y)))}Zn.prototype.cancel=function(){this.K=!0,En(this)};function Ei(h){h.T=Date.now()+h.H,Ea(h,h.H)}function Ea(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=yi(g(h.aa,h),y)}function Ti(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Zn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Cs(this.i,this.B),this.M!=2&&(pi(),xe(17)),En(this),this.m=2,kn(this)):Ea(this,this.T-h)};function kn(h){h.j.I==0||h.K||Xu(h.j,h)}function En(h){Ti(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Ns(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function bi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ai(E.h,h))){if(!h.L&&Ai(E.h,h)&&E.I==3){try{var x=E.Ba.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ra(E),Lr(E);else break t;js(E),xe(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=yi(g(E.Va,E),6e3));wi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ii(E,11)}else if((h.L||E.g==h)&&Ra(E),!N(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let Qt=z[y];const fe=Qt[0];if(!(fe<=E.K))if(E.K=fe,Qt=Qt[1],E.I==2)if(Qt[0]=="c"){E.M=Qt[1],E.ba=Qt[2];const Pn=Qt[3];Pn!=null&&(E.ka=Pn,E.j.info("VER="+E.ka));const Di=Qt[4];Di!=null&&(E.za=Di,E.j.info("SVER="+E.za));const ni=Qt[5];ni!=null&&typeof ni=="number"&&ni>0&&(x=1.5*ni,E.O=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const ii=h.g;if(ii){const zs=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var Q=x.h;Q.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(jo(Q,Q.h),Q.h=null))}if(x.G){const Ca=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(x.wa=Ca,Jt(x.J,x.G,Ca))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),x=E;var ht=h;if(x.na=Wu(x,x.L?x.ba:null,x.W),ht.L){zo(x.h,ht);var Ot=ht,be=x.O;be&&(Ot.H=be),Ot.D&&(Ti(Ot),Ei(Ot)),x.g=ht}else Yu(x);E.i.length>0&&Ci(E)}else Qt[0]!="stop"&&Qt[0]!="close"||Ii(E,7);else E.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ii(E,7):Ko(E):Qt[0]!="noop"&&E.l&&E.l.qa(Qt),E.A=0)}}pi(4)}catch{}}var Re=class{constructor(h,y){this.g=h,this.map=y}};function Po(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wi(h){return h.h?1:h.g?h.g.size:0}function Ai(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function jo(h,y){h.g?h.g.add(y):h.h=y}function zo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Po.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Bo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return I(h.i)}var qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const x=h[E].indexOf("=");let z,Q=null;x>=0?(z=h[E].substring(0,x),Q=h[E].substring(x+1)):z=h[E],y(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Tn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Tn?(this.l=h.l,Be(this,h.j),this.o=h.o,this.g=h.g,Cr(this,h.u),this.h=h.h,qo(this,$u(h.i)),this.m=h.m):h&&(y=String(h).match(qu))?(this.l=!1,Be(this,y[1]||"",!0),this.o=Si(y[2]||""),this.g=Si(y[3]||"",!0),Cr(this,y[4]),this.h=Si(y[5]||"",!0),qo(this,y[6]||"",!0),this.m=Si(y[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}Tn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ms(y,ba,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ms(y,ba,!0),"@"),h.push(Yi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ms(E,E.charAt(0)=="/"?Ho:Hu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ms(E,Fu)),h.join("")},Tn.prototype.resolve=function(h){const y=Ce(this);let E=!!h.j;E?Be(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var x=h.h;if(E)Cr(y,h.u);else if(E=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var z=y.h.lastIndexOf("/");z!=-1&&(x=y.h.slice(0,z+1)+x)}if(z=x,z==".."||z==".")x="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){x=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let ht=0;ht<z.length;){const Ot=z[ht++];Ot=="."?x&&ht==z.length&&Q.push(""):Ot==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),x&&ht==z.length&&Q.push("")):(Q.push(Ot),x=!0)}x=Q.join("/")}else x=z}return E?y.h=x:E=h.i.toString()!=="",E?qo(y,$u(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Ce(h){return new Tn(h)}function Be(h,y,E){h.j=E?Si(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Cr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function qo(h,y,E){y instanceof Dr?(h.i=y,Aa(h.i,h.l)):(E||(y=Ms(y,Ir)),h.i=new Dr(y,h.l))}function Jt(h,y,E){h.i.set(y,E)}function Os(h){return Jt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Si(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ms(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,cn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ba=/[#\/\?@]/g,Hu=/[#\?:]/g,Ho=/[#\?]/g,Ir=/[#\?@]/g,Fu=/#/g;function Dr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ta(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Dr.prototype,i.add=function(h,y){hn(this),this.i=null,h=Or(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Gu(h,y){hn(h),y=Or(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Fo(h,y){return hn(h),y=Or(h,y),h.g.has(y)}i.forEach=function(h,y){hn(this),this.g.forEach(function(E,x){E.forEach(function(z){h.call(y,z,x,this)},this)},this)};function Go(h,y){hn(h);let E=[];if(typeof y=="string")Fo(h,y)&&(E=E.concat(h.g.get(Or(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return hn(this),this.i=null,h=Or(this,h),Fo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=Go(this,h),h.length>0?String(h[0]):y):y};function wa(h,y,E){Gu(h,y),E.length>0&&(h.i=null,h.g.set(Or(h,y),I(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let x=0;x<y.length;x++){var E=y[x];const z=Yi(E);E=Go(this,E);for(let Q=0;Q<E.length;Q++){let ht=z;E[Q]!==""&&(ht+="="+Yi(E[Q])),h.push(ht)}}return this.i=h.join("&")};function $u(h){const y=new Dr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Or(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Aa(h,y){y&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(E,x){const z=x.toLowerCase();x!=z&&(Gu(this,x),wa(this,z,E))},h)),h.j=y}function Wn(h,y){const E=new Xn;if(c.Image){const x=new Image;x.onload=v(Vn,E,"TestLoadImage: loaded",!0,y,x),x.onerror=v(Vn,E,"TestLoadImage: error",!1,y,x),x.onabort=v(Vn,E,"TestLoadImage: abort",!1,y,x),x.ontimeout=v(Vn,E,"TestLoadImage: timeout",!1,y,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else y(!1)}function $o(h,y){const E=new Xn,x=new AbortController,z=setTimeout(()=>{x.abort(),Vn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:x.signal}).then(Q=>{clearTimeout(z),Q.ok?Vn(E,"TestPingServer: ok",!0,y):Vn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Vn(E,"TestPingServer: error",!1,y)})}function Vn(h,y,E,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(E)}catch{}}function Mr(){this.g=new Mu}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(xi,ku),xi.prototype.g=function(){return new ks(this.i,this.h)};function ks(h,y){Vt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ks,Vt),i=ks.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ti(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?kr(this):ti(this),this.readyState==3&&Sa(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,kr(this))},i.Na=function(h){this.g&&(this.response=h,kr(this))},i.ga=function(){this.g&&kr(this)};function kr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ti(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ti(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ln(h){let y="";return it(h,function(E,x){y+=x,y+=":",y+=E,y+=`\r
`}),y}function Vs(h,y,E){t:{for(x in E){var x=!1;break t}x=!0}x||(E=Ln(E),typeof h=="string"?E!=null&&Yi(E):Jt(h,y,E))}function ee(h){Vt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ee,Vt);var Ni=/^https?$/i,Qo=["POST","PUT"];i=ee.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){Ls(this,Q);return}if(h=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)E.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())E.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||x||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ht]of E)this.g.setRequestHeader(Q,ht);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Ls(this,Q)}};function Ls(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Yo(h),Ki(h)}function Yo(h){h.A||(h.A=!0,Zt(h,"complete"),Zt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Zt(this,"complete"),Zt(this,"abort"),Ki(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),ee.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},i.Xa=function(){Ps(this)};function Ps(h){if(h.h&&typeof u<"u"){if(h.v&&ei(h)==4)setTimeout(h.Ca.bind(h),0);else if(Zt(h,"readystatechange"),ei(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var x;if(x=Q===0){let ht=String(h.D).match(qu)[1]||null;!ht&&c.self&&c.self.location&&(ht=c.self.location.protocol.slice(0,-1)),x=!Ni.test(ht?ht.toLowerCase():"")}E=x}if(E)Zt(h,"complete"),Zt(h,"success");else{h.o=6;try{var z=ei(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",Yo(h)}}finally{Ki(h)}}}}function Ki(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Zt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ei(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Df(y)}};function Ge(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(h){const y={};h=(h.g&&ei(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(N(h[x]))continue;var E=ju(h[x]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[z]||[];y[z]=Q,Q.push(E)}dt(y,function(x){return x.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Vr(h){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,h),this.Za=Ri("retryDelaySeedMs",1e4,h),this.Ta=Ri("forwardChannelMaxRetries",2,h),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(h&&h.concurrentRequestLimit),this.Ba=new Mr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Vr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,x){xe(0),this.W=h,this.H=y||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.J=Wu(this,null,this.W),Ci(this)};function Ko(h){if(xa(h),h.I==3){var y=h.V++,E=Ce(h.J);if(Jt(E,"SID",h.M),Jt(E,"RID",y),Jt(E,"TYPE","terminate"),Us(h,E),y=new Zn(h,h.j,y),y.M=2,y.A=Os(Ce(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=tc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ei(y)}Ju(h)}function Lr(h){h.g&&(Zo(h),h.g.cancel(),h.g=null)}function xa(h){Lr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ra(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ci(h){if(!Uo(h.h)&&!h.m){h.m=!0;var y=h.Ea;X||S(),st||(X(),st=!0),R.add(y,h),h.D=0}}function Na(h,y){return wi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=yi(g(h.Ea,h,y),Zu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new Zn(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=k(Q),ut(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(y+=x,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=Qu(this,z,y),E=Ce(this.J),Jt(E,"RID",h),Jt(E,"CVER",22),this.G&&Jt(E,"X-HTTP-Session-Id",this.G),Us(this,E),Q&&(this.R?y="headers="+Yi(Ln(Q))+"&"+y:this.u&&Vs(E,this.u,Q)),jo(this.h,z),this.Ra&&Jt(E,"TYPE","init"),this.S?(Jt(E,"$req",y),Jt(E,"SID","null"),z.U=!0,vi(z,E,null)):vi(z,E,y),this.I=2}}else this.I==3&&(h?Xo(this,h):this.i.length==0||Uo(this.h)||Xo(this))};function Xo(h,y){var E;y?E=y.l:E=h.V++;const x=Ce(h.J);Jt(x,"SID",h.M),Jt(x,"RID",E),Jt(x,"AID",h.K),Us(h,x),h.u&&h.o&&Vs(x,h.u,h.o),E=new Zn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Qu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),jo(h.h,E),vi(E,x,y)}function Us(h,y){h.H&&it(h.H,function(E,x){Jt(y,x,E)}),h.l&&it({},function(E,x){Jt(y,x,E)})}function Qu(h,y,E){E=Math.min(h.i.length,E);const x=h.l?g(h.l.Ka,h.l,h):null;t:{var z=h.i;let Ot=-1;for(;;){const be=["count="+E];Ot==-1?E>0?(Ot=z[0].g,be.push("ofs="+Ot)):Ot=0:be.push("ofs="+Ot);let Qt=!0;for(let fe=0;fe<E;fe++){var Q=z[fe].g;const Pn=z[fe].map;if(Q-=Ot,Q<0)Ot=Math.max(0,z[fe].g-100),Qt=!1;else try{Q="req"+Q+"_"||"";try{var ht=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Di,ni]of ht){let ii=ni;m(ni)&&(ii=Rr(ni)),be.push(Q+Di+"="+encodeURIComponent(ii))}}catch(Di){throw be.push(Q+"type="+encodeURIComponent("_badmap")),Di}}catch{x&&x(Pn)}}if(Qt){ht=be.join("&");break t}}ht=void 0}return h=h.i.splice(0,E),y.G=h,ht}function Yu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;X||S(),st||(X(),st=!0),R.add(y,h),h.A=0}}function js(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=yi(g(h.Da,h),Zu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=yi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Lr(this),Ku(this))};function Zo(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Ku(h){h.g=new Zn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ce(h.na);Jt(y,"RID","rpc"),Jt(y,"SID",h.M),Jt(y,"AID",h.K),Jt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Jt(y,"TO",h.ia),Jt(y,"TYPE","xmlhttp"),Us(h,y),h.u&&h.o&&Vs(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Os(Ce(y)),E.u=null,E.R=!0,va(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Lr(this),js(this),xe(19))};function Ra(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Xu(h,y){var E=null;if(h.g==y){Ra(h),Zo(h),h.g=null;var x=2}else if(Ai(h.h,y))E=y.G,zo(h.h,y),x=1;else return;if(h.I!=0){if(y.o)if(x==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;x=_a(),Zt(x,new gi(x,E)),Ci(h)}else Yu(h);else if(z=y.m,z==3||z==0&&y.X>0||!(x==1&&Na(h,y)||x==2&&js(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),z){case 1:Ii(h,5);break;case 4:Ii(h,10);break;case 3:Ii(h,6);break;default:Ii(h,2)}}}function Zu(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Ii(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),x=h.Ua;const z=!x;x=new Tn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Be(x,"https"),Os(x),z?Wn(x.toString(),E):$o(x.toString(),E)}else xe(2);h.I=0,h.l&&h.l.pa(y),Ju(h),xa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Ju(h){if(h.I=0,h.ja=[],h.l){const y=Bo(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ja,y),U(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Wu(h,y,E){var x=E instanceof Tn?Ce(E):new Tn(E);if(x.g!="")y&&(x.g=y+"."+x.g),Cr(x,x.u);else{var z=c.location;x=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Q=new Tn(null);x&&Be(Q,x),y&&(Q.g=y),z&&Cr(Q,z),E&&(Q.h=E),x=Q}return E=h.G,y=h.wa,E&&y&&Jt(x,E,y),Jt(x,"VER",h.ka),Us(h,x),x}function tc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new ee(new xi({ab:E})):new ee(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}i=ec.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Pr(){}Pr.prototype.g=function(h,y){return new on(h,y)};function on(h,y){Vt.call(this),this.g=new Vr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Zi(this)}T(on,Vt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ko(this.g)},on.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Rr(h),h=E);y.i.push(new Re(y.Ya++,h)),y.I==3&&Ci(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,on.Z.N.call(this)};function nc(h){Fe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(nc,Fe);function ic(){Mn.call(this),this.status=1}T(ic,Mn);function Zi(h){this.g=h}T(Zi,ec),Zi.prototype.ra=function(){Zt(this.g,"a")},Zi.prototype.qa=function(h){Zt(this.g,new nc(h))},Zi.prototype.pa=function(h){Zt(this.g,new ic)},Zi.prototype.oa=function(){Zt(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,gb=function(){return new Pr},pb=function(){return _a()},mb=Te,ap={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,wh=Is,Vo.COMPLETE="complete",db=Vo,Vu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Hl=Vu,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,fb=ee}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const $v="@firebase/firestore",Qv="4.9.3";class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Do="12.7.0";const fa=new jp("@firebase/firestore");function so(){return fa.logLevel}function mt(i,...t){if(fa.logLevel<=zt.DEBUG){const n=t.map(Xp);fa.debug(`Firestore (${Do}): ${i}`,...n)}}function vr(i,...t){if(fa.logLevel<=zt.ERROR){const n=t.map(Xp);fa.error(`Firestore (${Do}): ${i}`,...n)}}function _o(i,...t){if(fa.logLevel<=zt.WARN){const n=t.map(Xp);fa.warn(`Firestore (${Do}): ${i}`,...n)}}function Xp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function At(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,yb(i,s,n)}function yb(i,t,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vr(s),new Error(s)}function Kt(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||yb(t,o,s)}function It(i,t){return i}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends br{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class _b{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class mR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pR{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ys,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ys)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new _b(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class gR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new gR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _R{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Yv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vR(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Zp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Bt(i,t){return i<t?-1:i>t?1:0}function op(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return Bm(o)===Bm(u)?Bt(o,u):Bm(o)?1:-1}return Bt(i.length,t.length)}const ER=55296,TR=57343;function Bm(i){const t=i.charCodeAt(0);return t>=ER&&t<=TR}function vo(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}const Kv="__name__";class Li{constructor(t,n,s){n===void 0?n=0:n>t.length&&At(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&At(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Li.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Bt(t.length,n.length)}static compareSegments(t,n){const s=Li.isNumericId(t),o=Li.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Li.extractNumericId(t).compare(Li.extractNumericId(n)):op(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return gs.fromString(t.substring(4,t.length-2))}}class pe extends Li{construct(t,n,s){return new pe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new _t(at.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new pe(n)}static emptyPath(){return new pe([])}}const bR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Li{construct(t,n,s){return new Ze(t,n,s)}static isValidIdentifier(t){return bR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kv}static keyField(){return new Ze([Kv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new _t(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new _t(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _t(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new _t(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(pe.fromString(t))}static fromName(t){return new Tt(pe.fromString(t).popFirst(5))}static empty(){return new Tt(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return pe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new pe(t.slice()))}}function wR(i,t,n){if(!n)throw new _t(at.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function AR(i,t,n,s){if(t===!0&&s===!0)throw new _t(at.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Xv(i){if(!Tt.isDocumentKey(i))throw new _t(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function vb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Jp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":At(12329,{type:typeof i})}function ci(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new _t(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jp(i);throw new _t(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}function Ve(i,t){const n={typeString:i};return t&&(n.value=t),n}function xu(i,t){if(!vb(i))throw new _t(at.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new _t(at.INVALID_ARGUMENT,n);return!0}const Zv=-62135596800,Jv=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Jv);return new he(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new _t(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Zv)throw new _t(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jv}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(xu(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Zv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ve("string",he._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class Nt{static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new he(0,0))}static max(){return new Nt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ou=-1;function SR(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Nt.fromTimestamp(s===1e9?new he(n+1,0):new he(n,s));return new _s(o,Tt.empty(),t)}function xR(i){return new _s(i.readTime,i.key,ou)}class _s{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new _s(Nt.min(),Tt.empty(),ou)}static max(){return new _s(Nt.max(),Tt.empty(),ou)}}function NR(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=Tt.comparator(i.documentKey,t.documentKey),n!==0?n:Bt(i.largestBatchId,t.largestBatchId))}const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Oo(i){if(i.code!==at.FAILED_PRECONDITION||i.message!==RR)throw i;mt("LocalStore","Unexpectedly lost primary lease")}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.reject(n)}static resolve(t){return new rt(((n,s)=>{n(t)}))}static reject(t){return new rt(((n,s)=>{s(t)}))}static waitFor(t){return new rt(((n,s)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(t){let n=rt.resolve(!1);for(const s of t)n=n.next((o=>o?rt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new rt(((s,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((v=>{c[g]=v,++m,m===u&&s(c)}),(v=>o(v)))}}))}static doWhile(t,n){return new rt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function IR(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}class cf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}cf.ce=-1;const Wp=-1;function hf(i){return i==null}function Bh(i){return i===0&&1/i==-1/0}function DR(i){return typeof i=="number"&&Number.isInteger(i)&&!Bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Eb="";function OR(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=Wv(t)),t=MR(i.get(n),t);return Wv(t)}function MR(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Eb:n+="";break;default:n+=u}}return n}function Wv(i){return i+Eb+""}function tE(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function Ss(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function Tb(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class ge{constructor(t,n){this.comparator=t,this.root=n||Xe.EMPTY}insert(t,n){return new ge(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uh(this.root,t,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uh(this.root,t,this.comparator,!0)}}class uh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Xe.RED,this.left=o??Xe.EMPTY,this.right=u??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Xe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new eE(this.data.getIterator())}getIteratorFrom(t){return new eE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new je(this.comparator);return n.data=t,n}}class eE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Cn([])}unionWith(t){let n=new je(Ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Cn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return vo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class bb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new bb("Invalid base64 string: "+u):u}})(t);return new We(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const kR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(i){if(Kt(!!i,39018),typeof i=="string"){let t=0;const n=kR.exec(i);if(Kt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Se(i.seconds),nanos:Se(i.nanos)}}function Se(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Es(i){return typeof i=="string"?We.fromBase64String(i):We.fromUint8Array(i)}const wb="server_timestamp",Ab="__type__",Sb="__previous_value__",xb="__local_write_time__";function tg(i){return(i?.mapValue?.fields||{})[Ab]?.stringValue===wb}function ff(i){const t=i.mapValue.fields[Sb];return tg(t)?ff(t):t}function lu(i){const t=vs(i.mapValue.fields[xb].timestampValue);return new he(t.seconds,t.nanos)}class VR{constructor(t,n,s,o,u,c,m,p,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const qh="(default)";class uu{constructor(t,n){this.projectId=t,this.database=n||qh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===qh}isEqual(t){return t instanceof uu&&t.projectId===this.projectId&&t.database===this.database}}const Nb="__type__",LR="__max__",ch={mapValue:{}},Rb="__vector__",Hh="value";function Ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?tg(i)?4:UR(i)?9007199254740991:PR(i)?10:11:At(28295,{value:i})}function Fi(i,t){if(i===t)return!0;const n=Ts(i);if(n!==Ts(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return lu(i).isEqual(lu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=vs(o.timestampValue),m=vs(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return Es(o.bytesValue).isEqual(Es(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Se(o.geoPointValue.latitude)===Se(u.geoPointValue.latitude)&&Se(o.geoPointValue.longitude)===Se(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Se(o.integerValue)===Se(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Se(o.doubleValue),m=Se(u.doubleValue);return c===m?Bh(c)===Bh(m):isNaN(c)&&isNaN(m)}return!1})(i,t);case 9:return vo(i.arrayValue.values||[],t.arrayValue.values||[],Fi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(tE(c)!==tE(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Fi(c[p],m[p])))return!1;return!0})(i,t);default:return At(52216,{left:i})}}function cu(i,t){return(i.values||[]).find((n=>Fi(n,t)))!==void 0}function Eo(i,t){if(i===t)return 0;const n=Ts(i),s=Ts(t);if(n!==s)return Bt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bt(i.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Se(u.integerValue||u.doubleValue),p=Se(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return nE(i.timestampValue,t.timestampValue);case 4:return nE(lu(i),lu(t));case 5:return op(i.stringValue,t.stringValue);case 6:return(function(u,c){const m=Es(u),p=Es(c);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Bt(m[g],p[g]);if(v!==0)return v}return Bt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Bt(Se(u.latitude),Se(c.latitude));return m!==0?m:Bt(Se(u.longitude),Se(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return iE(i.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[Hh]?.arrayValue,v=p[Hh]?.arrayValue,T=Bt(g?.values?.length||0,v?.values?.length||0);return T!==0?T:iE(g,v)})(i.mapValue,t.mapValue);case 11:return(function(u,c){if(u===ch.mapValue&&c===ch.mapValue)return 0;if(u===ch.mapValue)return 1;if(c===ch.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const A=op(p[T],v[T]);if(A!==0)return A;const I=Eo(m[p[T]],g[v[T]]);if(I!==0)return I}return Bt(p.length,v.length)})(i.mapValue,t.mapValue);default:throw At(23264,{he:n})}}function nE(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Bt(i,t);const n=vs(i),s=vs(t),o=Bt(n.seconds,s.seconds);return o!==0?o:Bt(n.nanos,s.nanos)}function iE(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return Bt(n.length,s.length)}function To(i){return lp(i)}function lp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=vs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Es(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Tt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=lp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${lp(n.fields[c])}`;return o+"}"})(i.mapValue):At(61005,{value:i})}function Ah(i){switch(Ts(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ff(i);return t?16+Ah(t):16;case 5:return 2*i.stringValue.length;case 6:return Es(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ah(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ss(s.fields,((u,c)=>{o+=u.length+Ah(c)})),o})(i.mapValue);default:throw At(13486,{value:i})}}function up(i){return!!i&&"integerValue"in i}function eg(i){return!!i&&"arrayValue"in i}function rE(i){return!!i&&"nullValue"in i}function sE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sh(i){return!!i&&"mapValue"in i}function PR(i){return(i?.mapValue?.fields||{})[Nb]?.stringValue===Rb}function Jl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Ss(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Jl(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jl(i.arrayValue.values[n]);return t}return{...i}}function UR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===LR}class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Sh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jl(n)}setAll(t){let n=Ze.emptyPath(),s={},o=[];t.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=Jl(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Fi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Ss(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new _n(Jl(this.value))}}function Cb(i){const t=[];return Ss(i.fields,((n,s)=>{const o=new Ze([n]);if(Sh(s)){const u=Cb(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Cn(t)}class sn{constructor(t,n,s,o,u,c,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new sn(t,0,Nt.min(),Nt.min(),Nt.min(),_n.empty(),0)}static newFoundDocument(t,n,s,o){return new sn(t,1,n,Nt.min(),s,o,0)}static newNoDocument(t,n){return new sn(t,2,n,Nt.min(),Nt.min(),_n.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,Nt.min(),Nt.min(),_n.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fh{constructor(t,n){this.position=t,this.inclusive=n}}function aE(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],c=i.position[o];if(u.field.isKeyField()?s=Tt.comparator(Tt.fromName(c.referenceValue),n.key):s=Eo(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function oE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Fi(i.position[n],t.position[n]))return!1;return!0}class Gh{constructor(t,n="asc"){this.field=t,this.dir=n}}function jR(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class Ib{}class Ue extends Ib{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new BR(t,n,s):n==="array-contains"?new FR(t,s):n==="in"?new GR(t,s):n==="not-in"?new $R(t,s):n==="array-contains-any"?new QR(t,s):new Ue(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new qR(t,s):new HR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends Ib{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Gi(t,n)}matches(t){return Db(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Db(i){return i.op==="and"}function Ob(i){return zR(i)&&Db(i)}function zR(i){for(const t of i.filters)if(t instanceof Gi)return!1;return!0}function cp(i){if(i instanceof Ue)return i.field.canonicalString()+i.op.toString()+To(i.value);if(Ob(i))return i.filters.map((t=>cp(t))).join(",");{const t=i.filters.map((n=>cp(n))).join(",");return`${i.op}(${t})`}}function Mb(i,t){return i instanceof Ue?(function(s,o){return o instanceof Ue&&s.op===o.op&&s.field.isEqual(o.field)&&Fi(s.value,o.value)})(i,t):i instanceof Gi?(function(s,o){return o instanceof Gi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&Mb(c,o.filters[m])),!0):!1})(i,t):void At(19439)}function kb(i){return i instanceof Ue?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(i):i instanceof Gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(kb).join(" ,")+"}"})(i):"Filter"}class BR extends Ue{constructor(t,n,s){super(t,n,s),this.key=Tt.fromName(s.referenceValue)}matches(t){const n=Tt.comparator(t.key,this.key);return this.matchesComparison(n)}}class qR extends Ue{constructor(t,n){super(t,"in",n),this.keys=Vb("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class HR extends Ue{constructor(t,n){super(t,"not-in",n),this.keys=Vb("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Vb(i,t){return(t.arrayValue?.values||[]).map((n=>Tt.fromName(n.referenceValue)))}class FR extends Ue{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return eg(n)&&cu(n.arrayValue,this.value)}}class GR extends Ue{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class $R extends Ue{constructor(t,n){super(t,"not-in",n)}matches(t){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class QR extends Ue{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>cu(this.value.arrayValue,s)))}}class YR{constructor(t,n=null,s=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function lE(i,t=null,n=[],s=[],o=null,u=null,c=null){return new YR(i,t,n,s,o,u,c)}function ng(i){const t=It(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>cp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),hf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>To(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>To(s))).join(",")),t.Te=n}return t.Te}function ig(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!jR(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Mb(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!oE(i.startAt,t.startAt)&&oE(i.endAt,t.endAt)}function hp(i){return Tt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class df{constructor(t,n=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KR(i,t,n,s,o,u,c,m){return new df(i,t,n,s,o,u,c,m)}function mf(i){return new df(i)}function uE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function XR(i){return i.collectionGroup!==null}function Wl(i){const t=It(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new je(Ze.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Gh(u,s))})),n.has(Ze.keyField().canonicalString())||t.Ie.push(new Gh(Ze.keyField(),s))}return t.Ie}function ji(i){const t=It(i);return t.Ee||(t.Ee=ZR(t,Wl(i))),t.Ee}function ZR(i,t){if(i.limitType==="F")return lE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Gh(o.field,u)}));const n=i.endAt?new Fh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Fh(i.startAt.position,i.startAt.inclusive):null;return lE(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function fp(i,t,n){return new df(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function pf(i,t){return ig(ji(i),ji(t))&&i.limitType===t.limitType}function Lb(i){return`${ng(ji(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>kb(o))).join(", ")}]`),hf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(ji(i))}; limitType=${i.limitType})`}function gf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Tt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=aE(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,Wl(s),o)||s.endAt&&!(function(c,m,p){const g=aE(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,Wl(s),o))})(i,t)}function JR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Pb(i){return(t,n)=>{let s=!1;for(const o of Wl(i)){const u=WR(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function WR(i,t,n){const s=i.field.isKeyField()?Tt.comparator(t.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Eo(p,g):At(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:i.dir})}}class ga{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ss(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return Tb(this.inner)}size(){return this.innerSize}}const tC=new ge(Tt.comparator);function Er(){return tC}const Ub=new ge(Tt.comparator);function Fl(...i){let t=Ub;for(const n of i)t=t.insert(n.key,n);return t}function jb(i){let t=Ub;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ra(){return tu()}function zb(){return tu()}function tu(){return new ga((i=>i.toString()),((i,t)=>i.isEqual(t)))}const eC=new ge(Tt.comparator),nC=new je(Tt.comparator);function qt(...i){let t=nC;for(const n of i)t=t.add(n);return t}const iC=new je(Bt);function rC(){return iC}function rg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(t)?"-0":t}}function Bb(i){return{integerValue:""+i}}function sC(i,t){return DR(t)?Bb(t):rg(i,t)}class yf{constructor(){this._=void 0}}function aC(i,t,n){return i instanceof hu?(function(o,u){const c={fields:{[Ab]:{stringValue:wb},[xb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tg(u)&&(u=ff(u)),u&&(c.fields[Sb]=u),{mapValue:c}})(n,t):i instanceof fu?Hb(i,t):i instanceof du?Fb(i,t):(function(o,u){const c=qb(o,u),m=cE(c)+cE(o.Ae);return up(c)&&up(o.Ae)?Bb(m):rg(o.serializer,m)})(i,t)}function oC(i,t,n){return i instanceof fu?Hb(i,t):i instanceof du?Fb(i,t):n}function qb(i,t){return i instanceof $h?(function(s){return up(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class hu extends yf{}class fu extends yf{constructor(t){super(),this.elements=t}}function Hb(i,t){const n=Gb(t);for(const s of i.elements)n.some((o=>Fi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class du extends yf{constructor(t){super(),this.elements=t}}function Fb(i,t){let n=Gb(t);for(const s of i.elements)n=n.filter((o=>!Fi(o,s)));return{arrayValue:{values:n}}}class $h extends yf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function cE(i){return Se(i.integerValue||i.doubleValue)}function Gb(i){return eg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class lC{constructor(t,n){this.field=t,this.transform=n}}function uC(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof fu&&o instanceof fu||s instanceof du&&o instanceof du?vo(s.elements,o.elements,Fi):s instanceof $h&&o instanceof $h?Fi(s.Ae,o.Ae):s instanceof hu&&o instanceof hu})(i.transform,t.transform)}class cC{constructor(t,n){this.version=t,this.transformResults=n}}class hi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class _f{}function $b(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new sg(i.key,hi.none()):new Nu(i.key,i.data,hi.none());{const n=i.data,s=_n.empty();let o=new je(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new xs(i.key,s,new Cn(o.toArray()),hi.none())}}function hC(i,t,n){i instanceof Nu?(function(o,u,c){const m=o.value.clone(),p=fE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,n):i instanceof xs?(function(o,u,c){if(!xh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=fE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Qb(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function eu(i,t,n,s){return i instanceof Nu?(function(u,c,m,p){if(!xh(u.precondition,c))return m;const g=u.value.clone(),v=dE(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof xs?(function(u,c,m,p){if(!xh(u.precondition,c))return m;const g=dE(u.fieldTransforms,p,c),v=c.data;return v.setAll(Qb(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,n,s):(function(u,c,m){return xh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,t,n)}function fC(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=qb(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function hE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,c)=>uC(u,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Nu extends _f{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends _f{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Qb(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function fE(i,t,n){const s=new Map;Kt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,m=t.data.field(u.field);s.set(u.field,oC(c,m,n[o]))}return s}function dE(i,t,n){const s=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);s.set(o.field,aC(u,c,t))}return s}class sg extends _f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dC extends _f{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&hC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=eu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=eu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=zb();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=$b(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Nt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),qt())}isEqual(t){return this.batchId===t.batchId&&vo(this.mutations,t.mutations,((n,s)=>hE(n,s)))&&vo(this.baseMutations,t.baseMutations,((n,s)=>hE(n,s)))}}class ag{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return eC})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new ag(t,n,s,o)}}class pC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gC{constructor(t,n){this.count=t,this.unchangedNames=n}}var ke,Ft;function yC(i){switch(i){case at.OK:return At(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return At(15467,{code:i})}}function Yb(i){if(i===void 0)return vr("GRPC error has no .code"),at.UNKNOWN;switch(i){case ke.OK:return at.OK;case ke.CANCELLED:return at.CANCELLED;case ke.UNKNOWN:return at.UNKNOWN;case ke.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case ke.INTERNAL:return at.INTERNAL;case ke.UNAVAILABLE:return at.UNAVAILABLE;case ke.UNAUTHENTICATED:return at.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case ke.NOT_FOUND:return at.NOT_FOUND;case ke.ALREADY_EXISTS:return at.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return at.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case ke.ABORTED:return at.ABORTED;case ke.OUT_OF_RANGE:return at.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return at.UNIMPLEMENTED;case ke.DATA_LOSS:return at.DATA_LOSS;default:return At(39323,{code:i})}}(Ft=ke||(ke={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function _C(){return new TextEncoder}const vC=new gs([4294967295,4294967295],0);function mE(i){const t=_C().encode(i),n=new hb;return n.update(t),new Uint8Array(n.digest())}function pE(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new gs([n,s],0),new gs([o,u],0)]}class og{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=gs.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(gs.fromNumber(s)));return o.compare(vC)===1&&(o=new gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=mE(t),[s,o]=pE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new og(u,o,n);return s.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const n=mE(t),[s,o]=pE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Ru.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new vf(Nt.min(),o,new ge(Bt),Er(),qt())}}class Ru{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ru(s,n,qt(),qt(),qt())}}class Nh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class Kb{constructor(t,n){this.targetId=t,this.Ce=n}}class Xb{constructor(t,n,s=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class gE{constructor(){this.ve=0,this.Fe=yE(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),n=qt(),s=qt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:At(38017,{changeType:u})}})),new Ru(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=yE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Er(),this.Je=hh(),this.He=hh(),this.Ye=new ge(Bt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:At(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(hp(u))if(s===0){const c=new Tt(u.path);this.et(n,c,sn.newNoDocument(c,Nt.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=Es(s).toUint8Array()}catch(p){if(p instanceof bb)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new og(c,o,u)}catch(p){return _o(p instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&hp(m.target)){const p=new Tt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,sn.newNoDocument(p,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=qt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new vf(t,n,this.Ye,this.je,s);return this.je=Er(),this.Je=hh(),this.He=hh(),this.Ye=new ge(Bt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new gE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new je(Bt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new je(Bt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new gE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function hh(){return new ge(Tt.comparator)}function yE(){return new ge(Tt.comparator)}const TC={asc:"ASCENDING",desc:"DESCENDING"},bC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wC={and:"AND",or:"OR"};class AC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function dp(i,t){return i.useProto3Json||hf(t)?t:{value:t}}function Qh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function SC(i,t){return Qh(i,t.toTimestamp())}function zi(i){return Kt(!!i,49232),Nt.fromTimestamp((function(n){const s=vs(n);return new he(s.seconds,s.nanos)})(i))}function lg(i,t){return mp(i,t).canonicalString()}function mp(i,t){const n=(function(o){return new pe(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function Jb(i){const t=pe.fromString(i);return Kt(i1(t),10190,{key:t.toString()}),t}function pp(i,t){return lg(i.databaseId,t.path)}function qm(i,t){const n=Jb(t);if(n.get(1)!==i.databaseId.projectId)throw new _t(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new _t(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Tt(t1(n))}function Wb(i,t){return lg(i.databaseId,t)}function xC(i){const t=Jb(i);return t.length===4?pe.emptyPath():t1(t)}function gp(i){return new pe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function t1(i){return Kt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function _E(i,t,n){return{name:pp(i,t),fields:n.value.mapValue.fields}}function NC(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:At(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Kt(v===void 0||typeof v=="string",58123),We.fromBase64String(v||"")):(Kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),We.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?at.UNKNOWN:Yb(g.code);return new _t(v,g.message||"")})(c);n=new Xb(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=qm(i,s.document.name),u=zi(s.document.updateTime),c=s.document.createTime?zi(s.document.createTime):Nt.min(),m=new _n({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,c,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Nh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=qm(i,s.document),u=s.readTime?zi(s.readTime):Nt.min(),c=sn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Nh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=qm(i,s.document),u=s.removedTargetIds||[];n=new Nh([],u,o,null)}else{if(!("filter"in t))return At(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new gC(o,u),m=s.targetId;n=new Kb(m,c)}}return n}function RC(i,t){let n;if(t instanceof Nu)n={update:_E(i,t.key,t.value)};else if(t instanceof sg)n={delete:pp(i,t.key)};else if(t instanceof xs)n={update:_E(i,t.key,t.data),updateMask:PC(t.fieldMask)};else{if(!(t instanceof dC))return At(16599,{Vt:t.type});n={verify:pp(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof hu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof du)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $h)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw At(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:SC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:At(27497)})(i,t.precondition)),n}function CC(i,t){return i&&i.length>0?(Kt(t!==void 0,14353),i.map((n=>(function(o,u){let c=o.updateTime?zi(o.updateTime):zi(u);return c.isEqual(Nt.min())&&(c=zi(u)),new cC(c,o.transformResults||[])})(n,t)))):[]}function IC(i,t){return{documents:[Wb(i,t.path)]}}function DC(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Wb(i,o);const u=(function(g){if(g.length!==0)return n1(Gi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:oo(A.field),direction:kC(A.dir)}})(v)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const m=dp(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function OC(i){let t=xC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const A=e1(T);return A instanceof Gi&&Ob(A)?A.getFilters():[A]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((A=>(function(U){return new Gh(lo(U.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,hf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,I=T.values||[];return new Fh(I,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,I=T.values||[];return new Fh(I,A)})(n.endAt)),KR(t,o,c,u,m,"F",p,g)}function MC(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function e1(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Ue.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return Ue.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=lo(n.unaryFilter.field);return Ue.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ue.create(lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Gi.create(n.compositeFilter.filters.map((s=>e1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(n.compositeFilter.op))})(i):At(30097,{filter:i})}function kC(i){return TC[i]}function VC(i){return bC[i]}function LC(i){return wC[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return Ze.fromServerFormat(i.fieldPath)}function n1(i){return i instanceof Ue?(function(n){if(n.op==="=="){if(sE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(rE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(rE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:VC(n.op),value:n.value}}})(i):i instanceof Gi?(function(n){const s=n.getFilters().map((o=>n1(o)));return s.length===1?s[0]:{compositeFilter:{op:LC(n.op),filters:s}}})(i):At(54877,{filter:i})}function PC(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function i1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class fs{constructor(t,n,s,o,u=Nt.min(),c=Nt.min(),m=We.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class UC{constructor(t){this.yt=t}}function jC(i){const t=OC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?fp(t,t.limit,"L"):t}class zC{constructor(){this.Cn=new BC}addToCollectionParentIndex(t,n){return this.Cn.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(_s.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(_s.min())}updateCollectionGroup(t,n,s){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class BC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new je(pe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new je(pe.comparator)).toArray()}}const vE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r1=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(r1,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class bo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}const EE="LruGarbageCollector",qC=1048576;function TE([i,t],[n,s]){const o=Bt(i,n);return o===0?Bt(t,s):o}class HC{constructor(t){this.Ir=t,this.buffer=new je(TE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();TE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){mt(EE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?mt(EE,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Vr(3e5)}))}}class GC{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return rt.resolve(cf.ce);const s=new HC(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(vE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),so()<=zt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function $C(i,t){return new GC(i,t)}class QC{constructor(){this.changes=new ga((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?rt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class YC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class KC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&eu(s.mutation,o,Cn.empty(),he.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,qt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=qt()){const o=ra();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let c=Fl();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=ra();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,qt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(t,n,s,o){let u=Er();const c=tu(),m=(function(){return tu()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof xs)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),eu(v.mutation,g,v.mutation.getFieldMask(),he.now())):c.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>m.set(g,new YC(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=tu();let o=new ge(((c,m)=>c-m)),u=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Cn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||qt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=zb();v.forEach((A=>{if(!u.has(A)){const I=$b(n.get(A),s.get(A));I!==null&&T.set(A,I),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return rt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(c){return Tt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):XR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):rt.resolve(ra());let m=ou,p=u;return c.next((g=>rt.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?rt.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,qt()))).next((v=>({batchId:m,changes:jb(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Tt(n)).next((s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let c=Fl();return this.indexManager.getCollectionParents(t,u).next((m=>rt.forEach(m,(p=>{const g=(function(T,A){return new df(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((T,A)=>{c=c.insert(T,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))}));let m=Fl();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&eu(v.mutation,g,Cn.empty(),he.now()),gf(n,g)&&(m=m.insert(p,g))})),m}))}}class XC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return rt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:jC(o.bundledQuery),readTime:zi(o.readTime)}})(n)),rt.resolve()}}class ZC{constructor(){this.overlays=new ge(Tt.comparator),this.qr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ra();return rt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),rt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),rt.resolve()}getOverlaysForCollection(t,n,s){const o=ra(),u=n.length+1,c=new Tt(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ge(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ra(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ra(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return rt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new pC(n,s));let u=this.qr.get(n);u===void 0&&(u=qt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class JC{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,rt.resolve()}}class ug{constructor(){this.Qr=new je(He.$r),this.Ur=new je(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new He(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new He(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new Tt(new pe([])),s=new He(n,t),o=new He(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Tt(new pe([])),s=new He(n,t),o=new He(n,t+1);let u=qt();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new He(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Tt.comparator(t.key,n.key)||Bt(t.Yr,n.Yr)}static Kr(t,n){return Bt(t.Yr,n.Yr)||Tt.comparator(t.key,n.key)}}class WC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new je(He.$r)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new mC(u,n,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new He(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,n){return rt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return rt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Wp:this.tr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new He(n,0),o=new He(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),rt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new je(Bt);return n.forEach((o=>{const u=new He(o,0),c=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{s=s.add(m.Yr)}))})),rt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Tt.isDocumentKey(u)||(u=u.child(""));const c=new He(new Tt(u),0);let m=new je(Bt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),rt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return rt.forEach(n.mutations,(o=>{const u=new He(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new He(n,0),o=this.Zr.firstAfterOrEqual(s);return rt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class tI{constructor(t){this.ri=t,this.docs=(function(){return new ge(Tt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return rt.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let s=Er();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),rt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Er();const c=n.path,m=new Tt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||NR(xR(v),s)<=0||(o.has(v.key)||gf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return rt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){At(9500)}ii(t,n){return rt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new eI(this)}getSize(t){return rt.resolve(this.size)}}class eI extends QC{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),rt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class nI{constructor(t){this.persistence=t,this.si=new ga((n=>ng(n)),ig),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=bo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),rt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.Pr(n),rt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),rt.waitFor(u).next((()=>o))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return rt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),rt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),rt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return rt.resolve(s)}containsKey(t,n){return rt.resolve(this._i.containsKey(n))}}class s1{constructor(t,n){this.ui={},this.overlays={},this.ci=new cf(0),this.li=!1,this.li=!0,this.hi=new JC,this.referenceDelegate=t(this),this.Pi=new nI(this),this.indexManager=new zC,this.remoteDocumentCache=(function(o){return new tI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new UC(n),this.Ii=new XC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ZC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new WC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){mt("MemoryPersistence","Starting transaction:",t);const o=new iI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return rt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class iI extends CR{constructor(t){super(),this.currentSequenceNumber=t}}class cg{constructor(t){this.persistence=t,this.Ri=new ug,this.Vi=null}static mi(t){return new cg(t)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),rt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),rt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.fi,(s=>{const o=Tt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Nt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return rt.or([()=>rt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Yh{constructor(t,n){this.persistence=t,this.pi=new ga((s=>OR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=$C(this,n)}static mi(t,n){return new Yh(t,n)}Ei(){}di(t){return rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return rt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?rt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((m=>{m||(s++,u.removeEntry(c,Nt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),rt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),rt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ah(t.data.value)),n}br(t,n,s){return rt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return rt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class hg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=qt(),o=qt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hg(t,n.fromCache,s,o)}}class rI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class sI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CS()?8:IR(an())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new rI;return this.Ss(t,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,c,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(so()<=zt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),rt.resolve()):(so()<=zt.DEBUG&&mt("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(so()<=zt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(n))):rt.resolve())}ys(t,n){if(uE(n))return rt.resolve(null);let s=ji(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=fp(n,null,"F"),s=ji(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=qt(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(t,fp(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return uE(n)||o.isEqual(Nt.min())?rt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?rt.resolve(null):(so()<=zt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.vs(t,c,n,SR(o,ou)).next((m=>m)))}))}Ds(t,n){let s=new je(Pb(t));return n.forEach(((o,u)=>{gf(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return so()<=zt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ps.getDocumentsMatchingQuery(t,n,_s.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const fg="LocalStore",aI=3e8;class oI{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ge(Bt),this.xs=new ga((u=>ng(u)),ig),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new KC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function lI(i,t,n,s){return new oI(i,t,n,s)}async function a1(i,t){const n=It(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=qt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function uI(i,t){const n=It(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,A=T.keys();let I=rt.resolve();return A.forEach((U=>{I=I.next((()=>v.getEntry(p,U))).next((F=>{const $=g.docVersions.get(U);Kt($!==null,48541),F.version.compareTo($)<0&&(T.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),v.addEntry(F)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=qt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function o1(i){const t=It(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function cI(i,t){const n=It(i),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((v,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T))));let I=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?I=I.withResumeToken(We.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,s)),o=o.insert(T,I),(function(F,$,lt){return F.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=aI?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(A,I,v)&&m.push(n.Pi.updateTargetData(u,I))}));let p=Er(),g=qt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(hI(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Nt.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return rt.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function hI(i,t,n){let s=qt(),o=qt();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let c=Er();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Nt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):mt(fg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function fI(i,t){const n=It(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function dI(i,t){const n=It(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,rt.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new fs(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function yp(i,t,n){const s=It(i),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Mo(c))throw c;mt(fg,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function bE(i,t,n){const s=It(i);let o=Nt.min(),u=qt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=It(p),A=T.xs.get(v);return A!==void 0?rt.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,v)})(s,c,ji(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?o:Nt.min(),n?u:qt()))).next((m=>(mI(s,JR(t),m),{documents:m,Qs:u})))))}function mI(i,t,n){let s=i.Os.get(t)||Nt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(t,s)}class wE{constructor(){this.activeTargetIds=rC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pI{constructor(){this.Mo=new wE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new wE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gI{Oo(t){}shutdown(){}}const AE="ConnectivityMonitor";class SE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(AE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){mt(AE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let fh=null;function _p(){return fh===null?fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():fh++,"0x"+fh.toString(16)}const Hm="RestConnection",yI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _I{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===qh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const c=_p(),m=this.zo(t,n.toUriEncodedString());mt(Hm,`Sending RPC '${t}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=Ro(g);return this.Jo(t,m,p,s,v).then((T=>(mt(Hm,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw _o(Hm,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,c){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=yI[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class vI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class EI extends _I{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const c=_p();return new Promise(((m,p)=>{const g=new fb;g.setWithCredentials(!0),g.listenOnce(db.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case wh.NO_ERROR:const T=g.getResponseJson();mt(nn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case wh.TIMEOUT:mt(nn,`RPC '${t}' ${c} timed out`),p(new _t(at.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const A=g.getStatus();if(mt(nn,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const U=I?.error;if(U&&U.status&&U.message){const F=(function(lt){const Z=lt.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(Z)>=0?Z:at.UNKNOWN})(U.status);p(new _t(F,U.message))}else p(new _t(at.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new _t(at.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{mt(nn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);mt(nn,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(t,n,s){const o=_p(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=gb(),m=pb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");mt(nn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const T=c.createWebChannel(v,p);this.I_(T);let A=!1,I=!1;const U=new vI({Yo:$=>{I?mt(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(A||(mt(nn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),A=!0),mt(nn,`RPC '${t}' stream ${o} sending:`,$),T.send($))},Zo:()=>T.close()}),F=($,lt,Z)=>{$.listen(lt,(ot=>{try{Z(ot)}catch(ct){setTimeout((()=>{throw ct}),0)}}))};return F(T,Hl.EventType.OPEN,(()=>{I||(mt(nn,`RPC '${t}' stream ${o} transport opened.`),U.o_())})),F(T,Hl.EventType.CLOSE,(()=>{I||(I=!0,mt(nn,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(T))})),F(T,Hl.EventType.ERROR,($=>{I||(I=!0,_o(nn,`RPC '${t}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),U.a_(new _t(at.UNAVAILABLE,"The operation could not be completed")))})),F(T,Hl.EventType.MESSAGE,($=>{if(!I){const lt=$.data[0];Kt(!!lt,16349);const Z=lt,ot=Z?.error||Z[0]?.error;if(ot){mt(nn,`RPC '${t}' stream ${o} received error:`,ot);const ct=ot.status;let X=(function(S){const C=ke[S];if(C!==void 0)return Yb(C)})(ct),st=ot.message;X===void 0&&(X=at.INTERNAL,st="Unknown error status: "+ct+" with message "+ot.message),I=!0,U.a_(new _t(X,st)),T.close()}else mt(nn,`RPC '${t}' stream ${o} received:`,lt),U.u_(lt)}})),F(m,mb.STAT_EVENT,($=>{$.stat===ap.PROXY?mt(nn,`RPC '${t}' stream ${o} detected buffering proxy`):$.stat===ap.NOPROXY&&mt(nn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Fm(){return typeof document<"u"?document:null}function Ef(i){return new AC(i,!0)}class l1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const xE="PersistentStream";class u1{constructor(t,n,s,o,u,c,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new l1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===at.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new _t(at.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(xE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(mt(xE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TI extends u1{constructor(t,n,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=NC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Nt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Nt.min():c.readTime?zi(c.readTime):Nt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=gp(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=hp(p)?{documents:IC(u,p)}:{query:DC(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Zb(u,c.resumeToken);const g=dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Nt.min())>0){m.readTime=Qh(u,c.snapshotVersion.toTimestamp());const g=dp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=MC(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=gp(this.serializer),n.removeTarget=t,this.q_(n)}}class bI extends u1{constructor(t,n,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=CC(t.writeResults,t.commitTime),s=zi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=gp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>RC(this.serializer,s)))};this.q_(n)}}class wI{}class AI extends wI{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _t(at.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,mp(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _t(at.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,mp(n,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(at.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vr(n),this.aa=!1):mt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class xI{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{ya(this)&&(mt(da,"Restarting streams for network reachability change."),await(async function(p){const g=It(p);g.Ea.add(4),await Cu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Tf(g)})(this))}))})),this.Ra=new SI(s,o)}}async function Tf(i){if(ya(i))for(const t of i.da)await t(!0)}async function Cu(i){for(const t of i.da)await t(!1)}function c1(i,t){const n=It(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),gg(n)?pg(n):ko(n).O_()&&mg(n,t))}function dg(i,t){const n=It(i),s=ko(n);n.Ia.delete(t),s.O_()&&h1(n,t),n.Ia.size===0&&(s.O_()?s.L_():ya(n)&&n.Ra.set("Unknown"))}function mg(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ko(i).Y_(t)}function h1(i,t){i.Va.Ue(t),ko(i).Z_(t)}function pg(i){i.Va=new EC({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),ko(i).start(),i.Ra.ua()}function gg(i){return ya(i)&&!ko(i).x_()&&i.Ia.size>0}function ya(i){return It(i).Ea.size===0}function f1(i){i.Va=void 0}async function NI(i){i.Ra.set("Online")}async function RI(i){i.Ia.forEach(((t,n)=>{mg(i,t)}))}async function CI(i,t){f1(i),gg(i)?(i.Ra.ha(t),pg(i)):i.Ra.set("Unknown")}async function II(i,t,n){if(i.Ra.set("Online"),t instanceof Xb&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,t)}catch(s){mt(da,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Kh(i,s)}else if(t instanceof Nh?i.Va.Ze(t):t instanceof Kb?i.Va.st(t):i.Va.tt(t),!n.isEqual(Nt.min()))try{const s=await o1(i.localStore);n.compareTo(s)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(We.EMPTY_BYTE_STRING,v.snapshotVersion)),h1(u,p);const T=new fs(v.target,p,g,v.sequenceNumber);mg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){mt(da,"Failed to raise snapshot:",s),await Kh(i,s)}}async function Kh(i,t,n){if(!Mo(t))throw t;i.Ea.add(1),await Cu(i),i.Ra.set("Offline"),n||(n=()=>o1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{mt(da,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Tf(i)}))}function d1(i,t){return t().catch((n=>Kh(i,n,t)))}async function bf(i){const t=It(i),n=bs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Wp;for(;DI(t);)try{const o=await fI(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,OI(t,o)}catch(o){await Kh(t,o)}m1(t)&&p1(t)}function DI(i){return ya(i)&&i.Ta.length<10}function OI(i,t){i.Ta.push(t);const n=bs(i);n.O_()&&n.X_&&n.ea(t.mutations)}function m1(i){return ya(i)&&!bs(i).x_()&&i.Ta.length>0}function p1(i){bs(i).start()}async function MI(i){bs(i).ra()}async function kI(i){const t=bs(i);for(const n of i.Ta)t.ea(n.mutations)}async function VI(i,t,n){const s=i.Ta.shift(),o=ag.from(s,t,n);await d1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await bf(i)}async function LI(i,t){t&&bs(i).X_&&await(async function(s,o){if((function(c){return yC(c)&&c!==at.ABORTED})(o.code)){const u=s.Ta.shift();bs(s).B_(),await d1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await bf(s)}})(i,t),m1(i)&&p1(i)}async function NE(i,t){const n=It(i);n.asyncQueue.verifyOperationInProgress(),mt(da,"RemoteStore received new credentials");const s=ya(n);n.Ea.add(3),await Cu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Tf(n)}async function PI(i,t){const n=It(i);t?(n.Ea.delete(2),await Tf(n)):t||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function ko(i){return i.ma||(i.ma=(function(n,s,o){const u=It(n);return u.sa(),new TI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:NI.bind(null,i),t_:RI.bind(null,i),r_:CI.bind(null,i),H_:II.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),gg(i)?pg(i):i.Ra.set("Unknown")):(await i.ma.stop(),f1(i))}))),i.ma}function bs(i){return i.fa||(i.fa=(function(n,s,o){const u=It(n);return u.sa(),new bI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:MI.bind(null,i),r_:LI.bind(null,i),ta:kI.bind(null,i),na:VI.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await bf(i)):(await i.fa.stop(),i.Ta.length>0&&(mt(da,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class yg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const c=Date.now()+s,m=new yg(t,n,c,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(i,t){if(vr("AsyncQueue",`${t}: ${i}`),Mo(i))return new _t(at.UNAVAILABLE,`${t}: ${i}`);throw i}class mo{static emptySet(t){return new mo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Tt.comparator(n.key,s.key):(n,s)=>Tt.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class RE{constructor(){this.ga=new ge(Tt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):At(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class wo{constructor(t,n,s,o,u,c,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new wo(t,n,mo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class UI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class jI{constructor(){this.queries=CE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=It(n),u=o.queries;o.queries=CE(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new _t(at.ABORTED,"Firestore shutting down"))}}function CE(){return new ga((i=>Lb(i)),pf)}async function g1(i,t){const n=It(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new UI,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=_g(c,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&vg(n)}async function y1(i,t){const n=It(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function zI(i,t){const n=It(i);let s=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&vg(n)}function BI(i,t,n){const s=It(i),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function vg(i){i.Ca.forEach((t=>{t.next()}))}var vp,IE;(IE=vp||(vp={})).Ma="default",IE.Cache="cache";class _1{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new wo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vp.Cache}}class v1{constructor(t){this.key=t}}class E1{constructor(t){this.key=t}}class qI{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=Pb(t),this.tu=new mo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new RE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const A=o.get(v),I=gf(this.query,T)?T:null,U=!!A&&this.mutatedKeys.has(A.key),F=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let $=!1;A&&I?A.data.isEqual(I.data)?U!==F&&(s.track({type:3,doc:I}),$=!0):this.su(A,I)||(s.track({type:2,doc:I}),$=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(m=!0)):!A&&I?(s.track({type:0,doc:I}),$=!0):A&&!I&&(s.track({type:1,doc:A}),$=!0,(p||g)&&(m=!0)),$&&(I?(c=c.add(I),u=F?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,T)=>(function(I,U){const F=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:$})}};return F(I)-F(U)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new wo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new E1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new v1(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=qt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Eg="SyncEngine";class HI{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class FI{constructor(t){this.key=t,this.hu=!1}}class GI{constructor(t,n,s,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ga((m=>Lb(m)),pf),this.Iu=new Map,this.Eu=new Set,this.du=new ge(Tt.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $I(i,t,n=!0){const s=x1(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await T1(s,t,n,!0),o}async function QI(i,t){const n=x1(i);await T1(n,t,!0,!1)}async function T1(i,t,n,s){const o=await dI(i.localStore,ji(t)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await YI(i,t,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&c1(i.remoteStore,o),m}async function YI(i,t,n,s,o){i.pu=(T,A,I)=>(async function(F,$,lt,Z){let ot=$.view.ru(lt);ot.Cs&&(ot=await bE(F.localStore,$.query,!1).then((({documents:R})=>$.view.ru(R,ot))));const ct=Z&&Z.targetChanges.get($.targetId),X=Z&&Z.targetMismatches.get($.targetId)!=null,st=$.view.applyChanges(ot,F.isPrimaryClient,ct,X);return OE(F,$.targetId,st.au),st.snapshot})(i,T,A,I);const u=await bE(i.localStore,t,!0),c=new qI(t,u.Qs),m=c.ru(u.documents),p=Ru.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);OE(i,n,g.au);const v=new HI(t,n,c);return i.Tu.set(t,v),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),g.snapshot}async function KI(i,t,n){const s=It(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!pf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await yp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dg(s.remoteStore,o.targetId),Ep(s,o.targetId)})).catch(Oo)):(Ep(s,o.targetId),await yp(s.localStore,o.targetId,!0))}async function XI(i,t){const n=It(i),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dg(n.remoteStore,s.targetId))}async function ZI(i,t,n){const s=rD(i);try{const o=await(function(c,m){const p=It(c),g=he.now(),v=m.reduce(((I,U)=>I.add(U.key)),qt());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let U=Er(),F=qt();return p.Ns.getEntries(I,v).next(($=>{U=$,U.forEach(((lt,Z)=>{Z.isValidDocument()||(F=F.add(lt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,U))).next(($=>{T=$;const lt=[];for(const Z of m){const ot=fC(Z,T.get(Z.key).overlayedDocument);ot!=null&&lt.push(new xs(Z.key,ot,Cb(ot.value.mapValue),hi.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,lt,m)})).next(($=>{A=$;const lt=$.applyToLocalDocumentSet(T,F);return p.documentOverlayCache.saveOverlays(I,$.batchId,lt)}))})).then((()=>({batchId:A.batchId,changes:jb(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ge(Bt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Iu(s,o.changes),await bf(s.remoteStore)}catch(o){const u=_g(o,"Failed to persist write");n.reject(u)}}async function b1(i,t){const n=It(i);try{const s=await cI(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await Iu(n,s,t)}catch(s){await Oo(s)}}function DE(i,t,n){const s=It(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=It(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&vg(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function JI(i,t,n){const s=It(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new ge(Tt.comparator);c=c.insert(u,sn.newNoDocument(u,Nt.min()));const m=qt().add(u),p=new vf(Nt.min(),new Map,new ge(Bt),c,m);await b1(s,p),s.du=s.du.remove(u),s.Au.delete(t),Tg(s)}else await yp(s.localStore,t,!1).then((()=>Ep(s,t,n))).catch(Oo)}async function WI(i,t){const n=It(i),s=t.batch.batchId;try{const o=await uI(n.localStore,t);A1(n,s,null),w1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Iu(n,o)}catch(o){await Oo(o)}}async function tD(i,t,n){const s=It(i);try{const o=await(function(c,m){const p=It(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Kt(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);A1(s,t,n),w1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Iu(s,o)}catch(o){await Oo(o)}}function w1(i,t){(i.mu.get(t)||[]).forEach((n=>{n.resolve()})),i.mu.delete(t)}function A1(i,t,n){const s=It(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Ep(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((s=>{i.Ru.containsKey(s)||S1(i,s)}))}function S1(i,t){i.Eu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(dg(i.remoteStore,n),i.du=i.du.remove(t),i.Au.delete(n),Tg(i))}function OE(i,t,n){for(const s of n)s instanceof v1?(i.Ru.addReference(s.key,t),eD(i,s)):s instanceof E1?(mt(Eg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,t),i.Ru.containsKey(s.key)||S1(i,s.key)):At(19791,{wu:s})}function eD(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(mt(Eg,"New document in limbo: "+n),i.Eu.add(s),Tg(i))}function Tg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new Tt(pe.fromString(t)),s=i.fu.next();i.Au.set(s,new FI(n)),i.du=i.du.insert(n,s),c1(i.remoteStore,new fs(ji(mf(n.path)),s,"TargetPurposeLimboResolution",cf.ce))}}async function Iu(i,t,n){const s=It(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=hg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const v=It(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>rt.forEach(g,(A=>rt.forEach(A.Es,(I=>v.persistence.referenceDelegate.addReference(T,A.targetId,I))).next((()=>rt.forEach(A.ds,(I=>v.persistence.referenceDelegate.removeReference(T,A.targetId,I)))))))))}catch(T){if(!Mo(T))throw T;mt(fg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const I=v.Ms.get(A),U=I.snapshotVersion,F=I.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(A,F)}}})(s.localStore,u))}async function nD(i,t){const n=It(i);if(!n.currentUser.isEqual(t)){mt(Eg,"User change. New user:",t.toKey());const s=await a1(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new _t(at.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Iu(n,s.Ls)}}function iD(i,t){const n=It(i),s=n.Au.get(t);if(s&&s.hu)return qt().add(s.key);{let o=qt();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function x1(i){const t=It(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=b1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JI.bind(null,t),t.Pu.H_=zI.bind(null,t.eventManager),t.Pu.yu=BI.bind(null,t.eventManager),t}function rD(i){const t=It(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tD.bind(null,t),t}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ef(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return lI(this.persistence,new sI,t.initialUser,this.serializer)}Cu(t){return new s1(cg.mi,this.serializer)}Du(t){return new pI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class sD extends Xh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof Yh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new FC(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new s1((s=>Yh.mi(s,n)),this.serializer)}}class Tp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>DE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nD.bind(null,this.syncEngine),await PI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new jI})()}createDatastore(t){const n=Ef(t.databaseInfo.databaseId),s=(function(u){return new EI(u)})(t.databaseInfo);return(function(u,c,m,p){return new AI(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,c,m){return new xI(s,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>DE(this.syncEngine,n,0)),(function(){return SE.v()?new SE:new gI})())}createSyncEngine(t,n){return(function(o,u,c,m,p,g,v){const T=new GI(o,u,c,m,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=It(n);mt(da,"RemoteStore shutting down."),s.Ea.add(5),await Cu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tp.provider={build:()=>new Tp};class N1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ws="FirestoreClient";class aD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{mt(ws,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(mt(ws,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=_g(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Gm(i,t){i.asyncQueue.verifyOperationInProgress(),mt(ws,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await a1(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function ME(i,t){i.asyncQueue.verifyOperationInProgress();const n=await oD(i);mt(ws,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>NE(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>NE(t.remoteStore,o))),i._onlineComponents=t}async function oD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){mt(ws,"Using user provided OfflineComponentProvider");try{await Gm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===at.FAILED_PRECONDITION||o.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Gm(i,new Xh)}}else mt(ws,"Using default OfflineComponentProvider"),await Gm(i,new sD(void 0));return i._offlineComponents}async function R1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(mt(ws,"Using user provided OnlineComponentProvider"),await ME(i,i._uninitializedComponentsProvider._online)):(mt(ws,"Using default OnlineComponentProvider"),await ME(i,new Tp))),i._onlineComponents}function lD(i){return R1(i).then((t=>t.syncEngine))}async function bp(i){const t=await R1(i),n=t.eventManager;return n.onListen=$I.bind(null,t.syncEngine),n.onUnlisten=KI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=QI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=XI.bind(null,t.syncEngine),n}function uD(i,t,n={}){const s=new ys;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new N1({next:A=>{v.Nu(),c.enqueueAndForget((()=>y1(u,T)));const I=A.docs.has(m);!I&&A.fromCache?g.reject(new _t(at.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&p&&p.source==="server"?g.reject(new _t(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new _1(mf(m.path),v,{includeMetadataChanges:!0,qa:!0});return g1(u,T)})(await bp(i),i.asyncQueue,t,n,s))),s.promise}function C1(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const kE=new Map;const I1="firestore.googleapis.com",VE=!0;class LE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new _t(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I1,this.ssl=VE}else this.host=t.host,this.ssl=t.ssl??VE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=r1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qC)throw new _t(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _t(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _t(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _t(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bg{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new dR;switch(s.type){case"firstParty":return new yR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _t(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=kE.get(n);s&&(mt("ComponentProvider","Removing Datastore"),kE.delete(n),s.terminate())})(this),Promise.resolve()}}function cD(i,t,n,s={}){i=ci(i,bg);const o=Ro(t),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${n}`;o&&(wT(`https://${m}`),AT("Firestore",!0)),u.host!==I1&&u.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!la(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=rn.MOCK_USER;else{g=ES(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new _t(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new rn(T)}i._authCredentials=new mR(new _b(g,v))}}class wf{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new wf(this.firestore,t,this._query)}}class Le{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(xu(n,Le._jsonSchema))return new Le(t,s||null,new Tt(pe.fromString(n.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ve("string",Le._jsonSchemaVersion),referencePath:Ve("string")};class mu extends wf{constructor(t,n,s){super(t,n,mf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new Tt(t))}withConverter(t){return new mu(this.firestore,t,this._path)}}function Ao(i,t,...n){if(i=Je(i),arguments.length===1&&(t=Zp.newId()),wR("doc","path",t),i instanceof bg){const s=pe.fromString(t,...n);return Xv(s),new Le(i,null,new Tt(s))}{if(!(i instanceof Le||i instanceof mu))throw new _t(at.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(pe.fromString(t,...n));return Xv(s),new Le(i.firestore,i instanceof mu?i.converter:null,new Tt(s))}}const PE="AsyncQueue";class UE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new l1(this,"async_queue_retry"),this._c=()=>{const s=Fm();s&&mt(PE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Mo(t))throw t;mt(PE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,vr("INTERNAL UNHANDLED ERROR: ",jE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=yg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&At(47125,{Pc:jE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function jE(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}function zE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class ma extends bg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new UE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new UE(t),this._firestoreClient=void 0,await t}}}function hD(i,t){const n=typeof i=="object"?i:RT(),s=typeof i=="string"?i:qh,o=Bp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=_S("firestore");u&&cD(o,...u)}return o}function wg(i){if(i._terminated)throw new _t(at.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||fD(i),i._firestoreClient}function fD(i){const t=i._freezeSettings(),n=(function(o,u,c,m){return new VR(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,C1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new aD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(We.fromBase64String(t))}catch(n){throw new _t(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(xu(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ve("string",Qn._jsonSchemaVersion),bytes:Ve("string")};class Af{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new _t(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Sf{constructor(t){this._methodName=t}}class Bi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new _t(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _t(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(xu(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Ve("string",Bi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class qi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(xu(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new qi(t.vectorValues);throw new _t(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Ve("string",qi._jsonSchemaVersion),vectorValues:Ve("object")};const dD=/^__.*__$/;class mD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new xs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(t,this.data,n,this.fieldTransforms)}}class D1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new xs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function O1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:i})}}class Ag{constructor(t,n,s,o,u,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ag({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Zh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(O1(this.Ac)&&dD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class pD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ef(t)}Cc(t,n,s,o=!1){return new Ag({Ac:t,methodName:n,Dc:s,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M1(i){const t=i._freezeSettings(),n=Ef(i._databaseId);return new pD(i._databaseId,!!t.ignoreUndefinedProperties,n)}function gD(i,t,n,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,t,n,o);xg("Data must be an object, but it was:",c,s);const m=k1(s,c);let p,g;if(u.merge)p=new Cn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const A=wp(t,T,n);if(!c.contains(A))throw new _t(at.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);L1(v,A)||v.push(A)}p=new Cn(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new mD(new _n(m),p,g)}class xf extends Sf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xf}}class Sg extends Sf{_toFieldTransform(t){return new lC(t.path,new hu)}isEqual(t){return t instanceof Sg}}function yD(i,t,n,s){const o=i.Cc(1,t,n);xg("Data must be an object, but it was:",o,s);const u=[],c=_n.empty();Ss(s,((p,g)=>{const v=Ng(t,p,n);g=Je(g);const T=o.yc(v);if(g instanceof xf)u.push(v);else{const A=Nf(g,T);A!=null&&(u.push(v),c.set(v,A))}}));const m=new Cn(u);return new D1(c,m,o.fieldTransforms)}function _D(i,t,n,s,o,u){const c=i.Cc(1,t,n),m=[wp(t,s,n)],p=[o];if(u.length%2!=0)throw new _t(at.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(wp(t,u[A])),p.push(u[A+1]);const g=[],v=_n.empty();for(let A=m.length-1;A>=0;--A)if(!L1(g,m[A])){const I=m[A];let U=p[A];U=Je(U);const F=c.yc(I);if(U instanceof xf)g.push(I);else{const $=Nf(U,F);$!=null&&(g.push(I),v.set(I,$))}}const T=new Cn(g);return new D1(v,T,c.fieldTransforms)}function Nf(i,t){if(V1(i=Je(i)))return xg("Unsupported field value:",t,i),k1(i,t);if(i instanceof Sf)return(function(s,o){if(!O1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=Nf(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Je(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=he.fromDate(s);return{timestampValue:Qh(o.serializer,u)}}if(s instanceof he){const u=new he(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:Zb(o.serializer,s._byteString)};if(s instanceof Le){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qi)return(function(c,m){return{mapValue:{fields:{[Nb]:{stringValue:Rb},[Hh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return rg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Jp(s)}`)})(i,t)}function k1(i,t){const n={};return Tb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ss(i,((s,o)=>{const u=Nf(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function V1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof he||i instanceof Bi||i instanceof Qn||i instanceof Le||i instanceof Sf||i instanceof qi)}function xg(i,t,n){if(!V1(n)||!vb(n)){const s=Jp(n);throw s==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+s)}}function wp(i,t,n){if((t=Je(t))instanceof Af)return t._internalPath;if(typeof t=="string")return Ng(i,t);throw Zh("Field path arguments must be of type string or ",i,!1,void 0,n)}const vD=new RegExp("[~\\*/\\[\\]]");function Ng(i,t,n){if(t.search(vD)>=0)throw Zh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Af(...t.split("."))._internalPath}catch{throw Zh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Zh(i,t,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new _t(at.INVALID_ARGUMENT,m+i+p)}function L1(i,t){return i.some((n=>n.isEqual(t)))}class P1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ED(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(U1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ED extends P1{data(){return super.data()}}function U1(i,t){return typeof t=="string"?Ng(i,t):t instanceof Af?t._internalPath:t._delegate._internalPath}function TD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new _t(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bD{convertValue(t,n="none"){switch(Ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ss(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Hh].arrayValue?.values?.map((s=>Se(s.doubleValue)));return new qi(n)}convertGeoPoint(t){return new Bi(Se(t.latitude),Se(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=ff(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(t));default:return null}}convertTimestamp(t){const n=vs(t);return new he(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=pe.fromString(t);Kt(i1(s),9688,{name:t});const o=new uu(s.get(1),s.get(3)),u=new Tt(s.popFirst(5));return o.isEqual(n)||vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function wD(i,t,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(t,n):i.toFirestore(t):t,s}class $l{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class aa extends P1{constructor(t,n,s,o,u,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(U1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Ve("string",aa._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Rh extends aa{data(t={}){return super.data(t)}}class po{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Rh(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:AD(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=po._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function AD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:i})}}function Rg(i){i=ci(i,Le);const t=ci(i.firestore,ma);return uD(wg(t),i._key).then((n=>B1(t,i,n)))}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:Ve("string",po._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class j1 extends bD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,n)}}function z1(i,t,n){i=ci(i,Le);const s=ci(i.firestore,ma),o=wD(i.converter,t,n);return Cg(s,[gD(M1(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,hi.none())])}function SD(i,t,n,...s){i=ci(i,Le);const o=ci(i.firestore,ma),u=M1(o);let c;return c=typeof(t=Je(t))=="string"||t instanceof Af?_D(u,"updateDoc",i._key,t,n,s):yD(u,"updateDoc",i._key,t),Cg(o,[c.toMutation(i._key,hi.exists(!0))])}function xD(i){return Cg(ci(i.firestore,ma),[new sg(i._key,hi.none())])}function ND(i,...t){i=Je(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||zE(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(zE(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,c,m;if(i instanceof Le)c=ci(i.firestore,ma),m=mf(i._key.path),u={next:p=>{t[s]&&t[s](B1(c,i,p))},error:t[s+1],complete:t[s+2]};else{const p=ci(i,wf);c=ci(p.firestore,ma),m=p._query;const g=new j1(c);u={next:v=>{t[s]&&t[s](new po(c,g,p,v))},error:t[s+1],complete:t[s+2]},TD(i._query)}return(function(g,v,T,A){const I=new N1(A),U=new _1(v,I,T);return g.asyncQueue.enqueueAndForget((async()=>g1(await bp(g),U))),()=>{I.Nu(),g.asyncQueue.enqueueAndForget((async()=>y1(await bp(g),U)))}})(wg(c),m,o,u)}function Cg(i,t){return(function(s,o){const u=new ys;return s.asyncQueue.enqueueAndForget((async()=>ZI(await lD(s),o,u))),u.promise})(wg(i),t)}function B1(i,t,n){const s=n.docs.get(t._key),o=new j1(i);return new aa(i,o,t._key,s,new $l(n.hasPendingWrites,n.fromCache),t.converter)}function q1(){return new Sg("serverTimestamp")}(function(t,n=!0){(function(o){Do=o})(Co),yo(new ua("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new ma(new pR(s.getProvider("auth-internal")),new _R(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _t(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ps($v,Qv,t),ps($v,Qv,"esm2020")})();const RD={apiKey:"AIzaSyDJLZ07IsSV0efiWNzZDvSDltscm7yFMGc",authDomain:"flowmetrics-a7669.firebaseapp.com",projectId:"flowmetrics-a7669",storageBucket:"flowmetrics-a7669.appspot.com",messagingSenderId:"13206232192",appId:"1:13206232192:web:97d4b158974350ed5ada65"},H1=bv().length?bv()[0]:NT(RD),Ll=hR(H1),So=hD(H1),F1=St.createContext(null);function CD({children:i}){const[t,n]=St.useState(null),[s,o]=St.useState(!0);St.useEffect(()=>{const g=W2(Ll,v=>{n(v??null),o(!1)});return()=>g()},[]);async function u(g,v){await X2(Ll,g,v)}async function c(g,v){return await K2(Ll,g,v)}async function m(){await tN(Ll),n(null)}async function p(g){await Y2(Ll,g)}return b.jsx(F1.Provider,{value:{user:t,authLoading:s,signInWithEmail:u,signUpWithEmail:c,signOut:m,resetPassword:p},children:i})}function ID(){const i=St.useContext(F1);if(!i)throw new Error("useFirebaseAuth must be used inside FirebaseAuthProvider");return i}async function DD(i){if(!i)return null;const t=Ao(So,"workspaces",i),n=await Rg(t);return n.exists()?n.data().state??null:null}async function OD(i,t){if(!i)return;const n=Ao(So,"workspaces",i);await z1(n,{state:t,updatedAt:q1()},{merge:!0})}const nu=["","","","","","","","","",""];function MD(i=""){let t=0;for(let n=0;n<i.length;n++)t=(t<<5)-t+i.charCodeAt(n),t|=0;return Math.abs(t)}function G1(i,t="Budgeteer"){if(!i)return t;const n=i.trim();return n&&n.replace(/[^a-zA-Z0-9_\- ]+/g,"").slice(0,32)||t}function kD(i){const t=i?.email?.split("@")[0]??"",n=G1(t,"Budgeteer"),s=i?.uid||i?.email||n||String(Date.now()),o=MD(s)%nu.length;return{username:n,avatarEmoji:nu[o]}}async function VD(i){const t=i?.uid;if(!t)return null;const n=Ao(So,"users",t),s=await Rg(n);if(s.exists())return s.data();const o=kD(i);return await z1(n,{...o,createdAt:q1()},{merge:!0}),o}async function LD(i,{username:t,avatarEmoji:n}={}){if(!i)throw new Error("Missing uid");const s={};typeof t=="string"&&(s.username=G1(t)),typeof n=="string"&&(s.avatarEmoji=n);const o=Ao(So,"users",i);return await SD(o,s),(await Rg(o)).data()}function PD({label:i,active:t,onClick:n}){return b.jsx("button",{onClick:n,className:`px-3 py-1 rounded-full border text-xs transition
      ${t?"border-cyan-400 bg-cyan-500/10 text-cyan-200":"border-slate-600/60 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200"}`,children:i})}const Ap=[{key:"dark",label:"Cyber Dark",description:"Charcoal with neon cyan highlights",shellClass:"bg-[#05060A] text-slate-100",headerClass:"border-[#1f2937] bg-[#05060F]/90",pillClass:"border-slate-600/70 bg-black/20 hover:bg-black/40",previewGradient:"from-[#020617] via-[#05060f] to-[#020617]"},{key:"light",label:"Soft Light",description:"Warm whites with slate ink",shellClass:"bg-slate-50 text-slate-900",headerClass:"border-slate-200 bg-white/80",pillClass:"border-slate-300 bg-white/70 hover:bg-slate-100",previewGradient:"from-white via-slate-100 to-slate-200"},{key:"midnight",label:"Midnight Pulse",description:"Indigo mist with electric purple",shellClass:"bg-[#070718] text-indigo-100",headerClass:"border-[#191d3a] bg-gradient-to-r from-[#0f1032cc] to-[#1b0d3fcc]",pillClass:"border-indigo-600/50 bg-indigo-900/40 hover:bg-indigo-900/70",previewGradient:"from-[#0b1433] via-[#25124f] to-[#3b0f49]"},{key:"aurora",label:"Aurora Mist",description:"Deep teal with aurora glow",shellClass:"bg-gradient-to-br from-[#041b1f] via-[#082831] to-[#041b1f] text-emerald-50",headerClass:"border-emerald-900/40 bg-[#051f25]/90",pillClass:"border-emerald-500/40 bg-emerald-900/40 hover:bg-emerald-900/70",previewGradient:"from-[#052528] via-[#0b4b4f] to-[#0f766e]"},{key:"crimson",label:"Crimson Bloom",description:"Deep burgundy with neon rose edges",shellClass:"bg-gradient-to-br from-[#19070a] via-[#2b0d12] to-[#19070a] text-rose-50",headerClass:"border-rose-900/40 bg-[#2b0d12]/90",pillClass:"border-rose-500/50 bg-rose-900/40 hover:bg-rose-900/70",previewGradient:"from-[#300911] via-[#5b0a1c] to-[#be123c]"}];function $1(i){return Ap.find(t=>t.key===i)||Ap[0]}function UD({option:i,active:t,onSelect:n}){return b.jsxs("button",{type:"button",onClick:()=>n(i.key),className:`w-full text-left rounded-xl border px-3 py-2 transition ${t?"border-cyan-400 bg-cyan-500/10":"border-white/10 hover:border-cyan-400/60"}`,children:[b.jsx("div",{className:`h-10 rounded-lg bg-gradient-to-r ${i.previewGradient} mb-2`}),b.jsx("p",{className:"text-sm font-semibold text-white",children:i.label}),b.jsx("p",{className:"text-[11px] text-slate-300",children:i.description})]})}function jD({value:i,onChange:t,variant:n="default",onAfterSelect:s=()=>{}}){const[o,u]=St.useState(!1),c=St.useMemo(()=>$1(i),[i]),m=n==="menu";function p(T){t?.(T),u(!1),s?.()}const g=m?"w-full text-left px-3 py-2 text-slate-200 hover:bg-slate-800/80 rounded-md transition":`px-2 py-1 rounded border transition ${c.pillClass}`,v=`absolute ${m?"left-0":"right-0"} ${m?"mt-1":"mt-2"} w-64 rounded-2xl border border-white/15 bg-[#05060F]/95 p-3 shadow-xl backdrop-blur z-50 transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`;return b.jsxs("div",{className:`relative text-xs ${m?"w-full":""}`,children:[b.jsxs("button",{type:"button",onClick:()=>u(T=>!T),className:g,children:["Theme: ",c.label]}),b.jsx("div",{className:v,children:b.jsx("div",{className:"space-y-2",children:Ap.map(T=>b.jsx(UD,{option:T,active:T.key===c.key,onSelect:p},T.key))})})]})}function zD({customizeMode:i,setCustomizeMode:t,onReset:n,onSignOut:s,themeValue:o,onChangeTheme:u=()=>{}}){const[c,m]=St.useState(!1);return b.jsxs("div",{className:"relative",children:[b.jsx("button",{type:"button",className:"flex items-center justify-center w-9 h-9 rounded-full border border-slate-600/70 text-slate-300 hover:border-cyan-400/60 hover:text-cyan-200 transition",onClick:()=>m(p=>!p),children:b.jsxs("span",{className:"relative flex flex-col justify-between w-4 h-3",children:[b.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${c?"translate-y-[5px] rotate-45":""}`}),b.jsx("span",{className:`h-[2px] rounded-full bg-current transition-opacity duration-200 ${c?"opacity-0":"opacity-100"}`}),b.jsx("span",{className:`h-[2px] rounded-full bg-current transition-transform duration-200 ${c?"-translate-y-[5px] -rotate-45":""}`})]})}),b.jsxs("div",{className:`absolute right-0 mt-2 w-52 bg-[#0B0C14] border border-slate-700/70 rounded-lg shadow-lg z-50 text-xs origin-top-right transform transition-all duration-150 ${c?"opacity-100 scale-100 translate-y-0 pointer-events-auto":"opacity-0 scale-95 -translate-y-1 pointer-events-none"}`,children:[b.jsx("div",{className:"px-2 py-2 border-b border-slate-800/70",children:b.jsx(jD,{value:o,onChange:u,variant:"menu",onAfterSelect:()=>m(!1)})}),b.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:()=>{t(p=>!p),m(!1)},children:i?"Finish Customizing":"Customize Layout"}),b.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-rose-300",onClick:()=>{m(!1),n()},children:"Reset Data"}),b.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-slate-800/80 text-slate-200",onClick:async()=>{m(!1);try{await s()}catch(p){console.error("Sign out failed:",p)}},children:"Sign Out"})]})]})}function BD({onSignIn:i,onSignUp:t,onResetPassword:n,loading:s}){const[o,u]=ce.useState("signin"),[c,m]=ce.useState(""),[p,g]=ce.useState(""),[v,T]=ce.useState(null),[A,I]=ce.useState(null),[U,F]=ce.useState(!1),[$,lt]=ce.useState(!1);async function Z(){if(T(null),I(null),!c){T("Please enter your email first, then click 'Forgot password?'.");return}if(n){lt(!0);try{await n(c),I("If an account exists with that email, a reset link has been sent. Check your inbox.")}catch(ct){T(ct.message||"Failed to start password reset.")}finally{lt(!1)}}}async function ot(ct){ct.preventDefault(),T(null),I(null),F(!0);try{if(o==="signin")await i(c,p);else{const X=await t(c,p),st=X?.user||null,R=X?.session||null;I(st&&!R?"Account created! Check your email and click the confirmation link.":"Account created!")}}catch(X){T(X.message||"Something went wrong.")}finally{F(!1)}}return s?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-200",children:b.jsx("div",{className:"text-sm text-slate-400",children:"Checking session..."})}):b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-100 px-4",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-2xl border border-white/10 bg-black/30 p-8 shadow-[0_20px_50px_rgba(8,8,12,0.8)]",children:[b.jsxs("div",{className:"space-y-2 text-center",children:[b.jsx("p",{className:"text-xs tracking-[0.4em] uppercase text-cyan-300",children:"Budget Center"}),b.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Access portal"}),b.jsx("p",{className:"text-sm text-slate-400",children:o==="signin"?"Sign in to load your encrypted budgets.":"Create an account to sync your budgets and goals across devices."})]}),b.jsxs("div",{className:"grid grid-cols-2 rounded-full bg-white/5 p-1 text-sm",children:[b.jsx("button",{type:"button",onClick:()=>u("signin"),className:`rounded-full py-2 font-medium transition ${o==="signin"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Sign in"}),b.jsx("button",{type:"button",onClick:()=>u("signup"),className:`rounded-full py-2 font-medium transition ${o==="signup"?"bg-cyan-500 text-black":"text-slate-400 hover:text-white"}`,children:"Create account"})]}),v&&b.jsx("div",{className:"rounded border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-100",children:v}),A&&b.jsx("div",{className:"rounded border border-emerald-400/60 bg-emerald-400/10 px-3 py-2 text-sm text-emerald-100",children:A}),b.jsxs("form",{onSubmit:ot,className:"space-y-4",children:[b.jsxs("label",{className:"block text-sm",children:[b.jsx("span",{className:"text-slate-300",children:"Email"}),b.jsx("input",{type:"email",required:!0,value:c,onChange:ct=>m(ct.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"you@email.com",autoComplete:"email"})]}),b.jsxs("label",{className:"block text-sm",children:[b.jsx("span",{className:"text-slate-300",children:"Password"}),b.jsx("input",{type:"password",required:!0,minLength:6,value:p,onChange:ct=>g(ct.target.value),className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-sm text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none",placeholder:"",autoComplete:o==="signin"?"current-password":"new-password"})]}),b.jsx("button",{type:"submit",disabled:U,className:"w-full rounded-lg bg-cyan-500 py-2 text-sm font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:U?"Please wait...":o==="signin"?"Sign in":"Create account"})]}),b.jsx("div",{className:"text-center text-sm text-slate-400",children:b.jsx("button",{type:"button",className:"font-medium text-cyan-300 hover:text-cyan-200 disabled:opacity-60",onClick:Z,disabled:$,children:$?"Sending reset link...":"Forgot password?"})})]})})}function qD({message:i,variant:t="info",actionLabel:n,onAction:s,onClose:o}){const u=t==="success";return b.jsx("div",{className:"fixed bottom-4 right-4 z-50 max-w-xs sm:max-w-sm",children:b.jsxs("div",{className:`toast-enter flex items-start gap-3 rounded-xl border px-4 py-3 text-xs shadow-xl bg-[#05060F]/95 backdrop-blur
        ${u?"border-emerald-400/80 text-emerald-100":"border-cyan-400/80 text-cyan-100"}`,children:[b.jsx("div",{className:"mt-[2px] text-lg",children:u?"":""}),b.jsxs("div",{className:"flex-1 space-y-1",children:[b.jsx("p",{className:"leading-snug",children:i}),n&&s&&b.jsxs("button",{onClick:s,className:"inline-flex items-center gap-1 text-[0.7rem] mt-1 px-2 py-1 rounded-full border border-cyan-400/70 text-cyan-100 hover:bg-cyan-500/10 hover:border-cyan-300 transition",children:[b.jsx("span",{children:n}),b.jsx("span",{className:"text-[0.75rem]",children:""})]})]}),o&&b.jsx("button",{className:"ml-1 text-[0.7rem] text-slate-500 hover:text-slate-200",onClick:o,children:""})]})})}function HD({emoji:i,active:t,onSelect:n}){return b.jsx("button",{type:"button",onClick:()=>n(i),className:`w-9 h-9 text-lg rounded-full border transition flex items-center justify-center
      ${t?"border-cyan-400/80 bg-cyan-500/10":"border-slate-600/60 bg-black/30 hover:border-cyan-400/40"}`,children:i})}function FD({profile:i,email:t,loading:n,onUpdateProfile:s}){const[o,u]=St.useState(!1),[c,m]=St.useState(i?.username??""),[p,g]=St.useState(i?.avatar_emoji??nu[0]),[v,T]=St.useState(!1);St.useEffect(()=>{m(i?.username??""),g(i?.avatar_emoji??nu[0])},[i?.username,i?.avatar_emoji]);async function A(F){if(F.preventDefault(),!s)return;T(!0);const $=await s({username:c,avatar_emoji:p});T(!1),$&&u(!1)}const I=i?.avatar_emoji??"",U=i?.username||"Budgeteer";return b.jsxs("div",{className:"relative",children:[b.jsxs("button",{type:"button",onClick:()=>u(F=>!F),className:"flex items-center gap-2 rounded-full border border-slate-600/70 bg-black/20 px-2 py-1 text-left hover:border-cyan-400/60 transition",children:[b.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-cyan-500/10 text-lg",children:I}),b.jsxs("span",{className:"flex flex-col leading-tight text-xs text-slate-300",children:[b.jsx("span",{className:"text-cyan-200",children:U}),b.jsx("span",{className:"text-[10px] text-slate-500",children:n?"Syncing...":"Profile"})]})]}),b.jsxs("form",{className:`absolute right-0 mt-2 w-64 rounded-xl border border-slate-700/70 bg-[#05060F] p-4 text-xs shadow-xl transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,onSubmit:A,children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("p",{className:"text-[11px] text-slate-400",children:t?`Signed in as ${t}`:"Signed in"}),b.jsxs("label",{className:"block",children:[b.jsx("span",{className:"text-slate-300",children:"Display name"}),b.jsx("input",{type:"text",value:c,onChange:F=>m(F.target.value),placeholder:"Budgeteer",className:"mt-1 w-full rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-xs text-white placeholder-slate-500 focus:border-cyan-400 focus:outline-none"})]})]}),b.jsxs("div",{className:"mt-3",children:[b.jsx("p",{className:"mb-2 text-slate-300",children:"Avatar"}),b.jsx("div",{className:"grid grid-cols-5 gap-2",children:nu.map(F=>b.jsx(HD,{emoji:F,active:p===F,onSelect:g},F))})]}),b.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[b.jsx("button",{type:"button",className:"text-[11px] text-slate-500 hover:text-slate-200",onClick:()=>u(!1),children:"Cancel"}),b.jsx("button",{type:"submit",disabled:v,className:"rounded-full bg-cyan-500 px-3 py-1 text-[11px] font-semibold text-black transition hover:bg-cyan-400 disabled:opacity-60",children:v?"Saving...":"Save changes"})]})]})]})}function ui({title:i,children:t}){return b.jsxs("section",{className:"card-surface border rounded-xl p-4",children:[i&&b.jsx("h2",{className:"text-xs font-semibold tracking-[0.25em] text-slate-400 mb-3 uppercase",children:i}),t]})}function Ig({value:i=0}){const t=Math.max(0,Math.min(100,Number.isNaN(i)?0:i));return b.jsx("div",{className:"progress-bar",children:b.jsx("div",{className:"progress-bar-filled",style:{width:`${t}%`},children:t>2&&b.jsx("div",{className:"progress-shine shine"})})})}function GD(i){switch(i){case"sunset":return"bg-gradient-to-br from-orange-500/70 via-pink-500/60 to-rose-500/60 border-rose-400/60";case"forest":return"bg-gradient-to-br from-emerald-900/70 via-emerald-800/60 to-emerald-700/60 border-emerald-400/60";case"midnight":return"bg-gradient-to-br from-indigo-900/70 via-purple-900/60 to-indigo-900/70 border-indigo-400/60";case"cyber":default:return"bg-[#090a11] border-slate-800"}}function $D({goal:i,onClick:t}){const n=Number(i?.saved??i?.current??0),s=Number(i?.target??0),o=Number(i?.monthlyPlan??0),u=i?.icon||i?.emoji||"",c=i?.name||"Untitled Goal",m=s>0?Math.min(100,n/s*100):0,p=GD(i?.theme);return b.jsxs("button",{onClick:t,className:`text-left rounded-xl p-3 hover:border-cyan-400/70 hover:shadow-[0_0_18px_rgba(34,211,238,0.35)] transition ${p}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-lg",children:u}),b.jsx("span",{className:"text-sm font-medium text-slate-100",children:c})]}),b.jsxs("span",{className:"text-[0.7rem] text-slate-400",children:["Plan: $",o.toFixed(0),"/mo"]})]}),b.jsxs("div",{className:"text-xs text-slate-400 mb-1",children:["$",n.toFixed(0)," / $",s.toFixed(0)]}),b.jsx(Ig,{value:m})]})}const QD="modulepreload",YD=function(i){return"/budget-app/"+i},BE={},KD=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),m=c?.nonce||c?.getAttribute("nonce");o=p(n.map(g=>{if(g=YD(g),g in BE)return;BE[g]=!0;const v=g.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":QD,v||(A.as="script"),A.crossOrigin="",A.href=g,m&&A.setAttribute("nonce",m),document.head.appendChild(A),v)return new Promise((I,U)=>{A.addEventListener("load",I),A.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return o.then(c=>{for(const m of c||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})},Sp=[{key:"chase",label:"Chase"},{key:"capitalone",label:"Capital One"},{key:"wellsfargo",label:"Wells Fargo"},{key:"americanexpress",label:"Amex"},{key:"discover",label:"Discover"},{key:"navyfederal",label:"Navy Federal"},{key:"mountainamerica",label:"Mountain America"},{key:"bankofamerica",label:"Bank of America"},{key:"usbank",label:"US Bank"},{key:"pnc",label:"PNC"}];function xp(i=""){return i.toLowerCase().replace(/[^a-z0-9]/g,"")}function qE(i="",t=""){const n=xp((t||"")+" "+i.slice(0,4e3));for(const s of Sp)if(n.includes(s.key))return s.label;return null}function pu(i){const t=[];let n="",s=!1;for(let o=0;o<i.length;o++){const u=i[o];if(u==='"'){s=!s;continue}u===","&&!s?(t.push(n),n=""):n+=u}return t.push(n),t}function Ch(i){if(i==null)return NaN;let t=String(i).trim();t=t.replace(/"/g,"");let n=!1;if(t.startsWith("(")&&t.endsWith(")")&&(n=!0,t=t.slice(1,-1)),t=t.replace(/[$,]/g,""),t==="")return NaN;const s=Number(t);return Number.isNaN(s)?NaN:n?-s:s}function Q1(i,t){const n=(i||"").toLowerCase();return t>0?n.includes("payroll")||n.includes("direct deposit")?"Income  Paycheck":n.includes("refund")||n.includes("rebate")?"Income  Refund":"Income  Other":n.includes("uber")||n.includes("lyft")||n.includes("taxi")?"Transport  Rideshare":n.includes("shell")||n.includes("chevron")||n.includes("exxon")||n.includes("gas")||n.includes("fuel")?"Transport  Gas":n.includes("walmart")||n.includes("costco")||n.includes("grocery")||n.includes("smith")||n.includes("kroger")?"Groceries":n.includes("starbucks")||n.includes("coffee")||n.includes("mcdonald")||n.includes("taco bell")||n.includes("restaurant")||n.includes("cafe")?"Food & Dining":n.includes("netflix")||n.includes("spotify")||n.includes("hulu")||n.includes("disney")||n.includes("subscription")||n.includes("prime")?"Subscriptions":n.includes("rent")||n.includes("landlord")||n.includes("mortgage")?"Housing  Rent/Mortgage":n.includes("power")||n.includes("electric")||n.includes("water")||n.includes("utility")||n.includes("utilities")?"Utilities":n.includes("gym")||n.includes("fitness")?"Health & Fitness":n.includes("insurance")||n.includes("geico")||n.includes("allstate")?"Insurance":n.includes("amazon")||n.includes("target")||n.includes("best buy")||n.includes("shop")?"Shopping":"Other"}const Pl={date:["date","transaction date","posted date","posting date","trans date"],description:["description","details","memo","payee","transaction description","narrative"],debit:["debit","withdrawal","outflow","money out","charge"],credit:["credit","deposit","inflow","money in","payment","credit amount"],amount:["amount","amt","transaction amount","value"]};function XD(i){return pu(i).map(n=>n.trim()).map(n=>{let s=n.toLowerCase().replace(/"/g,"");return s=s.replace(/\s+/g," ").trim(),s})}function Ul(i,t){return i.findIndex(n=>t.includes(n))}function Y1(i){if(!i)return"";let t=String(i).trim().replace(/"/g,"");if(!t)return"";let n=t.match(/^(\d{4})[-/.](\d{1,2})[-/.](\d{1,2})$/);if(n){const[,o,u,c]=n;return`${o}-${u.padStart(2,"0")}-${c.padStart(2,"0")}`}if(n=t.match(/^(\d{4})(\d{2})(\d{2})$/),n){const[,o,u,c]=n;return`${o}-${u}-${c}`}if(n=t.match(/^(\d{1,2})[\/.-](\d{1,2})[\/.-](\d{2,4})$/),n){let[,o,u,c]=n,m=c.length===2?Number(c)>=70?`19${c}`:`20${c}`:c;const p=Number(o),g=Number(u);let v,T;return p>12&&g<=12?(T=p,v=g):(v=p,T=g),`${m}-${String(v).padStart(2,"0")}-${String(T).padStart(2,"0")}`}if(n=t.match(/^(\d{1,2})\s+([A-Za-z]{3,})\s+(\d{2,4})$/),n){const[,o,u,c]=n,m=c.length===2?`20${c}`:c,g=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(u.toLowerCase().slice(0,3));if(g>=0){const v=String(g+1).padStart(2,"0"),T=String(o).padStart(2,"0");return`${m}-${v}-${T}`}}if(n=t.match(/^([A-Za-z]{3,})\s+(\d{1,2}),?\s+(\d{2,4})$/),n){const[,o,u,c]=n,m=c.length===2?`20${c}`:c,g=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(o.toLowerCase().slice(0,3));if(g>=0){const v=String(g+1).padStart(2,"0"),T=String(u).padStart(2,"0");return`${m}-${v}-${T}`}}const s=new Date(t);return Number.isNaN(s.getTime())?t:s.toISOString().slice(0,10)}function ZD(i){const t=i.split(/\r?\n/).find(o=>o.trim().length>0)||"";if(!t)return[];const n=pu(t).map(o=>o.trim().replace(/^"|"$/g,""));return n.some(o=>/[a-zA-Z]/.test(o))?n.map((o,u)=>o||`Column ${u+1}`):n.map((o,u)=>`Column ${u+1}`)}function JD(i){const t=i.split(/\r?\n/).filter(A=>A.trim()!=="");if(t.length===0)return[];let n=XD(t[0]),s=1;function o(A){const I=Ul(A,Pl.date),U=Ul(A,Pl.description),F=Ul(A,Pl.amount),$=Ul(A,Pl.debit),lt=Ul(A,Pl.credit);return{dateIndex:I,descIndex:U,amountIndex:F,debitIndex:$,creditIndex:lt}}let{dateIndex:u,descIndex:c,amountIndex:m,debitIndex:p,creditIndex:g}=o(n);if(u<0&&c<0&&m<0&&p<0&&g<0){const A=pu(t[0]).map(U=>U.trim());n=A.map((U,F)=>F===0?"date":F===1?"description":F===2||F===A.length-1?"amount":`col${F+1}`),s=0,{dateIndex:u,descIndex:c,amountIndex:m,debitIndex:p,creditIndex:g}=o(n)}const T=[];for(let A=s;A<t.length;A++){const I=t[A],U=pu(I).map(ct=>ct.trim());if(U.length===0||U.every(ct=>ct===""))continue;const F=u>=0?U[u]:"",$=Y1(F),lt=c>=0?U[c]:"";let Z=NaN;if(m>=0)Z=Ch(U[m]);else if(p>=0||g>=0){const ct=p>=0?Ch(U[p]):0;Z=(g>=0?Ch(U[g]):0)-ct}if(!$&&!lt&&Number.isNaN(Z)||typeof Z!="number"||Number.isNaN(Z))continue;const ot=Q1(lt,Z);T.push({date:$,description:lt,amount:Z,category:ot})}return T}function WD(i,{dateIndex:t=null,descIndex:n=null,amountIndex:s=null}={}){const o=i.split(/\r?\n/).filter(c=>c.trim()!=="");if(o.length===0)return[];const u=[];for(let c=1;c<o.length;c++){const m=o[c],p=pu(m).map(U=>U.trim());if(p.length===0||p.every(U=>U===""))continue;const g=t!=null&&t>=0?p[t]:"",v=Y1(g),T=n!=null&&n>=0?p[n]:"";let A=NaN;if(s!=null&&s>=0&&(A=Ch(p[s])),!v&&!T&&Number.isNaN(A)||typeof A!="number"||Number.isNaN(A))continue;const I=Q1(T,A);u.push({date:v,description:T,amount:A,category:I})}return u}function tO(i){return new Promise((t,n)=>{const s=new FileReader;s.onload=o=>t(String(o.target?.result||"")),s.onerror=()=>n(new Error("Failed to read file")),s.readAsText(i)})}function dh(i){i.preventDefault(),i.stopPropagation()}function eO(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`f-${Date.now()}-${Math.random().toString(16).slice(2)}`}function nO(i){return(i?.name||"").toLowerCase().endsWith(".pdf")||i?.type==="application/pdf"?"pdf":"csv"}function iO(i){return{id:eO(),file:i,name:i?.name||"unknown",kind:nO(i),detectedBank:"",rawText:"",columns:[],mapping:{date:"",description:"",amount:""},previewRows:[],status:"pending",error:"",importedCount:0,createdAt:Date.now()}}function rO({onTransactionsParsed:i=()=>{}}){const[t,n]=ce.useState([]),[s,o]=ce.useState(null),[u,c]=ce.useState(!1),m=ce.useMemo(()=>t.find(X=>X.id===s)||null,[t,s]),p=t.filter(X=>X.status==="imported").length,g=t.filter(X=>X.status==="ready").length,v=t.filter(X=>X.status==="error").length;function T(X=[]){const st=Array.from(X||[]).filter(Boolean);if(!st.length)return;const R=st.map(iO);n(S=>{const C=new Set(S.map(O=>`${O.name}::${O.file?.size}::${O.file?.lastModified}`)),D=R.filter(O=>{const L=`${O.name}::${O.file?.size}::${O.file?.lastModified}`;return C.has(L)?!1:(C.add(L),!0)});return[...S,...D]}),o(S=>S||R[0].id)}async function A(X){n(R=>R.map(S=>S.id===X?{...S,status:"parsing",error:""}:S));const st=t.find(R=>R.id===X);if(st)try{if(st.kind==="pdf"){const{parsePdfTransactions:O}=await KD(async()=>{const{parsePdfTransactions:P}=await import("./pdf-Ceyw8mep.js");return{parsePdfTransactions:P}},[]),{text:L,rows:N}=await O(st.file),gt=qE(L,st.name||""),K=Array.isArray(N)?N:[];n(P=>P.map(G=>G.id!==X?G:K.length?{...G,rawText:L||"",detectedBank:gt||"",previewRows:K,columns:[],status:"ready",error:""}:{...G,rawText:L||"",detectedBank:gt||"",previewRows:[],columns:[],status:"error",error:"We couldn't detect any transactions in that PDF. Try a different export or use CSV."}));return}const R=await tO(st.file),S=qE(R,st.name||""),C=JD(R),D=ZD(R);n(O=>O.map(L=>L.id!==X?L:C.length?{...L,rawText:R,detectedBank:S||"",columns:D,previewRows:C,status:"ready",error:""}:{...L,rawText:R,detectedBank:S||"",columns:D,previewRows:[],status:"needsMapping",error:"We couldn't automatically detect the right columns. Use the mapping controls and click Re-parse."}))}catch(R){console.error("Parse error:",R),n(S=>S.map(C=>C.id===X?{...C,status:"error",error:C.kind==="pdf"?"We couldn't read this PDF. Try downloading it as a CSV or a different PDF format.":"We couldn't understand this CSV. Try a different export format."}:C))}}ce.useEffect(()=>{const X=t.find(R=>R.status==="pending");if(!X)return;const st=setTimeout(()=>A(X.id),0);return()=>clearTimeout(st)},[t]);function I(X,st){m&&n(R=>R.map(S=>S.id===m.id?{...S,mapping:{...S.mapping,[X]:st}}:S))}function U(){if(!m?.rawText)return;const X={dateIndex:m.mapping.date===""?null:Number.parseInt(m.mapping.date,10),descIndex:m.mapping.description===""?null:Number.parseInt(m.mapping.description,10),amountIndex:m.mapping.amount===""?null:Number.parseInt(m.mapping.amount,10)},st=WD(m.rawText,X);if(!st.length){n(R=>R.map(S=>S.id===m.id?{...S,previewRows:[],status:"needsMapping",error:"No rows were parsed with that mapping. Try different columns or reset to auto-detect."}:S));return}n(R=>R.map(S=>S.id===m.id?{...S,previewRows:st,status:"ready",error:""}:S))}function F(X){n(st=>{const R=st.find(C=>C.id===X);if(!R||R.status!=="ready")return st;const S=st.map(C=>C.id===X?{...C,status:"importing"}:C);return queueMicrotask(()=>{try{const C={sourceText:R.rawText,detectedBank:R.detectedBank,fileName:R.name,kind:R.kind};i(R.previewRows,{rawText:R.rawText,bank:R.detectedBank||"",filename:R.name||"",kind:R.kind||"csv"}),n(D=>D.map(O=>O.id===X?{...O,status:"imported",importedCount:R.previewRows.length,error:""}:O))}catch(C){console.error("Import error:",C),n(D=>D.map(O=>O.id===X?{...O,status:"error",error:C?.message||"Import failed."}:O))}}),S})}async function $(){const X=t.filter(st=>st.status==="ready");for(const st of X)await new Promise(R=>setTimeout(R,0)),F(st.id)}function lt(X){if(n(st=>st.filter(R=>R.id!==X)),s===X){const st=t.filter(R=>R.id!==X);o(st[0]?.id||null)}}function Z(){n([]),o(null),c(!1)}const ot=Math.min(10,m?.previewRows?.length||0),ct=(m?.previewRows||[]).reduce((X,st)=>X+(typeof st.amount=="number"?st.amount:0),0);return b.jsxs("div",{className:`space-y-2 text-xs rounded-xl border p-3 transition ${u?"border-cyan-400/70 bg-cyan-500/5":"border-slate-800 bg-slate-950/30"}`,onDragEnter:X=>{dh(X),c(!0)},onDragOver:X=>{dh(X),c(!0)},onDragLeave:X=>{dh(X),c(!1)},onDrop:X=>{dh(X),c(!1),T(X.dataTransfer?.files||[])},children:[b.jsxs("p",{className:"text-slate-400",children:["Upload"," ",b.jsx("span",{className:"text-cyan-300 font-semibold",children:".csv"})," or"," ",b.jsx("span",{className:"text-cyan-300 font-semibold",children:".pdf"})," bank statements. You can drop multiple files here. Click a file to preview/match columns before importing."]}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md border border-cyan-400/70 text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 cursor-pointer transition",children:[b.jsx("span",{children:"Choose file(s)"}),b.jsx("input",{type:"file",accept:".csv,.pdf,text/csv,application/pdf,text/plain",multiple:!0,className:"hidden",onChange:X=>{T(X.target.files||[]),X.target.value=""}})]}),t.length>0&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{type:"button",onClick:$,disabled:g===0,className:"px-3 py-1.5 rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:["Import all ready (",g,")"]}),b.jsx("button",{type:"button",onClick:Z,className:"px-3 py-1.5 rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Clear"}),b.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["Imported"," ",b.jsx("span",{className:"text-slate-200 font-mono",children:p}),"/",b.jsx("span",{className:"text-slate-200 font-mono",children:t.length}),v?b.jsxs("span",{className:"ml-2 text-rose-400",children:["(",v," error",v===1?"":"s",")"]}):null]})]})]}),t.length>0&&b.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:t.slice().sort((X,st)=>X.createdAt-st.createdAt).map(X=>{const st=X.id===s,R=X.status==="imported"?"text-emerald-300":X.status==="ready"?"text-cyan-300":X.status==="error"?"text-rose-400":X.status==="needsMapping"?"text-amber-300":"text-slate-400";return b.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-md border text-[0.7rem] whitespace-nowrap ${st?"border-cyan-400/70 bg-cyan-500/10 text-cyan-200":"border-slate-700 text-slate-300 hover:border-slate-500"}`,children:[b.jsxs("button",{type:"button",onClick:()=>o(X.id),children:[X.name,b.jsxs("span",{className:`ml-2 ${R}`,children:[" ",X.status]})]}),b.jsx("button",{type:"button",className:"ml-1 text-slate-500 hover:text-slate-200",title:"Remove",onClick:()=>lt(X.id),children:""})]},X.id)})}),m&&b.jsxs("div",{className:"mt-1 space-y-2",children:[b.jsxs("div",{className:"rounded-md border border-slate-800 bg-black/20 p-2 text-[0.7rem] text-slate-400",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-slate-200 font-semibold",children:m.name})," ",b.jsxs("span",{className:"text-slate-500",children:["(",m.kind.toUpperCase(),")"]})]}),b.jsxs("div",{className:"text-slate-500",children:["Rows:"," ",b.jsx("span",{className:"text-slate-200 font-mono",children:m.previewRows?.length||0}),m.detectedBank?b.jsxs(b.Fragment,{children:[" "," Bank:"," ",b.jsx("span",{className:"text-cyan-300 font-semibold",children:m.detectedBank})]}):null]})]}),m.error?b.jsx("div",{className:"mt-1 text-rose-400",children:m.error}):null]}),m.kind==="csv"&&m.rawText&&m.columns.length>0&&b.jsxs("div",{className:"border border-slate-700 rounded-md p-2 space-y-2",children:[b.jsx("p",{className:"text-[0.7rem] text-slate-400",children:"If dates/amounts look wrong, override the mapping:"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:["date","description","amount"].map(X=>b.jsxs("label",{className:"flex flex-col gap-1 text-[0.7rem]",children:[b.jsx("span",{className:"uppercase tracking-[0.16em] text-slate-500",children:X}),b.jsxs("select",{className:"bg-[#05060F] border border-slate-700 rounded px-2 py-1 text-slate-200",value:m.mapping?.[X]??"",onChange:st=>I(X,st.target.value),children:[b.jsx("option",{value:"",children:"Auto detect"}),m.columns.map((st,R)=>b.jsxs("option",{value:R,children:[st," (column ",R+1,")"]},R))]})]},X))}),b.jsx("button",{type:"button",onClick:U,className:"mt-1 px-3 py-1.5 text-[0.7rem] rounded-md border border-cyan-400/70 text-cyan-100 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"Re-parse with mapping"}),m.status==="needsMapping"?b.jsx("p",{className:"text-[0.7rem] text-amber-300",children:"This file needs mapping before it can be imported."}):null]}),m.previewRows?.length>0&&b.jsxs("div",{className:"border border-slate-700 rounded-md p-2 space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between text-[0.7rem] text-slate-400",children:[b.jsxs("span",{children:["Previewing ",ot," of ",m.previewRows.length," rows"]}),b.jsxs("span",{children:["Net amount:"," ",b.jsxs("span",{className:ct<0?"text-rose-300":"text-emerald-300",children:[ct<0?"-":"","$",Math.abs(ct).toFixed(2)]})]})]}),b.jsx("div",{className:"max-h-40 overflow-auto text-[0.7rem]",children:b.jsxs("table",{className:"w-full text-left border-collapse",children:[b.jsx("thead",{className:"sticky top-0 bg-[#05060F]",children:b.jsxs("tr",{className:"border-b border-slate-700",children:[b.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Date"}),b.jsx("th",{className:"py-1 pr-2 font-semibold text-slate-300",children:"Description"}),b.jsx("th",{className:"py-1 text-right font-semibold text-slate-300",children:"Amount"})]})}),b.jsx("tbody",{children:m.previewRows.slice(0,ot).map((X,st)=>b.jsxs("tr",{className:"border-b border-slate-800/60",children:[b.jsx("td",{className:"py-1 pr-2 text-slate-200",children:X.date}),b.jsx("td",{className:"py-1 pr-2 text-slate-300",children:X.description}),b.jsxs("td",{className:`py-1 text-right ${X.amount<0?"text-rose-300":"text-emerald-300"}`,children:[X.amount<0?"-":"","$",Math.abs(X.amount).toFixed(2)]})]},st))})]})}),b.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[b.jsx("button",{type:"button",onClick:()=>F(m.id),disabled:m.status!=="ready",className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-emerald-400/70 text-emerald-100 bg-emerald-500/10 hover:bg-emerald-500/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:"Import this file"}),b.jsx("button",{type:"button",onClick:()=>A(m.id),className:"px-3 py-1.5 text-[0.7rem] rounded-md border border-slate-600 text-slate-200 hover:border-slate-400 transition",children:"Re-parse"})]})]}),m.previewRows?.length===0&&m.status==="ready"?b.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"No rows to preview. If this seems wrong, try re-parsing or mapping."}):null]}),b.jsx("p",{className:"text-[0.7rem] text-slate-500",children:"Tip: Most banks let you export recent transactions as CSV from their website."})]})}function mh({label:i,value:t,accent:n}){return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.22em] text-slate-500",children:i}),b.jsxs("span",{className:`text-base font-semibold ${n}`,children:["$",t.toFixed(2)]})]})}const sO=["monthOverview","accountSnapshot","goals","csvImport"];function aO({month:i="",income:t=0,fixed:n=0,variable:s=0,leftover:o=0,goals:u=[],transactions:c=[],accounts:m=[],currentAccountId:p,onChangeCurrentAccount:g=()=>{},onOpenGoal:v=()=>{},onCreateGoal:T=()=>{},onCsvImported:A=()=>{},currentAccountBalance:I=0,totalBalance:U=0,sectionsOrder:F}){const $=Number(t)||0,lt=Number(n)||0,Z=Number(s)||0,ot=Number(o)||0,ct=$>0?($-ot)/$*100:0,X=F&&F.length?F:sO,st=Array.isArray(c)&&c.length>0,[R,S]=ce.useState(!1);return ce.useEffect(()=>{S(!1)},[c]),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:i}),b.jsx("span",{className:"text-xs text-slate-400",children:"Overview of this month's money flow"})]}),X.map(C=>{switch(C){case"monthOverview":return b.jsxs(ui,{title:"MONTH OVERVIEW",children:[b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[b.jsx(mh,{label:"Income",value:$,accent:"text-emerald-300"}),b.jsx(mh,{label:"Fixed",value:lt,accent:"text-rose-300"}),b.jsx(mh,{label:"Variable",value:Z,accent:"text-amber-300"}),b.jsx(mh,{label:"Leftover",value:ot,accent:"text-cyan-300"})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Allocation this month"}),b.jsx(Ig,{value:ct})]})]},"monthOverview");case"accountSnapshot":return b.jsxs(ui,{title:"ACCOUNT SNAPSHOT",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Current account"}),b.jsx("select",{className:"mt-1 bg-[#05060F] border border-slate-700 rounded-md px-2 py-1 text-[0.75rem] text-slate-100",value:p,onChange:D=>g(D.target.value),children:(m||[]).map(D=>b.jsx("option",{value:D.id,children:D.name},D.id))})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Balance"}),b.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",I.toFixed(2)]}),b.jsxs("div",{className:"text-[0.7rem] text-slate-500",children:["of $",U.toFixed(2)," total"]})]})]}),b.jsx("hr",{className:"my-3 border-slate-800"}),b.jsxs("div",{children:[b.jsx("div",{className:"text-[0.65rem] uppercase tracking-[0.2em] text-slate-500",children:"All accounts"}),b.jsxs("div",{className:"mt-1 text-xl font-semibold text-emerald-300",children:["$",U.toFixed(2)]}),b.jsx("p",{className:"mt-1 text-[0.7rem] text-slate-500",children:"Total estimated cash across all linked accounts."})]})]},"accountSnapshot");case"goals":return b.jsxs("div",{className:"space-y-3",children:[b.jsx("h2",{className:"text-xs tracking-[0.25em] text-slate-400 uppercase",children:"Goals"}),b.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:u.map(D=>b.jsx($D,{goal:D,onClick:()=>v(D.id)},D.id))}),b.jsx("button",{type:"button",onClick:T,className:"mt-1 px-4 py-2 rounded-lg border border-cyan-400/70 text-xs text-cyan-200 bg-cyan-500/10 hover:bg-cyan-500/20 transition",children:"+ Add Goal"})]},"goals");case"csvImport":return b.jsxs(ui,{title:"BANK STATEMENT IMPORT (CSV)",children:[b.jsx(rO,{onTransactionsParsed:(D,O)=>{S(!1),A(D,O)}}),st&&b.jsxs("div",{className:"mt-4 space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Current account transactions"}),b.jsx("button",{type:"button",className:"text-[0.7rem] px-2 py-1 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 transition",onClick:()=>S(D=>!D),children:R?"Hide":"Show"})]}),R&&b.jsx("div",{className:"max-h-64 overflow-auto border border-slate-800 rounded-lg",children:b.jsxs("table",{className:"w-full text-xs text-left",children:[b.jsx("thead",{className:"bg-slate-900 text-slate-300",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-2 py-1",children:"Date"}),b.jsx("th",{className:"px-2 py-1",children:"Description"}),b.jsx("th",{className:"px-2 py-1",children:"Category"}),b.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-800",children:c.map((D,O)=>b.jsxs("tr",{className:"hover:bg-slate-900/70",children:[b.jsx("td",{className:"px-2 py-1 text-slate-300",children:D.date||"-"}),b.jsx("td",{className:"px-2 py-1 text-slate-200",children:D.description||"-"}),b.jsx("td",{className:"px-2 py-1 text-slate-300",children:D.category||"Other"}),b.jsx("td",{className:`px-2 py-1 text-right ${typeof D.amount=="number"&&D.amount<0?"text-rose-300":"text-emerald-300"}`,children:typeof D.amount!="number"||Number.isNaN(D.amount)?"-":`$${D.amount.toFixed(2)}`})]},O))})]})})]})]},"csvImport");default:return null}})]})}function HE(i){return i.reduce((t,n)=>t+n.amount,0)}function oO(i){return(Array.isArray(i?.transactions)?i.transactions:[]).reduce((n,s)=>n+(typeof s.amount=="number"?s.amount:0),0)}function jl(i){return(i||[]).map(t=>({...t,startingBalance:typeof t.startingBalance=="number"?t.startingBalance:0,transactions:Array.isArray(t.transactions)?t.transactions:[]}))}function K1(i,t){const n=u=>`${(u.date||"").trim()}|${(u.description||"").trim().toLowerCase()}|${isNaN(u.amount)?"NaN":u.amount}`,s=new Set(i.map(u=>n(u))),o=[...i];for(const u of t){const c=n(u);s.has(c)||(o.push(u),s.add(c))}return o}function FE(i=[]){const t=new Set;return(i||[]).forEach(n=>{const s=(n.description||"").trim().toLowerCase();s&&t.add(s)}),t}function lO(i=[]){if(!i.length)return"checking";let t=0,n=0;for(const o of i)typeof o.amount=="number"&&(o.amount<0?t++:o.amount>0&&n++);return t===0&&n===0?"checking":t/(t+n)>=.7?"credit":"checking"}function uO(i=[],t=""){const n=xp(t);if(n)for(const m of Sp){const p=(m.key||m.match||"").toLowerCase();if(p&&n.includes(p))return`${m.label} Account`}if(i.length){const m=i.slice(0,20).map(g=>g.description||"").join(" "),p=xp(m);if(p)for(const g of Sp){const v=(g.key||g.match||"").toLowerCase();if(v&&p.includes(v))return`${g.label} Account`}}if(!i.length)return"Imported Account";const s=(i[0].description||"").trim();if(!s)return"Imported Account";const o=s.split(/\s+/).filter(m=>m.length>3);if(!o.length)return"Imported Account";const c=o[0].replace(/[^a-z0-9]/gi," ").trim();return c?c.charAt(0).toUpperCase()+c.slice(1)+" Account":"Imported Account"}function cO(i=[],t,n=[]){const s=(i||[]).filter(p=>Array.isArray(p.transactions)&&p.transactions.length>0);if(!s.length)return null;const o=FE(n);if(!o.size)return t;let u=null,c=0;for(const p of s){const g=FE(p.transactions);if(!g.size)continue;let v=0;for(const T of o)g.has(T)&&v++;v>c&&(c=v,u=p.id)}const m=o.size>0?c/o.size:0;return u&&(c>=3||m>=.2)?u:null}function hO(i=[],t,n=[],s=""){const o=cO(i,t,n);if(o){const g=(i||[]).map(T=>T.id===o?{...T,transactions:K1(T.transactions||[],n)}:T),v=(i||[]).find(T=>T.id===o);return{targetAccountId:o,targetAccountName:v?.name||"Account",accounts:g,createdNew:!1}}const u=lO(n),c=uO(n,s),m=c.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")+"-"+Date.now(),p={id:m,name:c,type:u,startingBalance:0,transactions:n};return{targetAccountId:m,targetAccountName:c,accounts:[...i||[],p],createdNew:!0}}function fO({accounts:i=[],currentAccountId:t,onChangeCurrentAccount:n=()=>{},onCreateAccount:s=()=>{},onDeleteAccount:o=()=>{},onSetAccountBalance:u=()=>{},onRenameAccount:c=()=>{}}){const m=Array.isArray(i)&&i.length>0,[p,g]=St.useState([]),v=T=>{g(A=>A.includes(T)?A.filter(I=>I!==T):[...A,T])};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("header",{className:"flex items-center justify-between",children:[b.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:"Accounts"}),b.jsx("button",{type:"button",onClick:s,className:"px-2 py-1 rounded-md bg-emerald-500 hover:bg-emerald-400 text-xs font-medium text-slate-900",children:"+ New account"})]}),b.jsxs(ui,{title:"ALL ACCOUNTS",children:[!m&&b.jsx("p",{className:"text-xs text-slate-400",children:"No accounts yet. Create one to start tracking balances."}),m&&b.jsx("div",{className:"space-y-2",children:i.map(T=>{const A=Array.isArray(T.transactions)?T.transactions.length:0,I=oO(T),U=(typeof T.startingBalance=="number"?T.startingBalance:0)+I,F=Array.isArray(T.transactions)?T.transactions.slice().filter(Z=>Z&&typeof Z=="object").sort((Z,ot)=>{const ct=Date.parse(Z.date),X=Date.parse(ot.date),st=Number.isFinite(ct),R=Number.isFinite(X);return!st&&!R?0:st?R?X-ct:-1:1}):[],$=F.length>0,lt=p.includes(T.id);return b.jsxs("div",{className:`space-y-2 rounded-md px-3 py-2 text-xs ${T.id===t?"bg-slate-800/70 border border-cyan-400/50":"bg-slate-900/60 border border-slate-700/70"}`,children:[b.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("input",{className:"bg-transparent text-slate-100 font-medium text-xs w-full focus:outline-none",value:T.name,onChange:Z=>c(T.id,Z.target.value)}),b.jsxs("p",{className:"text-[11px] text-slate-400",children:["Type: ",T.type||"checking"]}),b.jsxs("p",{className:"text-[11px] text-slate-400",children:["Transactions:"," ",b.jsx("span",{className:"text-slate-200",children:A}),"  Net:"," ",b.jsxs("span",{className:U>=0?"text-emerald-300":"text-rose-300",children:["$",U.toFixed(2)]})]})]}),b.jsxs("div",{className:"flex flex-col items-end",children:[b.jsx("label",{className:"text-[11px] text-slate-400",children:"Starting balance"}),b.jsx("input",{type:"number",className:"w-24 bg-slate-900/80 border border-slate-700 rounded px-1 py-0.5 text-right text-xs font-mono text-slate-100 focus:outline-none focus:ring-1 focus:ring-cyan-400",value:T.startingBalance??0,onChange:Z=>u(T.id,parseFloat(Z.target.value||"0"))})]}),b.jsxs("div",{className:"flex flex-col items-end gap-1",children:[b.jsx("button",{type:"button",onClick:()=>{n(T.id),v(T.id)},className:"px-2 py-0.5 rounded text-[11px] border border-slate-500 hover:border-cyan-400",children:lt?"Hide":"View"}),b.jsx("button",{type:"button",onClick:()=>o(T.id),className:"px-2 py-0.5 rounded text-[11px] text-red-300 hover:bg-red-500/10",children:"Delete"})]})]}),b.jsxs("div",{className:"border-t border-slate-800/70 pt-2",children:[!$&&b.jsx("p",{className:"mt-1 text-[0.65rem] text-slate-500",children:"No transactions imported yet."}),lt&&$&&b.jsx("div",{className:"mt-2 max-h-72 overflow-auto rounded-md border border-slate-800/50",children:b.jsxs("table",{className:"w-full text-[0.7rem] text-left",children:[b.jsx("thead",{className:"bg-slate-900 text-slate-300 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-2 py-1",children:"Date"}),b.jsx("th",{className:"px-2 py-1",children:"Description"}),b.jsx("th",{className:"px-2 py-1",children:"Category"}),b.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-800/70",children:F.map((Z,ot)=>{const ct=Number(Z.amount),X=Number.isFinite(ct)?`$${ct.toFixed(2)}`:"-";return b.jsxs("tr",{children:[b.jsx("td",{className:"px-2 py-1 text-slate-300",children:Z.date||"-"}),b.jsx("td",{className:"px-2 py-1 text-slate-200",children:Z.description||"Transaction"}),b.jsx("td",{className:"px-2 py-1 text-slate-400",children:Z.category||"Other"}),b.jsx("td",{className:`px-2 py-1 text-right ${ct<0?"text-rose-300":"text-emerald-300"}`,children:X})]},Z.id||`${T.id}-full-${ot}`)})})]})})]})]},T.id)})})]})]})}function dO({month:i,budget:t,totals:n={},onBudgetChange:s}){n?.fixedTotal,n?.variableTotal,n?.leftover;const o=Number(t?.income??0),u=Array.isArray(t?.fixed)?t.fixed:[],c=Array.isArray(t?.variable)?t.variable:[];function m(){const v=window.prompt("Monthly income amount:",o.toString());if(v===null)return;const T=Number(v);if(!Number.isFinite(T)){window.alert("Enter a valid number for income.");return}s({...t,income:T})}function p(v){const T=window.prompt(`New ${v} item name:`);if(!T)return;const A=window.prompt(`Amount for "${T}" (numbers only):`),I=Number(A);if(!Number.isFinite(I)){window.alert("That didn't look like a valid number.");return}const U={id:`budget-${v}-${Date.now()}`,label:T,amount:I},$=[...v==="fixed"?u:c,U],lt={...t,[v]:$};s(lt)}function g(v,T){if(!window.confirm("Delete this item?"))return;const I=(v==="fixed"?u:c).filter((F,$)=>$!==T),U={...t,[v]:I};s(U)}return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("h1",{className:"text-lg font-semibold text-slate-100",children:[i," Budget"]}),b.jsx("span",{className:"text-xs text-slate-400",children:"Income  Expenses  Goals"})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[b.jsxs(ui,{title:"INCOME",children:[b.jsxs("div",{className:"text-3xl font-semibold text-emerald-300",children:["$",o.toFixed(2)]}),b.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Total take-home income for the active month."}),b.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-emerald-400/70 text-emerald-200 bg-emerald-500/10 hover:bg-emerald-500/20 transition",onClick:m,children:"Edit Income"})]}),b.jsxs(ui,{title:"FIXED EXPENSES",children:[b.jsx(GE,{items:u,total:n.fixedTotal,onDelete:v=>g("fixed",v)}),b.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-rose-400/70 text-rose-200 bg-rose-500/10 hover:bg-rose-500/20 transition",onClick:()=>p("fixed"),children:"+ Add Fixed Expense"})]}),b.jsxs(ui,{title:"VARIABLE SPENDING",children:[b.jsx(GE,{items:c,total:n.variableTotal,onDelete:v=>g("variable",v)}),b.jsx("button",{className:"mt-3 px-3 py-1.5 text-xs rounded-md border border-amber-400/70 text-amber-200 bg-amber-500/10 hover:bg-amber-500/20 transition",onClick:()=>p("variable"),children:"+ Add Variable Expense"})]}),b.jsxs(ui,{title:"REMAINING FOR GOALS",children:[b.jsxs("div",{className:"text-2xl font-semibold text-cyan-300",children:["$",n.leftover.toFixed(2)]}),b.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"This is what's left after income minus all listed expenses."})]})]})]})}function GE({items:i=[],total:t=0,onDelete:n}){return b.jsxs("div",{className:"space-y-2 text-sm",children:[i.length===0&&b.jsx("p",{className:"text-xs text-slate-500",children:"No items yet."}),i.map((s,o)=>{const u=Number(s?.amount??0),c=s?.label||s?.name||`Item ${o+1}`;return b.jsxs("div",{className:"flex items-center justify-between text-slate-200 gap-2",children:[b.jsxs("div",{className:"flex-1 flex justify-between",children:[b.jsx("span",{children:c}),b.jsxs("span",{className:"text-slate-300",children:["$",u.toFixed(2)]})]}),n&&b.jsx("button",{className:"text-[0.65rem] text-slate-500 hover:text-rose-400",onClick:()=>n(o),children:""})]},(s?.id||c)+o)}),b.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-700 flex items-center justify-between text-xs",children:[b.jsx("span",{className:"uppercase tracking-[0.18em] text-slate-500",children:"Total"}),b.jsxs("span",{className:"text-slate-100",children:["$",t.toFixed(2)]})]})]})}const mO=[{value:"auto",label:"Auto (detect)"},{value:"income",label:"Income"},{value:"expense",label:"Expense"},{value:"transfer",label:"Transfer"},{value:"ignore",label:"Ignore"}],pO={income:"Income",expense:"Expense",transfer:"Transfer",ignore:"Ignored",unknown:"Unknown"};function gO(i){const{transactions:t=[],accountName:n="",onUpdateTransaction:s=()=>{},onDeleteTransaction:o=()=>{},typeHints:u=[],filter:c,onFilterChange:m,filterText:p,onChangeFilterText:g}=i,v=(p??c??"").toString(),T=g??m??(()=>{}),A=Array.isArray(t)&&t.length>0,[I,U]=St.useState({query:"",minAmount:"",maxAmount:""}),[F,$]=St.useState("date"),[lt,Z]=St.useState("desc");St.useEffect(()=>{const S=(v||"").trim();S&&U(C=>({...C,query:S}))},[v]);const ot=S=>C=>{const D=C.target.value;U(O=>({...O,[S]:D})),S==="query"&&T(D)},ct=()=>{U({query:"",minAmount:"",maxAmount:""}),T("")},X=I.query||I.minAmount||I.maxAmount,st=()=>{Z(S=>S==="asc"?"desc":"asc")},R=St.useMemo(()=>A?[...t.map((O,L)=>({tx:O,index:L})).filter(({tx:O})=>{const L=I.query.trim().toLowerCase(),N=Number(O.amount);if(L&&![O.description||"",O.category||""].join(" ").toLowerCase().includes(L))return!1;if(I.minAmount!==""){const gt=Number(I.minAmount);if(!Number.isNaN(gt)&&!Number.isNaN(N)&&N<gt)return!1}if(I.maxAmount!==""){const gt=Number(I.maxAmount);if(!Number.isNaN(gt)&&!Number.isNaN(N)&&N>gt)return!1}return!0})].sort((O,L)=>{const N=O.tx,gt=L.tx,K=lt==="asc"?1:-1;if(F==="amount"){const et=Number(N.amount)||0,it=Number(gt.amount)||0;return(et-it)*K}if(F==="description"||F==="category"){const et=(N[F]||"").toLowerCase(),it=(gt[F]||"").toLowerCase();return et.localeCompare(it)*K}const P=Date.parse(N.date)||0,G=Date.parse(gt.date)||0;return(P-G)*K}):[],[t,I,F,lt,A]);return b.jsxs("div",{className:"space-y-4 w-full",children:[b.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-lg font-semibold text-slate-100",children:"Transactions"}),b.jsx("span",{className:"text-xs text-slate-400",children:"Imported from your bank CSV files"}),b.jsxs("p",{className:"text-[0.65rem] text-slate-500",children:["Currently viewing:"," ",b.jsx("span",{className:"font-semibold text-cyan-200",children:n||"None"})]}),!!v.trim()&&b.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-lg border border-cyan-500/40 bg-cyan-500/10 px-2 py-1 text-[0.65rem] text-cyan-200",children:[b.jsx("span",{className:"font-mono",children:"Report filter:"}),b.jsx("span",{className:"text-slate-100",children:v}),b.jsx("button",{type:"button",onClick:ct,className:"ml-1 rounded border border-cyan-500/40 px-2 py-[2px] text-[0.65rem] hover:bg-cyan-500/10",children:"Clear"})]})]}),A&&b.jsxs("span",{className:"text-[0.65rem] text-slate-500",children:["Showing ",R.length," of ",t.length]})]}),b.jsxs(ui,{title:"ALL TRANSACTIONS",children:[!A&&b.jsx("p",{className:"text-xs text-slate-400",children:"No transactions yet. Import a CSV on the Dashboard to see them here."}),A&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"mb-3 flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[b.jsxs("div",{className:"flex flex-col gap-1 w-full md:w-auto",children:[b.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Search"}),b.jsx("input",{type:"text",value:I.query,onChange:ot("query"),placeholder:"Search description or category...",className:"h-8 w-full md:w-64 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]}),b.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-end md:justify-end",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Min"}),b.jsx("input",{type:"number",value:I.minAmount,onChange:ot("minAmount"),className:"h-8 w-24 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]}),b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("label",{className:"text-[0.65rem] uppercase tracking-[0.18em] text-slate-500",children:"Max"}),b.jsx("input",{type:"number",value:I.maxAmount,onChange:ot("maxAmount"),className:"h-8 w-24 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500"})]})]}),b.jsx("button",{type:"button",onClick:ct,disabled:!X,className:"h-8 px-3 rounded-md border text-[0.7rem] font-medium transition border-slate-600 text-slate-200 hover:border-cyan-400 hover:text-cyan-200 disabled:opacity-40 disabled:cursor-not-allowed",children:"Clear filters"})]})]}),b.jsx("div",{className:"mb-3 flex flex-col sm:flex-row sm:items-center sm:justify-end gap-2 text-[0.7rem]",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"uppercase tracking-[0.18em] text-slate-500",children:"Sort by"}),b.jsxs("select",{value:F,onChange:S=>$(S.target.value),className:"h-8 rounded-md bg-slate-900/70 px-2 text-[0.7rem] text-slate-100 outline-none ring-1 ring-slate-700 focus:ring-2 focus:ring-cyan-500",children:[b.jsx("option",{value:"date",children:"Date"}),b.jsx("option",{value:"amount",children:"Amount"}),b.jsx("option",{value:"description",children:"Description"}),b.jsx("option",{value:"category",children:"Category"})]}),b.jsx("button",{type:"button",onClick:st,className:"h-8 px-3 rounded-md border border-slate-600 text-slate-200 hover:border-cyan-400 hover:text-cyan-200 transition",children:lt==="asc"?"Asc ":"Desc "})]})})]}),A&&R.length===0&&b.jsx("p",{className:"text-xs text-slate-400",children:"No transactions match your current filters."}),A&&R.length>0&&b.jsx("div",{className:"hScroll",children:b.jsx("div",{className:"min-w-[640px] max-h-[65vh] overflow-y-auto border border-slate-800 rounded-lg",children:b.jsxs("table",{className:"w-full text-[0.7rem] sm:text-xs text-left",children:[b.jsx("thead",{className:"bg-slate-900 text-slate-300 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-2 py-1",children:"Date"}),b.jsx("th",{className:"px-2 py-1",children:"Description"}),b.jsx("th",{className:"px-2 py-1 hidden sm:table-cell",children:"Category"}),b.jsx("th",{className:"px-2 py-1 hidden sm:table-cell",children:"Type"}),b.jsx("th",{className:"px-2 py-1 text-right",children:"Amount"}),b.jsx("th",{className:"px-2 py-1 text-right",children:"Actions"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-800",children:R.map(({tx:S,index:C})=>b.jsxs("tr",{className:"hover:bg-slate-900/70",children:[b.jsx("td",{className:"px-2 py-1 text-slate-300 whitespace-nowrap",children:S.date||"-"}),b.jsxs("td",{className:"px-2 py-1 text-slate-200",children:[b.jsx("input",{className:"w-full bg-transparent border-b border-slate-700 focus:outline-none focus:border-cyan-400 text-[0.7rem] sm:text-xs",value:S.description||"",onChange:D=>s(C,{description:D.target.value})}),b.jsx("div",{className:"sm:hidden mt-1 text-[0.65rem] text-slate-500",children:(S.category||"").trim()?S.category:"Uncategorized"})]}),b.jsx("td",{className:"px-2 py-1 text-slate-300 hidden sm:table-cell",children:b.jsx("input",{className:"w-full bg-transparent border-b border-slate-700 focus:outline-none focus:border-cyan-400 text-[0.7rem] sm:text-xs",value:S.category||"",onChange:D=>s(C,{category:D.target.value})})}),b.jsx("td",{className:"px-2 py-1 text-slate-300 hidden sm:table-cell",children:b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("select",{className:"w-full bg-slate-900/40 rounded-md border border-slate-700 px-2 py-1 text-[0.65rem] focus:outline-none focus:border-cyan-400",value:S.flowType||"auto",onChange:D=>{const O=D.target.value;s(C,{flowType:O==="auto"?void 0:O})},children:mO.map(D=>b.jsx("option",{value:D.value,children:D.label},D.value))}),b.jsxs("span",{className:"text-[0.6rem] text-slate-500",children:["Detected:"," ",pO[u[C]]||"Unknown"]})]})}),b.jsx("td",{className:`px-2 py-1 text-right whitespace-nowrap ${S.amount<0?"text-rose-300":"text-emerald-300"}`,children:Number.isFinite(Number(S.amount))?`$${Number(S.amount).toFixed(2)}`:"-"}),b.jsx("td",{className:"px-2 py-1 text-right",children:b.jsx("button",{className:"text-[0.7rem] px-2 py-1 rounded-md border border-rose-500/60 text-rose-300 hover:bg-rose-400/10",onClick:()=>{window.confirm("Delete this transaction from this account?")&&o(C)},children:"Delete"})})]},C))})]})})})]})]})}function yO({onEdit:i,onDelete:t,onDuplicate:n,onExport:s}){const[o,u]=St.useState(!1);function c(){u(!1),t?.()}return b.jsxs("div",{className:"relative",children:[b.jsx("button",{type:"button",className:"rounded-full border border-slate-600/70 px-3 py-1 text-xs text-slate-300 hover:border-cyan-400/60",onClick:()=>u(m=>!m),children:"Manage goal "}),b.jsxs("div",{className:`absolute right-0 mt-2 w-40 rounded-xl border border-slate-700/70 bg-[#05060F] text-xs shadow-lg transition-all duration-150 ${o?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-1 pointer-events-none"}`,children:[b.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),i?.()},children:"Edit goal"}),b.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),n?.()},children:"Duplicate goal"}),b.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-slate-200 hover:bg-slate-800/70",onClick:()=>{u(!1),s?.()},children:"Export progress"}),b.jsx("button",{type:"button",className:"block w-full px-3 py-2 text-left text-rose-300 hover:bg-slate-800/70",onClick:()=>{window.confirm("Delete this goal?")&&c()},children:"Delete goal"})]})]})}function _O({goal:i,onEditGoal:t=()=>{},onDeleteGoal:n=()=>{},onDuplicateGoal:s=()=>{},onExportGoal:o=()=>{},onAddContributionRequest:u=()=>{}}){const c=Number(i?.saved??i?.current??0),m=Number(i?.target??0),p=Number(i?.monthlyPlan??0),g=i?.icon||i?.emoji||"",v=i?.name||"Untitled Goal",T=m>0?Math.min(100,c/m*100):0;return b.jsxs("div",{className:"space-y-5",children:[b.jsxs("header",{className:"flex items-center justify-between gap-3",children:[b.jsx("div",{className:"space-y-1",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-2xl",children:g}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:v}),b.jsx("p",{className:"text-xs text-slate-400",children:"Personalized goal view  future: themed backgrounds & animations."})]})]})}),b.jsx(yO,{onEdit:()=>t(i?.id),onDelete:()=>{i?.id&&n(i.id)},onDuplicate:()=>s(i?.id),onExport:()=>o(i?.id)})]}),b.jsx(ui,{title:"PROGRESS",children:b.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[b.jsxs("span",{className:"text-slate-200",children:["$",c.toFixed(2)," / $",m.toFixed(2)]}),b.jsx(Ig,{value:T}),b.jsxs("span",{className:"text-xs text-slate-400",children:[T.toFixed(1),"% complete"]})]})}),b.jsxs(ui,{title:"PLAN",children:[b.jsxs("p",{className:"text-sm text-slate-200",children:["Recommended monthly contribution:",b.jsxs("span",{className:"ml-1 text-cyan-300 font-semibold",children:["$",p.toFixed(2)]})]}),b.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Later we'll calculate this based on your income, expenses and due date."}),b.jsx("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:b.jsx("button",{className:"px-3 py-1.5 text-xs rounded-md border border-pink-400/70 text-pink-200 bg-pink-500/10 hover:bg-pink-500/20 transition",onClick:()=>u(i?.id),children:"Add Contribution"})})]})]})}var vO={value:()=>{}};function X1(){for(var i=0,t=arguments.length,n={},s;i<t;++i){if(!(s=arguments[i]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Ih(n)}function Ih(i){this._=i}function EO(i,t){return i.trim().split(/^|\s+/).map(function(n){var s="",o=n.indexOf(".");if(o>=0&&(s=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Ih.prototype=X1.prototype={constructor:Ih,on:function(i,t){var n=this._,s=EO(i+"",n),o,u=-1,c=s.length;if(arguments.length<2){for(;++u<c;)if((o=(i=s[u]).type)&&(o=TO(n[o],i.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<c;)if(o=(i=s[u]).type)n[o]=$E(n[o],i.name,t);else if(t==null)for(o in n)n[o]=$E(n[o],i.name,null);return this},copy:function(){var i={},t=this._;for(var n in t)i[n]=t[n].slice();return new Ih(i)},call:function(i,t){if((o=arguments.length-2)>0)for(var n=new Array(o),s=0,o,u;s<o;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(u=this._[i],s=0,o=u.length;s<o;++s)u[s].value.apply(t,n)},apply:function(i,t,n){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var s=this._[i],o=0,u=s.length;o<u;++o)s[o].value.apply(t,n)}};function TO(i,t){for(var n=0,s=i.length,o;n<s;++n)if((o=i[n]).name===t)return o.value}function $E(i,t,n){for(var s=0,o=i.length;s<o;++s)if(i[s].name===t){i[s]=vO,i=i.slice(0,s).concat(i.slice(s+1));break}return n!=null&&i.push({name:t,value:n}),i}var Np="http://www.w3.org/1999/xhtml";const QE={svg:"http://www.w3.org/2000/svg",xhtml:Np,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rf(i){var t=i+="",n=t.indexOf(":");return n>=0&&(t=i.slice(0,n))!=="xmlns"&&(i=i.slice(n+1)),QE.hasOwnProperty(t)?{space:QE[t],local:i}:i}function bO(i){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Np&&t.documentElement.namespaceURI===Np?t.createElement(i):t.createElementNS(n,i)}}function wO(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function Z1(i){var t=Rf(i);return(t.local?wO:bO)(t)}function AO(){}function Dg(i){return i==null?AO:function(){return this.querySelector(i)}}function SO(i){typeof i!="function"&&(i=Dg(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],c=u.length,m=s[o]=new Array(c),p,g,v=0;v<c;++v)(p=u[v])&&(g=i.call(p,p.__data__,v,u))&&("__data__"in p&&(g.__data__=p.__data__),m[v]=g);return new In(s,this._parents)}function xO(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function NO(){return[]}function J1(i){return i==null?NO:function(){return this.querySelectorAll(i)}}function RO(i){return function(){return xO(i.apply(this,arguments))}}function CO(i){typeof i=="function"?i=RO(i):i=J1(i);for(var t=this._groups,n=t.length,s=[],o=[],u=0;u<n;++u)for(var c=t[u],m=c.length,p,g=0;g<m;++g)(p=c[g])&&(s.push(i.call(p,p.__data__,g,c)),o.push(p));return new In(s,o)}function W1(i){return function(){return this.matches(i)}}function tw(i){return function(t){return t.matches(i)}}var IO=Array.prototype.find;function DO(i){return function(){return IO.call(this.children,i)}}function OO(){return this.firstElementChild}function MO(i){return this.select(i==null?OO:DO(typeof i=="function"?i:tw(i)))}var kO=Array.prototype.filter;function VO(){return Array.from(this.children)}function LO(i){return function(){return kO.call(this.children,i)}}function PO(i){return this.selectAll(i==null?VO:LO(typeof i=="function"?i:tw(i)))}function UO(i){typeof i!="function"&&(i=W1(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],c=u.length,m=s[o]=[],p,g=0;g<c;++g)(p=u[g])&&i.call(p,p.__data__,g,u)&&m.push(p);return new In(s,this._parents)}function ew(i){return new Array(i.length)}function jO(){return new In(this._enter||this._groups.map(ew),this._parents)}function Jh(i,t){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=t}Jh.prototype={constructor:Jh,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,t){return this._parent.insertBefore(i,t)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function zO(i){return function(){return i}}function BO(i,t,n,s,o,u){for(var c=0,m,p=t.length,g=u.length;c<g;++c)(m=t[c])?(m.__data__=u[c],s[c]=m):n[c]=new Jh(i,u[c]);for(;c<p;++c)(m=t[c])&&(o[c]=m)}function qO(i,t,n,s,o,u,c){var m,p,g=new Map,v=t.length,T=u.length,A=new Array(v),I;for(m=0;m<v;++m)(p=t[m])&&(A[m]=I=c.call(p,p.__data__,m,t)+"",g.has(I)?o[m]=p:g.set(I,p));for(m=0;m<T;++m)I=c.call(i,u[m],m,u)+"",(p=g.get(I))?(s[m]=p,p.__data__=u[m],g.delete(I)):n[m]=new Jh(i,u[m]);for(m=0;m<v;++m)(p=t[m])&&g.get(A[m])===p&&(o[m]=p)}function HO(i){return i.__data__}function FO(i,t){if(!arguments.length)return Array.from(this,HO);var n=t?qO:BO,s=this._parents,o=this._groups;typeof i!="function"&&(i=zO(i));for(var u=o.length,c=new Array(u),m=new Array(u),p=new Array(u),g=0;g<u;++g){var v=s[g],T=o[g],A=T.length,I=GO(i.call(v,v&&v.__data__,g,s)),U=I.length,F=m[g]=new Array(U),$=c[g]=new Array(U),lt=p[g]=new Array(A);n(v,T,F,$,lt,I,t);for(var Z=0,ot=0,ct,X;Z<U;++Z)if(ct=F[Z]){for(Z>=ot&&(ot=Z+1);!(X=$[ot])&&++ot<U;);ct._next=X||null}}return c=new In(c,s),c._enter=m,c._exit=p,c}function GO(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function $O(){return new In(this._exit||this._groups.map(ew),this._parents)}function QO(i,t,n){var s=this.enter(),o=this,u=this.exit();return typeof i=="function"?(s=i(s),s&&(s=s.selection())):s=s.append(i+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?u.remove():n(u),s&&o?s.merge(o).order():o}function YO(i){for(var t=i.selection?i.selection():i,n=this._groups,s=t._groups,o=n.length,u=s.length,c=Math.min(o,u),m=new Array(o),p=0;p<c;++p)for(var g=n[p],v=s[p],T=g.length,A=m[p]=new Array(T),I,U=0;U<T;++U)(I=g[U]||v[U])&&(A[U]=I);for(;p<o;++p)m[p]=n[p];return new In(m,this._parents)}function KO(){for(var i=this._groups,t=-1,n=i.length;++t<n;)for(var s=i[t],o=s.length-1,u=s[o],c;--o>=0;)(c=s[o])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function XO(i){i||(i=ZO);function t(T,A){return T&&A?i(T.__data__,A.__data__):!T-!A}for(var n=this._groups,s=n.length,o=new Array(s),u=0;u<s;++u){for(var c=n[u],m=c.length,p=o[u]=new Array(m),g,v=0;v<m;++v)(g=c[v])&&(p[v]=g);p.sort(t)}return new In(o,this._parents).order()}function ZO(i,t){return i<t?-1:i>t?1:i>=t?0:NaN}function JO(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function WO(){return Array.from(this)}function t4(){for(var i=this._groups,t=0,n=i.length;t<n;++t)for(var s=i[t],o=0,u=s.length;o<u;++o){var c=s[o];if(c)return c}return null}function e4(){let i=0;for(const t of this)++i;return i}function n4(){return!this.node()}function i4(i){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var o=t[n],u=0,c=o.length,m;u<c;++u)(m=o[u])&&i.call(m,m.__data__,u,o);return this}function r4(i){return function(){this.removeAttribute(i)}}function s4(i){return function(){this.removeAttributeNS(i.space,i.local)}}function a4(i,t){return function(){this.setAttribute(i,t)}}function o4(i,t){return function(){this.setAttributeNS(i.space,i.local,t)}}function l4(i,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(i):this.setAttribute(i,n)}}function u4(i,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,n)}}function c4(i,t){var n=Rf(i);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?s4:r4:typeof t=="function"?n.local?u4:l4:n.local?o4:a4)(n,t))}function nw(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function h4(i){return function(){this.style.removeProperty(i)}}function f4(i,t,n){return function(){this.style.setProperty(i,t,n)}}function d4(i,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(i):this.style.setProperty(i,s,n)}}function m4(i,t,n){return arguments.length>1?this.each((t==null?h4:typeof t=="function"?d4:f4)(i,t,n??"")):xo(this.node(),i)}function xo(i,t){return i.style.getPropertyValue(t)||nw(i).getComputedStyle(i,null).getPropertyValue(t)}function p4(i){return function(){delete this[i]}}function g4(i,t){return function(){this[i]=t}}function y4(i,t){return function(){var n=t.apply(this,arguments);n==null?delete this[i]:this[i]=n}}function _4(i,t){return arguments.length>1?this.each((t==null?p4:typeof t=="function"?y4:g4)(i,t)):this.node()[i]}function iw(i){return i.trim().split(/^|\s+/)}function Og(i){return i.classList||new rw(i)}function rw(i){this._node=i,this._names=iw(i.getAttribute("class")||"")}rw.prototype={add:function(i){var t=this._names.indexOf(i);t<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var t=this._names.indexOf(i);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function sw(i,t){for(var n=Og(i),s=-1,o=t.length;++s<o;)n.add(t[s])}function aw(i,t){for(var n=Og(i),s=-1,o=t.length;++s<o;)n.remove(t[s])}function v4(i){return function(){sw(this,i)}}function E4(i){return function(){aw(this,i)}}function T4(i,t){return function(){(t.apply(this,arguments)?sw:aw)(this,i)}}function b4(i,t){var n=iw(i+"");if(arguments.length<2){for(var s=Og(this.node()),o=-1,u=n.length;++o<u;)if(!s.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?T4:t?v4:E4)(n,t))}function w4(){this.textContent=""}function A4(i){return function(){this.textContent=i}}function S4(i){return function(){var t=i.apply(this,arguments);this.textContent=t??""}}function x4(i){return arguments.length?this.each(i==null?w4:(typeof i=="function"?S4:A4)(i)):this.node().textContent}function N4(){this.innerHTML=""}function R4(i){return function(){this.innerHTML=i}}function C4(i){return function(){var t=i.apply(this,arguments);this.innerHTML=t??""}}function I4(i){return arguments.length?this.each(i==null?N4:(typeof i=="function"?C4:R4)(i)):this.node().innerHTML}function D4(){this.nextSibling&&this.parentNode.appendChild(this)}function O4(){return this.each(D4)}function M4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function k4(){return this.each(M4)}function V4(i){var t=typeof i=="function"?i:Z1(i);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function L4(){return null}function P4(i,t){var n=typeof i=="function"?i:Z1(i),s=t==null?L4:typeof t=="function"?t:Dg(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function U4(){var i=this.parentNode;i&&i.removeChild(this)}function j4(){return this.each(U4)}function z4(){var i=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function B4(){var i=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function q4(i){return this.select(i?B4:z4)}function H4(i){return arguments.length?this.property("__data__",i):this.node().__data__}function F4(i){return function(t){i.call(this,t,this.__data__)}}function G4(i){return i.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function $4(i){return function(){var t=this.__on;if(t){for(var n=0,s=-1,o=t.length,u;n<o;++n)u=t[n],(!i.type||u.type===i.type)&&u.name===i.name?this.removeEventListener(u.type,u.listener,u.options):t[++s]=u;++s?t.length=s:delete this.__on}}}function Q4(i,t,n){return function(){var s=this.__on,o,u=F4(t);if(s){for(var c=0,m=s.length;c<m;++c)if((o=s[c]).type===i.type&&o.name===i.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=u,o.options=n),o.value=t;return}}this.addEventListener(i.type,u,n),o={type:i.type,name:i.name,value:t,listener:u,options:n},s?s.push(o):this.__on=[o]}}function Y4(i,t,n){var s=G4(i+""),o,u=s.length,c;if(arguments.length<2){var m=this.node().__on;if(m){for(var p=0,g=m.length,v;p<g;++p)for(o=0,v=m[p];o<u;++o)if((c=s[o]).type===v.type&&c.name===v.name)return v.value}return}for(m=t?Q4:$4,o=0;o<u;++o)this.each(m(s[o],t,n));return this}function ow(i,t,n){var s=nw(i),o=s.CustomEvent;typeof o=="function"?o=new o(t,n):(o=s.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),i.dispatchEvent(o)}function K4(i,t){return function(){return ow(this,i,t)}}function X4(i,t){return function(){return ow(this,i,t.apply(this,arguments))}}function Z4(i,t){return this.each((typeof t=="function"?X4:K4)(i,t))}function*J4(){for(var i=this._groups,t=0,n=i.length;t<n;++t)for(var s=i[t],o=0,u=s.length,c;o<u;++o)(c=s[o])&&(yield c)}var lw=[null];function In(i,t){this._groups=i,this._parents=t}function Du(){return new In([[document.documentElement]],lw)}function W4(){return this}In.prototype=Du.prototype={constructor:In,select:SO,selectAll:CO,selectChild:MO,selectChildren:PO,filter:UO,data:FO,enter:jO,exit:$O,join:QO,merge:YO,selection:W4,order:KO,sort:XO,call:JO,nodes:WO,node:t4,size:e4,empty:n4,each:i4,attr:c4,style:m4,property:_4,classed:b4,text:x4,html:I4,raise:O4,lower:k4,append:V4,insert:P4,remove:j4,clone:q4,datum:H4,on:Y4,dispatch:Z4,[Symbol.iterator]:J4};function tM(i){return typeof i=="string"?new In([[document.querySelector(i)]],[document.documentElement]):new In([[i]],lw)}function Mg(i,t,n){i.prototype=t.prototype=n,n.constructor=i}function uw(i,t){var n=Object.create(i.prototype);for(var s in t)n[s]=t[s];return n}function Ou(){}var gu=.7,Wh=1/gu,go="\\s*([+-]?\\d+)\\s*",yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eM=/^#([0-9a-f]{3,8})$/,nM=new RegExp(`^rgb\\(${go},${go},${go}\\)$`),iM=new RegExp(`^rgb\\(${Hi},${Hi},${Hi}\\)$`),rM=new RegExp(`^rgba\\(${go},${go},${go},${yu}\\)$`),sM=new RegExp(`^rgba\\(${Hi},${Hi},${Hi},${yu}\\)$`),aM=new RegExp(`^hsl\\(${yu},${Hi},${Hi}\\)$`),oM=new RegExp(`^hsla\\(${yu},${Hi},${Hi},${yu}\\)$`),YE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mg(Ou,_u,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:KE,formatHex:KE,formatHex8:lM,formatHsl:uM,formatRgb:XE,toString:XE});function KE(){return this.rgb().formatHex()}function lM(){return this.rgb().formatHex8()}function uM(){return cw(this).formatHsl()}function XE(){return this.rgb().formatRgb()}function _u(i){var t,n;return i=(i+"").trim().toLowerCase(),(t=eM.exec(i))?(n=t[1].length,t=parseInt(t[1],16),n===6?ZE(t):n===3?new vn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ph(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ph(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nM.exec(i))?new vn(t[1],t[2],t[3],1):(t=iM.exec(i))?new vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rM.exec(i))?ph(t[1],t[2],t[3],t[4]):(t=sM.exec(i))?ph(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aM.exec(i))?tT(t[1],t[2]/100,t[3]/100,1):(t=oM.exec(i))?tT(t[1],t[2]/100,t[3]/100,t[4]):YE.hasOwnProperty(i)?ZE(YE[i]):i==="transparent"?new vn(NaN,NaN,NaN,0):null}function ZE(i){return new vn(i>>16&255,i>>8&255,i&255,1)}function ph(i,t,n,s){return s<=0&&(i=t=n=NaN),new vn(i,t,n,s)}function cM(i){return i instanceof Ou||(i=_u(i)),i?(i=i.rgb(),new vn(i.r,i.g,i.b,i.opacity)):new vn}function Rp(i,t,n,s){return arguments.length===1?cM(i):new vn(i,t,n,s??1)}function vn(i,t,n,s){this.r=+i,this.g=+t,this.b=+n,this.opacity=+s}Mg(vn,Rp,uw(Ou,{brighter(i){return i=i==null?Wh:Math.pow(Wh,i),new vn(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?gu:Math.pow(gu,i),new vn(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new vn(oa(this.r),oa(this.g),oa(this.b),tf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JE,formatHex:JE,formatHex8:hM,formatRgb:WE,toString:WE}));function JE(){return`#${sa(this.r)}${sa(this.g)}${sa(this.b)}`}function hM(){return`#${sa(this.r)}${sa(this.g)}${sa(this.b)}${sa((isNaN(this.opacity)?1:this.opacity)*255)}`}function WE(){const i=tf(this.opacity);return`${i===1?"rgb(":"rgba("}${oa(this.r)}, ${oa(this.g)}, ${oa(this.b)}${i===1?")":`, ${i})`}`}function tf(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function oa(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function sa(i){return i=oa(i),(i<16?"0":"")+i.toString(16)}function tT(i,t,n,s){return s<=0?i=t=n=NaN:n<=0||n>=1?i=t=NaN:t<=0&&(i=NaN),new oi(i,t,n,s)}function cw(i){if(i instanceof oi)return new oi(i.h,i.s,i.l,i.opacity);if(i instanceof Ou||(i=_u(i)),!i)return new oi;if(i instanceof oi)return i;i=i.rgb();var t=i.r/255,n=i.g/255,s=i.b/255,o=Math.min(t,n,s),u=Math.max(t,n,s),c=NaN,m=u-o,p=(u+o)/2;return m?(t===u?c=(n-s)/m+(n<s)*6:n===u?c=(s-t)/m+2:c=(t-n)/m+4,m/=p<.5?u+o:2-u-o,c*=60):m=p>0&&p<1?0:c,new oi(c,m,p,i.opacity)}function fM(i,t,n,s){return arguments.length===1?cw(i):new oi(i,t,n,s??1)}function oi(i,t,n,s){this.h=+i,this.s=+t,this.l=+n,this.opacity=+s}Mg(oi,fM,uw(Ou,{brighter(i){return i=i==null?Wh:Math.pow(Wh,i),new oi(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?gu:Math.pow(gu,i),new oi(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,t=isNaN(i)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,o=2*n-s;return new vn($m(i>=240?i-240:i+120,o,s),$m(i,o,s),$m(i<120?i+240:i-120,o,s),this.opacity)},clamp(){return new oi(eT(this.h),gh(this.s),gh(this.l),tf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=tf(this.opacity);return`${i===1?"hsl(":"hsla("}${eT(this.h)}, ${gh(this.s)*100}%, ${gh(this.l)*100}%${i===1?")":`, ${i})`}`}}));function eT(i){return i=(i||0)%360,i<0?i+360:i}function gh(i){return Math.max(0,Math.min(1,i||0))}function $m(i,t,n){return(i<60?t+(n-t)*i/60:i<180?n:i<240?t+(n-t)*(240-i)/60:t)*255}const hw=i=>()=>i;function dM(i,t){return function(n){return i+n*t}}function mM(i,t,n){return i=Math.pow(i,n),t=Math.pow(t,n)-i,n=1/n,function(s){return Math.pow(i+s*t,n)}}function pM(i){return(i=+i)==1?fw:function(t,n){return n-t?mM(t,n,i):hw(isNaN(t)?n:t)}}function fw(i,t){var n=t-i;return n?dM(i,n):hw(isNaN(i)?t:i)}const nT=(function i(t){var n=pM(t);function s(o,u){var c=n((o=Rp(o)).r,(u=Rp(u)).r),m=n(o.g,u.g),p=n(o.b,u.b),g=fw(o.opacity,u.opacity);return function(v){return o.r=c(v),o.g=m(v),o.b=p(v),o.opacity=g(v),o+""}}return s.gamma=i,s})(1);function os(i,t){return i=+i,t=+t,function(n){return i*(1-n)+t*n}}var Cp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qm=new RegExp(Cp.source,"g");function gM(i){return function(){return i}}function yM(i){return function(t){return i(t)+""}}function _M(i,t){var n=Cp.lastIndex=Qm.lastIndex=0,s,o,u,c=-1,m=[],p=[];for(i=i+"",t=t+"";(s=Cp.exec(i))&&(o=Qm.exec(t));)(u=o.index)>n&&(u=t.slice(n,u),m[c]?m[c]+=u:m[++c]=u),(s=s[0])===(o=o[0])?m[c]?m[c]+=o:m[++c]=o:(m[++c]=null,p.push({i:c,x:os(s,o)})),n=Qm.lastIndex;return n<t.length&&(u=t.slice(n),m[c]?m[c]+=u:m[++c]=u),m.length<2?p[0]?yM(p[0].x):gM(t):(t=p.length,function(g){for(var v=0,T;v<t;++v)m[(T=p[v]).i]=T.x(g);return m.join("")})}var iT=180/Math.PI,Ip={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dw(i,t,n,s,o,u){var c,m,p;return(c=Math.sqrt(i*i+t*t))&&(i/=c,t/=c),(p=i*n+t*s)&&(n-=i*p,s-=t*p),(m=Math.sqrt(n*n+s*s))&&(n/=m,s/=m,p/=m),i*s<t*n&&(i=-i,t=-t,p=-p,c=-c),{translateX:o,translateY:u,rotate:Math.atan2(t,i)*iT,skewX:Math.atan(p)*iT,scaleX:c,scaleY:m}}var yh;function vM(i){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return t.isIdentity?Ip:dw(t.a,t.b,t.c,t.d,t.e,t.f)}function EM(i){return i==null||(yh||(yh=document.createElementNS("http://www.w3.org/2000/svg","g")),yh.setAttribute("transform",i),!(i=yh.transform.baseVal.consolidate()))?Ip:(i=i.matrix,dw(i.a,i.b,i.c,i.d,i.e,i.f))}function mw(i,t,n,s){function o(g){return g.length?g.pop()+" ":""}function u(g,v,T,A,I,U){if(g!==T||v!==A){var F=I.push("translate(",null,t,null,n);U.push({i:F-4,x:os(g,T)},{i:F-2,x:os(v,A)})}else(T||A)&&I.push("translate("+T+t+A+n)}function c(g,v,T,A){g!==v?(g-v>180?v+=360:v-g>180&&(g+=360),A.push({i:T.push(o(T)+"rotate(",null,s)-2,x:os(g,v)})):v&&T.push(o(T)+"rotate("+v+s)}function m(g,v,T,A){g!==v?A.push({i:T.push(o(T)+"skewX(",null,s)-2,x:os(g,v)}):v&&T.push(o(T)+"skewX("+v+s)}function p(g,v,T,A,I,U){if(g!==T||v!==A){var F=I.push(o(I)+"scale(",null,",",null,")");U.push({i:F-4,x:os(g,T)},{i:F-2,x:os(v,A)})}else(T!==1||A!==1)&&I.push(o(I)+"scale("+T+","+A+")")}return function(g,v){var T=[],A=[];return g=i(g),v=i(v),u(g.translateX,g.translateY,v.translateX,v.translateY,T,A),c(g.rotate,v.rotate,T,A),m(g.skewX,v.skewX,T,A),p(g.scaleX,g.scaleY,v.scaleX,v.scaleY,T,A),g=v=null,function(I){for(var U=-1,F=A.length,$;++U<F;)T[($=A[U]).i]=$.x(I);return T.join("")}}}var TM=mw(vM,"px, ","px)","deg)"),bM=mw(EM,", ",")",")"),No=0,Ql=0,zl=0,pw=1e3,ef,Yl,nf=0,pa=0,Cf=0,vu=typeof performance=="object"&&performance.now?performance:Date,gw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function kg(){return pa||(gw(wM),pa=vu.now()+Cf)}function wM(){pa=0}function rf(){this._call=this._time=this._next=null}rf.prototype=yw.prototype={constructor:rf,restart:function(i,t,n){if(typeof i!="function")throw new TypeError("callback is not a function");n=(n==null?kg():+n)+(t==null?0:+t),!this._next&&Yl!==this&&(Yl?Yl._next=this:ef=this,Yl=this),this._call=i,this._time=n,Dp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dp())}};function yw(i,t,n){var s=new rf;return s.restart(i,t,n),s}function AM(){kg(),++No;for(var i=ef,t;i;)(t=pa-i._time)>=0&&i._call.call(void 0,t),i=i._next;--No}function rT(){pa=(nf=vu.now())+Cf,No=Ql=0;try{AM()}finally{No=0,xM(),pa=0}}function SM(){var i=vu.now(),t=i-nf;t>pw&&(Cf-=t,nf=i)}function xM(){for(var i,t=ef,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),i=t,t=t._next):(n=t._next,t._next=null,t=i?i._next=n:ef=n);Yl=i,Dp(s)}function Dp(i){if(!No){Ql&&(Ql=clearTimeout(Ql));var t=i-pa;t>24?(i<1/0&&(Ql=setTimeout(rT,i-vu.now()-Cf)),zl&&(zl=clearInterval(zl))):(zl||(nf=vu.now(),zl=setInterval(SM,pw)),No=1,gw(rT))}}function sT(i,t,n){var s=new rf;return t=t==null?0:+t,s.restart(o=>{s.stop(),i(o+t)},t,n),s}var NM=X1("start","end","cancel","interrupt"),RM=[],_w=0,aT=1,Op=2,Dh=3,oT=4,Mp=5,Oh=6;function If(i,t,n,s,o,u){var c=i.__transition;if(!c)i.__transition={};else if(n in c)return;CM(i,n,{name:t,index:s,group:o,on:NM,tween:RM,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:_w})}function Vg(i,t){var n=di(i,t);if(n.state>_w)throw new Error("too late; already scheduled");return n}function $i(i,t){var n=di(i,t);if(n.state>Dh)throw new Error("too late; already running");return n}function di(i,t){var n=i.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function CM(i,t,n){var s=i.__transition,o;s[t]=n,n.timer=yw(u,0,n.time);function u(g){n.state=aT,n.timer.restart(c,n.delay,n.time),n.delay<=g&&c(g-n.delay)}function c(g){var v,T,A,I;if(n.state!==aT)return p();for(v in s)if(I=s[v],I.name===n.name){if(I.state===Dh)return sT(c);I.state===oT?(I.state=Oh,I.timer.stop(),I.on.call("interrupt",i,i.__data__,I.index,I.group),delete s[v]):+v<t&&(I.state=Oh,I.timer.stop(),I.on.call("cancel",i,i.__data__,I.index,I.group),delete s[v])}if(sT(function(){n.state===Dh&&(n.state=oT,n.timer.restart(m,n.delay,n.time),m(g))}),n.state=Op,n.on.call("start",i,i.__data__,n.index,n.group),n.state===Op){for(n.state=Dh,o=new Array(A=n.tween.length),v=0,T=-1;v<A;++v)(I=n.tween[v].value.call(i,i.__data__,n.index,n.group))&&(o[++T]=I);o.length=T+1}}function m(g){for(var v=g<n.duration?n.ease.call(null,g/n.duration):(n.timer.restart(p),n.state=Mp,1),T=-1,A=o.length;++T<A;)o[T].call(i,v);n.state===Mp&&(n.on.call("end",i,i.__data__,n.index,n.group),p())}function p(){n.state=Oh,n.timer.stop(),delete s[t];for(var g in s)return;delete i.__transition}}function IM(i,t){var n=i.__transition,s,o,u=!0,c;if(n){t=t==null?null:t+"";for(c in n){if((s=n[c]).name!==t){u=!1;continue}o=s.state>Op&&s.state<Mp,s.state=Oh,s.timer.stop(),s.on.call(o?"interrupt":"cancel",i,i.__data__,s.index,s.group),delete n[c]}u&&delete i.__transition}}function DM(i){return this.each(function(){IM(this,i)})}function OM(i,t){var n,s;return function(){var o=$i(this,i),u=o.tween;if(u!==n){s=n=u;for(var c=0,m=s.length;c<m;++c)if(s[c].name===t){s=s.slice(),s.splice(c,1);break}}o.tween=s}}function MM(i,t,n){var s,o;if(typeof n!="function")throw new Error;return function(){var u=$i(this,i),c=u.tween;if(c!==s){o=(s=c).slice();for(var m={name:t,value:n},p=0,g=o.length;p<g;++p)if(o[p].name===t){o[p]=m;break}p===g&&o.push(m)}u.tween=o}}function kM(i,t){var n=this._id;if(i+="",arguments.length<2){for(var s=di(this.node(),n).tween,o=0,u=s.length,c;o<u;++o)if((c=s[o]).name===i)return c.value;return null}return this.each((t==null?OM:MM)(n,i,t))}function Lg(i,t,n){var s=i._id;return i.each(function(){var o=$i(this,s);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return di(o,s).value[t]}}function vw(i,t){var n;return(typeof t=="number"?os:t instanceof _u?nT:(n=_u(t))?(t=n,nT):_M)(i,t)}function VM(i){return function(){this.removeAttribute(i)}}function LM(i){return function(){this.removeAttributeNS(i.space,i.local)}}function PM(i,t,n){var s,o=n+"",u;return function(){var c=this.getAttribute(i);return c===o?null:c===s?u:u=t(s=c,n)}}function UM(i,t,n){var s,o=n+"",u;return function(){var c=this.getAttributeNS(i.space,i.local);return c===o?null:c===s?u:u=t(s=c,n)}}function jM(i,t,n){var s,o,u;return function(){var c,m=n(this),p;return m==null?void this.removeAttribute(i):(c=this.getAttribute(i),p=m+"",c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,m)))}}function zM(i,t,n){var s,o,u;return function(){var c,m=n(this),p;return m==null?void this.removeAttributeNS(i.space,i.local):(c=this.getAttributeNS(i.space,i.local),p=m+"",c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,m)))}}function BM(i,t){var n=Rf(i),s=n==="transform"?bM:vw;return this.attrTween(i,typeof t=="function"?(n.local?zM:jM)(n,s,Lg(this,"attr."+i,t)):t==null?(n.local?LM:VM)(n):(n.local?UM:PM)(n,s,t))}function qM(i,t){return function(n){this.setAttribute(i,t.call(this,n))}}function HM(i,t){return function(n){this.setAttributeNS(i.space,i.local,t.call(this,n))}}function FM(i,t){var n,s;function o(){var u=t.apply(this,arguments);return u!==s&&(n=(s=u)&&HM(i,u)),n}return o._value=t,o}function GM(i,t){var n,s;function o(){var u=t.apply(this,arguments);return u!==s&&(n=(s=u)&&qM(i,u)),n}return o._value=t,o}function $M(i,t){var n="attr."+i;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=Rf(i);return this.tween(n,(s.local?FM:GM)(s,t))}function QM(i,t){return function(){Vg(this,i).delay=+t.apply(this,arguments)}}function YM(i,t){return t=+t,function(){Vg(this,i).delay=t}}function KM(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?QM:YM)(t,i)):di(this.node(),t).delay}function XM(i,t){return function(){$i(this,i).duration=+t.apply(this,arguments)}}function ZM(i,t){return t=+t,function(){$i(this,i).duration=t}}function JM(i){var t=this._id;return arguments.length?this.each((typeof i=="function"?XM:ZM)(t,i)):di(this.node(),t).duration}function WM(i,t){if(typeof t!="function")throw new Error;return function(){$i(this,i).ease=t}}function t3(i){var t=this._id;return arguments.length?this.each(WM(t,i)):di(this.node(),t).ease}function e3(i,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;$i(this,i).ease=n}}function n3(i){if(typeof i!="function")throw new Error;return this.each(e3(this._id,i))}function i3(i){typeof i!="function"&&(i=W1(i));for(var t=this._groups,n=t.length,s=new Array(n),o=0;o<n;++o)for(var u=t[o],c=u.length,m=s[o]=[],p,g=0;g<c;++g)(p=u[g])&&i.call(p,p.__data__,g,u)&&m.push(p);return new Tr(s,this._parents,this._name,this._id)}function r3(i){if(i._id!==this._id)throw new Error;for(var t=this._groups,n=i._groups,s=t.length,o=n.length,u=Math.min(s,o),c=new Array(s),m=0;m<u;++m)for(var p=t[m],g=n[m],v=p.length,T=c[m]=new Array(v),A,I=0;I<v;++I)(A=p[I]||g[I])&&(T[I]=A);for(;m<s;++m)c[m]=t[m];return new Tr(c,this._parents,this._name,this._id)}function s3(i){return(i+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function a3(i,t,n){var s,o,u=s3(t)?Vg:$i;return function(){var c=u(this,i),m=c.on;m!==s&&(o=(s=m).copy()).on(t,n),c.on=o}}function o3(i,t){var n=this._id;return arguments.length<2?di(this.node(),n).on.on(i):this.each(a3(n,i,t))}function l3(i){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==i)return;t&&t.removeChild(this)}}function u3(){return this.on("end.remove",l3(this._id))}function c3(i){var t=this._name,n=this._id;typeof i!="function"&&(i=Dg(i));for(var s=this._groups,o=s.length,u=new Array(o),c=0;c<o;++c)for(var m=s[c],p=m.length,g=u[c]=new Array(p),v,T,A=0;A<p;++A)(v=m[A])&&(T=i.call(v,v.__data__,A,m))&&("__data__"in v&&(T.__data__=v.__data__),g[A]=T,If(g[A],t,n,A,g,di(v,n)));return new Tr(u,this._parents,t,n)}function h3(i){var t=this._name,n=this._id;typeof i!="function"&&(i=J1(i));for(var s=this._groups,o=s.length,u=[],c=[],m=0;m<o;++m)for(var p=s[m],g=p.length,v,T=0;T<g;++T)if(v=p[T]){for(var A=i.call(v,v.__data__,T,p),I,U=di(v,n),F=0,$=A.length;F<$;++F)(I=A[F])&&If(I,t,n,F,A,U);u.push(A),c.push(v)}return new Tr(u,c,t,n)}var f3=Du.prototype.constructor;function d3(){return new f3(this._groups,this._parents)}function m3(i,t){var n,s,o;return function(){var u=xo(this,i),c=(this.style.removeProperty(i),xo(this,i));return u===c?null:u===n&&c===s?o:o=t(n=u,s=c)}}function Ew(i){return function(){this.style.removeProperty(i)}}function p3(i,t,n){var s,o=n+"",u;return function(){var c=xo(this,i);return c===o?null:c===s?u:u=t(s=c,n)}}function g3(i,t,n){var s,o,u;return function(){var c=xo(this,i),m=n(this),p=m+"";return m==null&&(p=m=(this.style.removeProperty(i),xo(this,i))),c===p?null:c===s&&p===o?u:(o=p,u=t(s=c,m))}}function y3(i,t){var n,s,o,u="style."+t,c="end."+u,m;return function(){var p=$i(this,i),g=p.on,v=p.value[u]==null?m||(m=Ew(t)):void 0;(g!==n||o!==v)&&(s=(n=g).copy()).on(c,o=v),p.on=s}}function _3(i,t,n){var s=(i+="")=="transform"?TM:vw;return t==null?this.styleTween(i,m3(i,s)).on("end.style."+i,Ew(i)):typeof t=="function"?this.styleTween(i,g3(i,s,Lg(this,"style."+i,t))).each(y3(this._id,i)):this.styleTween(i,p3(i,s,t),n).on("end.style."+i,null)}function v3(i,t,n){return function(s){this.style.setProperty(i,t.call(this,s),n)}}function E3(i,t,n){var s,o;function u(){var c=t.apply(this,arguments);return c!==o&&(s=(o=c)&&v3(i,c,n)),s}return u._value=t,u}function T3(i,t,n){var s="style."+(i+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,E3(i,t,n??""))}function b3(i){return function(){this.textContent=i}}function w3(i){return function(){var t=i(this);this.textContent=t??""}}function A3(i){return this.tween("text",typeof i=="function"?w3(Lg(this,"text",i)):b3(i==null?"":i+""))}function S3(i){return function(t){this.textContent=i.call(this,t)}}function x3(i){var t,n;function s(){var o=i.apply(this,arguments);return o!==n&&(t=(n=o)&&S3(o)),t}return s._value=i,s}function N3(i){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(i==null)return this.tween(t,null);if(typeof i!="function")throw new Error;return this.tween(t,x3(i))}function R3(){for(var i=this._name,t=this._id,n=Tw(),s=this._groups,o=s.length,u=0;u<o;++u)for(var c=s[u],m=c.length,p,g=0;g<m;++g)if(p=c[g]){var v=di(p,t);If(p,i,n,g,c,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Tr(s,this._parents,i,n)}function C3(){var i,t,n=this,s=n._id,o=n.size();return new Promise(function(u,c){var m={value:c},p={value:function(){--o===0&&u()}};n.each(function(){var g=$i(this,s),v=g.on;v!==i&&(t=(i=v).copy(),t._.cancel.push(m),t._.interrupt.push(m),t._.end.push(p)),g.on=t}),o===0&&u()})}var I3=0;function Tr(i,t,n,s){this._groups=i,this._parents=t,this._name=n,this._id=s}function Tw(){return++I3}var dr=Du.prototype;Tr.prototype={constructor:Tr,select:c3,selectAll:h3,selectChild:dr.selectChild,selectChildren:dr.selectChildren,filter:i3,merge:r3,selection:d3,transition:R3,call:dr.call,nodes:dr.nodes,node:dr.node,size:dr.size,empty:dr.empty,each:dr.each,on:o3,attr:BM,attrTween:$M,style:_3,styleTween:T3,text:A3,textTween:N3,remove:u3,tween:kM,delay:KM,duration:JM,ease:t3,easeVarying:n3,end:C3,[Symbol.iterator]:dr[Symbol.iterator]};function D3(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var O3={time:null,delay:0,duration:250,ease:D3};function M3(i,t){for(var n;!(n=i.__transition)||!(n=n[t]);)if(!(i=i.parentNode))throw new Error(`transition ${t} not found`);return n}function k3(i){var t,n;i instanceof Tr?(t=i._id,i=i._name):(t=Tw(),(n=O3).time=kg(),i=i==null?null:i+"");for(var s=this._groups,o=s.length,u=0;u<o;++u)for(var c=s[u],m=c.length,p,g=0;g<m;++g)(p=c[g])&&If(p,i,t,g,c,n||M3(p,t));return new Tr(s,this._parents,i,t)}Du.prototype.interrupt=DM;Du.prototype.transition=k3;function Kl(i,t,n){this.k=i,this.x=t,this.y=n}Kl.prototype={constructor:Kl,scale:function(i){return i===1?this:new Kl(this.k*i,this.x,this.y)},translate:function(i,t){return i===0&t===0?this:new Kl(this.k,this.x+this.k*i,this.y+this.k*t)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Kl.prototype;function lT(i,t){let n;if(t===void 0)for(const s of i)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);else{let s=-1;for(let o of i)(o=t(o,++s,i))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function V3(i,t){let n;if(t===void 0)for(const s of i)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);else{let s=-1;for(let o of i)(o=t(o,++s,i))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function Ym(i,t){let n=0;if(t===void 0)for(let s of i)(s=+s)&&(n+=s);else{let s=-1;for(let o of i)(o=+t(o,++s,i))&&(n+=o)}return n}function L3(i,t){return i.sourceLinks.length?i.depth:t-1}function _h(i){return function(){return i}}function uT(i,t){return sf(i.source,t.source)||i.index-t.index}function cT(i,t){return sf(i.target,t.target)||i.index-t.index}function sf(i,t){return i.y0-t.y0}function Km(i){return i.value}function P3(i){return i.index}function U3(i){return i.nodes}function j3(i){return i.links}function hT(i,t){const n=i.get(t);if(!n)throw new Error("missing: "+t);return n}function fT({nodes:i}){for(const t of i){let n=t.y0,s=n;for(const o of t.sourceLinks)o.y0=n+o.width/2,n+=o.width;for(const o of t.targetLinks)o.y1=s+o.width/2,s+=o.width}}function z3(){let i=0,t=0,n=1,s=1,o=24,u=8,c,m=P3,p=L3,g,v,T=U3,A=j3,I=6;function U(){const K={nodes:T.apply(null,arguments),links:A.apply(null,arguments)};return F(K),$(K),lt(K),Z(K),X(K),fT(K),K}U.update=function(K){return fT(K),K},U.nodeId=function(K){return arguments.length?(m=typeof K=="function"?K:_h(K),U):m},U.nodeAlign=function(K){return arguments.length?(p=typeof K=="function"?K:_h(K),U):p},U.nodeSort=function(K){return arguments.length?(g=K,U):g},U.nodeWidth=function(K){return arguments.length?(o=+K,U):o},U.nodePadding=function(K){return arguments.length?(u=c=+K,U):u},U.nodes=function(K){return arguments.length?(T=typeof K=="function"?K:_h(K),U):T},U.links=function(K){return arguments.length?(A=typeof K=="function"?K:_h(K),U):A},U.linkSort=function(K){return arguments.length?(v=K,U):v},U.size=function(K){return arguments.length?(i=t=0,n=+K[0],s=+K[1],U):[n-i,s-t]},U.extent=function(K){return arguments.length?(i=+K[0][0],n=+K[1][0],t=+K[0][1],s=+K[1][1],U):[[i,t],[n,s]]},U.iterations=function(K){return arguments.length?(I=+K,U):I};function F({nodes:K,links:P}){for(const[et,it]of K.entries())it.index=et,it.sourceLinks=[],it.targetLinks=[];const G=new Map(K.map((et,it)=>[m(et,it,K),et]));for(const[et,it]of P.entries()){it.index=et;let{source:dt,target:k}=it;typeof dt!="object"&&(dt=it.source=hT(G,dt)),typeof k!="object"&&(k=it.target=hT(G,k)),dt.sourceLinks.push(it),k.targetLinks.push(it)}if(v!=null)for(const{sourceLinks:et,targetLinks:it}of K)et.sort(v),it.sort(v)}function $({nodes:K}){for(const P of K)P.value=P.fixedValue===void 0?Math.max(Ym(P.sourceLinks,Km),Ym(P.targetLinks,Km)):P.fixedValue}function lt({nodes:K}){const P=K.length;let G=new Set(K),et=new Set,it=0;for(;G.size;){for(const dt of G){dt.depth=it;for(const{target:k}of dt.sourceLinks)et.add(k)}if(++it>P)throw new Error("circular link");G=et,et=new Set}}function Z({nodes:K}){const P=K.length;let G=new Set(K),et=new Set,it=0;for(;G.size;){for(const dt of G){dt.height=it;for(const{source:k}of dt.targetLinks)et.add(k)}if(++it>P)throw new Error("circular link");G=et,et=new Set}}function ot({nodes:K}){const P=lT(K,it=>it.depth)+1,G=(n-i-o)/(P-1),et=new Array(P);for(const it of K){const dt=Math.max(0,Math.min(P-1,Math.floor(p.call(null,it,P))));it.layer=dt,it.x0=i+dt*G,it.x1=it.x0+o,et[dt]?et[dt].push(it):et[dt]=[it]}if(g)for(const it of et)it.sort(g);return et}function ct(K){const P=V3(K,G=>(s-t-(G.length-1)*c)/Ym(G,Km));for(const G of K){let et=t;for(const it of G){it.y0=et,it.y1=et+it.value*P,et=it.y1+c;for(const dt of it.sourceLinks)dt.width=dt.value*P}et=(s-et+c)/(G.length+1);for(let it=0;it<G.length;++it){const dt=G[it];dt.y0+=et*(it+1),dt.y1+=et*(it+1)}L(G)}}function X(K){const P=ot(K);c=Math.min(u,(s-t)/(lT(P,G=>G.length)-1)),ct(P);for(let G=0;G<I;++G){const et=Math.pow(.99,G),it=Math.max(1-et,(G+1)/I);R(P,et,it),st(P,et,it)}}function st(K,P,G){for(let et=1,it=K.length;et<it;++et){const dt=K[et];for(const k of dt){let W=0,ut=0;for(const{source:vt,value:xt}of k.targetLinks){let Dt=xt*(k.layer-vt.layer);W+=N(vt,k)*Dt,ut+=Dt}if(!(ut>0))continue;let ft=(W/ut-k.y0)*P;k.y0+=ft,k.y1+=ft,O(k)}g===void 0&&dt.sort(sf),S(dt,G)}}function R(K,P,G){for(let et=K.length,it=et-2;it>=0;--it){const dt=K[it];for(const k of dt){let W=0,ut=0;for(const{target:vt,value:xt}of k.sourceLinks){let Dt=xt*(vt.layer-k.layer);W+=gt(k,vt)*Dt,ut+=Dt}if(!(ut>0))continue;let ft=(W/ut-k.y0)*P;k.y0+=ft,k.y1+=ft,O(k)}g===void 0&&dt.sort(sf),S(dt,G)}}function S(K,P){const G=K.length>>1,et=K[G];D(K,et.y0-c,G-1,P),C(K,et.y1+c,G+1,P),D(K,s,K.length-1,P),C(K,t,0,P)}function C(K,P,G,et){for(;G<K.length;++G){const it=K[G],dt=(P-it.y0)*et;dt>1e-6&&(it.y0+=dt,it.y1+=dt),P=it.y1+c}}function D(K,P,G,et){for(;G>=0;--G){const it=K[G],dt=(it.y1-P)*et;dt>1e-6&&(it.y0-=dt,it.y1-=dt),P=it.y0-c}}function O({sourceLinks:K,targetLinks:P}){if(v===void 0){for(const{source:{sourceLinks:G}}of P)G.sort(cT);for(const{target:{targetLinks:G}}of K)G.sort(uT)}}function L(K){if(v===void 0)for(const{sourceLinks:P,targetLinks:G}of K)P.sort(cT),G.sort(uT)}function N(K,P){let G=K.y0-(K.sourceLinks.length-1)*c/2;for(const{target:et,width:it}of K.sourceLinks){if(et===P)break;G+=it+c}for(const{source:et,width:it}of P.targetLinks){if(et===K)break;G-=it}return G}function gt(K,P){let G=P.y0-(P.targetLinks.length-1)*c/2;for(const{source:et,width:it}of P.targetLinks){if(et===K)break;G+=it+c}for(const{target:et,width:it}of K.sourceLinks){if(et===P)break;G-=it}return G}return U}var kp=Math.PI,Vp=2*kp,ia=1e-6,B3=Vp-ia;function Lp(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function bw(){return new Lp}Lp.prototype=bw.prototype={constructor:Lp,moveTo:function(i,t){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(i,t){this._+="L"+(this._x1=+i)+","+(this._y1=+t)},quadraticCurveTo:function(i,t,n,s){this._+="Q"+ +i+","+ +t+","+(this._x1=+n)+","+(this._y1=+s)},bezierCurveTo:function(i,t,n,s,o,u){this._+="C"+ +i+","+ +t+","+ +n+","+ +s+","+(this._x1=+o)+","+(this._y1=+u)},arcTo:function(i,t,n,s,o){i=+i,t=+t,n=+n,s=+s,o=+o;var u=this._x1,c=this._y1,m=n-i,p=s-t,g=u-i,v=c-t,T=g*g+v*v;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=i)+","+(this._y1=t);else if(T>ia)if(!(Math.abs(v*m-p*g)>ia)||!o)this._+="L"+(this._x1=i)+","+(this._y1=t);else{var A=n-u,I=s-c,U=m*m+p*p,F=A*A+I*I,$=Math.sqrt(U),lt=Math.sqrt(T),Z=o*Math.tan((kp-Math.acos((U+T-F)/(2*$*lt)))/2),ot=Z/lt,ct=Z/$;Math.abs(ot-1)>ia&&(this._+="L"+(i+ot*g)+","+(t+ot*v)),this._+="A"+o+","+o+",0,0,"+ +(v*A>g*I)+","+(this._x1=i+ct*m)+","+(this._y1=t+ct*p)}},arc:function(i,t,n,s,o,u){i=+i,t=+t,n=+n,u=!!u;var c=n*Math.cos(s),m=n*Math.sin(s),p=i+c,g=t+m,v=1^u,T=u?s-o:o-s;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+p+","+g:(Math.abs(this._x1-p)>ia||Math.abs(this._y1-g)>ia)&&(this._+="L"+p+","+g),n&&(T<0&&(T=T%Vp+Vp),T>B3?this._+="A"+n+","+n+",0,1,"+v+","+(i-c)+","+(t-m)+"A"+n+","+n+",0,1,"+v+","+(this._x1=p)+","+(this._y1=g):T>ia&&(this._+="A"+n+","+n+",0,"+ +(T>=kp)+","+v+","+(this._x1=i+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(i,t,n,s){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +s+"h"+-n+"Z"},toString:function(){return this._}};function dT(i){return function(){return i}}function q3(i){return i[0]}function H3(i){return i[1]}var F3=Array.prototype.slice;function G3(i){return i.source}function $3(i){return i.target}function Q3(i){var t=G3,n=$3,s=q3,o=H3,u=null;function c(){var m,p=F3.call(arguments),g=t.apply(this,p),v=n.apply(this,p);if(u||(u=m=bw()),i(u,+s.apply(this,(p[0]=g,p)),+o.apply(this,p),+s.apply(this,(p[0]=v,p)),+o.apply(this,p)),m)return u=null,m+""||null}return c.source=function(m){return arguments.length?(t=m,c):t},c.target=function(m){return arguments.length?(n=m,c):n},c.x=function(m){return arguments.length?(s=typeof m=="function"?m:dT(+m),c):s},c.y=function(m){return arguments.length?(o=typeof m=="function"?m:dT(+m),c):o},c.context=function(m){return arguments.length?(u=m??null,c):u},c}function Y3(i,t,n,s,o){i.moveTo(t,n),i.bezierCurveTo(t=(t+s)/2,n,t,o,s,o)}function K3(){return Q3(Y3)}function X3(i){return[i.source.x1,i.y0]}function Z3(i){return[i.target.x0,i.y1]}function J3(){return K3().source(X3).target(Z3)}function W3({data:i,height:t=560,nodeWidth:n=16,nodePadding:s=18,onNodeClick:o}){const u=ce.useRef(null),[c,m]=ce.useState(0);return ce.useEffect(()=>{const p=u.current;if(!p)return;const g=new ResizeObserver(v=>{const T=Math.floor(v[0]?.contentRect?.width||0);m(T)});return g.observe(p),m(Math.floor(p.clientWidth||0)),()=>g.disconnect()},[]),ce.useEffect(()=>{const p=u.current;if(!p)return;p.innerHTML="";const g=Math.max(320,c||p.clientWidth||0),v=tM(p).append("svg").attr("width",g).attr("height",t).attr("viewBox",`0 0 ${g} ${t}`).style("display","block"),T=Z=>{v.append("text").attr("x",16).attr("y",28).attr("fill","#e2e8f0").attr("font-size",12).text(Z)},A={Income:"#22c55e",Fixed:"#f97316",Essential:"#3b82f6",Variable:"#a855f7",Transfers:"#eab308",Leftover:"#10b981"},I=Number(i?.meta?.incomeTotal||0),U=Z=>I>0?Z/I*100:0,F=Z=>`$${Number(Z||0).toFixed(2)}`,$=g<420?10:12;let lt=requestAnimationFrame(()=>{try{const Z=Array.isArray(i?.nodes)?i.nodes:[],ot=Array.isArray(i?.links)?i.links:[];if(!Z.length||!ot.length){T("No report data yet  import transactions to see cash flow.");return}const ct=new Set(Z.map(N=>N?.name).filter(Boolean));for(const N of ot)typeof N?.source=="string"&&ct.add(N.source),typeof N?.target=="string"&&ct.add(N.target);const X=[...ct],st=new Map(X.map((N,gt)=>[N,gt])),R=X.map(N=>({name:N})),S=ot.map(N=>{const gt=typeof N.source=="string"?st.get(N.source):N.source,K=typeof N.target=="string"?st.get(N.target):N.target,P=Number(N.value||0);return typeof gt!="number"||typeof K!="number"||!Number.isFinite(P)||P<=0?null:{source:gt,target:K,value:P}}).filter(Boolean);if(!S.length){T("Report links are empty after validation.");return}const D=z3().nodeWidth(n).nodePadding(s).extent([[12,12],[g-12,t-12]])({nodes:R.map(N=>({...N})),links:S.map(N=>({...N}))});v.append("g").attr("fill","none").attr("stroke-opacity",.35).selectAll("path").data(D.links).join("path").attr("d",J3()).attr("stroke",N=>{const gt=D.nodes[N.source.index]?.name;return A[gt]||"#94a3b8"}).attr("stroke-width",N=>Math.max(1,N.width)).append("title").text(N=>{const gt=Number(N.value||0),K=D.nodes[N.source.index]?.name,P=D.nodes[N.target.index]?.name;return`${K}  ${P}
${F(gt)} (${U(gt).toFixed(1)}% of income)`});const L=v.append("g").selectAll("g").data(D.nodes).join("g");L.append("rect").attr("x",N=>N.x0).attr("y",N=>N.y0).attr("height",N=>Math.max(1,N.y1-N.y0)).attr("width",N=>N.x1-N.x0).attr("rx",6).attr("fill",N=>A[N.name]||"#64748b").attr("opacity",.9).style("cursor",typeof o=="function"?"pointer":"default").on("click",(N,gt)=>{typeof o=="function"&&o(gt.name,gt)}).append("title").text(N=>{const gt=Number(N.value||0);return`${N.name}
${F(gt)} (${U(gt).toFixed(1)}% of income)`}),L.append("text").attr("x",N=>N.x0<g/2?N.x1+8:N.x0-8).attr("y",N=>(N.y0+N.y1)/2).attr("dy","0.35em").attr("text-anchor",N=>N.x0<g/2?"start":"end").attr("font-size",$).attr("fill","#e2e8f0").text(N=>N.name)}catch(Z){console.error("FlowSankey render error:",Z),T(`Sankey render error: ${Z?.message||String(Z)}`)}});return()=>cancelAnimationFrame(lt)},[i,t,n,s,o,c]),b.jsx("div",{ref:u,style:{width:"100%"}})}const Xm={topNPerBucket:10,maxRows:2e4,includeTransfers:!0,preset:"Detailed"};function tk(i){return!i||typeof i!="string"||i.length<7?null:i.slice(0,7)}function Zm(i){const t=Number(i);return Number.isFinite(t)?t:0}function ek(i=""){let t=String(i).trim().toLowerCase();return t=t.replace(/\s+/g," "),t}function nk(i=""){let t=String(i).trim();return t=t.replace(/[*#]{3,}\w{2,}$/g,"").trim(),t=t.replace(/\b(?:\d{3,}|x{3,}\d+)\b/gi,"").trim(),t=t.replace(/\s+/g," "),t.length>28&&(t=t.slice(0,26)+""),t||"Uncategorized"}const ik=["rent","mortgage","apts","apt","apartment","lease","property management","hoa","insurance","internet","phone","utilities","loan","payment"],rk=["amazon prime","prime membership","netflix","hulu","spotify","youtube premium","rocket money","membership","subscription","icloud","google one","dropbox"],sk=["grocery","costco","walmart","gas","fuel","medical","pharmacy","power","water"],ak=["transfer","zelle","venmo","cash app","withdrawal","deposit"];function ok(i=""){const t=i.toLowerCase();return ak.some(n=>t.includes(n))?"Transfers":ik.some(n=>t.includes(n))?"Fixed":rk.some(n=>t.includes(n))?"Subscriptions":sk.some(n=>t.includes(n))?"Essential":"Variable"}function lk(i,t){const n=[];for(const s of i.entries())n.push(s),n.sort((o,u)=>u[1]-o[1]),n.length>t&&(n.length=t);return n}function uk({accounts:i=[],monthKey:t,topNPerBucket:n=10,maxRows:s=2e4,includeTransfers:o=!0}){const u=(i||[]).flatMap(Z=>Z.transactions||[]),c=t?u.filter(Z=>tk(Z.date)===t):u,m=c.length>s?c.slice(-s):c,p=m.reduce((Z,ot)=>Z+(Zm(ot.amount)>0?Zm(ot.amount):0),0),g=new Map,v=new Map;for(const Z of m){const ot=Zm(Z.amount);if(!(ot<0))continue;const ct=ek(Z.description||""),X=nk(Z.description||""),st=ok(ct);if(!o&&st==="Transfers")continue;const R=Math.abs(ot);g.set(st,(g.get(st)||0)+R),v.has(st)||v.set(st,new Map);const S=v.get(st);S.set(X,(S.get(X)||0)+R)}if(p<=0&&g.size===0)return{nodes:[],links:[],meta:{incomeTotal:0}};const T=o?["Fixed","Subscriptions","Essential","Variable","Transfers"]:["Fixed","Subscriptions","Essential","Variable"],A=[{name:"Income"},...T.map(Z=>({name:Z}))],I=[];for(const Z of T){const ot=g.get(Z)||0;ot>0&&I.push({source:"Income",target:Z,value:ot})}for(const Z of T){const ot=v.get(Z);if(ot)for(const[ct,X]of lk(ot,n))A.push({name:ct}),I.push({source:Z,target:ct,value:X})}const U=T.reduce((Z,ot)=>ot==="Transfers"?Z:Z+(g.get(ot)||0),0),F=Math.max(0,p-U);F>0&&(A.push({name:"Leftover"}),I.push({source:"Income",target:"Leftover",value:F}));const $=new Set,lt=[];for(const Z of A)$.has(Z.name)||($.add(Z.name),lt.push(Z));return{nodes:lt,links:I,meta:{incomeTotal:p,totalIncome:p,spentTotal:U,totalSpent:U,transfersTotal:g.get("Transfers")||0,leftover:F}}}const mT="budgetApp_reportSettings_v1",ck={Minimal:{topNPerBucket:5,maxRows:1e4,includeTransfers:!1,preset:"Minimal"},Detailed:{topNPerBucket:12,maxRows:6e4,includeTransfers:!0,preset:"Detailed"},Audit:{topNPerBucket:30,maxRows:2e5,includeTransfers:!0,preset:"Audit"}};function pT(i,t,n,s){const o=Number(i);return Number.isFinite(o)?Math.max(t,Math.min(n,Math.trunc(o))):s}function hk({accounts:i=[],monthKey:t,onMerchantPick:n}){const[s,o]=ce.useState("overview"),[u,c]=ce.useState({nodes:[],links:[],meta:{incomeTotal:0}}),[m,p]=ce.useState(560);ce.useEffect(()=>{function A(){const I=Math.max(380,Math.min(680,Math.round(window.innerHeight*.55)));p(I)}return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const[g,v]=ce.useState(()=>{try{const A=localStorage.getItem(mT),I=A?JSON.parse(A):null;return{...Xm,...I||{}}}catch{return{...Xm}}});ce.useEffect(()=>{const A=setTimeout(()=>{c(uk({accounts:i,monthKey:t,topNPerBucket:g.topNPerBucket,maxRows:g.maxRows,includeTransfers:g.includeTransfers}))},0);return()=>clearTimeout(A)},[i,t,g.topNPerBucket,g.maxRows,g.includeTransfers]),ce.useEffect(()=>{const A=setTimeout(()=>{try{localStorage.setItem(mT,JSON.stringify(g))}catch{}},300);return()=>clearTimeout(A)},[g]);function T(A){const I=ck[A];I&&v(U=>({...U,...I,preset:A}))}return b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"flex items-center justify-between gap-3",children:b.jsxs("div",{className:"inline-flex rounded-xl border border-slate-800 bg-slate-950/40 p-1",children:[b.jsx("button",{onClick:()=>o("overview"),className:`px-3 py-1.5 text-sm rounded-lg ${s==="overview"?"bg-slate-900 text-slate-100":"text-slate-300 hover:text-slate-100"}`,children:"Overview"}),b.jsx("button",{onClick:()=>o("settings"),className:`px-3 py-1.5 text-sm rounded-lg ${s==="settings"?"bg-slate-900 text-slate-100":"text-slate-300 hover:text-slate-100"}`,children:"Settings"})]})}),s==="overview"&&b.jsx("div",{className:"rounded-2xl border border-slate-800 bg-slate-950/40 p-3",children:b.jsx("div",{className:"hScroll",children:b.jsx("div",{style:{minHeight:m},children:b.jsx(W3,{data:u,height:m,onNodeClick:A=>{!["Income","Fixed","Subscriptions","Essential","Variable","Transfers","Leftover"].includes(A)&&typeof n=="function"&&n(A)}})})})}),s==="settings"&&b.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-950/40 p-4 space-y-5",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"text-sm font-medium text-slate-100",children:"Presets"}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[["Minimal","Detailed","Audit"].map(A=>b.jsx("button",{onClick:()=>T(A),className:"text-sm px-3 py-2 rounded-md border border-slate-800 bg-slate-900 hover:bg-slate-800 text-slate-100",children:A},A)),b.jsx("button",{onClick:()=>v({...Xm,preset:"Custom"}),className:"text-sm px-3 py-2 rounded-md border border-slate-800 bg-slate-900 hover:bg-slate-800 text-slate-100",children:"Reset"})]})]}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-slate-100 text-sm font-medium",children:"Top merchants per bucket"}),b.jsx("input",{type:"number",min:1,max:50,value:g.topNPerBucket,onChange:A=>v(I=>({...I,topNPerBucket:pT(A.target.value,1,50,10),preset:"Custom"})),className:"w-full bg-slate-900 border border-slate-800 rounded-md px-3 py-2 text-slate-100"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-slate-100 text-sm font-medium",children:"Max rows to process"}),b.jsx("input",{type:"number",min:1e3,max:2e5,step:1e3,value:g.maxRows,onChange:A=>v(I=>({...I,maxRows:pT(A.target.value,1e3,2e5,2e4),preset:"Custom"})),className:"w-full bg-slate-900 border border-slate-800 rounded-md px-3 py-2 text-slate-100"})]}),b.jsxs("div",{className:"flex items-center justify-between gap-4 md:col-span-2",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-slate-100 text-sm font-medium",children:"Include Transfers"}),b.jsx("p",{className:"text-slate-400 text-xs",children:"Show/hide Transfers bucket in the chart."})]}),b.jsx("input",{type:"checkbox",checked:!!g.includeTransfers,onChange:A=>v(I=>({...I,includeTransfers:A.target.checked,preset:"Custom"})),className:"h-5 w-5"})]})]})]})]})}const Pg="budgetAppState_v1";function fk(){if(typeof window>"u")return null;try{const i=window.localStorage.getItem(Pg);return i?JSON.parse(i):null}catch(i){return console.error("Failed to load stored state",i),null}}function dk(i){if(!(typeof window>"u"))try{window.localStorage.setItem(Pg,JSON.stringify(i))}catch(t){console.error("Failed to save state",t)}}function mk(i){if(!i)return null;if(i.accounts&&Array.isArray(i.accounts))return i;const t={id:"main",name:"Main Account",type:"checking",transactions:Array.isArray(i.transactions)?i.transactions:[]};return{...i,accounts:[t],currentAccountId:i.currentAccountId||"main"}}const Pp=[{key:"dashboard",label:"Dashboard"},{key:"balances",label:"Accounts"},{key:"budget",label:"Budget"},{key:"transactions",label:"Transactions"},{key:"goalDetail",label:"Goals"},{key:"reports",label:"Reports"}],pk=Object.fromEntries(Pp.map(i=>[i.key,i.label])),gT=["monthOverview","accountSnapshot","goals","csvImport"];function gk(){const i=new Date;return`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`}function yk(){const{user:i,authLoading:t,signInWithEmail:n,signUpWithEmail:s,signOut:o,resetPassword:u}=ID();function c(Rt=[],me=[]){const un=new Set(Rt.map(Vt=>`${Vt.date}|${Vt.amount}|${Vt.description}|${Vt.accountId}`)),Ee=[...Rt];for(const Vt of me){const Zt=`${Vt.date}|${Vt.amount}|${Vt.description}|${Vt.accountId}`;un.has(Zt)||(un.add(Zt),Ee.push(Vt))}return Ee}const m=i?.uid||null,p=St.useRef(!1),g=St.useRef(null),v=St.useRef(null);v.current===null&&(v.current=mk(fk()));const T=v.current,[A,I]=St.useState(T?.theme||"dark"),[U,F]=St.useState(T?.budgetsByMonth||{}),[$,lt]=St.useState(T?.activeMonth||gk()),[Z,ot]=St.useState(T?.goals||[]),[ct,X]=St.useState(jl(T?.accounts||[])),[st,R]=St.useState(T?.currentAccountId||"main"),[S,C]=St.useState(T?.navOrder||Pp.map(Rt=>Rt.key));St.useEffect(()=>{(!Array.isArray(S)||S.length===0)&&C(Pp.map(Rt=>Rt.key))},[S]);const[D,O]=St.useState(T?.homePage||"dashboard"),[L,N]=St.useState(T?.dashboardSectionsOrder||gT),[gt,K]=St.useState(D),[P,G]=St.useState(T?.selectedGoalId||null),[et,it]=St.useState(T?.txFilter||""),[dt,k]=St.useState(null),[W,ut]=St.useState(null),[ft,vt]=St.useState(null),[xt,Dt]=St.useState(!1),se=U[$]||{month:$,income:0},Xt=St.useMemo(()=>{const Rt=HE(se.fixed||[]),me=HE(se.variable||[]);return{fixed:Rt,variable:me,leftover:se.income-Rt-me}},[se]),mi=St.useMemo(()=>$1(A),[A]);St.useEffect(()=>{i?.uid&&(Dt(!0),VD(i).then(vt).finally(()=>Dt(!1)))},[i?.uid]),St.useEffect(()=>{if(!m)return;const Rt=Ao(So,"workspaces",m),me=ND(Rt,un=>{const Ee=un.data()?.state;Ee&&(p.current=!0,F(Ee.budgetsByMonth||{}),lt(Ee.activeMonth||$),ot(Ee.goals||[]),X(jl(Ee.accounts||[])),R(Ee.currentAccountId||"main"),C(Ee.navOrder||S),N(Ee.dashboardSectionsOrder||gT),I(Ee.theme||"dark"))});return()=>me()},[m]),St.useEffect(()=>{m&&DD(m).then(Rt=>{Rt&&(p.current=!0,F(Rt.budgetsByMonth||{}),lt(Rt.activeMonth||$),ot(Rt.goals||[]),X(jl(Rt.accounts||[])))})},[m]),St.useEffect(()=>{const Rt={budgetsByMonth:U,activeMonth:$,goals:Z,accounts:ct,currentAccountId:st,navOrder:S,homePage:D,dashboardSectionsOrder:L,theme:A,txFilter:et};if(dk(Rt),!!m){if(p.current){p.current=!1;return}clearTimeout(g.current),g.current=setTimeout(()=>{OD(m,Rt).then(()=>ut(new Date().toLocaleTimeString()))},600)}},[m,U,$,Z,ct,st,S,D,L,A,et]);async function Sr(){window.confirm("Reset all data?")&&(m&&await xD(Ao(So,"workspaces",m)),localStorage.removeItem(Pg),window.location.reload())}if(!i)return b.jsx(BD,{loading:t,onSignIn:n,onSignUp:s,onResetPassword:u});function xr(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`tx-${Date.now()}-${Math.random().toString(16).slice(2)}`}function Nr(Rt){return Array.isArray(Rt)?Rt:[]}function Dn(Rt=[],me={}){const un=Nr(Rt).map(ye=>{const oe=typeof ye.amount=="number"?ye.amount:Number(ye.amount);return{id:ye.id||xr(),date:ye.date||"",description:ye.description||"",category:ye.category||"",amount:Number.isFinite(oe)?oe:NaN}}).filter(ye=>Number.isFinite(ye.amount));if(!un.length){k({message:"No valid transactions were found in that file.",variant:"info"});return}const Ee=me.bank||me.detectedBank||me.filename||me.fileName||"Imported",Vt=hO(ct,st,un,Ee),Zt=Vt.targetAccountId,On=Vt.targetAccountName||Ee,Qi=un.map(ye=>({...ye,accountId:Zt}));X(ye=>{const oe=Array.isArray(ye)?ye:[],Yn=oe.some(tn=>tn.id===Zt);if(Vt.createdNew||!Yn){const tn={id:Zt,name:On,type:Vt.accounts?.find(Ns=>Ns.id===Zt)?.type||"checking",startingBalance:0,transactions:Qi};return jl([...oe,tn])}return jl(oe.map(tn=>tn.id===Zt?{...tn,transactions:K1(tn.transactions||[],Qi)}:tn))}),F(ye=>{const oe=ye?.[$]||{month:$,income:0,fixed:[],variable:[],transactions:[]},Yn=Array.isArray(oe.transactions)?oe.transactions:[],tn=c(Yn,Qi);return{...ye,[$]:{...oe,transactions:tn}}}),R(Zt),k({variant:"success",message:Vt.createdNew?`Created "${On}" and imported ${Qi.length} transactions.`:`Imported ${Qi.length} transactions into "${On}".`})}return b.jsxs("div",{className:`app-shell ${mi.shellClass}`,children:[b.jsx("header",{className:mi.headerClass,children:b.jsxs("div",{className:"content headerRow",children:[b.jsxs("div",{className:"brandAndNav",children:[b.jsx("span",{className:"appTitle",children:"BUDGET CENTER"}),b.jsx("div",{className:"navRow","aria-label":"Primary navigation",children:S.map(Rt=>b.jsx(PD,{label:pk[Rt],active:gt===Rt,onClick:()=>K(Rt)},Rt))})]}),b.jsxs("div",{className:"headerRight",children:[b.jsx(FD,{profile:ft,email:i.email,loading:xt,onUpdateProfile:Rt=>LD(i.uid,Rt).then(vt)}),b.jsx(zD,{onReset:Sr,onSignOut:o,themeValue:A,onChangeTheme:I})]})]})}),b.jsxs("main",{className:"content",children:[gt==="dashboard"&&b.jsx(aO,{month:$,income:se.income,fixed:Xt.fixed,variable:Xt.variable,leftover:Xt.leftover,goals:Z,accounts:ct,currentAccountId:st,onChangeCurrentAccount:R,onCsvImported:Dn}),gt==="balances"&&b.jsx(fO,{accounts:ct,currentAccountId:st,onChangeCurrentAccount:R,onAccountsChange:X}),gt==="budget"&&b.jsx(dO,{month:$,budget:se,totals:Xt,budgetsByMonth:U,onBudgetChange:Rt=>F(me=>({...me,[$]:Rt}))}),gt==="transactions"&&b.jsx(gO,{accounts:ct,currentAccountId:st,transactions:se.transactions||[],filter:et,onFilterChange:it,onUpdateBudget:Rt=>F(me=>({...me,[$]:Rt}))}),gt==="goalDetail"&&b.jsx(_O,{goals:Z,selectedGoalId:P,onSelectGoal:G,onGoalsChange:ot}),gt==="reports"&&b.jsx(hk,{accounts:ct,monthKey:$,onMerchantPick:Rt=>{it(Rt),K("transactions")}})]}),dt&&b.jsx(qD,{...dt,onClose:()=>k(null)})]})}uS.createRoot(document.getElementById("root")).render(b.jsx(St.StrictMode,{children:b.jsx(CD,{children:b.jsx(yk,{})})}));export{Ch as a,Q1 as c,Y1 as p};
//# sourceMappingURL=index-BPYrdS-I.js.map
